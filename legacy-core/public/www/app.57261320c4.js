


////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/_common/modules.js

/* global Vue */
const sms = (() => {
  const seen = []
  const _modules = {}
  const _cache = {}
  let _loaders = {}
  let _resolver = x => x

  const load = (source) => {
    const module = _modules[source]
    if (!module) throw Error(`sms error: module not found: '${source}'.`)
    if (seen.indexOf(module.__key) > -1) {
      const depPath = seen.join(' -> ') + ' -> ' + module.__key
      throw Error(`sms error: circular dependency detected: ${depPath}`)
    }
    seen.push(module.__key)
    _loaders[module.__type](module)
    if (typeof module.__transform === 'function') {
      module.exports = module.__transform(module.exports, module)
    }
    seen.pop()
    _cache[module.__key] = module
    _cache[source] = module
  }

  const require = function (source) {
    source = _resolver(source, this)
    if (!_cache[source]) load(source)
    return _cache[source].exports
  }

  const $create = (module) => {
    if (typeof module.__key !== 'string') throw new Error(`sms error: invalid module key`)
    if (typeof module.__fn !== 'function') throw new Error(`sms error: invalid module function: '${typeof module.__fn}'.\n\nconst module = ${JSON.stringify(module, null, 2)}\n`)
    if (Object.keys(_loaders).indexOf(module.__type) === -1) throw new Error(`sms error: invalid module type: '${module.__type}'. Are you missing a module loader for this type?`)
    if (_modules[module.__key]) throw new Error(`sms error: module with key '${module.__key}' has already been added.`)
    module.__require = require.bind(module)
    module.__run = x => require.call({}, module.__key)
    _modules[module.__key] = module
    if (module.__aliases) module.__aliases.forEach(alias => (_modules[alias] = module))
  }

  const $modules = asHash => asHash ? _modules : Object.keys(_modules).map(key => _modules[key])
  const $cache = asHash => asHash ? _cache : Object.keys(_cache).map(key => _cache[key])
  const $config = ({
    resolver = x => x,
    loaders = {},
    plugins = {}
  } = {}) => {
    _resolver = resolver
    _loaders = loaders
    Object.keys(plugins).map((key) => {
      if (key[0] === '$') throw Error(`sms error: plugins cannot start with '$'.`)
      instance[key] = plugins[key].bind(null, $create)
    })
  }

  const instance = { $config, $modules, $cache }

  window.sms = instance

  return instance
})();

(() => {
  const fnParamsRegex = /^\s*(?:(?:function\s*(?:\s[_$a-zA-Z][_$a-zA-Z0-9]+)?)?\(((?:[_$a-zA-Z][_$a-zA-Z0-9]+(\s*,\s*)?)*)\s*\))|(?:([_$a-zA-Z][_$a-zA-Z0-9]+)\s*=>)/
  const splitParamsRegex = /[,\s*]/
  const routes = {}

  const add = ($create, __key, __meta, __fn, flags, __transform) => {
    if (__fn === undefined) {
      __fn = __meta
      __meta = {}
    }
    const module = {
      __key,
      __meta,
      __fn,
      __type: 'sms',
      __transform
    }
    if (__meta && __meta.aliases) module.__aliases = __meta.aliases
    if (module.__aliases && typeof module.__aliases === 'string') {
      module.__aliases = module.__aliases.split(/[,\s]/).filter(Boolean)
    }
    if (!Array.isArray(flags)) flags = [flags]
    flags.forEach(flag => (module[flag] = true))
    module.__relative = (__meta || {}).path || __key
    $create(module)
    return module
  }

  sms.$config({
    resolver (relative, parent) {
      if (relative.indexOf('.') !== 0) return relative
      const rps = relative.split('/')
      const cps = parent.__relative.split('/')
      cps.pop()
      for (let i in rps) {
        const part = rps[i]
        if (part === '..') cps.pop()
        else if (part === '.') continue
        else cps.push(part)
      }
      return cps.join('/')
    },
    loaders: {
      cjs (module) {
        module.exports = {}
        module.__fn(module.__require, module.exports, module)
      },
      sms (module) {
        module.exports = {}
        let params = []
        if (typeof module.__fn === 'function') {
          const code = module.__fn.toString()
          let match = code.match(fnParamsRegex) || []
          const paramsStr = match[1] || match[3] || ''
          params = paramsStr.split(splitParamsRegex).filter(Boolean)
        } else if (Array.isArray(module.__fn)) {
          params = module.__fn.splice(0, module.__fn.length - 1)
          module.__fn = module.__fn.pop()
        }
        if (typeof module.__fn !== 'function') throw new Error(`sms error: Invalid module function. Found '${typeof module.__fn}'.`)
        const deps = params.map((param) => {
          switch (param) {
            case 'require': return module.__require
            case 'module': return module
            case 'exports': return module.exports
            default: return module.__require(param)
          }
        })
        const result = module.__fn(...deps)
        if (result !== undefined) module.exports = result
      }
    },
    plugins: {
      addNodeStyleModule ($create, __key, __fn) {
        $create({ __key, __fn, __type: 'cjs' })
      },
      addModule ($create, __key, __meta, __fn) {
        if (__fn === undefined) {
          __fn = __meta
          __meta = {}
        }
        const module = { __key, __meta, __fn, __type: 'sms' }
        if (__meta && __meta.aliases) module.__aliases = __meta.aliases
        if (module.__aliases && typeof module.__aliases === 'string') {
          module.__aliases = module.__aliases.split(/[,\s]/).filter(Boolean)
        }
        module.__relative = __meta.path || __key
        $create(module)
      },
      runModule ($create, __key, __meta, __fn) {
        if (__fn === undefined) {
          __fn = __meta
          __meta = {}
        }
        const module = { __key, __meta, __fn, __type: 'sms' }
        if (__meta && __meta.aliases) module.__aliases = __meta.aliases
        if (module.aliases && typeof module.__aliases === 'string') {
          module.__aliases = module.__aliases.split(/[,\s]/).filter(Boolean)
        }
        module.__relative = __meta.path || __key
        module.__autorun = true
        $create(module)
      },

      vInstance ($create, __fn) {
        /* const module = */add($create, '::Vue::', {}, __fn, ['__vue', '__vue_instance'])
      },
      vDirective ($create, __key, __meta, __fn) {
        add($create, __key, __meta, __fn, ['__vue', '__vue_directive'], (directive) => {
          Vue.directive(__key, directive)
          return directive
        })
      },
      // vRoute ($create, __key, __meta, __fn) {
      //   if (!__meta || typeof __meta !== 'object' || !__meta.route || typeof __meta.route !== 'object') {
      //     throw new Error(`sms error: invalid route object: ${JSON.stringify(__meta, null, 2)}`)
      //   }
      //   const flags = ['__vue', '__vue_component', '__vue_route']
      //   const route = __meta.route
      //   add($create, __key, __meta, __fn, flags, (component) => {
      //     route.path.split(/\s+/).filter(Boolean).forEach((path) => {
      //       route.name = route.name || __key
      //       Vue.component(route.name, component)
      //       route.component = component
      //       routes[route.name] = Object.assign({}, route, { path })
      //       // routes.push(Object.assign({}, route, { path }))
      //     })
      //     return component
      //   })
      // },
      vComponent ($create, __key, __meta, __fn) {
        const flags = ['__vue', '__vue_component', '__vue_nonroute']
        const name = (__meta && __meta.name) || __key
        add($create, __key, __meta, __fn, flags, (component) => {
          let routing = __meta.routing || component.routing || null
          if (routing) {
            delete component.routing
            if (typeof routing === 'string') routing = [{ path: routing }]
            if (!Array.isArray(routing)) routing = [routing]
            routing.forEach((route) => {
              if (!route.name) route.name = name
              route.component = component
              routes[route.name] = route
            })
          }
          Vue.component(name, component)
          return component
        })
      },
      vFilter ($create, __key, __meta, __fn) {
        add($create, __key, __meta, __fn, ['__vue', '__vue_filter'], (filter) => {
          Vue.filter(__key, filter)
          return filter
        })
      },
      vUse ($create, __key, __meta, __fn) {
        add($create, __key, __meta, __fn, ['__vue', '__vue_use'], (plugin) => {
          Vue.use(__key, plugin)
          return plugin
        })
      },
      vMixin ($create, __key, __meta, __fn) {
        add($create, __key, __meta, __fn, ['__vue', '__vue_mixin'])
      }
    }
  })

  sms.addModule('vRoutes', x => routes)
})()

// sms.add('one', function(require, exports, module){
//   console.log('enter one')
//   exports.name = 'one'
//   exports.foo = () => {}
//   console.log('exit one')
// })
//
// sms.add('two', ['require', 'exports', 'module', function(r, e, m){
//   console.log('enter two')
//   const three = r('three')
//   console.dir(three)
//   console.log('exit two')
// }])
//
// sms.add('three', ()=>{
//   console.log('enter three')
//   console.log('exit three')
//   return {
//     name: 'three',
//     foo(){}
//   }
// })
//
// sms.add('four', { run: true }, (one, two)=>{
//   console.log('enter four')
//   console.dir(one)
//   console.log('exit four')
// })
//
// sms.$modules().filter(module => module.__autorun).forEach(module => module.__run())

document.querySelectorAll('script[global]').forEach((element) => {
  const globalRef = element.getAttribute('global')
  const aliases = (element.getAttribute('aliases') || globalRef).split('|').filter(Boolean)
  aliases.forEach((alias) => {
    sms.addModule(alias, alias, (require, exports, module) => {
      module.exports = window[globalRef]
    })
  })
})

document.addEventListener('DOMContentLoaded', () => {
  sms.$modules().filter(m => m.__vue_route && m.__run())
  sms.$modules().filter(m => m.__vue_nonroute && m.__run())
  sms.$modules().filter(m => m.__vue_filter && m.__run())
  sms.$modules().filter(m => m.__vue_use && m.__run())
  sms.$modules().filter(m => m.__vue_instance && m.__run())
  sms.$modules().filter(m => m.__autorun && m.__run())
})




////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/_common/filters/ceLedgerType.js

window.sms.vFilter('ceLedgerType', (require) => {
  return function (typeId) {
    switch (typeId) {
      case '1':
        return 'Nacha Payment'
      case '2':
        return 'Reward'
      case '3':
        return 'Commission'
      case '4':
        return 'Transferred'
      case '7':
        return 'Bonus'
      case '8':
        return 'Custom Payout'
      case '9':
        return 'Repair'
      case '10':
        return 'Signup Bonus'
      default:
        return typeId
    }
  }
})




////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/_common/filters/cpStandardDate.js

window.sms.vFilter('cpStandardDate', (require) => {
  return function (date, time = false, timezone = true) {
    if (date === null)
      return null

    var moment = require('moment-timezone')
    if (!timezone) {
      if (time) {
        return moment.utc(date).format('MM/DD/YYYY hh:mm a z')
      } else {
        return moment.utc(date).format('MM/DD/YYYY')
      }
    }
    date = moment.utc(date).local()
    if (time) {
      return date.format('MM/DD/YYYY hh:mm a z')
    } else {
      return date.format('MM/DD/YYYY')
    }
  }
})




////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/_common/filters/phone.js

window.sms.vFilter('phone', () => {
  return function (phone) {
    return phone
      .replace(/[^0-9]/g, '')
      .replace(/(\d{3})(\d{3})(\d{4})/, '($1) $2-$3')
  }
})




////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/_common/filters/pluckSum.js

window.sms.vFilter('pluckSum', () => {
  return function (list, key) {
    return list.reduce(function (total, item) {
      return total + item[key]
    }, 0)
  }
})




////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/_common/filters/imageSize.js

window.Vue.filter('imageSize', function (image, size) {
  let reg = /(?:\.([^.]+))?$/
  let ext = reg.exec(image)[1]
  image = image.replace(/\.[^/.]+$/, '')
  return image + '-' + size + '.' + ext
})




////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/_common/filters/shortDate.js

window.sms.vFilter('shortDate', (require) => {
  return function (date) {
    const moment = require('moment')
    return moment.utc(date).local().format('ll')
  }
})




////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/_common/anchorCapture.js

window.sms.runModule('anchorCapture', (require, exports, module) => {
  const regex = /attachment;\s*filename=(['"])([^\1]*)\1/i
  const captureAnchorDownloads = (e) => {
    e.preventDefault()
    const url = e.target.href
    const download = e.target.download
    const anchor = document.createElement('a')
    const token = (window.localStorage.getItem('jwt_token') || '')
    const headers = new window.Headers()
    const options = { headers }
    if (url.indexOf(window.location.origin) === 0) {
      options.credentials = 'include'
      headers.append('Authorization', `Bearer ${token}`)
    }
    let filename = 'filename.ext'
    window.fetch(url, options)
      .then(res => {
        filename = ((res.headers.get('Content-Disposition') || '').match(regex) || [])[2]
        return res.blob()
      })
        .then((blob) => {
            var iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
            if (iOS) {
                let url = window.URL.createObjectURL(blob);
                window.open(url, filename, "_blank");
            }
            else {
                const blobUrl = window.URL.createObjectURL(blob)
                anchor.href = blobUrl
                anchor.download = download || filename
                anchor.target = '_self'
                anchor.style.display = 'none'
                window.document.body.append(anchor)
                anchor.click()
                window.URL.revokeObjectURL(blobUrl)
                anchor.remove()
            }
      })
  }

  const captureAnchorRoutes = function (e) {
    const url = this.href
    if (url.indexOf(origin) === 0 && url.indexOf(apiOrigin) !== 0 && this.target !== '_blank') {
      e.preventDefault()
      const route = url.substr(origin.length)
      window.VueInstance.$router.push(route)
    }
  }

  const origin = window.location.origin
  const apiOrigin = window.location.origin + '/api/'

  new window.MutationObserver(() => {
    document
      .querySelectorAll('a[download]')
      .forEach((item) => {
        if (item.$__hasLinkListener) return
        item.$__hasLinkListener = true
        item.addEventListener('click', captureAnchorDownloads)
      })
    document
      .querySelectorAll('a:not([href^="/print-"]):not([no-vue-route])')
      .forEach((item) => {
        if (item.$__hasLinkListener) return
        item.$__hasLinkListener = true
        item.addEventListener('click', captureAnchorRoutes)
      })
  }).observe(document, {
    subtree: true,
    attributes: true,
    childList: true
  })
})




////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/_common/filters/currency.js

window.sms.vFilter('currency', () => {
  return function (input, floor) {
    if (input == null) {
      return input
    }
    let num = 0
    if (floor) {
      // Clip as a string to prevent precision erors
      let text = input.toString()
      let index = text.indexOf('.')
      if (index > -1) {
        num = parseFloat(text.substring(0, index + 3))
      } else {
        num = parseFloat(text)
      }
    } else {
      num = parseFloat(input)
    }
    if (num || num === 0) {
      if (num < 0) {
        num *= -1
        return '-$' + num.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',')
      }
      return '$' + num.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',')
    }
    // If not a number then return original input
    return input
  }
})




////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/_common/filters/removeWhiteSpace.js

window.sms.vFilter('removeWhiteSpace', () => {
  return {
    read: function (value) {
      return value.replace(/\s/g, '')
    },
    write: function (value) {
      return value.replace(/\s/g, '')
    }
  }
})




////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/auth.js

window.sms.addModule('auth', (require, exports, module) => {
  const docs = require('assets/js/resources/docs.js')
  const doc = docs.ServiceDocumenterFactory('authentication')
  const Pid = require('assets/js/resources/pid.js')
  const env = require('env')

  const ADMIN_OWNER_ID = 1

  let claims
  const setToken = (token) => {
    if (!token) throw Error(`NO_TOKEN`)
    window.localStorage.setItem('jwt_token', token)
    const [, p2 = ''] = token.split('.')
    if (!p2) throw Error(`INVALID_TOKEN`)
    try {
      claims = JSON.parse(window.atob(p2))
      window.localStorage.setItem('auth-id', claims.sub)
      window.localStorage.setItem('auth-role', claims.role)
      if (window.Vue.prototype.$events) window.Vue.prototype.$events.$emit('set-token', claims)
    } catch (err) {
      claims = null
      throw Error(`INVALID_TOKEN`)
    }
  }

  const getToken = () => {
    return window.localStorage.getItem('jwt_token')
  }

  const tmpToken = window.localStorage.getItem('jwt_token')
  if (tmpToken && tmpToken !== 'undefined') {
    setToken(tmpToken)
  }

  const getHeaders = (includeAuth = false) => {
    let headers = {
      'X-Cp-Request-Id': Pid.create()
    }
    if (includeAuth) {
      let orgId = (claims || {}).orgId
      let token = getToken()
      if (orgId) {
        headers['X-Cp-Org-Id'] = orgId
      }
      if (token) {
        headers['Authorization'] = 'Bearer ' + token
      }
    }
    return headers
  }

  module.exports = {
    // LOGIN STUFF
    redirect ({ url }) {
      return window.Vue.http({
        method: 'POST',
        url: env.apis.external + `assert-authorized-domain`,
        headers: getHeaders(),
        body: { url }
      }).then(res => {
        url = decodeURIComponent(url)
        url += url.includes('?') ? '&' : '?'
        url += `cp_token=${getToken()}`
        window.location.href = url
      }).catch(reason => {
        console.dir(reason)
      })
    },
    login ({
      email,
      password,
      redirect = null
    }) {
      this.removeFromStorage('Cart.')
      return window.Vue.http({
        method: 'POST',
        url: env.apis.external + 'authenticate',
        headers: getHeaders(),
        body: {
          email,
          password,
          redirect
        }
      }).then(res => {
        var token = res.body.cp_token
        setToken(token)
        if (redirect) {
          redirect = decodeURIComponent(redirect)
          redirect += redirect.includes('?') ? '&' : '?'
          redirect += `cp_token=${token}`
          window.location.href = redirect
        } else {
          return res.body
        }
      })
    },
    setJwtToken (token) {
      setToken(token)
    },
    refreshToken () {
      return window.Vue.http({
        method: 'GET',
        url: env.apis.external + `refresh-token`,
        headers: getHeaders(true)
      }).then(res => {
        setToken(res.body.cp_token)
        return res.body
      })
    },
    loginAs (id) {
      this.removeFromStorage('Cart.')
      return window.Vue.http({
        method: 'POST',
        url: env.apis.external + 'login-as/' + id,
        headers: getHeaders(true)
      }).then(res => {
        setToken(res.body.cp_token)
        return res.body
      })
    },
    revertLoginAs () {
      this.removeFromStorage('Cart.')
      return window.Vue.http({
        method: 'POST',
        url: env.apis.external + 'revert-login-as',
        headers: getHeaders(true)
      }).then(res => {
        setToken(res.body.cp_token)
        return res.body
      })
    },
    logout () {
      window.localStorage.removeItem('jwt_token')
      this.removeFromStorage('Cart.')
      claims = null
      return window.Vue.http({
        method: 'POST',
        url: env.apis.external + 'logout',
        headers: getHeaders()
      }).then(res => res.body)
    },
    sendResetLink: function (body) {
      return window.Vue.http({
        method: 'POST',
        url: env.apis.external + 'password/email',
        headers: getHeaders(true),
        body
      }).then(res => res.body)
    },
    resetPassword: function (body) {
      return window.Vue.http({
        method: 'POST',
        url: env.apis.external + 'password/reset',
        headers: getHeaders(true),
        body
      }).then(res => res.body)
    },
    getAuthHeaders () {
      let authHeaders = {}
      let orgId = this.getClaim('orgId')
      let token = getToken()
      if (orgId) {
        authHeaders['X-Cp-Org-Id'] = orgId
      }
      if (token) {
        authHeaders['Authorization'] = 'Bearer ' + token
      }
      return authHeaders
    },
    getClaims () {
      return claims || {}
    },
    getClaim (key) {
      return (claims || {})[key]
    },
    isLoggedIn () {
      return !!claims // && claims['exp'] > ((new Date()).getTime() / 1000)) // <--- this fails when homestead's vm's time gets out of sync with your host os
    },
    isImpersonating () {
      return !!(claims || {}).actualUserId
    },
    hasAnyRole (...roles) {
      if (!claims) {
        return false
      }
      if (Array.isArray(roles[0])) roles = roles[0]
      const userRole = (claims.role || '').toLowerCase()
      roles = roles.map(x => x.toLowerCase())
      for (let i = 0; i < roles.length; i++) {
        if (userRole === roles[i]) {
          return true
        }
      }
      return false
    },
    getAuthPid () {
      return claims.userPid
    },
    getAuthId () {
      return claims.sub
    },
    getOwnerId () {
      return this.hasAnyRole('Superadmin', 'Admin')
        ? ADMIN_OWNER_ID
        : this.getAuthId()
    },
    getOwnerPid () {
      return this.hasAnyRole('Superadmin', 'Admin')
        ? window.Vue.prototype.$getGlobal('company_pid').value
        : this.getAuthPid()
    },
    hasActiveSubscription () {
      return (claims || {}).activeSubscription || this.hasAnyRole('Superadmin', 'Admin')
    },
    hasAcceptedTerms () {
      return (claims || {}).acceptedTerms || this.hasAnyRole('Superadmin', 'Admin')
    },
    // DEPRECATED
    check (roles) {
      doc.deprecate('check').inFavorOf('hasAnyRole')
      return this.hasAnyRole(roles)
    },
    authId () {
      doc.deprecate('authId').inFavorOf('getAuthId')
      return this.getAuthId()
    },
    getAuthID () {
      doc.deprecate('getAuthID').inFavorOf('getAuthId')
      return new Promise((resolve, reject) => {
        return this.getAuthId()
      })
    },
    removeFromStorage (part) {
      const storageObject = window.localStorage
      for (let key in storageObject) {
        if (key.indexOf(part) > -1) {
          window.localStorage.removeItem(key)
        }
      }
    }
  }
})




////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/_common/general.js

window.Vue.use(window.VueMask)
window.Vue.directive('mask', window.VueMask.VueMaskDirective)
window.Vue.use(window.VueResource)
window.Vue.use({
  install: function (Vue) {
    Vue.prototype.$d3 = window.d3
  }
})

window.Vue.use({
  install (Vue) {
    const SERVER_FORMAT = 'YYYY-MM-DDTHH:mm:ss.SSS'
    const CLIENT_FORMAT = 'MM/DD/YYYY h:mm'
    Vue.prototype.$clientDate = (date) => {
      return window.moment.utc(date).local().format(CLIENT_FORMAT)
    }
    Vue.prototype.$serverDate = (date) => {
      return window.moment(date, CLIENT_FORMAT).utc().format(SERVER_FORMAT)
    }
  }
})

window.cpHelpers = {
  getParameterByName: function (name, url) {
    if (!url) url = window.location.href
    name = name.replace(/[[\]]/g, '\\$&')
    var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)')
    var results = regex.exec(url)
    if (!results) return null
    if (!results[2]) return ''
    return decodeURIComponent(results[2].replace(/\+/g, ' '))
  }
}

// TODO is this really the best way to do this?
window.sms.vUse('CpToastPlugin', require => require('assets/js/custom-plugins/toast/index.js'))




////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/_common/main.js

/* global sms Vue VueRouter */
sms.vInstance((require, module, vRoutes) => {
  const Auth = require('auth')
  const requestHandler = require('assets/js/resources/requestHandler.js')
  window.Vue.config.ignoredElements = [/^cp-.+|^v-.+|.+-scoped$/]
  const routes = []
  Object.keys(vRoutes).forEach((key) => {
    const route = vRoutes[key]
    let lineage = route.name.split('.')
    route.name = lineage.pop()
    lineage = lineage.join('.')
    if (lineage) {
      if (!vRoutes[lineage]) {
        throw Error(`Invalid route '${key}'. Parent route '${lineage}' not found!`)
      }
      if (!vRoutes[lineage].children) {
        vRoutes[lineage].children = []
      }
      vRoutes[lineage].children.push(route)
    } else {
      if (route.children) {
        route.children.sort((a, b) => b.path.localeCompare(a.path))
      }
      routes.push(route)
    }
  })
  const router = new VueRouter({ mode: 'history', routes })
  router.beforeEach((to, from, next) => {
    if (!Auth.isLoggedIn() && !to.meta.noauth) {
      let path = '/auth'
      if (to.fullPath !== '/') {
        path += `?return=${encodeURIComponent(to.fullPath)}`
      }
      next(path)
    } else if (Auth.isLoggedIn() && !Auth.hasActiveSubscription() && !to.meta.nosubscription) {
      window.Vue.toast('Feature unavailable. Please renew your subscription.', { dismiss: false })
      next('/my-settings')
    } else if (Auth.isLoggedIn() && !Auth.hasAcceptedTerms() && !to.meta.nosubscription) {
      next('/my-settings')
    } else {
      next()
    }
  })
  window.routes = routes
  requestHandler.get('/api/v1/settings').then((settings) => {
    (() => { // GOOGLE ANALYTICS - START
      const trackingId = (settings['google_tracking_id'] || {}).value
      window.ga = window.ga || function () { (window.ga.q = window.ga.q || []).push(arguments) }; window.ga.l = +new Date()
      window.ga('create', trackingId, 'auto')
      window.ga('require', 'urlChangeTracker')
      window.ga('send', 'pageview');
      ['https://www.google-analytics.com/analytics.js',
        '//cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js']
        .forEach((url) => {
          const script = document.createElement('SCRIPT')
          script.src = url
          document.body.appendChild(script)
        })
    })() // GOOGLE ANALYTICS - END

    const announcementsTitle = settings['title_announcement']
    if (announcementsTitle.show === 1) {
      routes
        .find(x => x.name === 'site')
        .children
        .find(x => x.name === 'CpAnnouncementIndex')
        .meta.title = announcementsTitle.value
    }
    const autoshipTitle = settings['autoship_display_name']
    routes
      .find(x => x.name === 'site')
      .children
      .find(x => x.name === 'CpPlanIndex')
      .meta.title = autoshipTitle.value

    window.Vue.use({
      install (Vue, options) {
        Vue.prototype.$events = new Vue()
        const $global = { settings }
        Vue.prototype.$updateGlobal = function (partialSettings) {
          Object.keys(partialSettings)
            .filter(key => !!$global.settings[key])
            .forEach(key => {
              if ($global.settings[key]) {
                $global.settings[key].show = partialSettings[key].show
                $global.settings[key].value = partialSettings[key].value
              }
            })
          this.$events.$emit('global-settings-change', $global.settings)
        }
        Vue.prototype.$getGlobal = (key) => {
          return $global.settings[key] || { show: false, value: '' }
        }
        Vue.prototype.$isBlank = (str) => {
          return (!str || /^\s*$/.test(str))
        }
        Vue.prototype.$isUrl = (str) => {
          return (!str || /^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/.test(str))
        }
        // get path parameters
        Vue.prototype.$pathParameter = function () {
          var urlSplit = window.location.pathname.split('/')
          var i = 0
          while (i < urlSplit.length) {
            if (!isNaN(urlSplit[i]) && urlSplit[i] !== '') {
              return urlSplit[i]
            }
            i++
          }
        }
        Vue.prototype.$pathParameterName = function () {
          var urlSplit = window.location.pathname.split('/')
          return urlSplit[urlSplit.length - 1]
        }
      }
    })

    let Rollbar = require('assets/js/resources/Rollbar.js')
    window.Vue.use(Rollbar)

    window.VueInstance = module.exports = new Vue({
      router,
      el: '#vue-app',
      data: { title: 'Controlpad LLC' }
    })
  }).catch(reason => console.error(reason))
})




////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/cepagination.js

window.sms.addModule('cepaginate', (require, exports, module) => {
  const createPaginationObject = (pagination, response) => {
    const paginationObject = {}
    paginationObject.last_page = Math.ceil(response.count / pagination.limit)
    paginationObject.current_page = pagination.current_page
    paginationObject.data = response.ledger
    paginationObject.total = response.count
    return paginationObject
  }

  module.exports = {
    paginate (pagination, response) {
      return createPaginationObject(pagination, response)
    }
  }
})




////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/services/query.js

window.sms.addModule('querystring', (require, exports, module) => {
  const parse = () => {
    const query = {}
    window.location.search.substr(1).split('&').forEach((pair) => {
      let [key, value] = pair.split('=')
      key = decodeURIComponent(key)
      value = decodeURIComponent(value)
      if (query[key]) {
        query[key] = [query[key]]
        query[key].push(value)
      } else {
        query[key] = value
      }
    })
    return query
  }

  module.exports = {
    get (key) {
      return parse()[key]
    }
  }
})




////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/_common/libs/vue-bootstrap-pagination.common.js

sms.addModule('vue-bootstrap-pagination', (require, exports, module)=>{

  var VueBootstrapPagination$1 = {render: function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',[(_vm.pagination.last_page > 0)?_c('ul',{staticClass:"pagination",class:_vm.sizeClass},[(_vm.showPrevious())?_c('li',{class:{ 'disabled' : _vm.pagination.current_page <= 1 }},[(_vm.pagination.current_page <= 1)?_c('span',[_c('span',{attrs:{"aria-hidden":"true"}},[_vm._v(_vm._s(_vm.config.previousText))])]):_vm._e(),(_vm.pagination.current_page > 1 )?_c('a',{attrs:{"href":"#","aria-label":_vm.config.ariaPrevioius},on:{"click":function($event){$event.preventDefault();_vm.changePage(_vm.pagination.current_page - 1);}}},[_c('span',{attrs:{"aria-hidden":"true"}},[_vm._v(_vm._s(_vm.config.previousText))])]):_vm._e()]):_vm._e(),_vm._l((_vm.array),function(num){return _c('li',{class:{ 'active' : num === _vm.pagination.current_page }},[_c('a',{attrs:{"href":"#"},on:{"click":function($event){$event.preventDefault();_vm.changePage(num);}}},[_vm._v(_vm._s(num))])])}),(_vm.showNext())?_c('li',{class:{ 'disabled' : _vm.pagination.current_page === _vm.pagination.last_page || _vm.pagination.last_page === 0 }},[(_vm.pagination.current_page === _vm.pagination.last_page || _vm.pagination.last_page === 0)?_c('span',[_c('span',{attrs:{"aria-hidden":"true"}},[_vm._v(_vm._s(_vm.config.nextText))])]):_vm._e(),(_vm.pagination.current_page < _vm.pagination.last_page)?_c('a',{attrs:{"href":"#","aria-label":_vm.config.ariaNext},on:{"click":function($event){$event.preventDefault();_vm.changePage(_vm.pagination.current_page + 1);}}},[_c('span',{attrs:{"aria-hidden":"true"}},[_vm._v(_vm._s(_vm.config.nextText))])]):_vm._e()]):_vm._e()],2):_vm._e()])},staticRenderFns: [],
    name: 'pagination',
    props: {
      pagination: {
        type: Object,
        required: true,
      },
      callback: {
        type: Function,
        required: true,
      },
      options: {
        type: Object,
      },
      size: {
        type: String,
      },
    },
    computed: {
      array: function array() {
        if (this.pagination.last_page <= 0) {
          return [];
        }
        var from = this.pagination.current_page - this.config.offset;
        if (from < 1) {
          from = 1;
        }
        var to = from + (this.config.offset * 2);
        if (to >= this.pagination.last_page) {
          to = this.pagination.last_page;
        }
        var arr = [];
        while (from <= to) {
          arr.push(from);
          from += 1;
        }
        return arr;
      },
      config: function config() {
        return Object.assign({
          offset: 3,
          ariaPrevious: 'Previous',
          ariaNext: 'Next',
          previousText: '«',
          nextText: '»',
          alwaysShowPrevNext: false,
        }, this.options);
      },
      sizeClass: function sizeClass() {
        if (this.size === 'large') {
          return 'pagination-lg';
        } else if (this.size === 'small') {
          return 'pagination-sm';
        }
        return '';
      },
    },
    watch: {
      'pagination.per_page': function pagination_per_page(newVal, oldVal) { // eslint-disable-line
        if (+newVal !== +oldVal) {
          this.callback();
        }
      },
    },
    methods: {
      showPrevious: function showPrevious() {
        return this.config.alwaysShowPrevNext || this.pagination.current_page > 1;
      },
      showNext: function showNext() {
        return this.config.alwaysShowPrevNext ||
            this.pagination.current_page < this.pagination.last_page;
      },
      changePage: function changePage(page) {
        if (this.pagination.current_page === page) {
          return;
        }
        this.$set(this.pagination, 'current_page', page);
        this.callback();
      },
    },
  };

  module.exports = VueBootstrapPagination$1;

})




////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/AngularBuild.js

sms.addModule('assets/js/AngularBuild.js', {"path":""}, (require,exports,module)=>{
const concat = require('concat-files')
const glob = require('glob')
const sass = require('sass')
const fs = require('fs-extra')

// legacy angular build

function makeVersion () {
  return Math.random().toString(36).substring(7)
}

function buildJS () {
  glob('./public/angular/*.js', function (error, files) {
    if (error) throw error
    if (files.length > 0) {
      fs.unlink(files[0], function (error) {
        if (error) throw error
        buildJS()
      })
    } else {
      glob('{resources/assets/js/directives/*.js,resources/assets/js/services/*.js,resources/assets/js/controllers/*.js}', function (error, files) {
        if (error) throw error
        let concatFiles = [
          'resources/assets/js/angApp.js',
          'resources/assets/js/helpers.js',
          'resources/assets/js/slick.js'
        ]
        concatFiles = concatFiles.concat(files)
        concat(concatFiles, 'public/angular/angApp-' + makeVersion() + '.js', function (error) {
          if (error) throw error
          console.log('Angular App built.')
        })
      })
    }
  })
}

function buildSass () {
  glob('./public/angular/*.css', function (error, files) {
    if (error) throw error
    if (files.length > 0) {
      fs.unlink(files[0], function (error) {
        if (error) throw error
        buildSass()
      })
    } else {
      let content = sass.renderSync({ file: 'resources/assets/sass/store.scss' })
      fs.outputFile('./public/angular/store-' + makeVersion() + '.css', content.css.toString(), (error) => {
        if (error) throw error
        console.log('Sass has been compiled.')
      })
    }
  })
}

buildSass()
buildJS()

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/media/croppie.js

sms.addModule('assets/js/components/media/croppie.js', {"path":""}, (require,exports,module)=>{
/*************************
 * Croppie
 * Copyright 2016
 * Foliotek
 * Version: 2.4.0
 *************************/
(function (root, factory) {
  if (typeof define === 'function' && define.amd) {
    // AMD. Register as an anonymous module.
    define(['exports'], factory)
  } else if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {
    // CommonJS
    factory(exports)
  } else {
    // Browser globals
    factory((root.commonJsStrict = {}))
  }
}(this, function (exports) {
  /* Polyfills */
  if (typeof Promise !== 'function') {
    /*! promise-polyfill 3.1.0 */
    !(function (a) { function b (a, b) { return function () { a.apply(b, arguments) } } function c (a) { if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new'); if (typeof a !== 'function') throw new TypeError('not a function'); this._state = null, this._value = null, this._deferreds = [], i(a, b(e, this), b(f, this)) } function d (a) { var b = this; return this._state === null ? void this._deferreds.push(a) : void k(function () { var c = b._state ? a.onFulfilled : a.onRejected; if (c === null) return void (b._state ? a.resolve : a.reject)(b._value); var d; try { d = c(b._value) } catch (e) { return void a.reject(e) }a.resolve(d) }) } function e (a) { try { if (a === this) throw new TypeError('A promise cannot be resolved with itself.'); if (a && (typeof a === 'object' || typeof a === 'function')) { var c = a.then; if (typeof c === 'function') return void i(b(c, a), b(e, this), b(f, this)) } this._state = !0, this._value = a, g.call(this) } catch (d) { f.call(this, d) } } function f (a) { this._state = !1, this._value = a, g.call(this) } function g () { for (var a = 0, b = this._deferreds.length; b > a; a++)d.call(this, this._deferreds[a]); this._deferreds = null } function h (a, b, c, d) { this.onFulfilled = typeof a === 'function' ? a : null, this.onRejected = typeof b === 'function' ? b : null, this.resolve = c, this.reject = d } function i (a, b, c) { var d = !1; try { a(function (a) { d || (d = !0, b(a)) }, function (a) { d || (d = !0, c(a)) }) } catch (e) { if (d) return; d = !0, c(e) } } var j = setTimeout, k = typeof setImmediate === 'function' && setImmediate || function (a) { j(a, 1) }, l = Array.isArray || function (a) { return Object.prototype.toString.call(a) === '[object Array]' }; c.prototype['catch'] = function (a) { return this.then(null, a) }, c.prototype.then = function (a, b) { var e = this; return new c(function (c, f) { d.call(e, new h(a, b, c, f)) }) }, c.all = function () { var a = Array.prototype.slice.call(arguments.length === 1 && l(arguments[0]) ? arguments[0] : arguments); return new c(function (b, c) { function d (f, g) { try { if (g && (typeof g === 'object' || typeof g === 'function')) { var h = g.then; if (typeof h === 'function') return void h.call(g, function (a) { d(f, a) }, c) }a[f] = g, --e === 0 && b(a) } catch (i) { c(i) } } if (a.length === 0) return b([]); for (var e = a.length, f = 0; f < a.length; f++)d(f, a[f]) }) }, c.resolve = function (a) { return a && typeof a === 'object' && a.constructor === c ? a : new c(function (b) { b(a) }) }, c.reject = function (a) { return new c(function (b, c) { c(a) }) }, c.race = function (a) { return new c(function (b, c) { for (var d = 0, e = a.length; e > d; d++)a[d].then(b, c) }) }, c._setImmediateFn = function (a) { k = a }, typeof module !== 'undefined' && module.exports ? module.exports = c : a.Promise || (a.Promise = c) }(this))
  }

  if (typeof window.CustomEvent !== 'function') {
    (function () {
      function CustomEvent (event, params) {
        params = params || { bubbles: false, cancelable: false, detail: undefined }
        var evt = document.createEvent('CustomEvent')
        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail)
        return evt
      }
      CustomEvent.prototype = window.Event.prototype
      window.CustomEvent = CustomEvent
    }())
  }

  if (!HTMLCanvasElement.prototype.toBlob) {
    Object.defineProperty(HTMLCanvasElement.prototype, 'toBlob', {
      value: function (callback, type, quality) {
        var binStr = atob(this.toDataURL(type, quality).split(',')[1]),
          len = binStr.length,
          arr = new Uint8Array(len)

        for (var i = 0; i < len; i++) {
          arr[i] = binStr.charCodeAt(i)
        }

        callback(new Blob([arr], {type: type || 'image/png'}))
      }
    })
  }
  /* End Polyfills */

  var cssPrefixes = ['Webkit', 'Moz', 'ms'],
    emptyStyles = document.createElement('div').style,
    CSS_TRANS_ORG,
    CSS_TRANSFORM,
    CSS_USERSELECT

  function vendorPrefix (prop) {
    if (prop in emptyStyles) {
      return prop
    }

    var capProp = prop[0].toUpperCase() + prop.slice(1),
      i = cssPrefixes.length

    while (i--) {
      prop = cssPrefixes[i] + capProp
      if (prop in emptyStyles) {
        return prop
      }
    }
  }

  CSS_TRANSFORM = vendorPrefix('transform')
  CSS_TRANS_ORG = vendorPrefix('transformOrigin')
  CSS_USERSELECT = vendorPrefix('userSelect')

  // Credits to : Andrew Dupont - http://andrewdupont.net/2009/08/28/deep-extending-objects-in-javascript/
  function deepExtend (destination, source) {
    destination = destination || {}
    for (var property in source) {
      if (source[property] && source[property].constructor && source[property].constructor === Object) {
        destination[property] = destination[property] || {}
        deepExtend(destination[property], source[property])
      } else {
        destination[property] = source[property]
      }
    }
    return destination
  }

  function debounce (func, wait, immediate) {
    var timeout
    return function () {
      var context = this, args = arguments
      var later = function () {
        timeout = null
        if (!immediate) func.apply(context, args)
      }
      var callNow = immediate && !timeout
      clearTimeout(timeout)
      timeout = setTimeout(later, wait)
      if (callNow) func.apply(context, args)
    }
  }

  function dispatchChange (element) {
    if ('createEvent' in document) {
      var evt = document.createEvent('HTMLEvents')
      evt.initEvent('change', false, true)
      element.dispatchEvent(evt)
    } else {
      element.fireEvent('onchange')
    }
  }

  // http://jsperf.com/vanilla-css
  function css (el, styles, val) {
    if (typeof (styles) === 'string') {
      var tmp = styles
      styles = {}
      styles[tmp] = val
    }

    for (var prop in styles) {
      el.style[prop] = styles[prop]
    }
  }

  function addClass (el, c) {
    if (el.classList) {
      el.classList.add(c)
    } else {
      el.className += ' ' + c
    }
  }

  function removeClass (el, c) {
    if (el.classList) {
      el.classList.remove(c)
    } else {
      el.className = el.className.replace(c, '')
    }
  }

  function num (v) {
    return parseInt(v, 10)
  }

  /* Utilities */
  function loadImage (src, imageEl, useCanvas) {
    var img = imageEl || new Image(),
      prom
    img.crossOrigin = 'anonymous'
    if (img.src === src) {
      // If image source hasn't changed, return a promise that resolves immediately
      prom = new Promise(function (resolve, reject) {
        resolve(img)
      })
    } else {
      prom = new Promise(function (resolve, reject) {
        if (useCanvas && src.substring(0, 4).toLowerCase() === 'http') {
          img.setAttribute('crossOrigin', 'anonymous')
        }
        img.onload = function () {
          setTimeout(function () {
            resolve(img)
          }, 1)
        }
      })

      img.src = src
    }

    img.style.opacity = 0

    return prom
  }

  /* CSS Transform Prototype */
  var _TRANSLATE = 'translate3d',
    _TRANSLATE_SUFFIX = ', 0px'
  var Transform = function (x, y, scale) {
    this.x = parseFloat(x)
    this.y = parseFloat(y)
    this.scale = parseFloat(scale)
  }

  Transform.parse = function (v) {
    if (v.style) {
      return Transform.parse(v.style[CSS_TRANSFORM])
    } else if (v.indexOf('matrix') > -1 || v.indexOf('none') > -1) {
      return Transform.fromMatrix(v)
    } else {
      return Transform.fromString(v)
    }
  }

  Transform.fromMatrix = function (v) {
    var vals = v.substring(7).split(',')
    if (!vals.length || v === 'none') {
      vals = [1, 0, 0, 1, 0, 0]
    }

    return new Transform(num(vals[4]), num(vals[5]), parseFloat(vals[0]))
  }

  Transform.fromString = function (v) {
    var values = v.split(') '),
      translate = values[0].substring(_TRANSLATE.length + 1).split(','),
      scale = values.length > 1 ? values[1].substring(6) : 1,
      x = translate.length > 1 ? translate[0] : 0,
      y = translate.length > 1 ? translate[1] : 0

    return new Transform(x, y, scale)
  }

  Transform.prototype.toString = function () {
    return _TRANSLATE + '(' + this.x + 'px, ' + this.y + 'px' + _TRANSLATE_SUFFIX + ') scale(' + this.scale + ')'
  }

  var TransformOrigin = function (el) {
    if (!el || !el.style[CSS_TRANS_ORG]) {
      this.x = 0
      this.y = 0
      return
    }
    var css = el.style[CSS_TRANS_ORG].split(' ')
    this.x = parseFloat(css[0])
    this.y = parseFloat(css[1])
  }

  TransformOrigin.prototype.toString = function () {
    return this.x + 'px ' + this.y + 'px'
  }

  function getExifOrientation (img, cb) {
    if (!window.EXIF) {
      cb(0)
    }

    EXIF.getData(img, function () {
      var orientation = EXIF.getTag(this, 'Orientation')
      cb(orientation)
    })
  }

  function drawCanvas (canvas, img, orientation) {
    var width = img.width,
      height = img.height,
      ctx = canvas.getContext('2d')

    canvas.width = img.width
    canvas.height = img.height

    ctx.save()
    switch (orientation) {
      case 2:
        ctx.translate(width, 0)
        ctx.scale(-1, 1)
        break

      case 3:
        ctx.translate(width, height)
        ctx.rotate(180 * Math.PI / 180)
        break

      case 4:
        ctx.translate(0, height)
        ctx.scale(1, -1)
        break

      case 5:
        canvas.width = height
        canvas.height = width
        ctx.rotate(90 * Math.PI / 180)
        ctx.scale(1, -1)
        break

      case 6:
        canvas.width = height
        canvas.height = width
        ctx.rotate(90 * Math.PI / 180)
        ctx.translate(0, -height)
        break

      case 7:
        canvas.width = height
        canvas.height = width
        ctx.rotate(-90 * Math.PI / 180)
        ctx.translate(-width, height)
        ctx.scale(1, -1)
        break

      case 8:
        canvas.width = height
        canvas.height = width
        ctx.translate(0, width)
        ctx.rotate(-90 * Math.PI / 180)
        break
    }
    ctx.drawImage(img, 0, 0, width, height)
    ctx.restore()
  }

  /* Private Methods */
  function _create () {
    var self = this,
      contClass = 'croppie-container',
      customViewportClass = self.options.viewport.type ? 'cr-vp-' + self.options.viewport.type : null,
      boundary, img, viewport, overlay, canvas, bw, bh

    self.options.useCanvas = self.options.enableOrientation || _hasExif.call(self)
    // Properties on class
    self.data = {}
    self.elements = {}

    // Generating Markup
    boundary = self.elements.boundary = document.createElement('div')
    viewport = self.elements.viewport = document.createElement('div')
    img = self.elements.img = document.createElement('img')
    overlay = self.elements.overlay = document.createElement('div')

    if (self.options.useCanvas) {
      self.elements.canvas = document.createElement('canvas')
      self.elements.preview = self.elements.canvas
    } else {
      self.elements.preview = self.elements.img
    }

    addClass(boundary, 'cr-boundary')
    bw = self.options.boundary.width
    bh = self.options.boundary.height
    css(boundary, {
      width: (bw + (isNaN(bw) ? '' : 'px')),
      height: (bh + (isNaN(bh) ? '' : 'px'))
    })

    addClass(viewport, 'cr-viewport')
    if (customViewportClass) {
      addClass(viewport, customViewportClass)
    }
    css(viewport, {
      width: self.options.viewport.width + 'px',
      height: self.options.viewport.height + 'px'
    })
    viewport.setAttribute('tabindex', 0)

    addClass(self.elements.preview, 'cr-image')
    addClass(overlay, 'cr-overlay')

    self.element.appendChild(boundary)
    boundary.appendChild(self.elements.preview)
    boundary.appendChild(viewport)
    boundary.appendChild(overlay)

    addClass(self.element, contClass)
    if (self.options.customClass) {
      addClass(self.element, self.options.customClass)
    }

    // Initialize drag & zoom
    _initDraggable.call(this)

    if (self.options.enableZoom) {
      _initializeZoom.call(self)
    }

    // if (self.options.enableOrientation) {
    //     _initRotationControls.call(self);
    // }
  }

  function _initRotationControls () {
    // TODO - Not a fan of these controls
    return
    var self = this,
      wrap, btnLeft, btnRight, iLeft, iRight

    wrap = document.createElement('div')
    self.elements.orientationBtnLeft = btnLeft = document.createElement('button')
    self.elements.orientationBtnRight = btnRight = document.createElement('button')

    wrap.appendChild(btnLeft)
    wrap.appendChild(btnRight)

    iLeft = document.createElement('i')
    iRight = document.createElement('i')
    btnLeft.appendChild(iLeft)
    btnRight.appendChild(iRight)

    addClass(wrap, 'cr-rotate-controls')
    addClass(btnLeft, 'cr-rotate-l')
    addClass(btnRight, 'cr-rotate-r')

    self.elements.boundary.appendChild(wrap)

    btnLeft.addEventListener('click', function () {
      self.rotate(-90)
    })
    btnRight.addEventListener('click', function () {
      self.rotate(90)
    })
  }

  function _hasExif () {
    // todo - remove options.exif after deprecation
    return this.options.enableExif && window.EXIF
  }

  function _setZoomerVal (v) {
    if (this.options.enableZoom) {
      var z = this.elements.zoomer,
        val = fix(v, 4)

      z.value = Math.max(z.min, Math.min(z.max, val))
    }
  }

  function _initializeZoom () {
    var self = this,
      wrap = self.elements.zoomerWrap = document.createElement('div'),
      zoomer = self.elements.zoomer = document.createElement('input')

    addClass(wrap, 'cr-slider-wrap')
    addClass(zoomer, 'cr-slider')
    zoomer.type = 'range'
    zoomer.step = '0.0001'
    zoomer.value = 1
    zoomer.style.display = self.options.showZoomer ? '' : 'none'

    self.element.appendChild(wrap)
    wrap.appendChild(zoomer)

    self._currentZoom = 1

    function change () {
      _onZoom.call(self, {
        value: parseFloat(zoomer.value),
        origin: new TransformOrigin(self.elements.preview),
        viewportRect: self.elements.viewport.getBoundingClientRect(),
        transform: Transform.parse(self.elements.preview)
      })
    }

    function scroll (ev) {
      var delta, targetZoom

      if (ev.wheelDelta) {
        delta = ev.wheelDelta / 1200 // wheelDelta min: -120 max: 120 // max x 10 x 2
      } else if (ev.deltaY) {
        delta = ev.deltaY / 1060 // deltaY min: -53 max: 53 // max x 10 x 2
      } else if (ev.detail) {
        delta = ev.detail / -60 // delta min: -3 max: 3 // max x 10 x 2
      } else {
        delta = 0
      }

      targetZoom = self._currentZoom + (delta * self._currentZoom)

      ev.preventDefault()
      _setZoomerVal.call(self, targetZoom)
      change.call(self)
    }

    self.elements.zoomer.addEventListener('input', change)// this is being fired twice on keypress
    self.elements.zoomer.addEventListener('change', change)

    if (self.options.mouseWheelZoom) {
      self.elements.boundary.addEventListener('mousewheel', scroll)
      self.elements.boundary.addEventListener('DOMMouseScroll', scroll)
    }
  }

  function _onZoom (ui) {
    var self = this,
      transform = ui ? ui.transform : Transform.parse(self.elements.preview),
      vpRect = ui ? ui.viewportRect : self.elements.viewport.getBoundingClientRect(),
      origin = ui ? ui.origin : new TransformOrigin(self.elements.preview),
      transCss = {}

    function applyCss () {
      var transCss = {}
      transCss[CSS_TRANSFORM] = transform.toString()
      transCss[CSS_TRANS_ORG] = origin.toString()
      css(self.elements.preview, transCss)
    }

    self._currentZoom = ui ? ui.value : self._currentZoom
    transform.scale = self._currentZoom
    applyCss()

    if (self.options.enforceBoundary) {
      var boundaries = _getVirtualBoundaries.call(self, vpRect),
        transBoundaries = boundaries.translate,
        oBoundaries = boundaries.origin

      if (transform.x >= transBoundaries.maxX) {
        origin.x = oBoundaries.minX
        transform.x = transBoundaries.maxX
      }

      if (transform.x <= transBoundaries.minX) {
        origin.x = oBoundaries.maxX
        transform.x = transBoundaries.minX
      }

      if (transform.y >= transBoundaries.maxY) {
        origin.y = oBoundaries.minY
        transform.y = transBoundaries.maxY
      }

      if (transform.y <= transBoundaries.minY) {
        origin.y = oBoundaries.maxY
        transform.y = transBoundaries.minY
      }
    }
    applyCss()
    _debouncedOverlay.call(self)
    _triggerUpdate.call(self)
  }

  function _getVirtualBoundaries (viewport) {
    var self = this,
      scale = self._currentZoom,
      vpWidth = viewport.width,
      vpHeight = viewport.height,
      centerFromBoundaryX = self.elements.boundary.clientWidth / 2,
      centerFromBoundaryY = self.elements.boundary.clientHeight / 2,
      imgRect = self.elements.preview.getBoundingClientRect(),
      curImgWidth = imgRect.width,
      curImgHeight = imgRect.height,
      halfWidth = vpWidth / 2,
      halfHeight = vpHeight / 2

    var maxX = ((halfWidth / scale) - centerFromBoundaryX) * -1
    var minX = maxX - ((curImgWidth * (1 / scale)) - (vpWidth * (1 / scale)))

    var maxY = ((halfHeight / scale) - centerFromBoundaryY) * -1
    var minY = maxY - ((curImgHeight * (1 / scale)) - (vpHeight * (1 / scale)))

    var originMinX = (1 / scale) * halfWidth
    var originMaxX = (curImgWidth * (1 / scale)) - originMinX

    var originMinY = (1 / scale) * halfHeight
    var originMaxY = (curImgHeight * (1 / scale)) - originMinY

    return {
      translate: {
        maxX: maxX,
        minX: minX,
        maxY: maxY,
        minY: minY
      },
      origin: {
        maxX: originMaxX,
        minX: originMinX,
        maxY: originMaxY,
        minY: originMinY
      }
    }
  }

  function _updateCenterPoint () {
    var self = this,
      scale = self._currentZoom,
      data = self.elements.preview.getBoundingClientRect(),
      vpData = self.elements.viewport.getBoundingClientRect(),
      transform = Transform.parse(self.elements.preview.style[CSS_TRANSFORM]),
      pc = new TransformOrigin(self.elements.preview),
      top = (vpData.top - data.top) + (vpData.height / 2),
      left = (vpData.left - data.left) + (vpData.width / 2),
      center = {},
      adj = {}

    center.y = top / scale
    center.x = left / scale

    adj.y = (center.y - pc.y) * (1 - scale)
    adj.x = (center.x - pc.x) * (1 - scale)

    transform.x -= adj.x
    transform.y -= adj.y

    var newCss = {}
    newCss[CSS_TRANS_ORG] = center.x + 'px ' + center.y + 'px'
    newCss[CSS_TRANSFORM] = transform.toString()
    css(self.elements.preview, newCss)
  }

  function _initDraggable () {
    var self = this,
      isDragging = false,
      originalX,
      originalY,
      originalDistance,
      vpRect,
      transform

    function assignTransformCoordinates (deltaX, deltaY) {
      var imgRect = self.elements.preview.getBoundingClientRect(),
        top = transform.y + deltaY,
        left = transform.x + deltaX

      if (self.options.enforceBoundary) {
        if (vpRect.top > imgRect.top + deltaY && vpRect.bottom < imgRect.bottom + deltaY) {
          transform.y = top
        }

        if (vpRect.left > imgRect.left + deltaX && vpRect.right < imgRect.right + deltaX) {
          transform.x = left
        }
      } else {
        transform.y = top
        transform.x = left
      }
    }

    function keyDown (ev) {
      var LEFT_ARROW = 37,
        UP_ARROW = 38,
        RIGHT_ARROW = 39,
        DOWN_ARROW = 40

      if (ev.shiftKey && (ev.keyCode == UP_ARROW || ev.keyCode == DOWN_ARROW)) {
        var zoom = 0.0
        if (ev.keyCode == UP_ARROW) {
          zoom = parseFloat(self.elements.zoomer.value, 10) + parseFloat(self.elements.zoomer.step, 10)
        } else {
          zoom = parseFloat(self.elements.zoomer.value, 10) - parseFloat(self.elements.zoomer.step, 10)
        }
        self.setZoom(zoom)
      } else if (ev.keyCode >= 37 && ev.keyCode <= 40) {
        ev.preventDefault()
        var movement = parseKeyDown(ev.keyCode)

        transform = Transform.parse(self.elements.preview)
        document.body.style[CSS_USERSELECT] = 'none'
        vpRect = self.elements.viewport.getBoundingClientRect()
        keyMove(movement)
      };

      function parseKeyDown (key) {
        switch (key) {
          case LEFT_ARROW:
            return [1, 0]
          case UP_ARROW:
            return [0, 1]
          case RIGHT_ARROW:
            return [-1, 0]
          case DOWN_ARROW:
            return [0, -1]
        };
      };
    }

    function keyMove (movement) {
      var deltaX = movement[0],
        deltaY = movement[1],
        newCss = {}

      assignTransformCoordinates(deltaX, deltaY)

      newCss[CSS_TRANSFORM] = transform.toString()
      css(self.elements.preview, newCss)
      _updateOverlay.call(self)
      document.body.style[CSS_USERSELECT] = ''
      _updateCenterPoint.call(self)
      _triggerUpdate.call(self)
      originalDistance = 0
    }

    function mouseDown (ev) {
      ev.preventDefault()
      if (isDragging) return
      isDragging = true
      originalX = ev.pageX
      originalY = ev.pageY

      if (ev.touches) {
        var touches = ev.touches[0]
        originalX = touches.pageX
        originalY = touches.pageY
      }

      transform = Transform.parse(self.elements.preview)
      window.addEventListener('mousemove', mouseMove)
      window.addEventListener('touchmove', mouseMove)
      window.addEventListener('mouseup', mouseUp)
      window.addEventListener('touchend', mouseUp)
      document.body.style[CSS_USERSELECT] = 'none'
      vpRect = self.elements.viewport.getBoundingClientRect()
    }

    function mouseMove (ev) {
      ev.preventDefault()
      var pageX = ev.pageX,
        pageY = ev.pageY

      if (ev.touches) {
        var touches = ev.touches[0]
        pageX = touches.pageX
        pageY = touches.pageY
      }

      var deltaX = pageX - originalX,
        deltaY = pageY - originalY,
        newCss = {}

      if (ev.type == 'touchmove') {
        if (ev.touches.length > 1) {
          var touch1 = ev.touches[0]
          var touch2 = ev.touches[1]
          var dist = Math.sqrt((touch1.pageX - touch2.pageX) * (touch1.pageX - touch2.pageX) + (touch1.pageY - touch2.pageY) * (touch1.pageY - touch2.pageY))

          if (!originalDistance) {
            originalDistance = dist / self._currentZoom
          }

          var scale = dist / originalDistance

          _setZoomerVal.call(self, scale)
          dispatchChange(self.elements.zoomer)
          return
        }
      }

      assignTransformCoordinates(deltaX, deltaY)

      newCss[CSS_TRANSFORM] = transform.toString()
      css(self.elements.preview, newCss)
      _updateOverlay.call(self)
      originalY = pageY
      originalX = pageX
    }

    function mouseUp () {
      isDragging = false
      window.removeEventListener('mousemove', mouseMove)
      window.removeEventListener('touchmove', mouseMove)
      window.removeEventListener('mouseup', mouseUp)
      window.removeEventListener('touchend', mouseUp)
      document.body.style[CSS_USERSELECT] = ''
      _updateCenterPoint.call(self)
      _triggerUpdate.call(self)
      originalDistance = 0
    }

    self.elements.overlay.addEventListener('mousedown', mouseDown)
    self.elements.viewport.addEventListener('keydown', keyDown)
    self.elements.overlay.addEventListener('touchstart', mouseDown)
  }

  function _updateOverlay () {
    var self = this,
      boundRect = self.elements.boundary.getBoundingClientRect(),
      imgData = self.elements.preview.getBoundingClientRect()

    css(self.elements.overlay, {
      width: imgData.width + 'px',
      height: imgData.height + 'px',
      top: (imgData.top - boundRect.top) + 'px',
      left: (imgData.left - boundRect.left) + 'px'
    })
  }
  var _debouncedOverlay = debounce(_updateOverlay, 500)

  function _triggerUpdate () {
    var self = this,
      data = self.get(),
      ev

    if (!_isVisible.call(self)) {
      return
    }

    self.options.update.call(self, data)
    if (self.$) {
      self.$(self.element).trigger('update', data)
    } else {
      var ev
      if (window.CustomEvent) {
        ev = new CustomEvent('update', { detail: data })
      } else {
        ev = document.createEvent('CustomEvent')
        ev.initCustomEvent('update', true, true, data)
      }

      self.element.dispatchEvent(ev)
    }
  }

  function _isVisible () {
    return this.elements.preview.offsetHeight > 0 && this.elements.preview.offsetWidth > 0
  }

  function _updatePropertiesFromImage () {
    var self = this,
      minZoom = 0,
      maxZoom = 1.5,
      initialZoom = 1,
      cssReset = {},
      img = self.elements.preview,
      zoomer = self.elements.zoomer,
      transformReset = new Transform(0, 0, initialZoom),
      originReset = new TransformOrigin(),
      isVisible = _isVisible.call(self),
      imgData,
      vpData,
      boundaryData,
      minW,
      minH

    if (!isVisible || self.data.bound) {
      // if the croppie isn't visible or it doesn't need binding
      return
    }

    self.data.bound = true
    cssReset[CSS_TRANSFORM] = transformReset.toString()
    cssReset[CSS_TRANS_ORG] = originReset.toString()
    cssReset['opacity'] = 1
    css(img, cssReset)

    imgData = img.getBoundingClientRect()
    vpData = self.elements.viewport.getBoundingClientRect()
    boundaryData = self.elements.boundary.getBoundingClientRect()
    self._originalImageWidth = imgData.width
    self._originalImageHeight = imgData.height

    if (self.options.enableZoom) {
      if (self.options.enforceBoundary) {
        minW = vpData.width / imgData.width
        minH = vpData.height / imgData.height
        minZoom = Math.max(minW, minH)
      }

      if (minZoom >= maxZoom) {
        maxZoom = minZoom + 1
      }

      zoomer.min = fix(minZoom, 4)
      zoomer.max = fix(maxZoom, 4)
      var defaultInitialZoom = Math.max((boundaryData.width / imgData.width), (boundaryData.height / imgData.height))
      initialZoom = self.data.boundZoom !== null ? self.data.boundZoom : defaultInitialZoom
      _setZoomerVal.call(self, initialZoom)
      dispatchChange(zoomer)
    } else {
      self._currentZoom = initialZoom
    }

    transformReset.scale = self._currentZoom
    cssReset[CSS_TRANSFORM] = transformReset.toString()
    css(img, cssReset)

    if (self.data.points.length) {
      _bindPoints.call(self, self.data.points)
    } else {
      _centerImage.call(self)
    }

    _updateCenterPoint.call(self)
    _updateOverlay.call(self)
  }

  function _bindPoints (points) {
    if (points.length != 4) {
      throw 'Croppie - Invalid number of points supplied: ' + points
    }
    var self = this,
      pointsWidth = points[2] - points[0],
      // pointsHeight = points[3] - points[1],
      vpData = self.elements.viewport.getBoundingClientRect(),
      boundRect = self.elements.boundary.getBoundingClientRect(),
      vpOffset = {
        left: vpData.left - boundRect.left,
        top: vpData.top - boundRect.top
      },
      scale = vpData.width / pointsWidth,
      originTop = points[1],
      originLeft = points[0],
      transformTop = (-1 * points[1]) + vpOffset.top,
      transformLeft = (-1 * points[0]) + vpOffset.left,
      newCss = {}

    newCss[CSS_TRANS_ORG] = originLeft + 'px ' + originTop + 'px'
    newCss[CSS_TRANSFORM] = new Transform(transformLeft, transformTop, scale).toString()
    css(self.elements.preview, newCss)

    _setZoomerVal.call(self, scale)
    self._currentZoom = scale
  }

  function _centerImage () {
    var self = this,
      imgDim = self.elements.preview.getBoundingClientRect(),
      vpDim = self.elements.viewport.getBoundingClientRect(),
      boundDim = self.elements.boundary.getBoundingClientRect(),
      vpLeft = vpDim.left - boundDim.left,
      vpTop = vpDim.top - boundDim.top,
      w = vpLeft - ((imgDim.width - vpDim.width) / 2),
      h = vpTop - ((imgDim.height - vpDim.height) / 2),
      transform = new Transform(w, h, self._currentZoom)

    css(self.elements.preview, CSS_TRANSFORM, transform.toString())
  }

  function _transferImageToCanvas (customOrientation) {
    var self = this,
      canvas = self.elements.canvas,
      img = self.elements.img,
      ctx = canvas.getContext('2d'),
      exif = _hasExif.call(self),
      customOrientation = self.options.enableOrientation && customOrientation

    ctx.clearRect(0, 0, canvas.width, canvas.height)
    canvas.width = img.width
    canvas.height = img.height

    if (exif) {
      getExifOrientation(img, function (orientation) {
        drawCanvas(canvas, img, num(orientation, 10))
        if (customOrientation) {
          drawCanvas(canvas, img, customOrientation)
        }
      })
    } else if (customOrientation) {
      drawCanvas(canvas, img, customOrientation)
    }
  }

  function _getCanvas (data) {
    var self = this,
      points = data.points,
      left = num(points[0]),
      top = num(points[1]),
      width = (points[2] - points[0]),
      height = (points[3] - points[1]),
      circle = data.circle,
      canvas = document.createElement('canvas'),
      ctx = canvas.getContext('2d'),
      outWidth = width,
      outHeight = height,
      startX = 0,
      startY = 0

    if (data.outputWidth && data.outputHeight) {
      outWidth = data.outputWidth
      outHeight = data.outputHeight
    }

    canvas.width = outWidth
    canvas.height = outHeight

    if (data.backgroundColor) {
      ctx.fillStyle = data.backgroundColor
      ctx.fillRect(0, 0, outWidth, outHeight)
    }
    // start fixing data to send to draw image for enforceBoundary: false
    if (left < 0) {
      startX = Math.abs(left)
      left = 0
    }
    if (top < 0) {
      startY = Math.abs(top)
      top = 0
    }
    if ((left + width) > self._originalImageWidth) {
      width = self._originalImageWidth - left
      outWidth = width
    }
    if ((top + height) > self._originalImageHeight) {
      height = self._originalImageHeight - top
      outHeight = height
    }

    ctx.drawImage(this.elements.preview, left, top, width, height, startX, startY, outWidth, outHeight)
    if (circle) {
      ctx.fillStyle = '#fff'
      ctx.globalCompositeOperation = 'destination-in'
      ctx.beginPath()
      ctx.arc(outWidth / 2, outHeight / 2, outWidth / 2, 0, Math.PI * 2, true)
      ctx.closePath()
      ctx.fill()
    }
    return canvas
  }

  function _getHtmlResult (data) {
    var points = data.points,
      div = document.createElement('div'),
      img = document.createElement('img'),
      width = points[2] - points[0],
      height = points[3] - points[1]

    addClass(div, 'croppie-result')
    div.appendChild(img)
    css(img, {
      left: (-1 * points[0]) + 'px',
      top: (-1 * points[1]) + 'px'
    })
    img.src = data.url
    css(div, {
      width: width + 'px',
      height: height + 'px'
    })

    return div
  }

  function _getBase64Result (data) {
    return _getCanvas.call(this, data).toDataURL(data.format, data.quality)
  }

  function _getBlobResult (data) {
    var self = this
    return new Promise(function (resolve, reject) {
      _getCanvas.call(self, data).toBlob(function (blob) {
        resolve(blob)
      }, data.format, data.quality)
    })
  }

  function _bind (options, cb) {
    var self = this,
      url,
      points = [],
      zoom = null

    if (typeof (options) === 'string') {
      url = options
      options = {}
    } else if (Array.isArray(options)) {
      points = options.slice()
    } else if (typeof (options) === 'undefined' && self.data.url) { // refreshing
      _updatePropertiesFromImage.call(self)
      _triggerUpdate.call(self)
      return null
    } else {
      url = options.url
      points = options.points || []
      zoom = typeof (options.zoom) === 'undefined' ? null : options.zoom
    }

    self.data.bound = false
    self.data.url = url || self.data.url
    self.data.points = (points || self.data.points).map(function (p) {
      return parseFloat(p)
    })
    self.data.boundZoom = zoom
    var prom = loadImage(url, self.elements.img, self.options.useCanvas)
    prom.then(function () {
      if (self.options.useCanvas) {
        self.elements.img.exifdata = null
        _transferImageToCanvas.call(self, options.orientation || 1)
      }
      _updatePropertiesFromImage.call(self)
      _triggerUpdate.call(self)
      if (cb) {
        cb()
      }
    })
    return prom
  }

  function fix (v, decimalPoints) {
    return parseFloat(v).toFixed(decimalPoints || 0)
  }

  function _get () {
    var self = this,
      imgData = self.elements.preview.getBoundingClientRect(),
      vpData = self.elements.viewport.getBoundingClientRect(),
      x1 = vpData.left - imgData.left,
      y1 = vpData.top - imgData.top,
      widthDiff = (vpData.width - self.elements.viewport.offsetWidth) / 2,
      heightDiff = (vpData.height - self.elements.viewport.offsetHeight) / 2,
      x2 = x1 + self.elements.viewport.offsetWidth + widthDiff,
      y2 = y1 + self.elements.viewport.offsetHeight + heightDiff,
      scale = self._currentZoom

    if (scale === Infinity || isNaN(scale)) {
      scale = 1
    }

    var max = self.options.enforceBoundary ? 0 : Number.NEGATIVE_INFINITY
    x1 = Math.max(max, x1 / scale)
    y1 = Math.max(max, y1 / scale)
    x2 = Math.max(max, x2 / scale)
    y2 = Math.max(max, y2 / scale)

    return {
      points: [fix(x1), fix(y1), fix(x2), fix(y2)],
      zoom: scale
    }
  }

  var RESULT_DEFAULTS = {
      type: 'canvas',
      format: 'png',
      quality: 1
    },
    RESULT_FORMATS = ['jpeg', 'webp', 'png']

  function _result (options) {
    var self = this,
      data = _get.call(self),
      opts = deepExtend(RESULT_DEFAULTS, deepExtend({}, options)),
      resultType = (typeof (options) === 'string' ? options : (opts.type || 'base64')),
      size = opts.size,
      format = opts.format,
      quality = opts.quality,
      backgroundColor = opts.backgroundColor,
      circle = typeof opts.circle === 'boolean' ? opts.circle : (self.options.viewport.type === 'circle'),
      vpRect = self.elements.viewport.getBoundingClientRect(),
      ratio = vpRect.width / vpRect.height,
      prom

    if (size === 'viewport') {
      data.outputWidth = vpRect.width
      data.outputHeight = vpRect.height
    } else if (typeof size === 'object') {
      if (size.width && size.height) {
        data.outputWidth = size.width
        data.outputHeight = size.height
      } else if (size.width) {
        data.outputWidth = size.width
        data.outputHeight = size.width / ratio
      } else if (size.height) {
        data.outputWidth = size.height * ratio
        data.outputHeight = size.height
      }
    }

    if (RESULT_FORMATS.indexOf(format) > -1) {
      data.format = 'image/' + format
      data.quality = quality
    }

    data.circle = circle
    data.url = self.data.url
    data.backgroundColor = backgroundColor

    prom = new Promise(function (resolve, reject) {
      switch (resultType.toLowerCase()) {
        case 'rawcanvas':
          resolve(_getCanvas.call(self, data))
          break
        case 'canvas':
        case 'base64':
          resolve(_getBase64Result.call(self, data))
          break
        case 'blob':
          _getBlobResult.call(self, data).then(resolve)
          break
        default:
          resolve(_getHtmlResult.call(self, data))
          break
      }
    })
    return prom
  }

  function _refresh () {
    _updatePropertiesFromImage.call(this)
  }

  function _rotate (deg) {
    if (!this.options.useCanvas) {
      throw 'Croppie: Cannot rotate without enableOrientation'
    }

    var self = this,
      canvas = self.elements.canvas,
      img = self.elements.img,
      copy = document.createElement('canvas'),
      ornt = 1

    copy.width = canvas.width
    copy.height = canvas.height
    var ctx = copy.getContext('2d')
    ctx.drawImage(canvas, 0, 0)

    if (deg === 90 || deg === -270) ornt = 6
    if (deg === -90 || deg === 270) ornt = 8
    if (deg === 180 || deg === -180) ornt = 3

    drawCanvas(canvas, copy, ornt)
    _onZoom.call(self)
  }

  function _destroy () {
    var self = this
    if (self.elements) {
      self.element.removeChild(self.elements.boundary)
    }
    removeClass(self.element, 'croppie-container')
    if (self.options.enableZoom && self.elements) {
      self.element.removeChild(self.elements.zoomerWrap)
    }
    delete self.elements
  }

  if (window.jQuery) {
    var $ = window.jQuery
    $.fn.croppie = function (opts) {
      var ot = typeof opts

      if (ot === 'string') {
        var args = Array.prototype.slice.call(arguments, 1)
        var singleInst = $(this).data('croppie')

        if (opts === 'get') {
          return singleInst.get()
        } else if (opts === 'result') {
          return singleInst.result.apply(singleInst, args)
        } else if (opts === 'bind') {
          return singleInst.bind.apply(singleInst, args)
        }

        return this.each(function () {
          var i = $(this).data('croppie')
          if (!i) return

          var method = i[opts]
          if ($.isFunction(method)) {
            method.apply(i, args)
            if (opts === 'destroy') {
              $(this).removeData('croppie')
            }
          } else {
            throw 'Croppie ' + opts + ' method not found'
          }
        })
      } else {
        return this.each(function () {
          var i = new Croppie(this, opts)
          i.$ = $
          $(this).data('croppie', i)
        })
      }
    }
  }

  function Croppie (element, opts) {
    this.element = element
    this.options = deepExtend(deepExtend({}, Croppie.defaults), opts)

    if (this.element.tagName.toLowerCase() === 'img') {
      var origImage = this.element
      addClass(origImage, 'cr-original-image')
      var replacementDiv = document.createElement('div')
      this.element.parentNode.appendChild(replacementDiv)
      replacementDiv.appendChild(origImage)
      this.element = replacementDiv
      this.options.url = this.options.url || origImage.src
    }

    _create.call(this)
    if (this.options.url) {
      var bindOpts = {
        url: this.options.url,
        points: this.options.points
      }
      delete this.options['url']
      delete this.options['points']
      _bind.call(this, bindOpts)
    }
  }

  Croppie.defaults = {
    viewport: {
      width: 100,
      height: 100,
      type: 'square'
    },
    boundary: { },
    orientationControls: {
      enabled: true,
      leftClass: '',
      rightClass: ''
    },
    customClass: '',
    showZoomer: true,
    enableZoom: true,
    mouseWheelZoom: true,
    enableExif: false,
    enforceBoundary: true,
    enableOrientation: false,
    update: function () { }
  }

  deepExtend(Croppie.prototype, {
    bind: function (options, cb) {
      return _bind.call(this, options, cb)
    },
    get: function () {
      return _get.call(this)
    },
    result: function (type) {
      return _result.call(this, type)
    },
    refresh: function () {
      return _refresh.call(this)
    },
    setZoom: function (v) {
      _setZoomerVal.call(this, v)
      dispatchChange(this.elements.zoomer)
    },
    rotate: function (deg) {
      _rotate.call(this, deg)
    },
    destroy: function () {
      return _destroy.call(this)
    }
  })

  exports.Croppie = window.Croppie = Croppie

  if (typeof module === 'object' && !!module.exports) {
    module.exports = Croppie
  }
}))

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/temp-dependencies/vue-google-maps.js

sms.addModule('assets/js/cp-components-common/temp-dependencies/vue-google-maps.js', {"path":""}, (require,exports,module)=>{
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("marker-clusterer-plus")):"function"==typeof define&&define.amd?define(["MarkerClusterer"],t):"object"==typeof exports?exports.VueGoogleMaps=t(require("marker-clusterer-plus")):e.VueGoogleMaps=t(e.MarkerClusterer)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=216)}([function(e,t,n){"use strict";function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(71),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e,t,n,o){o=o||{};var a=o,u=a.afterModelChanged;(0,i.default)(n,function(n,o){var i=n.twoWay,a=n.type,c=n.trackProperties,s="set"+r(o),f="get"+r(o),l=o.toLowerCase()+"_changed",p=e[o];if(void 0===t[s])throw new Error(s+" is not a method of (the Maps object corresponding to) "+e.$options._componentTag);var d=0;if(a===Object&&c){if(a===Object&&c){var h=0,v=0,y=function(){v+=1},b=function(){h=Math.max(v,h+1)},m=function(){h<v&&(t[s](e[o]),u&&u(o,attributeValue),b())};c.forEach(function(t){e.$watch(o+"."+t,function(){y(),e.$nextTick(m)},{immediate:void 0!==p})})}}else e.$watch(o,function(){var n=e[o];d++,t[s](n),u&&u(o,n)},{immediate:void 0!==p,deep:a===Object});i&&t.addListener(l,function(n){if(a===Object&&d>0)return void d--;e.$emit(l,t[f]())})})}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(75),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={methods:{getPropsValues:function(){var e=this;return(0,o.default)(this.$options.props,function(t,n){return e[n]})}}}},function(e,t,n){var r=n(61),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(71),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t,n){(0,o.default)(n,function(n){var r=n;t.addListener(n,function(t){e.$emit(r,t)})})}},function(e,t,n){function r(e){return o(e,i)}var o=n(54),i=4;e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19);t.default={mixins:[r.DeferredReadyMixin],created:function(){var e=this,t=this.$findAncestor(function(e){return e.$mapCreated});if(!t)throw new Error(this.constructor.name+" component must be used within a <Map>");this.$mapPromise=t.$mapCreated.then(function(t){e.$map=t}),t.$mapObject&&(this.$map=t.$mapObject),this.$MapElementMixin=t,this.$map=null},beforeDeferredReady:function(){return this.$mapPromise},methods:{$findAncestor:function(e){for(var t=this.$parent;t;){if(e(t))return t;t=t.$parent}return null}}}},function(e,t,n){function r(e,t){var n=i(e,t);return o(n)?n:void 0}var o=n(113),i=n(150);e.exports=r},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){var r=n(29),o=n(54),i=n(128),a=n(12),u=n(16),c=n(144),s=n(147),f=n(34),l=s(function(e,t){var n={};if(null==e)return n;var s=!1;t=r(t,function(t){return t=a(t,e),s||(s=t.length>1),t}),u(e,f(e),n),s&&(n=o(n,7,c));for(var l=t.length;l--;)i(n,t[l]);return n});e.exports=l},function(e,t,n){var r=n(3),o=r.Symbol;e.exports=o},function(e,t,n){function r(e){return null==e?void 0===e?c:u:s&&s in Object(e)?i(e):a(e)}var o=n(10),i=n(149),a=n(177),u="[object Null]",c="[object Undefined]",s=o?o.toStringTag:void 0;e.exports=r},function(e,t,n){function r(e,t){return o(e)?e:i(e,t)?[e]:a(u(e))}var o=n(1),i=n(38),a=n(189),u=n(200);e.exports=r},function(e,t,n){function r(e){if("string"==typeof e||o(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}var o=n(46),i=1/0;e.exports=r},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.loaded=new Promise(function(e,t){"undefined"!=typeof window&&(window.vueGoogleMapsInit=e)}),t.load=function(e,t,n,o){if("undefined"!=typeof document){var i=document.createElement("SCRIPT"),a={};if("string"==typeof e)a.key=e;else{if("object"!=(void 0===e?"undefined":r(e)))throw new Error("apiKey should either be a string or an object");for(var u in e)a[u]=e[u]}var c="";n&&n.length>0?(c=n.join(","),a.libraries=c):Array.prototype.isPrototypeOf(a.libraries)&&(a.libraries=a.libraries.join(",")),a.callback="vueGoogleMapsInit";var s="https://maps.googleapis.com/";"boolean"==typeof o&&!0===o&&(s="http://maps.google.cn/");var f=s+"maps/api/js?"+Object.keys(a).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(a[e])}).join("&");t&&(f=f+"&v="+t),i.setAttribute("src",f),i.setAttribute("async",""),i.setAttribute("defer",""),document.body.appendChild(i)}}},function(e,t,n){function r(e,t,n,r){var a=!n;n||(n={});for(var u=-1,c=t.length;++u<c;){var s=t[u],f=r?r(n[s],e[s],s,n,e):void 0;void 0===f&&(f=e[s]),a?i(n,s,f):o(n,s,f)}return n}var o=n(31),i=n(32);e.exports=r},function(e,t,n){function r(e){return a(e)?o(e):i(e)}var o=n(52),i=n(115),a=n(43);e.exports=r},function(e,t){e.exports=function(e,t,n,r){var o,i=e=e||{},a=typeof e.default;"object"!==a&&"function"!==a||(o=e,i=e.default);var u="function"==typeof i?i.options:i;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns),n&&(u._scopeId=n),r){var c=Object.create(u.computed||null);Object.keys(r).forEach(function(e){var t=r[e];c[e]=function(){return t}}),u.computed=c}return{esModule:o,exports:i,options:u}}},function(e,t,n){"use strict";function r(e){var t=e.$options.deferredReady||[];(e.beforeDeferredReady?"function"==typeof e.beforeDeferredReady.then?e.beforeDeferredReady:Promise.all(e.beforeDeferredReady):Promise.resolve(null)).then(function(){return"function"==typeof t&&(t=[t]),Promise.all(t.map(function(t){try{return t.apply(e)}catch(e){console.error(e.stack)}}))}).then(function(){e.$deferredReadyPromiseResolve()})}Object.defineProperty(t,"__esModule",{value:!0});t.DeferredReady={install:function(e,t){e.config.optionMergeStrategies.deferredReady=e.config.optionMergeStrategies.created,e.config.optionMergeStrategies.beforeDeferredReady=e.config.optionMergeStrategies.beforeDeferredReady}},t.DeferredReadyMixin={$deferredReadyPromise:!1,$deferredReadyPromiseResolve:!1,$deferredReadyAncestor:!1,created:function(){var e=this;this.$deferredReadyPromise=new Promise(function(t,n){e.$deferredReadyPromiseResolve=t});for(var t=this.$parent;t;){if(t.$deferredReadyPromise){this.$deferredReadyAncestor=t;break}t=t.$parent}},mounted:function(){var e=this;this.$deferredReadyAncestor?this.$deferredReadyAncestor.$deferredReadyPromise.then(function(){r(e)}):r(this)}}},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(163),i=n(164),a=n(165),u=n(166),c=n(167);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=a,r.prototype.has=u,r.prototype.set=c,e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(o(e[n][0],t))return n;return-1}var o=n(40);e.exports=r},function(e,t,n){function r(e,t){t=o(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[i(t[n++])];return n&&n==r?e:void 0}var o=n(12),i=n(13);e.exports=r},function(e,t,n){function r(e,t){var n=e.__data__;return o(t)?n["string"==typeof t?"string":"hash"]:n.map}var o=n(161);e.exports=r},function(e,t,n){var r=n(7),o=r(Object,"create");e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["resizeBus"],data:function(){return{_actualResizeBus:null}},created:function(){void 0===this.resizeBus?this.$data._actualResizeBus=this.$gmapDefaultResizeBus:this.$data._actualResizeBus=this.resizeBus},methods:{_resizeCallback:function(){this.resize()},_delayedResizeCallback:function(){var e=this;this.$nextTick(function(){return e._resizeCallback()})}},watch:{resizeBus:function(e,t){this.$data._actualResizeBus=e},"$data._actualResizeBus":function(e,t){t&&t.$off("resize",this._delayedResizeCallback),e&&e.$on("resize",this._delayedResizeCallback)}},destroyed:function(){this.$data._actualResizeBus&&this.$data._actualResizeBus.$off("resize",this._delayedResizeCallback)}}},function(e,t,n){var r=n(7),o=n(3),i=r(o,"Map");e.exports=i},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(168),i=n(169),a=n(170),u=n(171),c=n(172);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=a,r.prototype.has=u,r.prototype.set=c,e.exports=r},function(e,t,n){function r(e){var t=this.__data__=new o(e);this.size=t.size}var o=n(20),i=n(184),a=n(185),u=n(186),c=n(187),s=n(188);r.prototype.clear=i,r.prototype.delete=a,r.prototype.get=u,r.prototype.has=c,r.prototype.set=s,e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}e.exports=n},function(e,t,n){function r(e,t,n){var r=e[t];u.call(e,t)&&i(r,n)&&(void 0!==n||t in e)||o(e,t,n)}var o=n(32),i=n(40),a=Object.prototype,u=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n){"__proto__"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var o=n(59);e.exports=r},function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new o(t).set(new o(e)),t}var o=n(50);e.exports=r},function(e,t,n){function r(e){return o(e,a,i)}var o=n(56),i=n(63),a=n(74);e.exports=r},function(e,t,n){var r=n(68),o=r(Object.getPrototypeOf,Object);e.exports=o},function(e,t,n){var r=n(101),o=n(76),i=Object.prototype,a=i.propertyIsEnumerable,u=Object.getOwnPropertySymbols,c=u?function(e){return null==e?[]:(e=Object(e),r(u(e),function(t){return a.call(e,t)}))}:o;e.exports=c},function(e,t){function n(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){function r(e,t){if(o(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(u.test(e)||!a.test(e)||null!=t&&e in Object(t))}var o=n(1),i=n(46),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;e.exports=r},function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}var r=Object.prototype;e.exports=n},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){var r=n(110),o=n(14),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!u.call(e,"callee")};e.exports=c},function(e,t,n){function r(e){return null!=e&&i(e.length)&&!o(e)}var o=n(72),i=n(45);e.exports=r},function(e,t,n){(function(e){var r=n(3),o=n(199),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,u=a&&a.exports===i,c=u?r.Buffer:void 0,s=c?c.isBuffer:void 0,f=s||o;e.exports=f}).call(t,n(47)(e))},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t,n){function r(e){return"symbol"==typeof e||i(e)&&o(e)==a}var o=n(11),i=n(14),a="[object Symbol]";e.exports=r},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,r){if("keydown"==t){var o=r;r=function(t){var n=document.getElementsByClassName("pac-item-selected").length>0;if(13==t.which&&!n){var r=document.createEvent("Event");r.keyCode=40,r.which=40,o.apply(e,[r])}o.apply(e,[t])}}n.apply(e,[t,r])}var n=e.addEventListener?e.addEventListener:e.attachEvent;e.addEventListener=t,e.attachEvent=t}},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){var r=n(3),o=r.Uint8Array;e.exports=o},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}e.exports=n},function(e,t,n){function r(e,t){var n=a(e),r=!n&&i(e),f=!n&&!r&&u(e),p=!n&&!r&&!f&&s(e),d=n||r||f||p,h=d?o(e.length,String):[],v=h.length;for(var y in e)!t&&!l.call(e,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||c(y,v))||h.push(y);return h}var o=n(125),i=n(42),a=n(1),u=n(44),c=n(37),s=n(73),f=Object.prototype,l=f.hasOwnProperty;e.exports=r},function(e,t){function n(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}e.exports=n},function(e,t,n){function r(e,t,n,R,z,W){var S,E=t&O,B=t&$,L=t&w;if(n&&(S=z?n(e,R,z,W):n(e)),void 0!==S)return S;if(!_(e))return e;var I=g(e);if(I){if(S=y(e),!E)return f(e,S)}else{var D=v(e),F=D==P||D==k;if(j(e))return s(e,E);if(D==A||D==M||F&&!z){if(S=B||F?{}:m(e),!E)return B?p(e,c(S,e)):l(e,u(S,e))}else{if(!C[D])return z?e:{};S=b(e,D,r,E)}}W||(W=new o);var N=W.get(e);if(N)return N;W.set(e,S);var T=L?B?h:d:B?keysIn:x,U=I?void 0:T(e);return i(U||e,function(o,i){U&&(i=o,o=e[i]),a(S,i,r(o,t,n,i,e,W))}),S}var o=n(28),i=n(51),a=n(31),u=n(103),c=n(104),s=n(131),f=n(138),l=n(139),p=n(140),d=n(62),h=n(34),v=n(64),y=n(157),b=n(158),m=n(159),g=n(1),j=n(44),_=n(8),x=n(17),O=1,$=2,w=4,M="[object Arguments]",P="[object Function]",k="[object GeneratorFunction]",A="[object Object]",C={};C[M]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[A]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[P]=C["[object WeakMap]"]=!1,e.exports=r},function(e,t,n){function r(e,t){return e&&o(e,t,i)}var o=n(108),i=n(17);e.exports=r},function(e,t,n){function r(e,t,n){var r=t(e);return i(e)?r:o(r,n(e))}var o=n(30),i=n(1);e.exports=r},function(e,t,n){function r(e,t,n,a,u){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:o(e,t,n,a,r,u))}var o=n(111),i=n(14);e.exports=r},function(e,t,n){function r(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?u(e)?i(e[0],e[1]):o(e):c(e)}var o=n(117),i=n(118),a=n(41),u=n(1),c=n(198);e.exports=r},function(e,t,n){var r=n(7),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){function r(e,t,n,r,s,f){var l=n&u,p=e.length,d=t.length;if(p!=d&&!(l&&d>p))return!1;var h=f.get(e);if(h&&f.get(t))return h==t;var v=-1,y=!0,b=n&c?new o:void 0;for(f.set(e,t),f.set(t,e);++v<p;){var m=e[v],g=t[v];if(r)var j=l?r(g,m,v,t,e,f):r(m,g,v,e,t,f);if(void 0!==j){if(j)continue;y=!1;break}if(b){if(!i(t,function(e,t){if(!a(b,t)&&(m===e||s(m,e,n,r,f)))return b.push(t)})){y=!1;break}}else if(m!==g&&!s(m,g,n,r,f)){y=!1;break}}return f.delete(e),f.delete(t),y}var o=n(96),i=n(102),a=n(129),u=1,c=2;e.exports=r},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(214))},function(e,t,n){function r(e){return o(e,a,i)}var o=n(56),i=n(36),a=n(17);e.exports=r},function(e,t,n){var r=n(30),o=n(35),i=n(36),a=n(76),u=Object.getOwnPropertySymbols,c=u?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=c},function(e,t,n){var r=n(92),o=n(26),i=n(94),a=n(95),u=n(97),c=n(11),s=n(70),f=s(r),l=s(o),p=s(i),d=s(a),h=s(u),v=c;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||u&&"[object WeakMap]"!=v(new u))&&(v=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?s(n):"";if(r)switch(r){case f:return"[object DataView]";case l:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=v},function(e,t,n){function r(e){return e===e&&!o(e)}var o=n(8);e.exports=r},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}e.exports=n},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t){function n(e){if(null!=e){try{return o.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,o=r.toString;e.exports=n},function(e,t,n){function r(e,t){return(u(e)?o:i)(e,a(t))}var o=n(51),i=n(106),a=n(130),u=n(1);e.exports=r},function(e,t,n){function r(e){if(!i(e))return!1;var t=o(e);return t==u||t==c||t==a||t==s}var o=n(11),i=n(8),a="[object AsyncFunction]",u="[object Function]",c="[object GeneratorFunction]",s="[object Proxy]";e.exports=r},function(e,t,n){var r=n(114),o=n(127),i=n(176),a=i&&i.isTypedArray,u=a?o(a):r;e.exports=u},function(e,t,n){function r(e){return a(e)?o(e,!0):i(e)}var o=n(52),i=n(116),a=n(43);e.exports=r},function(e,t,n){function r(e,t){var n={};return t=a(t,3),i(e,function(e,r,i){o(n,r,t(e,r,i))}),n}var o=n(32),i=n(55),a=n(58);e.exports=r},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){function r(e){for(var t=0;t<e.length;t++){var n=e[t],r=f[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(i(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{for(var a=[],o=0;o<n.parts.length;o++)a.push(i(n.parts[o]));f[n.id]={id:n.id,refs:1,parts:a}}}}function o(){var e=document.createElement("style");return e.type="text/css",l.appendChild(e),e}function i(e){var t,n,r=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(r){if(h)return v;r.parentNode.removeChild(r)}if(y){var i=d++;r=p||(p=o()),t=a.bind(null,r,i,!1),n=a.bind(null,r,i,!0)}else r=o(),t=u.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}function a(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function u(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s=n(213),f={},l=c&&(document.head||document.getElementsByTagName("head")[0]),p=null,d=0,h=!1,v=function(){},y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n){h=n;var o=s(e,t);return r(o),function(t){for(var n=[],i=0;i<o.length;i++){var a=o[i],u=f[a.id];u.refs--,n.push(u)}t?(o=s(e,t),r(o)):o=[];for(var i=0;i<n.length;i++){var u=n[i];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete f[u.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){t=Object.assign({},{installComponents:!0},t),e.use(z.DeferredReady);var n=new e;e.$gmapDefaultResizeBus=n,e.mixin({created:function(){this.$gmapDefaultResizeBus=n}}),t.load&&(0,i.load)(t.load),t.installComponents&&(e.component("GmapMap",_.default),e.component("GmapMarker",u.default),e.component("GmapCluster",s.default),e.component("GmapInfoWindow",g.default),e.component("GmapPolyline",l.default),e.component("GmapPolygon",d.default),e.component("GmapCircle",v.default),e.component("GmapRectangle",b.default),e.component("GmapAutocomplete",P.default),e.component("GmapPlaceInput",w.default),e.component("GmapStreetViewPanorama",O.default))}Object.defineProperty(t,"__esModule",{value:!0}),t.MountableMixin=t.Autocomplete=t.MapElementMixin=t.PlaceInput=t.Map=t.InfoWindow=t.Rectangle=t.Circle=t.Polygon=t.Polyline=t.Cluster=t.Marker=t.loaded=t.load=void 0,t.install=o;var i=n(15),a=n(84),u=r(a),c=n(81),s=r(c),f=n(87),l=r(f),p=n(86),d=r(p),h=n(80),v=r(h),y=n(88),b=r(y),m=n(202),g=r(m),j=n(203),_=r(j),x=n(205),O=r(x),$=n(204),w=r($),M=n(201),P=r(M),k=n(6),A=r(k),C=n(25),R=r(C),z=n(19);t.load=i.load,t.loaded=i.loaded,t.Marker=u.default,t.Cluster=s.default,t.Polyline=l.default,t.Polygon=d.default,t.Circle=v.default,t.Rectangle=b.default,t.InfoWindow=g.default,t.Map=_.default,t.PlaceInput=w.default,t.MapElementMixin=A.default,t.Autocomplete=P.default,t.MountableMixin=R.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=r(o),a=n(197),u=r(a),c=n(5),s=r(c),f=n(0),l=r(f),p=n(48),d=r(p),h=n(2),v=r(h),y=n(15),b={bounds:{type:Object},componentRestrictions:{type:Object},types:{type:Array,default:function(){return[]}},placeholder:{required:!1,type:String},selectFirstOnEnter:{require:!1,type:Boolean,default:!1},value:{type:String,default:""},options:{type:Object}};t.default={mixins:[v.default],mounted:function(){var e=this;y.loaded.then(function(){var t=(0,s.default)(e.getPropsValues());if(e.selectFirstOnEnter&&(0,d.default)(e.$refs.input),"function"!=typeof google.maps.places.Autocomplete)throw new Error("google.maps.places.Autocomplete is undefined. Did you add 'places' to libraries when loading Google Maps?");var n=(0,u.default)(Object.assign({},(0,i.default)(t,["options","selectFirstOnEnter","value","place","placeholder"]),t.options),function(e,t){return void 0!==e});e.$watch("componentRestrictions",function(t){void 0!==t&&e.$autocomplete.setComponentRestrictions(t)}),e.$autocomplete=new google.maps.places.Autocomplete(e.$refs.input,n),(0,l.default)(e,e.$autocomplete,(0,i.default)(b,["placeholder","place","selectFirstOnEnter","value","componentRestrictions"])),e.$autocomplete.addListener("place_changed",function(){e.$emit("place_changed",e.$autocomplete.getPlace())})})},props:b}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(4),u=r(a),c=n(0),s=r(c),f=n(6),l=r(f),p=n(2),d=r(p),h={center:{type:Object,twoWay:!0,required:!0},radius:{type:Number,default:1e3,twoWay:!0},draggable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},options:{type:Object,twoWay:!1}},v=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];t.default={mixins:[l.default,d.default],props:h,version:2,render:function(){return""},deferredReady:function(){var e=(0,i.default)(this.getPropsValues());e.map=this.$map,delete e.bounds,this.createCircle(e)},methods:{createCircle:function(e){var t=this;this.$circleObject=new google.maps.Circle(e);var n=(0,i.default)(h);delete n.bounds,(0,s.default)(this,this.$circleObject,n),(0,u.default)(this,this.$circleObject,v);var r=function(){t.$emit("bounds_changed",t.$circleObject.getBounds())};this.$on("radius_changed",r),this.$on("center_changed",r)}},destroyed:function(){this.$circleObject&&this.$circleObject.setMap(null)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(4),u=r(a),c=n(0),s=r(c),f=n(6),l=r(f),p=n(2),d=r(p),h=n(215),v=r(h),y={maxZoom:{type:Number,twoWay:!1},calculator:{type:Function,twoWay:!1},gridSize:{type:Number,twoWay:!1},styles:{type:Array,twoWay:!1}},b=["click","rightclick","dblclick","drag","dragstart","dragend","mouseup","mousedown","mouseover","mouseout"];t.default={mixins:[l.default,d.default],props:y,render:function(e){return e("div",this.$slots.default)},deferredReady:function(){var e=this,t=(0,i.default)(this.getPropsValues());if(void 0===v.default)throw console.error("MarkerClusterer is not installed! require() it or include it from https://cdnjs.cloudflare.com/ajax/libs/js-marker-clusterer/1.0.0/markerclusterer.js"),new Error("MarkerClusterer is not installed! require() it or include it from https://cdnjs.cloudflare.com/ajax/libs/js-marker-clusterer/1.0.0/markerclusterer.js");this.$clusterObject=new v.default(this.$map,[],t),(0,s.default)(this,this.$clusterObject,y,{afterModelChanged:function(t,n){var r=e.$clusterObject.getMarkers();e.$clusterObject.clearMarkers(),e.$clusterObject.addMarkers(r)}}),(0,u.default)(this,this.$clusterObject,b)},beforeDestroy:function(){var e=this;this.$children.forEach(function(t){t.$clusterObject===e.$clusterObject&&(t.$clusterObject=null)}),this.$clusterObject.clearMarkers()}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(9),u=r(a),c=n(0),s=r(c),f=n(4),l=r(f),p=n(6),d=r(p),h={options:{type:Object,required:!1,default:function(){return{}}},opened:{type:Boolean,default:!0},position:{type:Object,twoWay:!0},zIndex:{type:Number,twoWay:!0}},v=["domready","closeclick","content_changed"];t.default={mixins:[d.default],replace:!1,props:h,mounted:function(){var e=this.$refs.flyaway;e.parentNode.removeChild(e)},deferredReady:function(){this.$markerObject=null,this.$markerComponent=this.$findAncestor(function(e){return e.$markerObject}),this.$markerComponent&&(this.$markerObject=this.$markerComponent.$markerObject),this.createInfoWindow()},destroyed:function(){this.disconnect&&this.disconnect(),this.$infoWindow&&this.$infoWindow.setMap(null)},methods:{openInfoWindow:function(){this.opened?null!==this.$markerObject?this.$infoWindow.open(this.$map,this.$markerObject):this.$infoWindow.open(this.$map):this.$infoWindow.close()},createInfoWindow:function(){var e=this,t=(0,i.default)(this.options);t.content=this.$refs.flyaway,null===this.$markerComponent&&(t.position=this.position),this.$infoWindow=new google.maps.InfoWindow(t),(0,s.default)(this,this.$infoWindow,(0,u.default)(h,["opened"])),(0,l.default)(this,this.$infoWindow,v),this.openInfoWindow(),this.$watch("opened",function(){e.openInfoWindow()})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(9),u=r(a),c=n(15),s=n(19),f=n(4),l=r(f),p=n(0),d=r(p),h=n(2),v=r(h),y=n(25),b=r(y),m={center:{required:!0,twoWay:!0,type:Object},zoom:{required:!1,twoWay:!0,type:Number},heading:{type:Number,twoWay:!0},mapTypeId:{twoWay:!0,type:String},bounds:{twoWay:!0,type:Object},tilt:{twoWay:!0,type:Number},options:{type:Object,default:function(){return{}}}},g=["click","dblclick","drag","dragend","dragstart","idle","mousemove","mouseout","mouseover","resize","rightclick","tilesloaded"],j=["panBy","panTo","panToBounds","fitBounds"].reduce(function(e,t){return e[t]=function(){this.$mapObject&&this.$mapObject[t].apply(this.$mapObject,arguments)},e},{}),_={resize:function(){this.$mapObject&&google.maps.event.trigger(this.$mapObject,"resize")},resizePreserveCenter:function(){if(this.$mapObject){var e=this.$mapObject.getCenter();google.maps.event.trigger(this.$mapObject,"resize"),this.$mapObject.setCenter(e)}},_resizeCallback:function(){this.resizePreserveCenter()}},x=Object.assign({},_,j);t.default={mixins:[v.default,s.DeferredReadyMixin,b.default],props:m,replace:!1,created:function(){var e=this;this.$mapCreated=new Promise(function(t,n){e.$mapCreatedDeferred={resolve:t,reject:n}});var t=function(){e.$mapObject&&e.$mapObject.setCenter({lat:e.finalLat,lng:e.finalLng})};this.$watch("finalLat",t),this.$watch("finalLng",t)},computed:{finalLat:function(){return this.center&&"function"==typeof this.center.lat?this.center.lat():this.center.lat},finalLng:function(){return this.center&&"function"==typeof this.center.lng?this.center.lng():this.center.lng}},watch:{zoom:function(e){this.$mapObject&&this.$mapObject.setZoom(e)}},deferredReady:function(){var e=this;return c.loaded.then(function(){var t=e.$refs["vue-map"],n=(0,i.default)(e.getPropsValues());delete n.options;var r=(0,i.default)(e.options);return Object.assign(r,n),e.$mapObject=new google.maps.Map(t,r),(0,d.default)(e,e.$mapObject,(0,u.default)(m,["center","zoom","bounds"])),e.$mapObject.addListener("center_changed",function(){e.$emit("center_changed",e.$mapObject.getCenter())}),e.$mapObject.addListener("zoom_changed",function(){e.$emit("zoom_changed",e.$mapObject.getZoom())}),e.$mapObject.addListener("bounds_changed",function(){e.$emit("bounds_changed",e.$mapObject.getBounds())}),(0,l.default)(e,e.$mapObject,g),e.$mapCreatedDeferred.resolve(e.$mapObject),e.$mapCreated}).catch(function(e){throw e})},methods:x}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(75),i=r(o),a=n(4),u=r(a),c=n(0),s=r(c),f=n(2),l=r(f),p=n(6),d=r(p),h={animation:{twoWay:!0,type:Number},attribution:{type:Object},clickable:{type:Boolean,twoWay:!0,default:!0},cursor:{type:String,twoWay:!0},draggable:{type:Boolean,twoWay:!0,default:!1},icon:{twoWay:!0},label:{},opacity:{type:Number,default:1},place:{type:Object},position:{type:Object,twoWay:!0},shape:{type:Object,twoWay:!0},title:{type:String,twoWay:!0},zIndex:{type:Number,twoWay:!0},visible:{twoWay:!0,default:!0}},v=["click","rightclick","dblclick","drag","dragstart","dragend","mouseup","mousedown","mouseover","mouseout"];t.default={mixins:[d.default,l.default],props:h,render:function(e){return this.$slots.default&&0!=this.$slots.default.length?1==this.$slots.default.length?this.$slots.default[0]:e("div",this.$slots.default):""},destroyed:function(){this.$markerObject&&(this.$clusterObject?this.$clusterObject.removeMarker(this.$markerObject):this.$markerObject.setMap(null))},deferredReady:function(){var e=this,t=(0,i.default)(h,function(t,n){return e[n]});t.map=this.$map;var n=this.$findAncestor(function(e){return e.$clusterObject});this.$clusterObject=n?n.$clusterObject:null,this.createMarker(t)},methods:{createMarker:function(e){this.$markerObject=new google.maps.Marker(e),(0,s.default)(this,this.$markerObject,h),(0,u.default)(this,this.$markerObject,v),this.$clusterObject&&this.$clusterObject.addMarker(this.$markerObject)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(9),u=r(a),c=n(0),s=r(c),f=n(48),l=r(f),p=n(2),d=r(p),h=n(15),v={bounds:{type:Object},defaultPlace:{type:String,default:""},componentRestrictions:{type:Object,default:null},types:{type:Array,default:function(){return[]}},placeholder:{required:!1,type:String},className:{required:!1,type:String},label:{required:!1,type:String,default:null},selectFirstOnEnter:{require:!1,type:Boolean,default:!1}};t.default={mixins:[d.default],mounted:function(){var e=this,t=this.$refs.input;t.value=this.defaultPlace,this.$watch("defaultPlace",function(){t.value=e.defaultPlace}),h.loaded.then(function(){var t=(0,i.default)(e.getPropsValues());if(e.selectFirstOnEnter&&(0,l.default)(e.$refs.input),"function"!=typeof google.maps.places.Autocomplete)throw new Error("google.maps.places.Autocomplete is undefined. Did you add 'places' to libraries when loading Google Maps?");e.autoCompleter=new google.maps.places.Autocomplete(e.$refs.input,t),(0,s.default)(e,e.autoCompleter,(0,u.default)(v,["placeholder","place","selectFirstOnEnter","defaultPlace","className","label"])),e.autoCompleter.addListener("place_changed",function(){e.$emit("place_changed",e.autoCompleter.getPlace())})})},created:function(){console.warn("The PlaceInput class is deprecated! Please consider using the Autocomplete input instead")},props:v}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(9),u=r(a),c=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(4),f=r(s),l=n(0),p=r(l),d=n(6),h=r(d),v=n(2),y=r(v),b={draggable:{type:Boolean},editable:{type:Boolean},options:{type:Object},path:{type:Array,twoWay:!0},paths:{type:Array,twoWay:!0},deepWatch:{type:Boolean,default:!1}},m=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];t.default={mixins:[h.default,y.default],props:b,render:function(){return""},destroyed:function(){this.$polygonObject&&this.$polygonObject.setMap(null)},deferredReady:function(){var e=this,t=(0,i.default)(this.getPropsValues());delete t.options,Object.assign(t,this.options),t.path||delete t.path,t.paths||delete t.paths,this.$polygonObject=new google.maps.Polygon(t),(0,p.default)(this,this.$polygonObject,(0,u.default)(b,["path","paths","deepWatch"])),(0,f.default)(this,this.$polygonObject,m);var n=function(){};this.$watch("paths",function(t){if(t){n(),e.$polygonObject.setPaths(t);for(var r=function(){e.$emit("paths_changed",e.$polygonObject.getPaths())},o=[],i=e.$polygonObject.getPaths(),a=0;a<i.getLength();a++){var u=i.getAt(a);o.push([u,u.addListener("insert_at",r)]),o.push([u,u.addListener("remove_at",r)]),o.push([u,u.addListener("set_at",r)])}o.push([i,i.addListener("insert_at",r)]),o.push([i,i.addListener("remove_at",r)]),o.push([i,i.addListener("set_at",r)]),n=function(){o.map(function(e){var t=c(e,2),n=(t[0],t[1]);return google.maps.event.removeListener(n)})}}},{deep:this.deepWatch,immediate:!0}),this.$watch("path",function(t){if(t){n(),e.$polygonObject.setPaths(t);var r=e.$polygonObject.getPath(),o=[],i=function(){e.$emit("path_changed",e.$polygonObject.getPath())};o.push([r,r.addListener("insert_at",i)]),o.push([r,r.addListener("remove_at",i)]),o.push([r,r.addListener("set_at",i)]),n=function(){o.map(function(e){var t=c(e,2),n=(t[0],t[1]);return google.maps.event.removeListener(n)})}}},{deep:this.deepWatch,immediate:!0}),this.$polygonObject.setMap(this.$map)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(9),u=r(a),c=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(4),f=r(s),l=n(0),p=r(l),d=n(6),h=r(d),v=n(2),y=r(v),b={draggable:{type:Boolean},editable:{type:Boolean},options:{twoWay:!1,type:Object},path:{type:Array,twoWay:!0},deepWatch:{type:Boolean,default:!1}},m=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];t.default={mixins:[h.default,y.default],props:b,render:function(){return""},destroyed:function(){this.$polylineObject&&this.$polylineObject.setMap(null)},deferredReady:function(){var e=this,t=(0,i.default)(this.getPropsValues());delete t.options,Object.assign(t,this.options),this.$polylineObject=new google.maps.Polyline(t),this.$polylineObject.setMap(this.$map),(0,p.default)(this,this.$polylineObject,(0,u.default)(b,["deepWatch","path"])),(0,f.default)(this,this.$polylineObject,m);var n=function(){};this.$watch("path",function(t){if(t){n(),e.$polylineObject.setPath(t);var r=e.$polylineObject.getPath(),o=[],i=function(){e.$emit("path_changed",e.$polylineObject.getPath())};o.push([r,r.addListener("insert_at",i)]),o.push([r,r.addListener("remove_at",i)]),o.push([r,r.addListener("set_at",i)]),n=function(){o.map(function(e){var t=c(e,2),n=(t[0],t[1]);return google.maps.event.removeListener(n)})}}},{deep:this.deepWatch}),this.$polylineObject.setMap(this.$map)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(4),u=r(a),c=n(0),s=r(c),f=n(6),l=r(f),p=n(2),d=r(p),h={bounds:{type:Object,twoWay:!0},draggable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},options:{type:Object,twoWay:!1}},v=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];t.default={mixins:[l.default,d.default],props:h,render:function(){return""},deferredReady:function(){var e=(0,i.default)(this.getPropsValues());e.map=this.$map,this.createRectangle(e)},methods:{createRectangle:function(e){this.$rectangleObject=new google.maps.Rectangle(e),(0,s.default)(this,this.$rectangleObject,h),(0,u.default)(this,this.$rectangleObject,v)}},destroyed:function(){this.$rectangleObject&&this.$rectangleObject.setMap(null)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=r(o),a=n(15),u=n(19),c=n(4),s=r(c),f=n(0),l=r(f),p=n(2),d=r(p),h=n(25),v=r(h),y={zoom:{twoWay:!0,type:Number},pov:{twoWay:!0,type:Object,trackProperties:["pitch","heading"]},position:{twoWay:!0,type:Object},pano:{twoWay:!0,type:String},motionTracking:{twoWay:!1,type:Boolean},visible:{twoWay:!0,type:Boolean,default:!0},options:{twoWay:!1,type:Object,default:function(){return{}}}},b=["closeclick","status_changed"],m={resize:function(){this.$panoObject&&google.maps.event.trigger(this.$panoObject,"resize")}},g=Object.assign({},m);t.default={mixins:[d.default,u.DeferredReadyMixin,v.default],props:y,replace:!1,methods:g,created:function(){var e=this;this.$panoCreated=new Promise(function(t,n){e.$panoCreatedDeferred={resolve:t,reject:n}});var t=function(){e.panoObject&&e.$panoObject.setPosition({lat:e.finalLat,lng:e.finalLng})};this.$watch("finalLat",t),this.$watch("finalLng",t)},computed:{finalLat:function(){return this.position&&"function"==typeof this.position.lat?this.position.lat():this.position.lat},finalLng:function(){return this.position&&"function"==typeof this.position.lng?this.position.lng():this.position.lng}},watch:{zoom:function(e){this.$panoObject&&this.$panoObject.setZoom(e)}},deferredReady:function(){var e=this;return a.loaded.then(function(){var t=e.$refs["vue-street-view-pano"],n=Object.assign({},e.options,(0,i.default)(e.getPropsValues(),["options"]));return e.$panoObject=new google.maps.StreetViewPanorama(t,n),(0,l.default)(e,e.$panoObject,(0,i.default)(y,["position","zoom"])),(0,s.default)(e,e.$panoObject,b),e.$panoCreatedDeferred.resolve(e.$panoObject),e.$panoCreated}).catch(function(e){throw e})}}},function(e,t,n){t=e.exports=n(49)(),t.push([e.i,".vue-map-container{position:relative}.vue-map-container .vue-map{left:0;right:0;top:0;bottom:0;position:absolute}.vue-map-hidden{display:none}",""])},function(e,t,n){t=e.exports=n(49)(),t.push([e.i,".vue-street-view-pano-container{position:relative}.vue-street-view-pano-container .vue-street-view-pano{left:0;right:0;top:0;bottom:0;position:absolute}",""])},function(e,t,n){var r=n(7),o=n(3),i=r(o,"DataView");e.exports=i},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(152),i=n(153),a=n(154),u=n(155),c=n(156);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=a,r.prototype.has=u,r.prototype.set=c,e.exports=r},function(e,t,n){var r=n(7),o=n(3),i=r(o,"Promise");e.exports=i},function(e,t,n){var r=n(7),o=n(3),i=r(o,"Set");e.exports=i},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new o;++t<n;)this.add(e[t])}var o=n(27),i=n(180),a=n(181);r.prototype.add=r.prototype.push=i,r.prototype.has=a,e.exports=r},function(e,t,n){var r=n(7),o=n(3),i=r(o,"WeakMap");e.exports=i},function(e,t){function n(e,t){return e.set(t[0],t[1]),e}e.exports=n},function(e,t){function n(e,t){return e.add(t),e}e.exports=n},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t,n){function r(e,t){return e&&o(t,i(t),e)}var o=n(16),i=n(17);e.exports=r},function(e,t,n){function r(e,t){return e&&o(t,i(t),e)}var o=n(16),i=n(74);e.exports=r},function(e,t,n){var r=n(8),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(55),o=n(142),i=o(r);e.exports=i},function(e,t,n){function r(e,t,n,a,u){var c=-1,s=e.length;for(n||(n=i),u||(u=[]);++c<s;){var f=e[c];t>0&&n(f)?t>1?r(f,t-1,n,a,u):o(u,f):a||(u[u.length]=f)}return u}var o=n(30),i=n(160);e.exports=r},function(e,t,n){var r=n(143),o=r();e.exports=o},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function r(e){return i(e)&&o(e)==a}var o=n(11),i=n(14),a="[object Arguments]";e.exports=r},function(e,t,n){function r(e,t,n,r,y,m){var g=s(e),j=s(t),_=g?h:c(e),x=j?h:c(t);_=_==d?v:_,x=x==d?v:x;var O=_==v,$=x==v,w=_==x;if(w&&f(e)){if(!f(t))return!1;g=!0,O=!1}if(w&&!O)return m||(m=new o),g||l(e)?i(e,t,n,r,y,m):a(e,t,_,n,r,y,m);if(!(n&p)){var M=O&&b.call(e,"__wrapped__"),P=$&&b.call(t,"__wrapped__");if(M||P){var k=M?e.value():e,A=P?t.value():t;return m||(m=new o),y(k,A,n,r,m)}}return!!w&&(m||(m=new o),u(e,t,n,r,y,m))}var o=n(28),i=n(60),a=n(145),u=n(146),c=n(64),s=n(1),f=n(44),l=n(73),p=1,d="[object Arguments]",h="[object Array]",v="[object Object]",y=Object.prototype,b=y.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n,r){var c=n.length,s=c,f=!r;if(null==e)return!s;for(e=Object(e);c--;){var l=n[c];if(f&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++c<s;){l=n[c];var p=l[0],d=e[p],h=l[1];if(f&&l[2]){if(void 0===d&&!(p in e))return!1}else{var v=new o;if(r)var y=r(d,h,p,e,t,v);if(!(void 0===y?i(h,d,a|u,r,v):y))return!1}}return!0}var o=n(28),i=n(57),a=1,u=2;e.exports=r},function(e,t,n){function r(e){return!(!a(e)||i(e))&&(o(e)?h:s).test(u(e))}var o=n(72),i=n(162),a=n(8),u=n(70),c=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,f=Function.prototype,l=Object.prototype,p=f.toString,d=l.hasOwnProperty,h=RegExp("^"+p.call(d).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){return a(e)&&i(e.length)&&!!u[o(e)]}var o=n(11),i=n(45),a=n(14),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,e.exports=r},function(e,t,n){function r(e){if(!o(e))return i(e);var t=[];for(var n in Object(e))u.call(e,n)&&"constructor"!=n&&t.push(n);return t}var o=n(39),i=n(174),a=Object.prototype,u=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){if(!o(e))return a(e);var t=i(e),n=[];for(var r in e)("constructor"!=r||!t&&c.call(e,r))&&n.push(r);return n}var o=n(8),i=n(39),a=n(175),u=Object.prototype,c=u.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||o(n,e,t)}}var o=n(112),i=n(148),a=n(67);e.exports=r},function(e,t,n){function r(e,t){return u(e)&&c(t)?s(f(e),t):function(n){var r=i(n,e);return void 0===r&&r===t?a(n,e):o(t,r,l|p)}}var o=n(57),i=n(192),a=n(193),u=n(38),c=n(65),s=n(67),f=n(13),l=1,p=2;e.exports=r},function(e,t,n){function r(e,t,n){for(var r=-1,u=t.length,c={};++r<u;){var s=t[r],f=o(e,s);n(f,s)&&i(c,a(s,e),f)}return c}var o=n(22),i=n(122),a=n(12);e.exports=r},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function r(e){return function(t){return o(t,e)}}var o=n(22);e.exports=r},function(e,t,n){function r(e,t,n,r){if(!u(e))return e;t=i(t,e);for(var s=-1,f=t.length,l=f-1,p=e;null!=p&&++s<f;){var d=c(t[s]),h=n;if(s!=l){var v=p[d];h=r?r(v,d,p):void 0,void 0===h&&(h=u(v)?v:a(t[s+1])?[]:{})}o(p,d,h),p=p[d]}return e}var o=n(31),i=n(12),a=n(37),u=n(8),c=n(13);e.exports=r},function(e,t,n){var r=n(190),o=n(59),i=n(41),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},function(e,t){function n(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t,n){function r(e){if("string"==typeof e)return e;if(a(e))return i(e,r)+"";if(u(e))return f?f.call(e):"";var t=e+"";return"0"==t&&1/e==-c?"-0":t}var o=n(10),i=n(29),a=n(1),u=n(46),c=1/0,s=o?o.prototype:void 0,f=s?s.toString:void 0;e.exports=r},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){function r(e,t){return t=o(t,e),null==(e=a(e,t))||delete e[u(i(t))]}var o=n(12),i=n(195),a=n(179),u=n(13);e.exports=r},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){function r(e){return"function"==typeof e?e:o}var o=n(41);e.exports=r},function(e,t,n){(function(e){function r(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}var o=n(3),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,u=a&&a.exports===i,c=u?o.Buffer:void 0,s=c?c.allocUnsafe:void 0;e.exports=r}).call(t,n(47)(e))},function(e,t,n){function r(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var o=n(33);e.exports=r},function(e,t,n){function r(e,t,n){var r=t?n(a(e),u):a(e);return i(r,o,new e.constructor)}var o=n(98),i=n(53),a=n(66),u=1;e.exports=r},function(e,t){function n(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}var r=/\w*$/;e.exports=n},function(e,t,n){function r(e,t,n){var r=t?n(a(e),u):a(e);return i(r,o,new e.constructor)}var o=n(99),i=n(53),a=n(69),u=1;e.exports=r},function(e,t,n){function r(e){return a?Object(a.call(e)):{}}var o=n(10),i=o?o.prototype:void 0,a=i?i.valueOf:void 0;e.exports=r},function(e,t,n){function r(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var o=n(33);e.exports=r},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t,n){function r(e,t){return o(e,i(e),t)}var o=n(16),i=n(36);e.exports=r},function(e,t,n){function r(e,t){return o(e,i(e),t)}var o=n(16),i=n(63);e.exports=r},function(e,t,n){var r=n(3),o=r["__core-js_shared__"];e.exports=o},function(e,t,n){function r(e,t){return function(n,r){if(null==n)return n;if(!o(n))return e(n,r);for(var i=n.length,a=t?i:-1,u=Object(n);(t?a--:++a<i)&&!1!==r(u[a],a,u););return n}}var o=n(43);e.exports=r},function(e,t){function n(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),u=a.length;u--;){var c=a[e?u:++o];if(!1===n(i[c],c,i))break}return t}}e.exports=n},function(e,t,n){function r(e){return o(e)?void 0:e}var o=n(194);e.exports=r},function(e,t,n){function r(e,t,n,r,o,O,w){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!O(new i(e),new i(t)));case p:case d:case y:return a(+e,+t);case h:return e.name==t.name&&e.message==t.message;case b:case g:return e==t+"";case v:var M=c;case m:var P=r&f;if(M||(M=s),e.size!=t.size&&!P)return!1;var k=w.get(e);if(k)return k==t;r|=l,w.set(e,t);var A=u(M(e),M(t),r,o,O,w);return w.delete(e),A;case j:if($)return $.call(e)==$.call(t)}return!1}var o=n(10),i=n(50),a=n(40),u=n(60),c=n(66),s=n(69),f=1,l=2,p="[object Boolean]",d="[object Date]",h="[object Error]",v="[object Map]",y="[object Number]",b="[object RegExp]",m="[object Set]",g="[object String]",j="[object Symbol]",_="[object ArrayBuffer]",x="[object DataView]",O=o?o.prototype:void 0,$=O?O.valueOf:void 0;e.exports=r},function(e,t,n){function r(e,t,n,r,a,c){var s=n&i,f=o(e),l=f.length;if(l!=o(t).length&&!s)return!1;for(var p=l;p--;){var d=f[p];if(!(s?d in t:u.call(t,d)))return!1}var h=c.get(e);if(h&&c.get(t))return h==t;var v=!0;c.set(e,t),c.set(t,e);for(var y=s;++p<l;){d=f[p];var b=e[d],m=t[d];if(r)var g=s?r(m,b,d,t,e,c):r(b,m,d,e,t,c);if(!(void 0===g?b===m||a(b,m,n,r,c):g)){v=!1;break}y||(y="constructor"==d)}if(v&&!y){var j=e.constructor,_=t.constructor;j!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof j&&j instanceof j&&"function"==typeof _&&_ instanceof _)&&(v=!1)}return c.delete(e),c.delete(t),v}var o=n(62),i=1,a=Object.prototype,u=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){return a(i(e,void 0,o),e+"")}var o=n(191),i=n(178),a=n(182);e.exports=r},function(e,t,n){function r(e){for(var t=i(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,o(a)]}return t}var o=n(65),i=n(17);e.exports=r},function(e,t,n){function r(e){var t=a.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var o=u.call(e);return r&&(t?e[c]=n:delete e[c]),o}var o=n(10),i=Object.prototype,a=i.hasOwnProperty,u=i.toString,c=o?o.toStringTag:void 0;e.exports=r},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function r(e,t,n){t=o(t,e);for(var r=-1,f=t.length,l=!1;++r<f;){var p=s(t[r]);if(!(l=null!=e&&n(e,p)))break;e=e[p]}return l||++r!=f?l:!!(f=null==e?0:e.length)&&c(f)&&u(p,f)&&(a(e)||i(e))}var o=n(12),i=n(42),a=n(1),u=n(37),c=n(45),s=n(13);e.exports=r},function(e,t,n){function r(){this.__data__=o?o(null):{},this.size=0}var o=n(24);e.exports=r},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(o){var n=t[e];return n===i?void 0:n}return u.call(t,e)?t[e]:void 0}var o=n(24),i="__lodash_hash_undefined__",a=Object.prototype,u=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return o?void 0!==t[e]:a.call(t,e)}var o=n(24),i=Object.prototype,a=i.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?i:t,this}var o=n(24),i="__lodash_hash_undefined__";e.exports=r},function(e,t){function n(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&o.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var r=Object.prototype,o=r.hasOwnProperty;e.exports=n},function(e,t,n){function r(e,t,n,r){var C=e.constructor;switch(t){case g:return o(e);case l:case p:return new C(+e);case j:return i(e,r);case _:case x:case O:case $:case w:case M:case P:case k:case A:return f(e,r);case d:return a(e,r,n);case h:case b:return new C(e);case v:return u(e);case y:return c(e,r,n);case m:return s(e)}}var o=n(33),i=n(132),a=n(133),u=n(134),c=n(135),s=n(136),f=n(137),l="[object Boolean]",p="[object Date]",d="[object Map]",h="[object Number]",v="[object RegExp]",y="[object Set]",b="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",j="[object DataView]",_="[object Float32Array]",x="[object Float64Array]",O="[object Int8Array]",$="[object Int16Array]",w="[object Int32Array]",M="[object Uint8Array]",P="[object Uint8ClampedArray]",k="[object Uint16Array]",A="[object Uint32Array]";e.exports=r},function(e,t,n){function r(e){return"function"!=typeof e.constructor||a(e)?{}:o(i(e))}var o=n(105),i=n(35),a=n(39);e.exports=r},function(e,t,n){function r(e){return a(e)||i(e)||!!(u&&e&&e[u])}var o=n(10),i=n(42),a=n(1),u=o?o.isConcatSpreadable:void 0;e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function r(e){return!!i&&i in e}var o=n(141),i=function(){var e=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=o(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}var o=n(21),i=Array.prototype,a=i.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]}var o=n(21);e.exports=r},function(e,t,n){function r(e){return o(this.__data__,e)>-1}var o=n(21);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var o=n(21);e.exports=r},function(e,t,n){function r(){this.size=0,this.__data__={hash:new o,map:new(a||i),string:new o}}var o=n(93),i=n(20),a=n(26);e.exports=r},function(e,t,n){function r(e){var t=o(this,e).delete(e);return this.size-=t?1:0,t}var o=n(23);e.exports=r},function(e,t,n){function r(e){return o(this,e).get(e)}var o=n(23);e.exports=r},function(e,t,n){function r(e){return o(this,e).has(e)}var o=n(23);e.exports=r},function(e,t,n){function r(e,t){var n=o(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var o=n(23);e.exports=r},function(e,t,n){function r(e){var t=o(e,function(e){return n.size===i&&n.clear(),e}),n=t.cache;return t}var o=n(196),i=500;e.exports=r},function(e,t,n){var r=n(68),o=r(Object.keys,Object);e.exports=o},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t,n){(function(e){var r=n(61),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o,u=a&&r.process,c=function(){try{return u&&u.binding&&u.binding("util")}catch(e){}}();e.exports=c}).call(t,n(47)(e))},function(e,t){function n(e){return o.call(e)}var r=Object.prototype,o=r.toString;e.exports=n},function(e,t,n){function r(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,u=i(r.length-t,0),c=Array(u);++a<u;)c[a]=r[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=r[a];return s[t]=n(c),o(e,this,s)}}var o=n(100),i=Math.max;e.exports=r},function(e,t,n){function r(e,t){return t.length<2?e:o(e,i(t,0,-1))}var o=n(22),i=n(124);e.exports=r},function(e,t){function n(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){var r=n(123),o=n(183),i=o(r);e.exports=i},function(e,t){function n(e){var t=0,n=0;return function(){var a=i(),u=o-(a-n);if(n=a,u>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r=800,o=16,i=Date.now;e.exports=n},function(e,t,n){function r(){this.__data__=new o,this.size=0}var o=n(20);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof o){var r=n.__data__;if(!i||r.length<u-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(e,t),this.size=n.size,this}var o=n(20),i=n(26),a=n(27),u=200;e.exports=r},function(e,t,n){var r=n(173),o=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,u=r(function(e){var t=[];return o.test(e)&&t.push(""),e.replace(i,function(e,n,r,o){t.push(r?o.replace(a,"$1"):n||e)}),t});e.exports=u},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t,n){function r(e){return(null==e?0:e.length)?o(e,1):[]}var o=n(107);e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?void 0:o(e,t);return void 0===r?n:r}var o=n(22);e.exports=r},function(e,t,n){function r(e,t){return null!=e&&i(e,t,o)}var o=n(109),i=n(151);e.exports=r},function(e,t,n){function r(e){if(!a(e)||o(e)!=u)return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&f.call(n)==p}var o=n(11),i=n(35),a=n(14),u="[object Object]",c=Function.prototype,s=Object.prototype,f=c.toString,l=s.hasOwnProperty,p=f.call(Object);e.exports=r},function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},function(e,t,n){function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(r.Cache||o),n}var o=n(27),i="Expected a function";r.Cache=o,e.exports=r},function(e,t,n){function r(e,t){if(null==e)return{};var n=o(u(e),function(e){return[e]});return t=i(t),a(e,n,function(e,n){return t(e,n[0])})}var o=n(29),i=n(58),a=n(119),u=n(34);e.exports=r},function(e,t,n){function r(e){return a(e)?o(u(e)):i(e)}var o=n(120),i=n(121),a=n(38),u=n(13);e.exports=r},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e){return null==e?"":o(e)}var o=n(126);e.exports=r},function(e,t,n){var r=n(18)(n(79),n(209),null,null);e.exports=r.exports},function(e,t,n){var r=n(18)(n(82),n(210),null,null);e.exports=r.exports},function(e,t,n){n(211);var r=n(18)(n(83),n(207),null,null);e.exports=r.exports},function(e,t,n){var r=n(18)(n(85),n(206),null,null);e.exports=r.exports},function(e,t,n){n(212);var r=n(18)(n(89),n(208),null,null);e.exports=r.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",[n("span",{domProps:{textContent:e._s(e.label)}}),e._v(" "),n("input",{ref:"input",class:e.className,attrs:{type:"text",placeholder:e.placeholder}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-map-container"},[n("div",{ref:"vue-map",staticClass:"vue-map"}),e._v(" "),n("div",{staticClass:"vue-map-hidden"},[e._t("default")],2),e._v(" "),e._t("visible")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-street-view-pano-container"},[n("div",{ref:"vue-street-view-pano",staticClass:"vue-street-view-pano"}),e._v(" "),e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{ref:"input",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.value}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"flyaway"},[e._t("default")],2)])},staticRenderFns:[]}},function(e,t,n){var r=n(90);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(77)("53b172f2",r,!0)},function(e,t,n){var r=n(91);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(77)("0a904a72",r,!0)},function(e,t){e.exports=function(e,t){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=i[0],u=i[1],c=i[2],s=i[3],f={id:e+":"+o,css:u,media:c,sourceMap:s};r[a]?r[a].parts.push(f):n.push(r[a]={id:a,parts:[f]})}return n}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(t,n){t.exports=e},function(e,t,n){e.exports=n(78)}])});

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/temp-dependencies/vMask.js

sms.addModule('assets/js/cp-components-common/temp-dependencies/vMask.js', {"path":""}, (require,exports,module)=>{
"use strict";

/**
 * Format function
 * @param {String} data String to mask (input value)
 * @param {String} mask Mask format, like `####-##`
 * @returns {string} Formatted text
 */
function format (data, mask){
    if (!mask) return data;

    var text = '';
    for (var i = 0, x = 1; x && i < mask.length; ++i) {
        var c = data.charAt(i);
        var m = mask.charAt(i);

        if (data.length == 1 && i == 0 && i + 1 < mask.length && /^((?!(#|A|N|X)).)*/.test(m)) {
            text += m;
            m = mask.charAt(i + 1);
        }

        switch (m) {
            case '#' : if (/\d/.test(c))        {text += c;} else {x = 0;} break;
            case 'A' : if (/[a-z]/i.test(c))    {text += c;} else {x = 0;} break;
            case 'N' : if (/[a-z0-9]/i.test(c)) {text += c;} else {x = 0;} break;
            case 'X' : text += c; break;
            default  : text += m; break;
        }
  }
  return text;
}

/**
 * Vue plugin definition
 * @param {Vue} Vue
 */
module.exports.install = function (Vue) {
  Vue.directive('mask', {
    params: ['format'],
    bind  : function () {
      /**
       * Fires on input change
       */
      this.handler = function () {
        var value     = this.el.value;
        var mask      = this.params.format;
        var new_value = value;

        if (this.previous.length < value.length) {
          new_value = format(value, mask);
        }

        this.el.value = new_value;
        this.previous = new_value;

      }.bind(this);

      this.previous = '';

      this.el.addEventListener('input', this.handler, false);
      this.handler();
    },
    unbind: function () {
      this.el.removeEventListener('input', this.handler, false)
    }
  });
};

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/custom-plugins/settings.js

sms.addModule('assets/js/custom-plugins/settings.js', {"path":""}, (require,exports,module)=>{
module.exports = {
  install (Vue) {
    // retrieve settings from rendered page
    Vue.cpNewSettings = JSON.parse(document.querySelector('#new-global-settings').getAttribute('content'))
    // method to allow global access to a setting by key
    Vue.prototype.$getGlobal = key => Vue.cpNewSettings[key] || { show: false, value: '' }
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/custom-plugins/toast/index.js

sms.addModule('assets/js/custom-plugins/toast/index.js', {"path":""}, (require,exports,module)=>{
const EasyToastVue = require('./CpEasyToast.vue')

module.exports = {
  install (Vue, options) {
    const CONSTRUCTOR = Vue.extend(EasyToastVue)
    const CACHE = {}
    function toast (msg, options = {}) {
      options.message = msg
      let toast = CACHE[options.id] || (CACHE[options.id] = new CONSTRUCTOR())
      if (!toast.$el) {
        let vm = toast.$mount()
        document.querySelector(options.parent || 'body').appendChild(vm.$el)
      }
      toast.queue.push(options)
    }
    Vue.toast = Vue.prototype.$toast = toast
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/libraries/step.js

sms.addModule('assets/js/libraries/step.js', {"path":""}, (require,exports,module)=>{
/*
* import Step form 'path'
* Step.init({ one: true, two: false, three: false }, 3000)
* first argument is the steps, and the default step is set to true
* second argument is a timeout by miliseconds to delay the changing of steps ( for css transitions )
*/
module.exports = {
  steps: {},
  totalSteps: 0,
  timeOut: 0,
  // set the steps object (all should contain boolean values, only one set to true)
  init (steps, timeOut = 0) {
    this.steps = steps
    this.totalSteps = Object.keys(steps).length
    this.timeOut = timeOut
  },
  get (key) {
    return this.steps[key]
  },
  // go to the step before the currently active step
  previous () {
    var previousStep = ''
    for (let key in this.steps) {
      if (this.steps[key] === true) {
        this.steps[key] = false
        this.steps[previousStep] = true
        return
      }
      previousStep = key
    }
  },
  // go to the next step after the currently active step
  next () {
    var next = false
    var previous = ''
    var count = 0
    var $this = this
    for (let key in this.steps) {
      count = count + 1
      if (next) {
        this.steps[previous] = false
        setTimeout(function () {
          $this.steps[key] = true
        }, $this.timeOut)
        return
      }
      if (this.steps[key] === true) {
        previous = key
        next = true
        if (count === this.totalSteps) {
          this.steps[key] = false
          setTimeout(function () {
            $this.steps[Object.keys($this.steps)[0]] = true
          }, $this.timeOut)
        }
      }
    }
  },
  // skip to a specific step
  skipTo (step) {
    for (let key in this.steps) {
      if (key === step) {
        this.steps[key] = true
      } else {
        this.steps[key] = false
      }
    }
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/helpers.js

sms.addModule('assets/js/helpers.js', {"path":""}, (require,exports,module)=>{
// bulk action checkboxes
function checkbox() {
    var checked = false;
    $('.bulk-check').each(function() {
        if ($(this).is(":checked"))
            checked = true;
    });
    if (checked == true) $('.applyAction').removeAttr('disabled');
    else $('.applyAction').attr('disabled', 'disabled');

};

//find any variables in the current url
function getUrlVariables(variable)
{
    var query = window.location.search.substring(1);
    var vars = query.split("&");
    for (var i=0;i<vars.length;i++) {
        var pair = vars[i].split("=");
        if(pair[0] == variable){return pair[1];}
    }
    return(false);
}

String.prototype.capitalize = function(){
     return this.toLowerCase().replace( /\b\w/g, function (m) {
         return m.toUpperCase();
     });
 };

 //puts cursor to end of pre-filled input
function moveCursorToEnd(input) {
    "use strict";
    var index = input.value.length;
    input.focus();
    input.setSelectionRange(index, index);
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/dropzone.js

sms.addModule('assets/js/dropzone.js', {"path":""}, (require,exports,module)=>{

/*
 *
 * More info at [www.dropzonejs.com](http://www.dropzonejs.com)
 *
 * Copyright (c) 2012, Matias Meno
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */

(function() {
  var Dropzone, Emitter, camelize, contentLoaded, detectVerticalSquash, drawImageIOSFix, noop, without,
    __slice = [].slice,
    __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  noop = function() {};

  Emitter = (function() {
    function Emitter() {}

    Emitter.prototype.addEventListener = Emitter.prototype.on;

    Emitter.prototype.on = function(event, fn) {
      this._callbacks = this._callbacks || {};
      if (!this._callbacks[event]) {
        this._callbacks[event] = [];
      }
      this._callbacks[event].push(fn);
      return this;
    };

    Emitter.prototype.emit = function() {
      var args, callback, callbacks, event, _i, _len;
      event = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
      this._callbacks = this._callbacks || {};
      callbacks = this._callbacks[event];
      if (callbacks) {
        for (_i = 0, _len = callbacks.length; _i < _len; _i++) {
          callback = callbacks[_i];
          callback.apply(this, args);
        }
      }
      return this;
    };

    Emitter.prototype.removeListener = Emitter.prototype.off;

    Emitter.prototype.removeAllListeners = Emitter.prototype.off;

    Emitter.prototype.removeEventListener = Emitter.prototype.off;

    Emitter.prototype.off = function(event, fn) {
      var callback, callbacks, i, _i, _len;
      if (!this._callbacks || arguments.length === 0) {
        this._callbacks = {};
        return this;
      }
      callbacks = this._callbacks[event];
      if (!callbacks) {
        return this;
      }
      if (arguments.length === 1) {
        delete this._callbacks[event];
        return this;
      }
      for (i = _i = 0, _len = callbacks.length; _i < _len; i = ++_i) {
        callback = callbacks[i];
        if (callback === fn) {
          callbacks.splice(i, 1);
          break;
        }
      }
      return this;
    };

    return Emitter;

  })();

  Dropzone = (function(_super) {
    var extend, resolveOption;

    __extends(Dropzone, _super);

    Dropzone.prototype.Emitter = Emitter;


    /*
    This is a list of all available events you can register on a dropzone object.

    You can register an event handler like this:

        dropzone.on("dragEnter", function() { });
     */

    Dropzone.prototype.events = ["drop", "dragstart", "dragend", "dragenter", "dragover", "dragleave", "addedfile", "addedfiles", "removedfile", "thumbnail", "error", "errormultiple", "processing", "processingmultiple", "uploadprogress", "totaluploadprogress", "sending", "sendingmultiple", "success", "successmultiple", "canceled", "canceledmultiple", "complete", "completemultiple", "reset", "maxfilesexceeded", "maxfilesreached", "queuecomplete"];

    Dropzone.prototype.defaultOptions = {
      url: null,
      method: "post",
      withCredentials: false,
      parallelUploads: 2,
      uploadMultiple: false,
      maxFilesize: 256,
      paramName: "file",
      createImageThumbnails: true,
      maxThumbnailFilesize: 10,
      thumbnailWidth: 120,
      thumbnailHeight: 120,
      filesizeBase: 1000,
      maxFiles: null,
      params: {},
      clickable: true,
      ignoreHiddenFiles: true,
      acceptedFiles: null,
      acceptedMimeTypes: null,
      autoProcessQueue: true,
      autoQueue: true,
      addRemoveLinks: false,
      previewsContainer: null,
      hiddenInputContainer: "body",
      capture: null,
      renameFilename: null,
      dictDefaultMessage: "Drop files here to upload",
      dictFallbackMessage: "Your browser does not support drag'n'drop file uploads.",
      dictFallbackText: "Please use the fallback form below to upload your files like in the olden days.",
      dictFileTooBig: "File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",
      dictInvalidFileType: "You can't upload files of this type.",
      dictResponseError: "Server responded with {{statusCode}} code.",
      dictCancelUpload: "Cancel upload",
      dictCancelUploadConfirmation: "Are you sure you want to cancel this upload?",
      dictRemoveFile: "Remove file",
      dictRemoveFileConfirmation: null,
      dictMaxFilesExceeded: "You can not upload any more files.",
      accept: function(file, done) {
        return done();
      },
      init: function() {
        return noop;
      },
      forceFallback: false,
      fallback: function() {
        var child, messageElement, span, _i, _len, _ref;
        this.element.className = "" + this.element.className + " dz-browser-not-supported";
        _ref = this.element.getElementsByTagName("div");
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          child = _ref[_i];
          if (/(^| )dz-message($| )/.test(child.className)) {
            messageElement = child;
            child.className = "dz-message";
            continue;
          }
        }
        if (!messageElement) {
          messageElement = Dropzone.createElement("<div class=\"dz-message\"><span></span></div>");
          this.element.appendChild(messageElement);
        }
        span = messageElement.getElementsByTagName("span")[0];
        if (span) {
          if (span.textContent != null) {
            span.textContent = this.options.dictFallbackMessage;
          } else if (span.innerText != null) {
            span.innerText = this.options.dictFallbackMessage;
          }
        }
        return this.element.appendChild(this.getFallbackForm());
      },
      resize: function(file) {
        var info, srcRatio, trgRatio;
        info = {
          srcX: 0,
          srcY: 0,
          srcWidth: file.width,
          srcHeight: file.height
        };
        srcRatio = file.width / file.height;
        info.optWidth = this.options.thumbnailWidth;
        info.optHeight = this.options.thumbnailHeight;
        if ((info.optWidth == null) && (info.optHeight == null)) {
          info.optWidth = info.srcWidth;
          info.optHeight = info.srcHeight;
        } else if (info.optWidth == null) {
          info.optWidth = srcRatio * info.optHeight;
        } else if (info.optHeight == null) {
          info.optHeight = (1 / srcRatio) * info.optWidth;
        }
        trgRatio = info.optWidth / info.optHeight;
        if (file.height < info.optHeight || file.width < info.optWidth) {
          info.trgHeight = info.srcHeight;
          info.trgWidth = info.srcWidth;
        } else {
          if (srcRatio > trgRatio) {
            info.srcHeight = file.height;
            info.srcWidth = info.srcHeight * trgRatio;
          } else {
            info.srcWidth = file.width;
            info.srcHeight = info.srcWidth / trgRatio;
          }
        }
        info.srcX = (file.width - info.srcWidth) / 2;
        info.srcY = (file.height - info.srcHeight) / 2;
        return info;
      },

      /*
      Those functions register themselves to the events on init and handle all
      the user interface specific stuff. Overwriting them won't break the upload
      but can break the way it's displayed.
      You can overwrite them if you don't like the default behavior. If you just
      want to add an additional event handler, register it on the dropzone object
      and don't overwrite those options.
       */
      drop: function(e) {
        return this.element.classList.remove("dz-drag-hover");
      },
      dragstart: noop,
      dragend: function(e) {
        return this.element.classList.remove("dz-drag-hover");
      },
      dragenter: function(e) {
        return this.element.classList.add("dz-drag-hover");
      },
      dragover: function(e) {
        return this.element.classList.add("dz-drag-hover");
      },
      dragleave: function(e) {
        return this.element.classList.remove("dz-drag-hover");
      },
      paste: noop,
      reset: function() {
        return this.element.classList.remove("dz-started");
      },
      addedfile: function(file) {
        var node, removeFileEvent, removeLink, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2, _results;
        if (this.element === this.previewsContainer) {
          this.element.classList.add("dz-started");
        }
        if (this.previewsContainer) {
          file.previewElement = Dropzone.createElement(this.options.previewTemplate.trim());
          file.previewTemplate = file.previewElement;
          this.previewsContainer.appendChild(file.previewElement);
          _ref = file.previewElement.querySelectorAll("[data-dz-name]");
          for (_i = 0, _len = _ref.length; _i < _len; _i++) {
            node = _ref[_i];
            node.textContent = this._renameFilename(file.name);
          }
          _ref1 = file.previewElement.querySelectorAll("[data-dz-size]");
          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
            node = _ref1[_j];
            node.innerHTML = this.filesize(file.size);
          }
          if (this.options.addRemoveLinks) {
            file._removeLink = Dropzone.createElement("<a class=\"dz-remove\" href=\"javascript:undefined;\" data-dz-remove>" + this.options.dictRemoveFile + "</a>");
            file.previewElement.appendChild(file._removeLink);
          }
          removeFileEvent = (function(_this) {
            return function(e) {
              e.preventDefault();
              e.stopPropagation();
              if (file.status === Dropzone.UPLOADING) {
                return Dropzone.confirm(_this.options.dictCancelUploadConfirmation, function() {
                  return _this.removeFile(file);
                });
              } else {
                if (_this.options.dictRemoveFileConfirmation) {
                  return Dropzone.confirm(_this.options.dictRemoveFileConfirmation, function() {
                    return _this.removeFile(file);
                  });
                } else {
                  return _this.removeFile(file);
                }
              }
            };
          })(this);
          _ref2 = file.previewElement.querySelectorAll("[data-dz-remove]");
          _results = [];
          for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {
            removeLink = _ref2[_k];
            _results.push(removeLink.addEventListener("click", removeFileEvent));
          }
          return _results;
        }
      },
      removedfile: function(file) {
        var _ref;
        if (file.previewElement) {
          if ((_ref = file.previewElement) != null) {
            _ref.parentNode.removeChild(file.previewElement);
          }
        }
        return this._updateMaxFilesReachedClass();
      },
      thumbnail: function(file, dataUrl) {
        var thumbnailElement, _i, _len, _ref;
        if (file.previewElement) {
          file.previewElement.classList.remove("dz-file-preview");
          _ref = file.previewElement.querySelectorAll("[data-dz-thumbnail]");
          for (_i = 0, _len = _ref.length; _i < _len; _i++) {
            thumbnailElement = _ref[_i];
            thumbnailElement.alt = file.name;
            thumbnailElement.src = dataUrl;
          }
          return setTimeout(((function(_this) {
            return function() {
              return file.previewElement.classList.add("dz-image-preview");
            };
          })(this)), 1);
        }
      },
      error: function(file, message) {
        var node, _i, _len, _ref, _results;
        if (file.previewElement) {
          file.previewElement.classList.add("dz-error");
          if (typeof message !== "String" && message.error) {
            message = message.error;
          }
          _ref = file.previewElement.querySelectorAll("[data-dz-errormessage]");
          _results = [];
          for (_i = 0, _len = _ref.length; _i < _len; _i++) {
            node = _ref[_i];
            _results.push(node.textContent = message);
          }
          return _results;
        }
      },
      errormultiple: noop,
      processing: function(file) {
        if (file.previewElement) {
          file.previewElement.classList.add("dz-processing");
          if (file._removeLink) {
            return file._removeLink.textContent = this.options.dictCancelUpload;
          }
        }
      },
      processingmultiple: noop,
      uploadprogress: function(file, progress, bytesSent) {
        var node, _i, _len, _ref, _results;
        if (file.previewElement) {
          _ref = file.previewElement.querySelectorAll("[data-dz-uploadprogress]");
          _results = [];
          for (_i = 0, _len = _ref.length; _i < _len; _i++) {
            node = _ref[_i];
            if (node.nodeName === 'PROGRESS') {
              _results.push(node.value = progress);
            } else {
              _results.push(node.style.width = "" + progress + "%");
            }
          }
          return _results;
        }
      },
      totaluploadprogress: noop,
      sending: noop,
      sendingmultiple: noop,
      success: function(file) {
        if (file.previewElement) {
          return file.previewElement.classList.add("dz-success");
        }
      },
      successmultiple: noop,
      canceled: function(file) {
        return this.emit("error", file, "Upload canceled.");
      },
      canceledmultiple: noop,
      complete: function(file) {
        if (file._removeLink) {
          file._removeLink.textContent = this.options.dictRemoveFile;
        }
        if (file.previewElement) {
          return file.previewElement.classList.add("dz-complete");
        }
      },
      completemultiple: noop,
      maxfilesexceeded: noop,
      maxfilesreached: noop,
      queuecomplete: noop,
      addedfiles: noop,
      previewTemplate: "<div class=\"dz-preview dz-file-preview\">\n  <div class=\"dz-image\"><img data-dz-thumbnail /></div>\n  <div class=\"dz-details\">\n    <div class=\"dz-size\"><span data-dz-size></span></div>\n    <div class=\"dz-filename\"><span data-dz-name></span></div>\n  </div>\n  <div class=\"dz-progress\"><span class=\"dz-upload\" data-dz-uploadprogress></span></div>\n  <div class=\"dz-error-message\"><span data-dz-errormessage></span></div>\n  <div class=\"dz-success-mark\">\n    <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\n      <title>Check</title>\n      <defs></defs>\n      <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\n        <path d=\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" stroke-opacity=\"0.198794158\" stroke=\"#747474\" fill-opacity=\"0.816519475\" fill=\"#FFFFFF\" sketch:type=\"MSShapeGroup\"></path>\n      </g>\n    </svg>\n  </div>\n  <div class=\"dz-error-mark\">\n    <svg width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\n      <title>Error</title>\n      <defs></defs>\n      <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\n        <g id=\"Check-+-Oval-2\" sketch:type=\"MSLayerGroup\" stroke=\"#747474\" stroke-opacity=\"0.198794158\" fill=\"#FFFFFF\" fill-opacity=\"0.816519475\">\n          <path d=\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\" id=\"Oval-2\" sketch:type=\"MSShapeGroup\"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>"
    };

    extend = function() {
      var key, object, objects, target, val, _i, _len;
      target = arguments[0], objects = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
      for (_i = 0, _len = objects.length; _i < _len; _i++) {
        object = objects[_i];
        for (key in object) {
          val = object[key];
          target[key] = val;
        }
      }
      return target;
    };

    function Dropzone(element, options) {
      var elementOptions, fallback, _ref;
      this.element = element;
      this.version = Dropzone.version;
      this.defaultOptions.previewTemplate = this.defaultOptions.previewTemplate.replace(/\n*/g, "");
      this.clickableElements = [];
      this.listeners = [];
      this.files = [];
      if (typeof this.element === "string") {
        this.element = document.querySelector(this.element);
      }
      if (!(this.element && (this.element.nodeType != null))) {
        throw new Error("Invalid dropzone element.");
      }
      if (this.element.dropzone) {
        throw new Error("Dropzone already attached.");
      }
      Dropzone.instances.push(this);
      this.element.dropzone = this;
      elementOptions = (_ref = Dropzone.optionsForElement(this.element)) != null ? _ref : {};
      this.options = extend({}, this.defaultOptions, elementOptions, options != null ? options : {});
      if (this.options.forceFallback || !Dropzone.isBrowserSupported()) {
        return this.options.fallback.call(this);
      }
      if (this.options.url == null) {
        this.options.url = this.element.getAttribute("action");
      }
      if (!this.options.url) {
        throw new Error("No URL provided.");
      }
      if (this.options.acceptedFiles && this.options.acceptedMimeTypes) {
        throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");
      }
      if (this.options.acceptedMimeTypes) {
        this.options.acceptedFiles = this.options.acceptedMimeTypes;
        delete this.options.acceptedMimeTypes;
      }
      this.options.method = this.options.method.toUpperCase();
      if ((fallback = this.getExistingFallback()) && fallback.parentNode) {
        fallback.parentNode.removeChild(fallback);
      }
      if (this.options.previewsContainer !== false) {
        if (this.options.previewsContainer) {
          this.previewsContainer = Dropzone.getElement(this.options.previewsContainer, "previewsContainer");
        } else {
          this.previewsContainer = this.element;
        }
      }
      if (this.options.clickable) {
        if (this.options.clickable === true) {
          this.clickableElements = [this.element];
        } else {
          this.clickableElements = Dropzone.getElements(this.options.clickable, "clickable");
        }
      }
      this.init();
    }

    Dropzone.prototype.getAcceptedFiles = function() {
      var file, _i, _len, _ref, _results;
      _ref = this.files;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        file = _ref[_i];
        if (file.accepted) {
          _results.push(file);
        }
      }
      return _results;
    };

    Dropzone.prototype.getRejectedFiles = function() {
      var file, _i, _len, _ref, _results;
      _ref = this.files;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        file = _ref[_i];
        if (!file.accepted) {
          _results.push(file);
        }
      }
      return _results;
    };

    Dropzone.prototype.getFilesWithStatus = function(status) {
      var file, _i, _len, _ref, _results;
      _ref = this.files;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        file = _ref[_i];
        if (file.status === status) {
          _results.push(file);
        }
      }
      return _results;
    };

    Dropzone.prototype.getQueuedFiles = function() {
      return this.getFilesWithStatus(Dropzone.QUEUED);
    };

    Dropzone.prototype.getUploadingFiles = function() {
      return this.getFilesWithStatus(Dropzone.UPLOADING);
    };

    Dropzone.prototype.getAddedFiles = function() {
      return this.getFilesWithStatus(Dropzone.ADDED);
    };

    Dropzone.prototype.getActiveFiles = function() {
      var file, _i, _len, _ref, _results;
      _ref = this.files;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        file = _ref[_i];
        if (file.status === Dropzone.UPLOADING || file.status === Dropzone.QUEUED) {
          _results.push(file);
        }
      }
      return _results;
    };

    Dropzone.prototype.init = function() {
      var eventName, noPropagation, setupHiddenFileInput, _i, _len, _ref, _ref1;
      if (this.element.tagName === "form") {
        this.element.setAttribute("enctype", "multipart/form-data");
      }
      if (this.element.classList.contains("dropzone") && !this.element.querySelector(".dz-message")) {
        this.element.appendChild(Dropzone.createElement("<div class=\"dz-default dz-message\"><span>" + this.options.dictDefaultMessage + "</span></div>"));
      }
      if (this.clickableElements.length) {
        setupHiddenFileInput = (function(_this) {
          return function() {
            if (_this.hiddenFileInput) {
              _this.hiddenFileInput.parentNode.removeChild(_this.hiddenFileInput);
            }
            _this.hiddenFileInput = document.createElement("input");
            _this.hiddenFileInput.setAttribute("type", "file");
            if ((_this.options.maxFiles == null) || _this.options.maxFiles > 1) {
              _this.hiddenFileInput.setAttribute("multiple", "multiple");
            }
            _this.hiddenFileInput.className = "dz-hidden-input";
            if (_this.options.acceptedFiles != null) {
              _this.hiddenFileInput.setAttribute("accept", _this.options.acceptedFiles);
            }
            if (_this.options.capture != null) {
              _this.hiddenFileInput.setAttribute("capture", _this.options.capture);
            }
            _this.hiddenFileInput.style.visibility = "hidden";
            _this.hiddenFileInput.style.position = "absolute";
            _this.hiddenFileInput.style.top = "0";
            _this.hiddenFileInput.style.left = "0";
            _this.hiddenFileInput.style.height = "0";
            _this.hiddenFileInput.style.width = "0";
            document.querySelector(_this.options.hiddenInputContainer).appendChild(_this.hiddenFileInput);
            return _this.hiddenFileInput.addEventListener("change", function() {
              var file, files, _i, _len;
              files = _this.hiddenFileInput.files;
              if (files.length) {
                for (_i = 0, _len = files.length; _i < _len; _i++) {
                  file = files[_i];
                  _this.addFile(file);
                }
              }
              _this.emit("addedfiles", files);
              return setupHiddenFileInput();
            });
          };
        })(this);
        setupHiddenFileInput();
      }
      this.URL = (_ref = window.URL) != null ? _ref : window.webkitURL;
      _ref1 = this.events;
      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
        eventName = _ref1[_i];
        this.on(eventName, this.options[eventName]);
      }
      this.on("uploadprogress", (function(_this) {
        return function() {
          return _this.updateTotalUploadProgress();
        };
      })(this));
      this.on("removedfile", (function(_this) {
        return function() {
          return _this.updateTotalUploadProgress();
        };
      })(this));
      this.on("canceled", (function(_this) {
        return function(file) {
          return _this.emit("complete", file);
        };
      })(this));
      this.on("complete", (function(_this) {
        return function(file) {
          if (_this.getAddedFiles().length === 0 && _this.getUploadingFiles().length === 0 && _this.getQueuedFiles().length === 0) {
            return setTimeout((function() {
              return _this.emit("queuecomplete");
            }), 0);
          }
        };
      })(this));
      noPropagation = function(e) {
        e.stopPropagation();
        if (e.preventDefault) {
          return e.preventDefault();
        } else {
          return e.returnValue = false;
        }
      };
      this.listeners = [
        {
          element: this.element,
          events: {
            "dragstart": (function(_this) {
              return function(e) {
                return _this.emit("dragstart", e);
              };
            })(this),
            "dragenter": (function(_this) {
              return function(e) {
                noPropagation(e);
                return _this.emit("dragenter", e);
              };
            })(this),
            "dragover": (function(_this) {
              return function(e) {
                var efct;
                try {
                  efct = e.dataTransfer.effectAllowed;
                } catch (_error) {}
                e.dataTransfer.dropEffect = 'move' === efct || 'linkMove' === efct ? 'move' : 'copy';
                noPropagation(e);
                return _this.emit("dragover", e);
              };
            })(this),
            "dragleave": (function(_this) {
              return function(e) {
                return _this.emit("dragleave", e);
              };
            })(this),
            "drop": (function(_this) {
              return function(e) {
                noPropagation(e);
                return _this.drop(e);
              };
            })(this),
            "dragend": (function(_this) {
              return function(e) {
                return _this.emit("dragend", e);
              };
            })(this)
          }
        }
      ];
      this.clickableElements.forEach((function(_this) {
        return function(clickableElement) {
          return _this.listeners.push({
            element: clickableElement,
            events: {
              "click": function(evt) {
                if ((clickableElement !== _this.element) || (evt.target === _this.element || Dropzone.elementInside(evt.target, _this.element.querySelector(".dz-message")))) {
                  _this.hiddenFileInput.click();
                }
                return true;
              }
            }
          });
        };
      })(this));
      this.enable();
      return this.options.init.call(this);
    };

    Dropzone.prototype.destroy = function() {
      var _ref;
      this.disable();
      this.removeAllFiles(true);
      if ((_ref = this.hiddenFileInput) != null ? _ref.parentNode : void 0) {
        this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);
        this.hiddenFileInput = null;
      }
      delete this.element.dropzone;
      return Dropzone.instances.splice(Dropzone.instances.indexOf(this), 1);
    };

    Dropzone.prototype.updateTotalUploadProgress = function() {
      var activeFiles, file, totalBytes, totalBytesSent, totalUploadProgress, _i, _len, _ref;
      totalBytesSent = 0;
      totalBytes = 0;
      activeFiles = this.getActiveFiles();
      if (activeFiles.length) {
        _ref = this.getActiveFiles();
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          file = _ref[_i];
          totalBytesSent += file.upload.bytesSent;
          totalBytes += file.upload.total;
        }
        totalUploadProgress = 100 * totalBytesSent / totalBytes;
      } else {
        totalUploadProgress = 100;
      }
      return this.emit("totaluploadprogress", totalUploadProgress, totalBytes, totalBytesSent);
    };

    Dropzone.prototype._getParamName = function(n) {
      if (typeof this.options.paramName === "function") {
        return this.options.paramName(n);
      } else {
        return "" + this.options.paramName + (this.options.uploadMultiple ? "[" + n + "]" : "");
      }
    };

    Dropzone.prototype._renameFilename = function(name) {
      if (typeof this.options.renameFilename !== "function") {
        return name;
      }
      return this.options.renameFilename(name);
    };

    Dropzone.prototype.getFallbackForm = function() {
      var existingFallback, fields, fieldsString, form;
      if (existingFallback = this.getExistingFallback()) {
        return existingFallback;
      }
      fieldsString = "<div class=\"dz-fallback\">";
      if (this.options.dictFallbackText) {
        fieldsString += "<p>" + this.options.dictFallbackText + "</p>";
      }
      fieldsString += "<input type=\"file\" name=\"" + (this._getParamName(0)) + "\" " + (this.options.uploadMultiple ? 'multiple="multiple"' : void 0) + " /><input type=\"submit\" value=\"Upload!\"></div>";
      fields = Dropzone.createElement(fieldsString);
      if (this.element.tagName !== "FORM") {
        form = Dropzone.createElement("<form action=\"" + this.options.url + "\" enctype=\"multipart/form-data\" method=\"" + this.options.method + "\"></form>");
        form.appendChild(fields);
      } else {
        this.element.setAttribute("enctype", "multipart/form-data");
        this.element.setAttribute("method", this.options.method);
      }
      return form != null ? form : fields;
    };

    Dropzone.prototype.getExistingFallback = function() {
      var fallback, getFallback, tagName, _i, _len, _ref;
      getFallback = function(elements) {
        var el, _i, _len;
        for (_i = 0, _len = elements.length; _i < _len; _i++) {
          el = elements[_i];
          if (/(^| )fallback($| )/.test(el.className)) {
            return el;
          }
        }
      };
      _ref = ["div", "form"];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        tagName = _ref[_i];
        if (fallback = getFallback(this.element.getElementsByTagName(tagName))) {
          return fallback;
        }
      }
    };

    Dropzone.prototype.setupEventListeners = function() {
      var elementListeners, event, listener, _i, _len, _ref, _results;
      _ref = this.listeners;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        elementListeners = _ref[_i];
        _results.push((function() {
          var _ref1, _results1;
          _ref1 = elementListeners.events;
          _results1 = [];
          for (event in _ref1) {
            listener = _ref1[event];
            _results1.push(elementListeners.element.addEventListener(event, listener, false));
          }
          return _results1;
        })());
      }
      return _results;
    };

    Dropzone.prototype.removeEventListeners = function() {
      var elementListeners, event, listener, _i, _len, _ref, _results;
      _ref = this.listeners;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        elementListeners = _ref[_i];
        _results.push((function() {
          var _ref1, _results1;
          _ref1 = elementListeners.events;
          _results1 = [];
          for (event in _ref1) {
            listener = _ref1[event];
            _results1.push(elementListeners.element.removeEventListener(event, listener, false));
          }
          return _results1;
        })());
      }
      return _results;
    };

    Dropzone.prototype.disable = function() {
      var file, _i, _len, _ref, _results;
      this.clickableElements.forEach(function(element) {
        return element.classList.remove("dz-clickable");
      });
      this.removeEventListeners();
      _ref = this.files;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        file = _ref[_i];
        _results.push(this.cancelUpload(file));
      }
      return _results;
    };

    Dropzone.prototype.enable = function() {
      this.clickableElements.forEach(function(element) {
        return element.classList.add("dz-clickable");
      });
      return this.setupEventListeners();
    };

    Dropzone.prototype.filesize = function(size) {
      var cutoff, i, selectedSize, selectedUnit, unit, units, _i, _len;
      selectedSize = 0;
      selectedUnit = "b";
      if (size > 0) {
        units = ['TB', 'GB', 'MB', 'KB', 'b'];
        for (i = _i = 0, _len = units.length; _i < _len; i = ++_i) {
          unit = units[i];
          cutoff = Math.pow(this.options.filesizeBase, 4 - i) / 10;
          if (size >= cutoff) {
            selectedSize = size / Math.pow(this.options.filesizeBase, 4 - i);
            selectedUnit = unit;
            break;
          }
        }
        selectedSize = Math.round(10 * selectedSize) / 10;
      }
      return "<strong>" + selectedSize + "</strong> " + selectedUnit;
    };

    Dropzone.prototype._updateMaxFilesReachedClass = function() {
      if ((this.options.maxFiles != null) && this.getAcceptedFiles().length >= this.options.maxFiles) {
        if (this.getAcceptedFiles().length === this.options.maxFiles) {
          this.emit('maxfilesreached', this.files);
        }
        return this.element.classList.add("dz-max-files-reached");
      } else {
        return this.element.classList.remove("dz-max-files-reached");
      }
    };

    Dropzone.prototype.drop = function(e) {
      var files, items;
      if (!e.dataTransfer) {
        return;
      }
      this.emit("drop", e);
      files = e.dataTransfer.files;
      this.emit("addedfiles", files);
      if (files.length) {
        items = e.dataTransfer.items;
        if (items && items.length && (items[0].webkitGetAsEntry != null)) {
          this._addFilesFromItems(items);
        } else {
          this.handleFiles(files);
        }
      }
    };

    Dropzone.prototype.paste = function(e) {
      var items, _ref;
      if ((e != null ? (_ref = e.clipboardData) != null ? _ref.items : void 0 : void 0) == null) {
        return;
      }
      this.emit("paste", e);
      items = e.clipboardData.items;
      if (items.length) {
        return this._addFilesFromItems(items);
      }
    };

    Dropzone.prototype.handleFiles = function(files) {
      var file, _i, _len, _results;
      _results = [];
      for (_i = 0, _len = files.length; _i < _len; _i++) {
        file = files[_i];
        _results.push(this.addFile(file));
      }
      return _results;
    };

    Dropzone.prototype._addFilesFromItems = function(items) {
      var entry, item, _i, _len, _results;
      _results = [];
      for (_i = 0, _len = items.length; _i < _len; _i++) {
        item = items[_i];
        if ((item.webkitGetAsEntry != null) && (entry = item.webkitGetAsEntry())) {
          if (entry.isFile) {
            _results.push(this.addFile(item.getAsFile()));
          } else if (entry.isDirectory) {
            _results.push(this._addFilesFromDirectory(entry, entry.name));
          } else {
            _results.push(void 0);
          }
        } else if (item.getAsFile != null) {
          if ((item.kind == null) || item.kind === "file") {
            _results.push(this.addFile(item.getAsFile()));
          } else {
            _results.push(void 0);
          }
        } else {
          _results.push(void 0);
        }
      }
      return _results;
    };

    Dropzone.prototype._addFilesFromDirectory = function(directory, path) {
      var dirReader, errorHandler, readEntries;
      dirReader = directory.createReader();
      errorHandler = function(error) {
        return typeof console !== "undefined" && console !== null ? typeof console.log === "function" ? console.log(error) : void 0 : void 0;
      };
      readEntries = (function(_this) {
        return function() {
          return dirReader.readEntries(function(entries) {
            var entry, _i, _len;
            if (entries.length > 0) {
              for (_i = 0, _len = entries.length; _i < _len; _i++) {
                entry = entries[_i];
                if (entry.isFile) {
                  entry.file(function(file) {
                    if (_this.options.ignoreHiddenFiles && file.name.substring(0, 1) === '.') {
                      return;
                    }
                    file.fullPath = "" + path + "/" + file.name;
                    return _this.addFile(file);
                  });
                } else if (entry.isDirectory) {
                  _this._addFilesFromDirectory(entry, "" + path + "/" + entry.name);
                }
              }
              readEntries();
            }
            return null;
          }, errorHandler);
        };
      })(this);
      return readEntries();
    };

    Dropzone.prototype.accept = function(file, done) {
      if (file.size > this.options.maxFilesize * 1024 * 1024) {
        return done(this.options.dictFileTooBig.replace("{{filesize}}", Math.round(file.size / 1024 / 10.24) / 100).replace("{{maxFilesize}}", this.options.maxFilesize));
      } else if (!Dropzone.isValidFile(file, this.options.acceptedFiles)) {
        return done(this.options.dictInvalidFileType);
      } else if ((this.options.maxFiles != null) && this.getAcceptedFiles().length >= this.options.maxFiles) {
        done(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}", this.options.maxFiles));
        return this.emit("maxfilesexceeded", file);
      } else {
        return this.options.accept.call(this, file, done);
      }
    };

    Dropzone.prototype.addFile = function(file) {
      file.upload = {
        progress: 0,
        total: file.size,
        bytesSent: 0
      };
      this.files.push(file);
      file.status = Dropzone.ADDED;
      this.emit("addedfile", file);
      this._enqueueThumbnail(file);
      return this.accept(file, (function(_this) {
        return function(error) {
          if (error) {
            file.accepted = false;
            _this._errorProcessing([file], error);
          } else {
            file.accepted = true;
            if (_this.options.autoQueue) {
              _this.enqueueFile(file);
            }
          }
          return _this._updateMaxFilesReachedClass();
        };
      })(this));
    };

    Dropzone.prototype.enqueueFiles = function(files) {
      var file, _i, _len;
      for (_i = 0, _len = files.length; _i < _len; _i++) {
        file = files[_i];
        this.enqueueFile(file);
      }
      return null;
    };

    Dropzone.prototype.enqueueFile = function(file) {
      if (file.status === Dropzone.ADDED && file.accepted === true) {
        file.status = Dropzone.QUEUED;
        if (this.options.autoProcessQueue) {
          return setTimeout(((function(_this) {
            return function() {
              return _this.processQueue();
            };
          })(this)), 0);
        }
      } else {
        throw new Error("This file can't be queued because it has already been processed or was rejected.");
      }
    };

    Dropzone.prototype._thumbnailQueue = [];

    Dropzone.prototype._processingThumbnail = false;

    Dropzone.prototype._enqueueThumbnail = function(file) {
      if (this.options.createImageThumbnails && file.type.match(/image.*/) && file.size <= this.options.maxThumbnailFilesize * 1024 * 1024) {
        this._thumbnailQueue.push(file);
        return setTimeout(((function(_this) {
          return function() {
            return _this._processThumbnailQueue();
          };
        })(this)), 0);
      }
    };

    Dropzone.prototype._processThumbnailQueue = function() {
      if (this._processingThumbnail || this._thumbnailQueue.length === 0) {
        return;
      }
      this._processingThumbnail = true;
      return this.createThumbnail(this._thumbnailQueue.shift(), (function(_this) {
        return function() {
          _this._processingThumbnail = false;
          return _this._processThumbnailQueue();
        };
      })(this));
    };

    Dropzone.prototype.removeFile = function(file) {
      if (file.status === Dropzone.UPLOADING) {
        this.cancelUpload(file);
      }
      this.files = without(this.files, file);
      this.emit("removedfile", file);
      if (this.files.length === 0) {
        return this.emit("reset");
      }
    };

    Dropzone.prototype.removeAllFiles = function(cancelIfNecessary) {
      var file, _i, _len, _ref;
      if (cancelIfNecessary == null) {
        cancelIfNecessary = false;
      }
      _ref = this.files.slice();
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        file = _ref[_i];
        if (file.status !== Dropzone.UPLOADING || cancelIfNecessary) {
          this.removeFile(file);
        }
      }
      return null;
    };

    Dropzone.prototype.createThumbnail = function(file, callback) {
      var fileReader;
      fileReader = new FileReader;
      fileReader.onload = (function(_this) {
        return function() {
          if (file.type === "image/svg+xml") {
            _this.emit("thumbnail", file, fileReader.result);
            if (callback != null) {
              callback();
            }
            return;
          }
          return _this.createThumbnailFromUrl(file, fileReader.result, callback);
        };
      })(this);
      return fileReader.readAsDataURL(file);
    };

    Dropzone.prototype.createThumbnailFromUrl = function(file, imageUrl, callback, crossOrigin) {
      var img;
      img = document.createElement("img");
      if (crossOrigin) {
        img.crossOrigin = crossOrigin;
      }
      img.onload = (function(_this) {
        return function() {
          var canvas, ctx, resizeInfo, thumbnail, _ref, _ref1, _ref2, _ref3;
          file.width = img.width;
          file.height = img.height;
          resizeInfo = _this.options.resize.call(_this, file);
          if (resizeInfo.trgWidth == null) {
            resizeInfo.trgWidth = resizeInfo.optWidth;
          }
          if (resizeInfo.trgHeight == null) {
            resizeInfo.trgHeight = resizeInfo.optHeight;
          }
          canvas = document.createElement("canvas");
          ctx = canvas.getContext("2d");
          canvas.width = resizeInfo.trgWidth;
          canvas.height = resizeInfo.trgHeight;
          drawImageIOSFix(ctx, img, (_ref = resizeInfo.srcX) != null ? _ref : 0, (_ref1 = resizeInfo.srcY) != null ? _ref1 : 0, resizeInfo.srcWidth, resizeInfo.srcHeight, (_ref2 = resizeInfo.trgX) != null ? _ref2 : 0, (_ref3 = resizeInfo.trgY) != null ? _ref3 : 0, resizeInfo.trgWidth, resizeInfo.trgHeight);
          thumbnail = canvas.toDataURL("image/png");
          _this.emit("thumbnail", file, thumbnail);
          if (callback != null) {
            return callback();
          }
        };
      })(this);
      if (callback != null) {
        img.onerror = callback;
      }
      return img.src = imageUrl;
    };

    Dropzone.prototype.processQueue = function() {
      var i, parallelUploads, processingLength, queuedFiles;
      parallelUploads = this.options.parallelUploads;
      processingLength = this.getUploadingFiles().length;
      i = processingLength;
      if (processingLength >= parallelUploads) {
        return;
      }
      queuedFiles = this.getQueuedFiles();
      if (!(queuedFiles.length > 0)) {
        return;
      }
      if (this.options.uploadMultiple) {
        return this.processFiles(queuedFiles.slice(0, parallelUploads - processingLength));
      } else {
        while (i < parallelUploads) {
          if (!queuedFiles.length) {
            return;
          }
          this.processFile(queuedFiles.shift());
          i++;
        }
      }
    };

    Dropzone.prototype.processFile = function(file) {
      return this.processFiles([file]);
    };

    Dropzone.prototype.processFiles = function(files) {
      var file, _i, _len;
      for (_i = 0, _len = files.length; _i < _len; _i++) {
        file = files[_i];
        file.processing = true;
        file.status = Dropzone.UPLOADING;
        this.emit("processing", file);
      }
      if (this.options.uploadMultiple) {
        this.emit("processingmultiple", files);
      }
      return this.uploadFiles(files);
    };

    Dropzone.prototype._getFilesWithXhr = function(xhr) {
      var file, files;
      return files = (function() {
        var _i, _len, _ref, _results;
        _ref = this.files;
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          file = _ref[_i];
          if (file.xhr === xhr) {
            _results.push(file);
          }
        }
        return _results;
      }).call(this);
    };

    Dropzone.prototype.cancelUpload = function(file) {
      var groupedFile, groupedFiles, _i, _j, _len, _len1, _ref;
      if (file.status === Dropzone.UPLOADING) {
        groupedFiles = this._getFilesWithXhr(file.xhr);
        for (_i = 0, _len = groupedFiles.length; _i < _len; _i++) {
          groupedFile = groupedFiles[_i];
          groupedFile.status = Dropzone.CANCELED;
        }
        file.xhr.abort();
        for (_j = 0, _len1 = groupedFiles.length; _j < _len1; _j++) {
          groupedFile = groupedFiles[_j];
          this.emit("canceled", groupedFile);
        }
        if (this.options.uploadMultiple) {
          this.emit("canceledmultiple", groupedFiles);
        }
      } else if ((_ref = file.status) === Dropzone.ADDED || _ref === Dropzone.QUEUED) {
        file.status = Dropzone.CANCELED;
        this.emit("canceled", file);
        if (this.options.uploadMultiple) {
          this.emit("canceledmultiple", [file]);
        }
      }
      if (this.options.autoProcessQueue) {
        return this.processQueue();
      }
    };

    resolveOption = function() {
      var args, option;
      option = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
      if (typeof option === 'function') {
        return option.apply(this, args);
      }
      return option;
    };

    Dropzone.prototype.uploadFile = function(file) {
      return this.uploadFiles([file]);
    };

    Dropzone.prototype.uploadFiles = function(files) {
      var file, formData, handleError, headerName, headerValue, headers, i, input, inputName, inputType, key, method, option, progressObj, response, updateProgress, url, value, xhr, _i, _j, _k, _l, _len, _len1, _len2, _len3, _m, _ref, _ref1, _ref2, _ref3, _ref4, _ref5;
      xhr = new XMLHttpRequest();
      for (_i = 0, _len = files.length; _i < _len; _i++) {
        file = files[_i];
        file.xhr = xhr;
      }
      method = resolveOption(this.options.method, files);
      url = resolveOption(this.options.url, files);
      xhr.open(method, url, true);
      xhr.withCredentials = !!this.options.withCredentials;
      response = null;
      handleError = (function(_this) {
        return function() {
          var _j, _len1, _results;
          _results = [];
          for (_j = 0, _len1 = files.length; _j < _len1; _j++) {
            file = files[_j];
            _results.push(_this._errorProcessing(files, response || _this.options.dictResponseError.replace("{{statusCode}}", xhr.status), xhr));
          }
          return _results;
        };
      })(this);
      updateProgress = (function(_this) {
        return function(e) {
          var allFilesFinished, progress, _j, _k, _l, _len1, _len2, _len3, _results;
          if (e != null) {
            progress = 100 * e.loaded / e.total;
            for (_j = 0, _len1 = files.length; _j < _len1; _j++) {
              file = files[_j];
              file.upload = {
                progress: progress,
                total: e.total,
                bytesSent: e.loaded
              };
            }
          } else {
            allFilesFinished = true;
            progress = 100;
            for (_k = 0, _len2 = files.length; _k < _len2; _k++) {
              file = files[_k];
              if (!(file.upload.progress === 100 && file.upload.bytesSent === file.upload.total)) {
                allFilesFinished = false;
              }
              file.upload.progress = progress;
              file.upload.bytesSent = file.upload.total;
            }
            if (allFilesFinished) {
              return;
            }
          }
          _results = [];
          for (_l = 0, _len3 = files.length; _l < _len3; _l++) {
            file = files[_l];
            _results.push(_this.emit("uploadprogress", file, progress, file.upload.bytesSent));
          }
          return _results;
        };
      })(this);
      xhr.onload = (function(_this) {
        return function(e) {
          var _ref;
          if (files[0].status === Dropzone.CANCELED) {
            return;
          }
          if (xhr.readyState !== 4) {
            return;
          }
          response = xhr.responseText;
          if (xhr.getResponseHeader("content-type") && ~xhr.getResponseHeader("content-type").indexOf("application/json")) {
            try {
              response = JSON.parse(response);
            } catch (_error) {
              e = _error;
              response = "Invalid JSON response from server.";
            }
          }
          updateProgress();
          if (!((200 <= (_ref = xhr.status) && _ref < 300))) {
            return handleError();
          } else {
            return _this._finished(files, response, e);
          }
        };
      })(this);
      xhr.onerror = (function(_this) {
        return function() {
          if (files[0].status === Dropzone.CANCELED) {
            return;
          }
          return handleError();
        };
      })(this);
      progressObj = (_ref = xhr.upload) != null ? _ref : xhr;
      progressObj.onprogress = updateProgress;
      headers = {
        "Accept": "application/json",
        "Cache-Control": "no-cache",
        "X-Requested-With": "XMLHttpRequest"
      };
      if (this.options.headers) {
        extend(headers, this.options.headers);
      }
      for (headerName in headers) {
        headerValue = headers[headerName];
        if (headerValue) {
          xhr.setRequestHeader(headerName, headerValue);
        }
      }
      formData = new FormData();
      if (this.options.params) {
        _ref1 = this.options.params;
        for (key in _ref1) {
          value = _ref1[key];
          formData.append(key, value);
        }
      }
      for (_j = 0, _len1 = files.length; _j < _len1; _j++) {
        file = files[_j];
        this.emit("sending", file, xhr, formData);
      }
      if (this.options.uploadMultiple) {
        this.emit("sendingmultiple", files, xhr, formData);
      }
      if (this.element.tagName === "FORM") {
        _ref2 = this.element.querySelectorAll("input, textarea, select, button");
        for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {
          input = _ref2[_k];
          inputName = input.getAttribute("name");
          inputType = input.getAttribute("type");
          if (input.tagName === "SELECT" && input.hasAttribute("multiple")) {
            _ref3 = input.options;
            for (_l = 0, _len3 = _ref3.length; _l < _len3; _l++) {
              option = _ref3[_l];
              if (option.selected) {
                formData.append(inputName, option.value);
              }
            }
          } else if (!inputType || ((_ref4 = inputType.toLowerCase()) !== "checkbox" && _ref4 !== "radio") || input.checked) {
            formData.append(inputName, input.value);
          }
        }
      }
      for (i = _m = 0, _ref5 = files.length - 1; 0 <= _ref5 ? _m <= _ref5 : _m >= _ref5; i = 0 <= _ref5 ? ++_m : --_m) {
        formData.append(this._getParamName(i), files[i], this._renameFilename(files[i].name));
      }
      return this.submitRequest(xhr, formData, files);
    };

    Dropzone.prototype.submitRequest = function(xhr, formData, files) {
      return xhr.send(formData);
    };

    Dropzone.prototype._finished = function(files, responseText, e) {
      var file, _i, _len;
      for (_i = 0, _len = files.length; _i < _len; _i++) {
        file = files[_i];
        file.status = Dropzone.SUCCESS;
        this.emit("success", file, responseText, e);
        this.emit("complete", file);
      }
      if (this.options.uploadMultiple) {
        this.emit("successmultiple", files, responseText, e);
        this.emit("completemultiple", files);
      }
      if (this.options.autoProcessQueue) {
        return this.processQueue();
      }
    };

    Dropzone.prototype._errorProcessing = function(files, message, xhr) {
      var file, _i, _len;
      for (_i = 0, _len = files.length; _i < _len; _i++) {
        file = files[_i];
        file.status = Dropzone.ERROR;
        this.emit("error", file, message, xhr);
        this.emit("complete", file);
      }
      if (this.options.uploadMultiple) {
        this.emit("errormultiple", files, message, xhr);
        this.emit("completemultiple", files);
      }
      if (this.options.autoProcessQueue) {
        return this.processQueue();
      }
    };

    return Dropzone;

  })(Emitter);

  Dropzone.version = "4.3.0";

  Dropzone.options = {};

  Dropzone.optionsForElement = function(element) {
    if (element.getAttribute("id")) {
      return Dropzone.options[camelize(element.getAttribute("id"))];
    } else {
      return void 0;
    }
  };

  Dropzone.instances = [];

  Dropzone.forElement = function(element) {
    if (typeof element === "string") {
      element = document.querySelector(element);
    }
    if ((element != null ? element.dropzone : void 0) == null) {
      throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");
    }
    return element.dropzone;
  };

  Dropzone.autoDiscover = true;

  Dropzone.discover = function() {
    var checkElements, dropzone, dropzones, _i, _len, _results;
    if (document.querySelectorAll) {
      dropzones = document.querySelectorAll(".dropzone");
    } else {
      dropzones = [];
      checkElements = function(elements) {
        var el, _i, _len, _results;
        _results = [];
        for (_i = 0, _len = elements.length; _i < _len; _i++) {
          el = elements[_i];
          if (/(^| )dropzone($| )/.test(el.className)) {
            _results.push(dropzones.push(el));
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      };
      checkElements(document.getElementsByTagName("div"));
      checkElements(document.getElementsByTagName("form"));
    }
    _results = [];
    for (_i = 0, _len = dropzones.length; _i < _len; _i++) {
      dropzone = dropzones[_i];
      if (Dropzone.optionsForElement(dropzone) !== false) {
        _results.push(new Dropzone(dropzone));
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  Dropzone.blacklistedBrowsers = [/opera.*Macintosh.*version\/12/i];

  Dropzone.isBrowserSupported = function() {
    var capableBrowser, regex, _i, _len, _ref;
    capableBrowser = true;
    if (window.File && window.FileReader && window.FileList && window.Blob && window.FormData && document.querySelector) {
      if (!("classList" in document.createElement("a"))) {
        capableBrowser = false;
      } else {
        _ref = Dropzone.blacklistedBrowsers;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          regex = _ref[_i];
          if (regex.test(navigator.userAgent)) {
            capableBrowser = false;
            continue;
          }
        }
      }
    } else {
      capableBrowser = false;
    }
    return capableBrowser;
  };

  without = function(list, rejectedItem) {
    var item, _i, _len, _results;
    _results = [];
    for (_i = 0, _len = list.length; _i < _len; _i++) {
      item = list[_i];
      if (item !== rejectedItem) {
        _results.push(item);
      }
    }
    return _results;
  };

  camelize = function(str) {
    return str.replace(/[\-_](\w)/g, function(match) {
      return match.charAt(1).toUpperCase();
    });
  };

  Dropzone.createElement = function(string) {
    var div;
    div = document.createElement("div");
    div.innerHTML = string;
    return div.childNodes[0];
  };

  Dropzone.elementInside = function(element, container) {
    if (element === container) {
      return true;
    }
    while (element = element.parentNode) {
      if (element === container) {
        return true;
      }
    }
    return false;
  };

  Dropzone.getElement = function(el, name) {
    var element;
    if (typeof el === "string") {
      element = document.querySelector(el);
    } else if (el.nodeType != null) {
      element = el;
    }
    if (element == null) {
      throw new Error("Invalid `" + name + "` option provided. Please provide a CSS selector or a plain HTML element.");
    }
    return element;
  };

  Dropzone.getElements = function(els, name) {
    var e, el, elements, _i, _j, _len, _len1, _ref;
    if (els instanceof Array) {
      elements = [];
      try {
        for (_i = 0, _len = els.length; _i < _len; _i++) {
          el = els[_i];
          elements.push(this.getElement(el, name));
        }
      } catch (_error) {
        e = _error;
        elements = null;
      }
    } else if (typeof els === "string") {
      elements = [];
      _ref = document.querySelectorAll(els);
      for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {
        el = _ref[_j];
        elements.push(el);
      }
    } else if (els.nodeType != null) {
      elements = [els];
    }
    if (!((elements != null) && elements.length)) {
      throw new Error("Invalid `" + name + "` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");
    }
    return elements;
  };

  Dropzone.confirm = function(question, accepted, rejected) {
    if (window.confirm(question)) {
      return accepted();
    } else if (rejected != null) {
      return rejected();
    }
  };

  Dropzone.isValidFile = function(file, acceptedFiles) {
    var baseMimeType, mimeType, validType, _i, _len;
    if (!acceptedFiles) {
      return true;
    }
    acceptedFiles = acceptedFiles.split(",");
    mimeType = file.type;
    baseMimeType = mimeType.replace(/\/.*$/, "");
    for (_i = 0, _len = acceptedFiles.length; _i < _len; _i++) {
      validType = acceptedFiles[_i];
      validType = validType.trim();
      if (validType.charAt(0) === ".") {
        if (file.name.toLowerCase().indexOf(validType.toLowerCase(), file.name.length - validType.length) !== -1) {
          return true;
        }
      } else if (/\/\*$/.test(validType)) {
        if (baseMimeType === validType.replace(/\/.*$/, "")) {
          return true;
        }
      } else {
        if (mimeType === validType) {
          return true;
        }
      }
    }
    return false;
  };

  if (typeof jQuery !== "undefined" && jQuery !== null) {
    jQuery.fn.dropzone = function(options) {
      return this.each(function() {
        return new Dropzone(this, options);
      });
    };
  }

  if (typeof module !== "undefined" && module !== null) {
    module.exports = Dropzone;
  } else {
    window.Dropzone = Dropzone;
  }

  Dropzone.ADDED = "added";

  Dropzone.QUEUED = "queued";

  Dropzone.ACCEPTED = Dropzone.QUEUED;

  Dropzone.UPLOADING = "uploading";

  Dropzone.PROCESSING = Dropzone.UPLOADING;

  Dropzone.CANCELED = "canceled";

  Dropzone.ERROR = "error";

  Dropzone.SUCCESS = "success";


  /*

  Bugfix for iOS 6 and 7
  Source: http://stackoverflow.com/questions/11929099/html5-canvas-drawimage-ratio-bug-ios
  based on the work of https://github.com/stomita/ios-imagefile-megapixel
   */

  detectVerticalSquash = function(img) {
    var alpha, canvas, ctx, data, ey, ih, iw, py, ratio, sy;
    iw = img.naturalWidth;
    ih = img.naturalHeight;
    canvas = document.createElement("canvas");
    canvas.width = 1;
    canvas.height = ih;
    ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0);
    data = ctx.getImageData(0, 0, 1, ih).data;
    sy = 0;
    ey = ih;
    py = ih;
    while (py > sy) {
      alpha = data[(py - 1) * 4 + 3];
      if (alpha === 0) {
        ey = py;
      } else {
        sy = py;
      }
      py = (ey + sy) >> 1;
    }
    ratio = py / ih;
    if (ratio === 0) {
      return 1;
    } else {
      return ratio;
    }
  };

  drawImageIOSFix = function(ctx, img, sx, sy, sw, sh, dx, dy, dw, dh) {
    var vertSquashRatio;
    vertSquashRatio = detectVerticalSquash(img);
    return ctx.drawImage(img, sx, sy, sw, sh, dx, dy, dw, dh / vertSquashRatio);
  };


  /*
   * contentloaded.js
   *
   * Author: Diego Perini (diego.perini at gmail.com)
   * Summary: cross-browser wrapper for DOMContentLoaded
   * Updated: 20101020
   * License: MIT
   * Version: 1.2
   *
   * URL:
   * http://javascript.nwbox.com/ContentLoaded/
   * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE
   */

  contentLoaded = function(win, fn) {
    var add, doc, done, init, poll, pre, rem, root, top;
    done = false;
    top = true;
    doc = win.document;
    root = doc.documentElement;
    add = (doc.addEventListener ? "addEventListener" : "attachEvent");
    rem = (doc.addEventListener ? "removeEventListener" : "detachEvent");
    pre = (doc.addEventListener ? "" : "on");
    init = function(e) {
      if (e.type === "readystatechange" && doc.readyState !== "complete") {
        return;
      }
      (e.type === "load" ? win : doc)[rem](pre + e.type, init, false);
      if (!done && (done = true)) {
        return fn.call(win, e.type || e);
      }
    };
    poll = function() {
      var e;
      try {
        root.doScroll("left");
      } catch (_error) {
        e = _error;
        setTimeout(poll, 50);
        return;
      }
      return init("poll");
    };
    if (doc.readyState !== "complete") {
      if (doc.createEventObject && root.doScroll) {
        try {
          top = !win.frameElement;
        } catch (_error) {}
        if (top) {
          poll();
        }
      }
      doc[add](pre + "DOMContentLoaded", init, false);
      doc[add](pre + "readystatechange", init, false);
      return win[add](pre + "load", init, false);
    }
  };

  Dropzone._autoDiscoverFunction = function() {
    if (Dropzone.autoDiscover) {
      return Dropzone.discover();
    }
  };

  contentLoaded(window, Dropzone._autoDiscoverFunction);

}).call(this);

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/libraries/CartUtility.js

sms.addModule('assets/js/libraries/CartUtility.js', {"path":""}, (require,exports,module)=>{
const Checkout = require('../resources/CheckoutAPIv0.js')
const Auth = require('auth')
let creatingCart = false

module.exports = {
  getCartPid (cartType) {
    return new Promise((resolve, reject) => {
      if (creatingCart) {
        reject(new Error('Already Creating Cart'))
      }
      const cartSetup = this.getCartSetup(cartType)
      const cartPid = this.getCartFromStorage(cartType, cartSetup.sellerPid)

      if (cartPid && cartPid.length > 0) {
        resolve(cartPid)
      } else {
        creatingCart = true
        this.createCart(cartSetup.buyerPid, cartSetup.sellerPid, cartSetup.inventoryUserPid, cartType)
          .then(response => {
            if (response.error) {
              reject(response)
            } else {
              this.setCartInStorage(response.pid, cartType, cartSetup.sellerPid)
              resolve(response.pid)
            }
            creatingCart = false
          })
          .catch(error => {
            reject(error)
          })
      }
    })
  },
  // TODO Update for all cases
  getCartSetup (cartType) {
    let buyerPid = null
    let sellerPid = null
    let inventoryUserPid = null

    const userRole = this.getUserRole()
    const userPid = this.getUserPid()
    const corpPid = this.getCorporatePid()

    console.log('cart type is ', cartType)
    console.log('User role is ', userRole)

    switch (cartType) {
      case 'wholesale':
        buyerPid = userPid
        sellerPid = corpPid
        inventoryUserPid = corpPid
        break
      case 'custom-retail':
        buyerPid = userPid
        sellerPid = userPid
        inventoryUserPid = userPid
        break
      case 'custom-personal':
        if (userRole === 'Admin' || userRole === 'Superadmin') {
          buyerPid = corpPid
          sellerPid = corpPid
          inventoryUserPid = corpPid
        } else {
          buyerPid = userPid
          sellerPid = userPid
          inventoryUserPid = userPid
        }
        break
      case 'custom-corp':
        buyerPid = corpPid
        sellerPid = corpPid
        inventoryUserPid = corpPid
        break
      case 'custom-affiliate':
        buyerPid = userPid
        sellerPid = userPid
        inventoryUserPid = corpPid
        break
      case 'rep-transfer':
        buyerPid = userPid
        sellerPid = userPid
        inventoryUserPid = userPid
        break
    }

    return {
      'buyerPid': buyerPid,
      'sellerPid': sellerPid,
      'inventoryUserPid': inventoryUserPid
    }
  },
  getUserRole () {
    return Auth.getClaims().role
  },
  getUserPid () {
    return Auth.getClaims().userPid
  },
  getCorporatePid () {
    return window.Vue.prototype.$getGlobal('company_pid').value
  },
  // Local Storage key for the cart PID is Cart.CartType.SellerPid
  getCartFromStorage (cartType, sellerPid) {
    console.log('got pid from local storage')
    const cartPidKey = ['Cart', cartType, sellerPid].join('.')
    let cartPid = window.localStorage.getItem(cartPidKey)
    return cartPid
  },
  createCart (buyerPid, sellerPid, inventoryUserPid, cartType) {
    console.log('got pid from api')
    return Checkout.postCart({
      'buyer_pid': buyerPid,
      'seller_pid': sellerPid,
      'inventory_user_pid': inventoryUserPid,
      'type': cartType
    })
  },
  setCartInStorage (pid, cartType, sellerPid) {
    const cartPidKey = ['Cart', cartType, sellerPid].join('.')
    window.localStorage.setItem(cartPidKey, pid)
  },
  getCreatingCart () {
    return creatingCart
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/announcements.js

sms.addModule('assets/js/resources/announcements.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  index: function (params) {
    return Request.get('/api/v1/announcements', params)
  },
  create: function (params) {
    return Request.post('/api/v1/announcements', params)
  },
  update: function (id, params) {
    return Request.patch('/api/v1/announcements/' + id, params)
  },
  delete: function (id) {
    return Request.delete('/api/v1/announcements/' + id)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/libraries/CpOrdersFile.js

sms.addModule('assets/js/libraries/CpOrdersFile.js', {"path":""}, (require,exports,module)=>{
const JsPDF = require('../libs/jspdf.min.js')
const Auth = require('auth')
const Addresses = require('../resources/addresses.js')
const Orders = require('../resources/OrdersAPIv0.js')
const Invoices = require('../resources/invoice.js')
const JSZip = require('../libs/jszip.min.js')
const Users = require('../resources/users.js')
// const OrderFormatTypes = ['invoice', 'invoice-list', 'order', 'order-list']
const InvoiceDataTypes = ['invoice', 'invoice-list']
const PicklistFormatTypes = ['picklist-single', 'picklist']
const Moment = require('moment-timezone')

// Types single, list  |  invoice, order, picklist  | pdf, csv
// invoice -> Invoice ID: , Payment Status: Unpaid
/**
* fileName - will append .csv or .pdf - if missing a new window will open the data
* fileTypes - array conaining 'csv','pdf' if you want both files
* dataType - invoice, invoice-list, order, order-list, picklist-single, picklist - this will determine how data is pulled
* params - query params when index is called
*/
function CpOrdersFile (fileName, fileTypes, dataType, params) {
  this.dataType = dataType
  this.orders = []
  this.timezone = 'utc'
  this.showAddressOnInvoice = false
  this.sortColums = [
    'receipt_id',
    'store_owner_user_id',
    'total_price',
    'total_tax',
    'created_at',
    'updated_at',
    'status',
    'customer_id',
    'total_discount'
  ]

  if (['invoice', 'order', 'picklist-single'].includes(this.dataType)) {
    // Single order
    this.params = params
  } else {
    this.params = {
      per_page: 500,
      page: 1
    }
    Object.assign(this.params, params)
  }

  this.fileName = fileName
  this.fileTypes = fileTypes // pdf, csv
  this.stop = false
  this.running = false
}

CpOrdersFile.prototype.run = function run (callback) {
  this.callback = callback
  if (this.running) {
    this.message({error: true, message: 'Already running'})
    // TODO log error
    return
  }

  if (!this.fileTypes || this.fileTypes.length === 0) {
    this.message({error: true, message: 'No file type selected'})
    return
  }
  this.getSettings()
}

CpOrdersFile.prototype.cancel = function cancel () {
  this.stop = true
}

CpOrdersFile.prototype.handleOrderResponse = function handleOrderResponse (response) {
  if (this.stop) {
    return
  }
  return new Promise((resolve, reject) => {
    if (response.data && response.data.length > 0) {
      this.orders = this.orders.concat(response.data)
      if ((response.to - response.from) >= (this.params.per_page - 1)) {
        this.params.page++
        this.pullOrders()
      } else {
        this.process()
      }
    } else if (!response.error) {
      // Single order
      this.orders.push(response)
      this.process()
    } else {
      this.message({error: true, message: 'Failed to get orders'})
    }
    resolve()
  })
}

CpOrdersFile.prototype.pullOrders = function pullOrders () {
  if (this.stop) {
    return
  }
  if (this.timezone !== 'utc') {
    if (this.params.start_date) {
      this.params.start_date = Moment.tz(this.params.start_date, 'YYYY-MM-DD', this.timezone).tz('utc').format('YYYY-MM-DD HH:mm:ss')
    }
    if (this.params.end_date) {
      this.params.end_date = Moment.tz(this.params.end_date, 'YYYY-MM-DD', this.timezone).endOf('day').tz('utc').format('YYYY-MM-DD HH:mm:ss')
    }
  }
  switch (this.dataType) {
    case 'invoice':
      this.listName = 'items'
      this.params.items = 1 // expand items
      Invoices.getPdfInvoiceByUid(this.params.orderId).then((result) => { return this.handleOrderResponse(result) })
      break
    case 'invoice-list':
      this.listName = 'items'
      this.params.items = 1 // expand items
      this.params.column = this.params.sort_by
      this.params.order = this.params.in_order
      Invoices.indexPdf(this.params).then((result) => { return this.handleOrderResponse(result) })
      break
    case 'order':
    case 'picklist-single':
      this.listName = 'lines'
      this.params.orderlines = 1
      Orders.get(this.params, this.params.orderId).then((result) => { return this.handleOrderResponse(result) })
      break
    default:
      this.listName = 'lines'
      this.params.orderlines = 1 // Expand lines
      if (!this.sortColums.includes(this.params.sort_by)) {
        if (this.params.sort_by === 'subtotal_price') {
          this.params.sort_by = 'total_price'
        } else {
          this.params.sort_by = 'created_at'
        }
      }
      Orders.getOrders(this.params).then((result) => { return this.handleOrderResponse(result) })
      break
  }
}

function getGlobal (key, parseValue = true) {
  if (window.Vue.prototype.$getGlobal(key)) {
    if (parseValue) {
      return window.Vue.prototype.$getGlobal(key).value
    } else {
      return window.Vue.prototype.$getGlobal(key)
    }
  } else {
    console.log('could not find ' + key)
    return ''
  }
}

CpOrdersFile.prototype.message = function message (message) {
  if (this.callback) {
    this.callback(message)
  }
}

CpOrdersFile.prototype.getSettings = function getSettings () {
  this.companyName = getGlobal('company_name')
  this.companyAddress = getGlobal('company_address')
  if (!this.companyAddress) {
    this.companyAddress = getGlobal('address')
  }
  this.companyLogoUrl = getGlobal('back_office_logo')
  this.ein = getGlobal('ein', false)
  Users.userSettings(Auth.getOwnerId()).then((response) => {
    if (response.timezone) {
      this.timezone = response.timezone
    }
    if (response.showAddressOnInvoice) {
      this.showAddressOnInvoice = (response.show_address_on_invoice && Auth.getOwnerId() !== 1)
    }
    if (this.showAddressOnInvoice) {
      var addressParams = {
        label: 'Business',
        addressable_id: Auth.getOwnerId(),
        addressable_type: 'App\\Models\\User'
      }
      Addresses.show(addressParams).then((response) => {
        this.businessAddress = response
        Users.userCompanyInfo().then((response) => {
          this.companyInfo = response
          Users.getAuthUser().then((response) => {
            this.storeOwner = response
            this.getLogo()
          })
        })
      })
    } else {
      this.getLogo()
    }
  })
}

CpOrdersFile.prototype.getLogo = function getLogo () {
  if (this.companyLogoUrl) {
    fetch(this.companyLogoUrl + '?cache=none').then((response) => {
      if (response.ok) {
        response.blob().then((blob) => {
          this.imgType = blob.type
          var reader = new FileReader()
          reader.readAsDataURL(blob)
          reader.onloadend = () => {
            this.img = new Image()
            this.img.src = reader.result
            this.pullOrders()
          }
        })
      } else {
        this.pullOrders()
      }
    })
  } else {
    this.pullOrders()
  }
}

CpOrdersFile.prototype.process = function process () {
  if (this.stop) {
    return
  }
  this.orderCount = this.orders.length
  if (this.orderCount === 0) {
    this.message({error: true, message: 'No orders'})
    return
  }
  if (this.dataType === 'invoice' || this.dataType === 'invoice-list') {
    this.itemIdTitle = 'Invoice ID'
    this.itemIdName = 'uid'
  } else {
    this.itemIdTitle = 'Order ID'
    this.itemIdName = 'receipt_id'
  }
  var order
  for (var i = 0; i < this.orderCount; i++) {
    order = this.orders[i]
    if (this.timezone !== 'utc') {
      order.created_at = Moment.tz(order.created_at, 'YYYY-MM-DD HH:mm:ss', 'utc').tz(this.timezone).format('D MMM YYYY h:mm:ss A z')
    }
    order.total_discount = window.Vue.options.filters.currency(order.total_discount)
    order.subtotal_price = window.Vue.options.filters.currency(order.subtotal_price)
    order.total_shipping = window.Vue.options.filters.currency(order.total_shipping)
    if (order.total_tax !== undefined) {
      order.total_tax = window.Vue.options.filters.currency(order.total_tax)
    }
    if (order.total_price) {
      order.total_price = window.Vue.options.filters.currency(order.total_price)
    }
  }

  var csvFile = null
  var pdfFile = null
  if (this.fileTypes.includes('csv')) {
    if (InvoiceDataTypes.includes(this.dataType)) {
      csvFile = this.processInvoiceCsv()
    } else {
      csvFile = this.processCsv()
    }
  }
  if (this.fileTypes.includes('pdf')) {
    pdfFile = this.processPdf()
  }
  if (csvFile != null && pdfFile != null) {
    var zipFile = new JSZip()
    zipFile.file((this.fileName ? this.fileName + '.csv' : 'Download.csv'), csvFile)
    zipFile.file((this.fileName ? this.fileName + '.pdf' : 'Download.pdf'), pdfFile.output('blob'))
    console.log('Starting zip file')
    zipFile.generateAsync({type: 'blob'})
      .then((content) => {
        console.log('Downloading zip file')
        console.log(content)
        this.download((this.fileName ? this.fileName : 'Download'), 'zip', window.URL.createObjectURL(content))
        this.message({error: false, message: 'Finished'})
      })
  } else if (csvFile != null) {
    var uri = window.URL.createObjectURL(new window.Blob([csvFile], {
      type: 'text/plain'
    }))
    var csvFileName = (this.fileName ? this.fileName : 'Download') // Add .csv
    this.download(csvFileName, 'csv', uri)
    this.message({error: false, message: 'Finished'})
  } else if (pdfFile != null) {
    var pdfFileName = (this.fileName ? this.fileName : null) // Add .pdf or stay null
    this.download(pdfFileName, 'pdf', window.URL.createObjectURL(pdfFile.output('blob')))
    this.message({error: false, message: 'Finished'})
  } else {
    this.message({error: true, message: 'No file created'})
  }
}

CpOrdersFile.prototype.processInvoiceCsv = function processInvoiceCsv () {
  var csv = 'Order Date,' + this.itemIdTitle + ',Receipt ID,Buyer ID,Buyer Name,Buyer Email,Seller ID,Seller Name,' +
  'Subtotal,Discount,' +
  'Order Type,Item Count,Options\n'

  var order
  for (var i = 0; i < this.orderCount; i++) {
    if (this.stop) {
      return
    }

    order = this.orders[i]
    csv +=
    order.created_at + ',' +
    order.id + ',' +
    order[this.itemIdName] + ',' +
    order.customer_id + ',' +
    csvConvert(order.customer_first_name + ' ' + order.customer_last_name) + ',' +
    order.customer_email + ',' +
    order.store_owner_user_id + ',' +
    ',' + // TODO seller full name, not in the orders api
    csvConvert(order.subtotal_price) + ',' +
    csvConvert(order.total_discount) + ',' +
    (order.order_type ? csvConvert(order.order_type.name) : '') + ','
    var itemCount = 0
    let lineCount = 0
    if (order[this.listName]) {
      lineCount = order[this.listName].length
      for (var l = 0; l < lineCount; l++) {
        itemCount += order[this.listName][l].quantity
      }
    }
    csv +=
    itemCount + ','
    var itemNames = []
    var item
    for (var l = 0; l < lineCount; l++) {
      item = order[this.listName][l]
      itemNames.push(item.name + ' ' + item.variant + ' ' + item.option)
    }
    csv +=
    csvConvert(itemNames.join(', ')) +
    '\n'
  }
  return csv
}

CpOrdersFile.prototype.processCsv = function processCsv () {
  var csv = 'Status,Order Date,' + this.itemIdTitle + ',Pid,Receipt ID,Buyer ID,Buyer Name,Buyer Email,Seller ID,Seller Name,Payment Type,Cash Type,Payment ID,Gateway Transaction ID,' +
  'Subtotal,Discount,Tax,Shipping,Total,' +
  'Cash Sale,Source,Order Type,Shipping Address 1,Shipping Address 2,Shipping City,Shipping State,Shipping Zip,' +
  'Billing Address 1,Billing Address 2,Billing City,Billing State,Billing Zip,Item Count,Options\n'

  var order
  for (var i = 0; i < this.orderCount; i++) {
    if (this.stop) {
      return
    }

    order = this.orders[i]
    csv +=
    order.status + ',' +
    order.created_at + ',' +
    order.id + ',' +
    order.pid + ',' +
    order[this.itemIdName] + ',' +
    order.buyer_id + ',' +
    csvConvert(order.buyer_first_name + ' ' + order.buyer_last_name) + ',' +
    order.buyer_email + ',' +
    order.seller_id + ',' +
    ',' + // TODO seller full name, not in the orders api
    order.payment_type + ',' +
    order.cash_type + ',' +
    csvConvert(order.transaction_id) + ',' +
    csvConvert(order.gateway_reference_id) + ',' +
    csvConvert(order.subtotal_price) + ',' +
    csvConvert(order.total_discount) + ',' +
    csvConvert(order.total_tax) + ',' +
    csvConvert(order.total_shipping) + ',' +
    csvConvert(order.total_price) + ',' +
    (order.cash ? 'yes' : 'no') + ',' +
    csvConvert(order.source) + ',' +
    csvConvert(order.type_description) + ','
    if (order.shipping_address) {
      csv +=
      csvConvert(order.shipping_address.line_1) + ',' +
      csvConvert(order.shipping_address.line_2) + ',' +
      csvConvert(order.shipping_address.city) + ',' +
      csvConvert(order.shipping_address.state) + ',' +
      csvConvert(order.shipping_address.zip) + ','
    } else {
      csv += ',,,,,'
    }
    if (order.billing_address) {
      csv +=
      csvConvert(order.billing_address.line_1) + ',' +
      csvConvert(order.billing_address.line_2) + ',' +
      csvConvert(order.billing_address.city) + ',' +
      csvConvert(order.billing_address.state) + ',' +
      csvConvert(order.billing_address.zip) + ','
    } else {
      csv += ',,,,,'
    }
    var itemCount = 0
    let lineCount = 0
    if (order[this.listName]) {
      lineCount = order[this.listName].length
      for (var l = 0; l < lineCount; l++) {
        itemCount += order[this.listName][l].quantity
      }
    }
    csv +=
    itemCount + ','
    var itemNames = []
    var item
    for (var l = 0; l < lineCount; l++) {
      item = order[this.listName][l]
      itemNames.push(item.name + ' ' + item.variant + ' ' + item.option)
    }
    csv +=
    csvConvert(itemNames.join(', ')) +
    '\n'
  }
  return csv
}

function csvConvert (value) {
  if (value !== undefined) {
    if (typeof value !== 'string') {
      return value
    }
    var result = value.replace('"', '""')
    if (result.includes(',')) {
      result = '"' + result + '"'
    }
    return result
  } else {
    return ''
  }
}

CpOrdersFile.prototype.processPdf = function processPdf () {
  if (this.stop) {
    return
  }
  this.doc = new JsPDF('p', 'pt', 'letter')
  this.innerBox = {
    right: this.doc.internal.pageSize.width - 35,
    left: 35,
    top: 35,
    bottom: this.doc.internal.pageSize.height - 50,
    width: this.doc.internal.pageSize.width - 70,
    centerX: (this.doc.internal.pageSize.width / 2)
  }
  var skuName
  if (InvoiceDataTypes.includes(this.dataType)) {
    skuName = 'sku'
  } else {
    skuName = 'manufacturer_sku'
  }
  if (PicklistFormatTypes.includes(this.dataType)) {
    this.columns = [
      {description: 'SKU', name: 'custom_sku', altName: skuName, width: 100},
      {description: 'Description', name: 'name', width: 186},
      {description: 'Variant', name: 'variant', width: 120},
      {description: 'Option', name: 'option', width: 70},
      {description: 'QTY', name: 'quantity', width: 60, align: 'right'}
    ]
  } else {
    this.columns = [
      {description: 'SKU', name: 'custom_sku', altName: skuName, width: 100},
      {description: 'Description', name: 'name', width: 166},
      {description: 'Variant', name: 'variant', width: 100},
      {description: 'Option', name: 'option', width: 60},
      {description: 'QTY', name: 'quantity', width: 60},
      {description: 'Price', name: 'price', width: 50, align: 'right', filter: 'currency'}
    ]
  }

  var order
  for (var i = 0; i < this.orderCount; i++) {
    if (this.stop) {
      return
    }
    order = this.orders[i]
    this.orderPage = 0 // Incremented by startNewPage()
    if (i > 0) {
      this.doc.addPage() // Each order starts on a new page
    }
    this.writePageHeader(order)
    var startY = 132
    try {
      this.doc.addImage(this.img, this.imgType, this.innerBox.left, this.innerBox.top, (40 / this.img.height) * this.img.width, 40, 'logo')
    } catch (err) {
      console.log(err)
      // logo will be missing, maybe log error in the future
    }
    this.doc.setFontStyle('bold')
    this.doc.text(this.companyName, this.innerBox.left, startY)
    startY += 10
    this.doc.setFontStyle('normal')
    if (this.ein.show) {
      this.doc.text('EIN: ' + this.ein.value, this.innerBox.left, startY)
      startY += 10
    }
    this.doc.text(this.companyAddress, this.innerBox.left, startY)
    if (this.showAddressOnInvoice) {
      this.writeCompanyInfo()
    }
    if (order.billing_address) {
      this.writeAddress(order.billing_address, order.buyer_email, 'Bill To:', true)
    } else {
      this.writeCustomer(order)
    }
    if (order.shipping_address) {
      this.writeAddress(order.shipping_address, null, 'Ship To:', false)
    }
    this.doc.line(this.innerBox.left, 252, this.innerBox.right, 252)
    startY = 253
    this.doc.setFontSize(10)
    startY = this.writeHeaders(startY, order)
    var lineCount
    if (order[this.listName]) {
      lineCount = order[this.listName].length
    } else {
      lineCount = 0
    }
    for (var lineNumber = 0; lineNumber < lineCount; lineNumber++) {
      startY = this.writeRow(order[this.listName][lineNumber], startY, (lineNumber % 2 === 0))
    }
    this.doc.line(this.innerBox.left, startY, this.innerBox.right, startY)
    startY += 3
    this.writeSummary(order, startY)
  }
  return this.doc
}

CpOrdersFile.prototype.download = function download (fileName, ext, url) {
  if (this.stop) {
    return
  }
  if (!fileName) {
    // If no file name defined, try and open in new window
    // Popup blocker can prevent window as an example for null window
    if (window.open(url) != null) {
      return
    }
    fileName = 'Download'
  }
  var a = document.createElement('a')
  document.body.appendChild(a)
  a.style = 'display: none'
  a.href = url
  a.download = fileName + '.' + ext
  a.click()
  window.URL.revokeObjectURL(url)
  a.parentNode.removeChild(a)
}

CpOrdersFile.prototype.writeCustomer = function writeCustomer (invoice) {
  var left = this.innerBox.left
  var y
  this.doc.setFontStyle('bold')
  this.doc.text('Customer:', left, 200)
  this.doc.setFontStyle('normal')
  y = 210
  var name
  if (invoice.customer_first_name && invoice.customer_first_name.length > 0) {
    if (invoice.customer_last_name && invoice.customer_last_name.length > 0) {
      name = invoice.customer_first_name + ' ' + invoice.customer_last_name
    } else {
      name = invoice.customer_first_name
    }
  } else if (invoice.customer_last_name && invoice.customer_last_name.length > 0) {
    name = invoice.customer_last_name
  }
  if (name) {
    this.doc.text(name, left, y)
    y += 10
  }
  if (invoice.customer_email) {
    this.doc.text(invoice.customer_email, left, y)
  }
}

CpOrdersFile.prototype.writeAddress = function writeAddress (address, email, header, leftSide) {
  var left = this.innerBox.left
  var y
  if (!leftSide) {
    left = ((this.innerBox.right + this.innerBox.left) / 2)
  }
  this.doc.setFontStyle('bold')
  this.doc.text(header, left, 200)
  this.doc.setFontStyle('normal')
  y = 210
  if (address.name) {
    this.doc.text(address.name, left, y)
    y += 10
  }
  if (address.line_1) {
    this.doc.text(address.line_1, left, y)
    y += 10
  }
  if (address.line_2) {
    this.doc.text(address.line_2, left, y)
    y += 10
  }
  if (address.city && address.state && address.zip) {
    this.doc.text(address.city + ', ' + address.state + ', ' + address.zip, left, y)
    y += 10
  }
  if (address.email) {
    this.doc.text(address.email, left, y)
  } else if (email) {
    this.doc.text(email, left, y)
  }
}

CpOrdersFile.prototype.writeCompanyInfo = function writeCompanyInfo () {
  var left = ((this.innerBox.right + this.innerBox.left) / 2)
  var startY = 132
  if (this.companyInfo.name) {
    this.doc.setFontStyle('bold')
    this.doc.text(this.companyInfo.name, left, startY)
    this.doc.setFontStyle('normal')
    startY += 10
  }
  if (this.businessAddress) {
    this.doc.setFontStyle('bold')
    this.doc.text(this.businessAddress.name, left, startY)
    startY += 10
    this.doc.setFontStyle('normal')
    this.doc.text(this.storeOwner.email, left, startY)
    startY += 10
    this.doc.text(this.businessAddress.address_1, left, startY)
    startY += 10
    if (this.businessAddress.address_2) {
      this.doc.text(this.businessAddress.address_2, left, startY)
      startY += 10
    }
    this.doc.text(this.businessAddress.city + ', ' + this.businessAddress.state + ', ' + this.businessAddress.zip, left, startY)
  } else {
    this.doc.text(this.storeOwner.full_name, left, startY)
    startY += 10
    this.doc.text(this.storeOwner.email, left, startY)
  }
}

CpOrdersFile.prototype.writeRow = function writeRow (order, startY, fill) {
  var endY = startY + this.doc.internal.getLineHeight() + 6
  if (endY > this.innerBox.bottom) {
    startY = this.startNewPage(order)
    endY = startY + this.doc.internal.getLineHeight() + 6
  }
  var textBottom = startY + this.doc.internal.getLineHeight()
  if (fill) {
    this.doc.setFillColor(219, 219, 219)
    this.doc.rect(this.innerBox.left, startY, this.innerBox.width, (endY - startY), 'f*')
  }
  var column
  var startX = this.innerBox.left + 3
  var endX
  var align
  var text
  for (var i = 0; i < this.columns.length; i++) {
    column = this.columns[i]
    endX = startX + column.width
    this.doc.internal.write('q')
    this.doc.rect(startX, startY, column.width - 3, endY - startY, null)
    this.doc.clip_fixed()
    if (column.align && column.align === 'right') {
      startX = endX - 3
      align = 'right'
    } else {
      align = null
    }
    if (order[column.name] != null) {
      text = order[column.name].toString()
    } else if (column.altName && order[column.altName] != null) {
      text = order[column.altName].toString()
    } else {
      text = ''
    }
    if (column.filter && column.filter === 'currency') {
      text = window.Vue.options.filters.currency(text)
    }
    this.doc.text(text, startX, textBottom, align)
    this.doc.internal.write('Q')
    startX = endX
  }
  // this.doc.line(this.innerBox.left, endY, this.innerBox.right, endY)
  return endY + 1
}

CpOrdersFile.prototype.writeHeaders = function writeHeaders (startY, order) {
  // Headers
  this.doc.setFontStyle('bold')
  var column
  var startX = this.innerBox.left + 3
  var endY = startY + this.doc.internal.getLineHeight() + 6
  if (endY > this.innerBox.bottom) {
    startY = this.startNewPage(order)
    endY = startY + this.doc.internal.getLineHeight() + 6
  }
  var textBottom = startY + this.doc.internal.getLineHeight()
  for (var i = 0; i < this.columns.length; i++) {
    column = this.columns[i]
    this.doc.internal.write('q')
    this.doc.rect(startX, startY, column.width - 3, endY - startY, null)
    this.doc.clip_fixed()
    this.doc.text(column.description, startX, textBottom)
    this.doc.internal.write('Q')
    startX = startX + column.width
  }
  this.doc.line(this.innerBox.left, endY, this.innerBox.right, endY)
  this.doc.setFontStyle('normal')
  return endY + 1
}

CpOrdersFile.prototype.writeSummary = function writeSummary (order, startY) {
  var leftX = this.innerBox.left
  for (var i = 0; i < this.columns.length - 2; i++) {
    leftX += this.columns[i].width
  }
  var itemCount = 0
  if (order[this.listName]) {
    for (var l = 0; l < order[this.listName].length; l++) {
      itemCount += order[this.listName][l].quantity
    }
  }
  var rightX = this.innerBox.right - 6
  if (startY + this.getSummaryHeight() > this.innerBox.bottom) {
    startY = this.startNewPage(order)
  }
  if (PicklistFormatTypes.includes(this.dataType)) {
    startY = this.writeSummaryLine(startY, leftX, rightX, 'Total Items:', itemCount.toString())
  } else {
    startY = this.writeSummaryLine(startY, leftX, rightX, 'Discount:', order.total_discount)
    startY = this.writeSummaryLine(startY, leftX, rightX, 'Subtotal:', order.subtotal_price)
    startY = this.writeSummaryLine(startY, leftX, rightX, 'Shipping:', order.total_shipping)
    if (order.total_tax) {
      startY = this.writeSummaryLine(startY, leftX, rightX, 'Sales Tax:', order.total_tax)
    }
    if (order.total_price) {
      startY = this.writeSummaryLine(startY, leftX, rightX, 'Order Total:', order.total_price)
    }
  }
  this.doc.line(this.innerBox.left, startY, this.innerBox.right, startY)
  this.writeOrderPageNumber(order)
}

CpOrdersFile.prototype.writeSummaryLine = function writeSummaryLine (startY, leftX, rightX, title, value) {
  this.doc.setFontStyle('bold')
  this.doc.text(title, leftX, startY + this.doc.internal.getLineHeight())
  this.doc.setFontStyle('normal')
  this.doc.text(value, rightX, startY + this.doc.internal.getLineHeight(), 'right')
  return startY + this.doc.internal.getLineHeight() + 7
}

CpOrdersFile.prototype.getSummaryHeight = function getSummaryHeight () {
  if (!this.summaryHeight) {
    if (PicklistFormatTypes.includes(this.dataType)) {
      this.summaryHeight = this.doc.internal.getLineHeight() + 6
    } else {
      this.summaryHeight = (this.doc.internal.getLineHeight() + 6) * 5
    }
  }
  return this.summaryHeight
}

CpOrdersFile.prototype.writePageHeader = function writePageHeader (order) {
  this.doc.setFontSize(8)
  this.doc.text(this.itemIdTitle + ': ' + order[this.itemIdName], this.innerBox.right, this.innerBox.top, null, null, 'right')
  this.doc.text('Payment Status: Paid', this.innerBox.right, this.innerBox.top + 16, null, null, 'right')
  this.doc.text('Order Date: ' + order.created_at, this.innerBox.right, this.innerBox.top + 32, null, null, 'right')
  return this.innerBox.top + 48
}

CpOrdersFile.prototype.writeOrderPageNumber = function writeOrderPageNumber (order) {
  this.orderPage++
  this.doc.text('Page ' + this.orderPage, this.innerBox.centerX, this.innerBox.bottom + 10, 'center')
}

CpOrdersFile.prototype.startNewPage = function startNewPage (order) {
  this.writeOrderPageNumber(order)
  this.doc.addPage()
  var endY = this.writePageHeader(order)
  this.doc.setFontSize(10)
  return endY
}

module.exports = CpOrdersFile

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/custom-order.js

sms.addModule('assets/js/resources/custom-order.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  pay: function (params) {
    return Request.post('/api/v1/custom-order/pay', params)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/categories.js

sms.addModule('assets/js/resources/categories.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  categoriesGet: function (params) {
    return Request.get('/api/v1/categories/hierarchy', params)
  },
  subCategoriesGet: function (params) {
    return Request.get('/api/v1/categories/children', params)
  },
  categoryGet: function (id, params) {
    return Request.get('/api/v1/products/products-by-category/' + id, params)
  },
  productsGet: function () {
    return Request.productsByCategory
  },
  showCategoryGet: function (id, params) {
    return Request.get('/api/v1/categories/' + id, params)
  },
  editCategoryPut: function (category) {
    return Request.patch('/api/v1/categories/' + category.id, category)
  },
  deleteCategory: function (id, params) {
    return Request.delete('/api/v1/categories/' + id, params)
  },
  categoryCreate: function (category) {
    return Request.post('/api/v1/categories', category)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/addresses.js

sms.addModule('assets/js/resources/addresses.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  show: function (params) {
    return Request.get('/api/v1/address/show', params)
  },
  create: function (params) {
    return Request.post('/api/v1/address/create-or-update', params)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/AutoshipAPIv0.js

sms.addModule('assets/js/resources/AutoshipAPIv0.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')
const config = require('env').apis

const apiUrl = config.autoship

module.exports = {
  getPlan (params, id) {
    return Request.get(apiUrl + 'plans/' + id, params)
  },
  getPlans (params) {
    return Request.get(apiUrl + 'plans', params)
  },
  createPlan (params) {
    return Request.post(apiUrl + 'plans', params)
  },
  updatePlan (params, id) {
    return Request.patch(apiUrl + 'plans/' + id, params)
  },
  deletePlan (id) {
    return Request.delete(apiUrl + 'plans/' + id)
  },
  getSubscriptions (params) {
    return Request.get(apiUrl + 'subscriptions', params)
  },
  getSubscription (id) {
    return Request.get(apiUrl + 'subscriptions/' + id)
  },
  createSubscription (params) {
    return Request.post(apiUrl + 'subscriptions', params)
  },
  deleteSubscription (id) {
    return Request.delete(apiUrl + 'subscriptions/' + id)
  },
  disableSubscription (id) {
    return Request.get(apiUrl + 'subscriptions/' + id + '/disable')
  },
  processSubscription (id) {
    return Request.post(apiUrl + 'subscriptions/process/' + id)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/direct-deposit.js

sms.addModule('assets/js/resources/direct-deposit.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  accounts: function (params) {
    return Request.get('/api/v1/direct-deposit/account-index', params)
  },
  accountShow: function (params) {
    return Request.get('/api/v1/direct-deposit/details', params)
  },
  batches: function (params) {
    return Request.get('/api/v1/direct-deposit/batch-index', params)
  },
  batchIdDetails: function (id) {
    return Request.get('/api/v1/direct-deposit/batch-id/' + id)
  },
  batchDetails: function (params) {
    return Request.get('/api/v1/direct-deposit/detail', params)
  },
  downloadNacha: function (id) {
    return Request.get('/api/v1/direct-deposit/download/' + id)
  },
  markPaid: function (id) {
    return Request.post('/api/v1/direct-deposit/batch-submit/' + id)
  },
  paymentList: function (params) {
    return Request.get('/api/v1/payment/paymentLists', params)
  },
  submitPayment: function (id) {
    return Request.get('/api/v1/payment/submit/' + id)
  },
  paymentBatchId: function (id, params) {
    return Request.get('/api/v1/payment/details/' + id, params)
  },
  getValidations: function (params) {
    return Request.get('/api/v1/direct-deposit/validations', params)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/dashboard.js

sms.addModule('assets/js/resources/dashboard.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  salesVolume: function () {
    return Request.get('/api/v1/dashboard/sales-volume')
  },
  mcommVolume: function() {
    return Request.get('/api/v2/mcomm/kpi/')
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/libs/jszip.min.js

sms.addModule('assets/js/libs/jszip.min.js', {"path":""}, (require,exports,module)=>{
/*!

JSZip v3.1.5 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.JSZip=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=a("./utils"),e=a("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(a){for(var b,c,e,g,h,i,j,k=[],l=0,m=a.length,n=m,o="string"!==d.getTypeOf(a);l<a.length;)n=m-l,o?(b=a[l++],c=l<m?a[l++]:0,e=l<m?a[l++]:0):(b=a.charCodeAt(l++),c=l<m?a.charCodeAt(l++):0,e=l<m?a.charCodeAt(l++):0),g=b>>2,h=(3&b)<<4|c>>4,i=n>1?(15&c)<<2|e>>6:64,j=n>2?63&e:64,k.push(f.charAt(g)+f.charAt(h)+f.charAt(i)+f.charAt(j));return k.join("")},c.decode=function(a){var b,c,d,g,h,i,j,k=0,l=0,m="data:";if(a.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");var n=3*a.length/4;if(a.charAt(a.length-1)===f.charAt(64)&&n--,a.charAt(a.length-2)===f.charAt(64)&&n--,n%1!==0)throw new Error("Invalid base64 input, bad content length.");var o;for(o=e.uint8array?new Uint8Array(0|n):new Array(0|n);k<a.length;)g=f.indexOf(a.charAt(k++)),h=f.indexOf(a.charAt(k++)),i=f.indexOf(a.charAt(k++)),j=f.indexOf(a.charAt(k++)),b=g<<2|h>>4,c=(15&h)<<4|i>>2,d=(3&i)<<6|j,o[l++]=b,64!==i&&(o[l++]=c),64!==j&&(o[l++]=d);return o}},{"./support":30,"./utils":32}],2:[function(a,b,c){"use strict";function d(a,b,c,d,e){this.compressedSize=a,this.uncompressedSize=b,this.crc32=c,this.compression=d,this.compressedContent=e}var e=a("./external"),f=a("./stream/DataWorker"),g=a("./stream/DataLengthProbe"),h=a("./stream/Crc32Probe"),g=a("./stream/DataLengthProbe");d.prototype={getContentWorker:function(){var a=new f(e.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new g("data_length")),b=this;return a.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),a},getCompressedWorker:function(){return new f(e.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(a,b,c){return a.pipe(new h).pipe(new g("uncompressedSize")).pipe(b.compressWorker(c)).pipe(new g("compressedSize")).withStreamInfo("compression",b)},b.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(a,b,c){"use strict";var d=a("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(a){return new d("STORE compression")},uncompressWorker:function(){return new d("STORE decompression")}},c.DEFLATE=a("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(a,b,c){"use strict";function d(){for(var a,b=[],c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}function e(a,b,c,d){var e=h,f=d+c;a^=-1;for(var g=d;g<f;g++)a=a>>>8^e[255&(a^b[g])];return a^-1}function f(a,b,c,d){var e=h,f=d+c;a^=-1;for(var g=d;g<f;g++)a=a>>>8^e[255&(a^b.charCodeAt(g))];return a^-1}var g=a("./utils"),h=d();b.exports=function(a,b){if("undefined"==typeof a||!a.length)return 0;var c="string"!==g.getTypeOf(a);return c?e(0|b,a,a.length,0):f(0|b,a,a.length,0)}},{"./utils":32}],5:[function(a,b,c){"use strict";c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(a,b,c){"use strict";var d=null;d="undefined"!=typeof Promise?Promise:a("lie"),b.exports={Promise:d}},{lie:58}],7:[function(a,b,c){"use strict";function d(a,b){h.call(this,"FlateWorker/"+a),this._pako=null,this._pakoAction=a,this._pakoOptions=b,this.meta={}}var e="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,f=a("pako"),g=a("./utils"),h=a("./stream/GenericWorker"),i=e?"uint8array":"array";c.magic="\b\0",g.inherits(d,h),d.prototype.processChunk=function(a){this.meta=a.meta,null===this._pako&&this._createPako(),this._pako.push(g.transformTo(i,a.data),!1)},d.prototype.flush=function(){h.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var a=this;this._pako.onData=function(b){a.push({data:b,meta:a.meta})}},c.compressWorker=function(a){return new d("Deflate",a)},c.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(a,b,c){"use strict";function d(a,b,c,d){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=c,this.encodeFileName=d,this.streamFiles=a,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var e=a("../utils"),f=a("../stream/GenericWorker"),g=a("../utf8"),h=a("../crc32"),i=a("../signature"),j=function(a,b){var c,d="";for(c=0;c<b;c++)d+=String.fromCharCode(255&a),a>>>=8;return d},k=function(a,b){var c=a;return a||(c=b?16893:33204),(65535&c)<<16},l=function(a,b){return 63&(a||0)},m=function(a,b,c,d,f,m){var n,o,p=a.file,q=a.compression,r=m!==g.utf8encode,s=e.transformTo("string",m(p.name)),t=e.transformTo("string",g.utf8encode(p.name)),u=p.comment,v=e.transformTo("string",m(u)),w=e.transformTo("string",g.utf8encode(u)),x=t.length!==p.name.length,y=w.length!==u.length,z="",A="",B="",C=p.dir,D=p.date,E={crc32:0,compressedSize:0,uncompressedSize:0};b&&!c||(E.crc32=a.crc32,E.compressedSize=a.compressedSize,E.uncompressedSize=a.uncompressedSize);var F=0;b&&(F|=8),r||!x&&!y||(F|=2048);var G=0,H=0;C&&(G|=16),"UNIX"===f?(H=798,G|=k(p.unixPermissions,C)):(H=20,G|=l(p.dosPermissions,C)),n=D.getUTCHours(),n<<=6,n|=D.getUTCMinutes(),n<<=5,n|=D.getUTCSeconds()/2,o=D.getUTCFullYear()-1980,o<<=4,o|=D.getUTCMonth()+1,o<<=5,o|=D.getUTCDate(),x&&(A=j(1,1)+j(h(s),4)+t,z+="up"+j(A.length,2)+A),y&&(B=j(1,1)+j(h(v),4)+w,z+="uc"+j(B.length,2)+B);var I="";I+="\n\0",I+=j(F,2),I+=q.magic,I+=j(n,2),I+=j(o,2),I+=j(E.crc32,4),I+=j(E.compressedSize,4),I+=j(E.uncompressedSize,4),I+=j(s.length,2),I+=j(z.length,2);var J=i.LOCAL_FILE_HEADER+I+s+z,K=i.CENTRAL_FILE_HEADER+j(H,2)+I+j(v.length,2)+"\0\0\0\0"+j(G,4)+j(d,4)+s+z+v;return{fileRecord:J,dirRecord:K}},n=function(a,b,c,d,f){var g="",h=e.transformTo("string",f(d));return g=i.CENTRAL_DIRECTORY_END+"\0\0\0\0"+j(a,2)+j(a,2)+j(b,4)+j(c,4)+j(h.length,2)+h},o=function(a){var b="";return b=i.DATA_DESCRIPTOR+j(a.crc32,4)+j(a.compressedSize,4)+j(a.uncompressedSize,4)};e.inherits(d,f),d.prototype.push=function(a){var b=a.meta.percent||0,c=this.entriesCount,d=this._sources.length;this.accumulate?this.contentBuffer.push(a):(this.bytesWritten+=a.data.length,f.prototype.push.call(this,{data:a.data,meta:{currentFile:this.currentFile,percent:c?(b+100*(c-d-1))/c:100}}))},d.prototype.openedSource=function(a){this.currentSourceOffset=this.bytesWritten,this.currentFile=a.file.name;var b=this.streamFiles&&!a.file.dir;if(b){var c=m(a,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(a){this.accumulate=!1;var b=this.streamFiles&&!a.file.dir,c=m(a,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),b)this.push({data:o(a),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var a=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var c=this.bytesWritten-a,d=n(this.dirRecords.length,c,a,this.zipComment,this.encodeFileName);this.push({data:d,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(a){this._sources.push(a);var b=this;return a.on("data",function(a){b.processChunk(a)}),a.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),a.on("error",function(a){b.error(a)}),this},d.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(a){var b=this._sources;if(!f.prototype.error.call(this,a))return!1;for(var c=0;c<b.length;c++)try{b[c].error(a)}catch(a){}return!0},d.prototype.lock=function(){f.prototype.lock.call(this);for(var a=this._sources,b=0;b<a.length;b++)a[b].lock()},b.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(a,b,c){"use strict";var d=a("../compressions"),e=a("./ZipFileWorker"),f=function(a,b){var c=a||b,e=d[c];if(!e)throw new Error(c+" is not a valid compression method !");return e};c.generateWorker=function(a,b,c){var d=new e(b.streamFiles,c,b.platform,b.encodeFileName),g=0;try{a.forEach(function(a,c){g++;var e=f(c.options.compression,b.compression),h=c.options.compressionOptions||b.compressionOptions||{},i=c.dir,j=c.date;c._compressWorker(e,h).withStreamInfo("file",{name:a,dir:i,date:j,comment:c.comment||"",unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions}).pipe(d)}),d.entriesCount=g}catch(h){d.error(h)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(a,b,c){"use strict";function d(){if(!(this instanceof d))return new d;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var a=new d;for(var b in this)"function"!=typeof this[b]&&(a[b]=this[b]);return a}}d.prototype=a("./object"),d.prototype.loadAsync=a("./load"),d.support=a("./support"),d.defaults=a("./defaults"),d.version="3.1.5",d.loadAsync=function(a,b){return(new d).loadAsync(a,b)},d.external=a("./external"),b.exports=d},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(a,b,c){"use strict";function d(a){return new f.Promise(function(b,c){var d=a.decompressed.getContentWorker().pipe(new i);d.on("error",function(a){c(a)}).on("end",function(){d.streamInfo.crc32!==a.decompressed.crc32?c(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}var e=a("./utils"),f=a("./external"),g=a("./utf8"),e=a("./utils"),h=a("./zipEntries"),i=a("./stream/Crc32Probe"),j=a("./nodejsUtils");b.exports=function(a,b){var c=this;return b=e.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),j.isNode&&j.isStream(a)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):e.prepareContent("the loaded zip file",a,!0,b.optimizedBinaryString,b.base64).then(function(a){var c=new h(b);return c.load(a),c}).then(function(a){var c=[f.Promise.resolve(a)],e=a.files;if(b.checkCRC32)for(var g=0;g<e.length;g++)c.push(d(e[g]));return f.Promise.all(c)}).then(function(a){for(var d=a.shift(),e=d.files,f=0;f<e.length;f++){var g=e[f];c.file(g.fileNameStr,g.decompressed,{binary:!0,optimizedBinaryString:!0,date:g.date,dir:g.dir,comment:g.fileCommentStr.length?g.fileCommentStr:null,unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions,createFolders:b.createFolders})}return d.zipComment.length&&(c.comment=d.zipComment),c})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(a,b,c){"use strict";function d(a,b){f.call(this,"Nodejs stream input adapter for "+a),this._upstreamEnded=!1,this._bindStream(b)}var e=a("../utils"),f=a("../stream/GenericWorker");e.inherits(d,f),d.prototype._bindStream=function(a){var b=this;this._stream=a,a.pause(),a.on("data",function(a){b.push({data:a,meta:{percent:0}})}).on("error",function(a){b.isPaused?this.generatedError=a:b.error(a)}).on("end",function(){b.isPaused?b._upstreamEnded=!0:b.end()})},d.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},b.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,b),this._helper=a;var d=this;a.on("data",function(a,b){d.push(a)||d._helper.pause(),c&&c(b)}).on("error",function(a){d.emit("error",a)}).on("end",function(){d.push(null)})}var e=a("readable-stream").Readable,f=a("../utils");f.inherits(d,e),d.prototype._read=function(){this._helper.resume()},b.exports=d},{"../utils":32,"readable-stream":16}],14:[function(a,b,c){"use strict";b.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(a,b){return new Buffer(a,b)},allocBuffer:function(a){return Buffer.alloc?Buffer.alloc(a):new Buffer(a)},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&"function"==typeof a.on&&"function"==typeof a.pause&&"function"==typeof a.resume}}},{}],15:[function(a,b,c){"use strict";function d(a){return"[object RegExp]"===Object.prototype.toString.call(a)}var e=a("./utf8"),f=a("./utils"),g=a("./stream/GenericWorker"),h=a("./stream/StreamHelper"),i=a("./defaults"),j=a("./compressedObject"),k=a("./zipObject"),l=a("./generate"),m=a("./nodejsUtils"),n=a("./nodejs/NodejsStreamInputAdapter"),o=function(a,b,c){var d,e=f.getTypeOf(b),h=f.extend(c||{},i);h.date=h.date||new Date,null!==h.compression&&(h.compression=h.compression.toUpperCase()),"string"==typeof h.unixPermissions&&(h.unixPermissions=parseInt(h.unixPermissions,8)),h.unixPermissions&&16384&h.unixPermissions&&(h.dir=!0),h.dosPermissions&&16&h.dosPermissions&&(h.dir=!0),h.dir&&(a=q(a)),h.createFolders&&(d=p(a))&&r.call(this,d,!0);var l="string"===e&&h.binary===!1&&h.base64===!1;c&&"undefined"!=typeof c.binary||(h.binary=!l);var o=b instanceof j&&0===b.uncompressedSize;(o||h.dir||!b||0===b.length)&&(h.base64=!1,h.binary=!0,b="",h.compression="STORE",e="string");var s=null;s=b instanceof j||b instanceof g?b:m.isNode&&m.isStream(b)?new n(a,b):f.prepareContent(a,b,h.binary,h.optimizedBinaryString,h.base64);var t=new k(a,s,h);this.files[a]=t},p=function(a){"/"===a.slice(-1)&&(a=a.substring(0,a.length-1));var b=a.lastIndexOf("/");return b>0?a.substring(0,b):""},q=function(a){return"/"!==a.slice(-1)&&(a+="/"),a},r=function(a,b){return b="undefined"!=typeof b?b:i.createFolders,a=q(a),this.files[a]||o.call(this,a,null,{dir:!0,createFolders:b}),this.files[a]},s={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(a){var b,c,d;for(b in this.files)this.files.hasOwnProperty(b)&&(d=this.files[b],c=b.slice(this.root.length,b.length),c&&b.slice(0,this.root.length)===this.root&&a(c,d))},filter:function(a){var b=[];return this.forEach(function(c,d){a(c,d)&&b.push(d)}),b},file:function(a,b,c){if(1===arguments.length){if(d(a)){var e=a;return this.filter(function(a,b){return!b.dir&&e.test(a)})}var f=this.files[this.root+a];return f&&!f.dir?f:null}return a=this.root+a,o.call(this,a,b,c),this},folder:function(a){if(!a)return this;if(d(a))return this.filter(function(b,c){return c.dir&&a.test(b)});var b=this.root+a,c=r.call(this,b),e=this.clone();return e.root=c.name,e},remove:function(a){a=this.root+a;var b=this.files[a];if(b||("/"!==a.slice(-1)&&(a+="/"),b=this.files[a]),b&&!b.dir)delete this.files[a];else for(var c=this.filter(function(b,c){return c.name.slice(0,a.length)===a}),d=0;d<c.length;d++)delete this.files[c[d].name];return this},generate:function(a){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(a){var b,c={};try{if(c=f.extend(a||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:e.utf8encode}),c.type=c.type.toLowerCase(),c.compression=c.compression.toUpperCase(),"binarystring"===c.type&&(c.type="string"),!c.type)throw new Error("No output type specified.");f.checkSupport(c.type),"darwin"!==c.platform&&"freebsd"!==c.platform&&"linux"!==c.platform&&"sunos"!==c.platform||(c.platform="UNIX"),"win32"===c.platform&&(c.platform="DOS");var d=c.comment||this.comment||"";b=l.generateWorker(this,c,d)}catch(i){b=new g("error"),b.error(i)}return new h(b,c.type||"string",c.mimeType)},generateAsync:function(a,b){return this.generateInternalStream(a).accumulate(b)},generateNodeStream:function(a,b){return a=a||{},a.type||(a.type="nodebuffer"),this.generateInternalStream(a).toNodejsStream(b)}};b.exports=s},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(a,b,c){b.exports=a("stream")},{stream:void 0}],17:[function(a,b,c){"use strict";function d(a){e.call(this,a);for(var b=0;b<this.data.length;b++)a[b]=255&a[b]}var e=a("./DataReader"),f=a("../utils");f.inherits(d,e),d.prototype.byteAt=function(a){return this.data[this.zero+a]},d.prototype.lastIndexOfSignature=function(a){for(var b=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),e=a.charCodeAt(3),f=this.length-4;f>=0;--f)if(this.data[f]===b&&this.data[f+1]===c&&this.data[f+2]===d&&this.data[f+3]===e)return f-this.zero;return-1},d.prototype.readAndCheckSignature=function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),e=a.charCodeAt(3),f=this.readData(4);return b===f[0]&&c===f[1]&&d===f[2]&&e===f[3]},d.prototype.readData=function(a){if(this.checkOffset(a),0===a)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{"../utils":32,"./DataReader":18}],18:[function(a,b,c){"use strict";function d(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}var e=a("../utils");d.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(a){},readInt:function(a){var b,c=0;for(this.checkOffset(a),b=this.index+a-1;b>=this.index;b--)c=(c<<8)+this.byteAt(b);return this.index+=a,c},readString:function(a){return e.transformTo("string",this.readData(a))},readData:function(a){},lastIndexOfSignature:function(a){},readAndCheckSignature:function(a){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC((a>>25&127)+1980,(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},b.exports=d},{"../utils":32}],19:[function(a,b,c){"use strict";function d(a){e.call(this,a)}var e=a("./Uint8ArrayReader"),f=a("../utils");f.inherits(d,e),d.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(a,b,c){"use strict";function d(a){e.call(this,a)}var e=a("./DataReader"),f=a("../utils");f.inherits(d,e),d.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},d.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},d.prototype.readAndCheckSignature=function(a){var b=this.readData(4);return a===b},d.prototype.readData=function(a){this.checkOffset(a);var b=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{"../utils":32,"./DataReader":18}],21:[function(a,b,c){"use strict";function d(a){e.call(this,a)}var e=a("./ArrayReader"),f=a("../utils");f.inherits(d,e),d.prototype.readData=function(a){if(this.checkOffset(a),0===a)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,b},b.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(a,b,c){"use strict";var d=a("../utils"),e=a("../support"),f=a("./ArrayReader"),g=a("./StringReader"),h=a("./NodeBufferReader"),i=a("./Uint8ArrayReader");b.exports=function(a){var b=d.getTypeOf(a);return d.checkSupport(b),"string"!==b||e.uint8array?"nodebuffer"===b?new h(a):e.uint8array?new i(d.transformTo("uint8array",a)):new f(d.transformTo("array",a)):new g(a)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(a,b,c){"use strict";c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\b"},{}],24:[function(a,b,c){"use strict";function d(a){e.call(this,"ConvertWorker to "+a),this.destType=a}var e=a("./GenericWorker"),f=a("../utils");f.inherits(d,e),d.prototype.processChunk=function(a){this.push({data:f.transformTo(this.destType,a.data),meta:a.meta})},b.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(a,b,c){"use strict";function d(){e.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var e=a("./GenericWorker"),f=a("../crc32"),g=a("../utils");g.inherits(d,e),d.prototype.processChunk=function(a){this.streamInfo.crc32=f(a.data,this.streamInfo.crc32||0),this.push(a)},b.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(a,b,c){"use strict";function d(a){f.call(this,"DataLengthProbe for "+a),this.propName=a,this.withStreamInfo(a,0)}var e=a("../utils"),f=a("./GenericWorker");e.inherits(d,f),d.prototype.processChunk=function(a){if(a){var b=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=b+a.data.length}f.prototype.processChunk.call(this,a)},b.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(a,b,c){"use strict";function d(a){f.call(this,"DataWorker");var b=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,a.then(function(a){b.dataIsReady=!0,b.data=a,b.max=a&&a.length||0,b.type=e.getTypeOf(a),b.isPaused||b._tickAndRepeat()},function(a){b.error(a)})}var e=a("../utils"),f=a("./GenericWorker"),g=16384;e.inherits(d,f),d.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,e.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(e.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var a=g,b=null,c=Math.min(this.max,this.index+a);if(this.index>=this.max)return this.end();switch(this.type){case"string":b=this.data.substring(this.index,c);break;case"uint8array":b=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":b=this.data.slice(this.index,c)}return this.index=c,this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})},b.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(a,b,c){"use strict";function d(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}d.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,b){return this._listeners[a].push(b),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,b){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,b)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var b=this;return a.on("data",function(a){b.processChunk(a)}),a.on("end",function(){b.end()}),a.on("error",function(a){b.error(a)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var a=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,b){return this.extraStreamInfo[a]=b,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},b.exports=d},{}],29:[function(a,b,c){"use strict";function d(a,b,c){switch(a){case"blob":return h.newBlob(h.transformTo("arraybuffer",b),c);case"base64":return k.encode(b);default:return h.transformTo(a,b)}}function e(a,b){var c,d=0,e=null,f=0;for(c=0;c<b.length;c++)f+=b[c].length;switch(a){case"string":return b.join("");case"array":return Array.prototype.concat.apply([],b);case"uint8array":for(e=new Uint8Array(f),c=0;c<b.length;c++)e.set(b[c],d),d+=b[c].length;return e;case"nodebuffer":return Buffer.concat(b);default:throw new Error("concat : unsupported type '"+a+"'")}}function f(a,b){return new m.Promise(function(c,f){var g=[],h=a._internalType,i=a._outputType,j=a._mimeType;a.on("data",function(a,c){g.push(a),b&&b(c)}).on("error",function(a){g=[],f(a)}).on("end",function(){try{var a=d(i,e(h,g),j);c(a)}catch(b){f(b)}g=[]}).resume()})}function g(a,b,c){var d=b;switch(b){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=b,this._mimeType=c,h.checkSupport(d),this._worker=a.pipe(new i(d)),a.lock()}catch(e){this._worker=new j("error"),this._worker.error(e)}}var h=a("../utils"),i=a("./ConvertWorker"),j=a("./GenericWorker"),k=a("../base64"),l=a("../support"),m=a("../external"),n=null;if(l.nodestream)try{n=a("../nodejs/NodejsStreamOutputAdapter")}catch(o){}g.prototype={accumulate:function(a){return f(this,a)},on:function(a,b){var c=this;return"data"===a?this._worker.on(a,function(a){b.call(c,a.data,a.meta)}):this._worker.on(a,function(){h.delay(b,arguments,c)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(a){if(h.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new n(this,{objectMode:"nodebuffer"!==this._outputType},a)}},b.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(a,b,c){"use strict";if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,c.nodebuffer="undefined"!=typeof Buffer,c.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)c.blob=!1;else{var d=new ArrayBuffer(0);try{c.blob=0===new Blob([d],{type:"application/zip"}).size}catch(e){try{var f=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,g=new f;g.append(d),c.blob=0===g.getBlob("application/zip").size}catch(e){c.blob=!1}}}try{c.nodestream=!!a("readable-stream").Readable}catch(e){c.nodestream=!1}},{"readable-stream":16}],31:[function(a,b,c){"use strict";function d(){i.call(this,"utf-8 decode"),this.leftOver=null}function e(){i.call(this,"utf-8 encode")}for(var f=a("./utils"),g=a("./support"),h=a("./nodejsUtils"),i=a("./stream/GenericWorker"),j=new Array(256),k=0;k<256;k++)j[k]=k>=252?6:k>=248?5:k>=240?4:k>=224?3:k>=192?2:1;j[254]=j[254]=1;var l=function(a){var b,c,d,e,f,h=a.length,i=0;for(e=0;e<h;e++)c=a.charCodeAt(e),55296===(64512&c)&&e+1<h&&(d=a.charCodeAt(e+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),e++)),i+=c<128?1:c<2048?2:c<65536?3:4;for(b=g.uint8array?new Uint8Array(i):new Array(i),f=0,e=0;f<i;e++)c=a.charCodeAt(e),55296===(64512&c)&&e+1<h&&(d=a.charCodeAt(e+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),e++)),c<128?b[f++]=c:c<2048?(b[f++]=192|c>>>6,b[f++]=128|63&c):c<65536?(b[f++]=224|c>>>12,b[f++]=128|c>>>6&63,b[f++]=128|63&c):(b[f++]=240|c>>>18,b[f++]=128|c>>>12&63,b[f++]=128|c>>>6&63,b[f++]=128|63&c);return b},m=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128===(192&a[c]);)c--;return c<0?b:0===c?b:c+j[a[c]]>b?c:b},n=function(a){var b,c,d,e,g=a.length,h=new Array(2*g);for(c=0,b=0;b<g;)if(d=a[b++],d<128)h[c++]=d;else if(e=j[d],e>4)h[c++]=65533,b+=e-1;else{for(d&=2===e?31:3===e?15:7;e>1&&b<g;)d=d<<6|63&a[b++],e--;e>1?h[c++]=65533:d<65536?h[c++]=d:(d-=65536,h[c++]=55296|d>>10&1023,h[c++]=56320|1023&d)}return h.length!==c&&(h.subarray?h=h.subarray(0,c):h.length=c),f.applyFromCharCode(h)};c.utf8encode=function(a){return g.nodebuffer?h.newBufferFrom(a,"utf-8"):l(a)},c.utf8decode=function(a){return g.nodebuffer?f.transformTo("nodebuffer",a).toString("utf-8"):(a=f.transformTo(g.uint8array?"uint8array":"array",a),n(a))},f.inherits(d,i),d.prototype.processChunk=function(a){var b=f.transformTo(g.uint8array?"uint8array":"array",a.data);if(this.leftOver&&this.leftOver.length){if(g.uint8array){var d=b;b=new Uint8Array(d.length+this.leftOver.length),b.set(this.leftOver,0),b.set(d,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var e=m(b),h=b;e!==b.length&&(g.uint8array?(h=b.subarray(0,e),this.leftOver=b.subarray(e,b.length)):(h=b.slice(0,e),this.leftOver=b.slice(e,b.length))),this.push({data:c.utf8decode(h),meta:a.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=d,f.inherits(e,i),e.prototype.processChunk=function(a){this.push({data:c.utf8encode(a.data),meta:a.meta})},c.Utf8EncodeWorker=e},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(a,b,c){"use strict";function d(a){var b=null;return b=i.uint8array?new Uint8Array(a.length):new Array(a.length),f(a,b)}function e(a){return a}function f(a,b){for(var c=0;c<a.length;++c)b[c]=255&a.charCodeAt(c);return b}function g(a){var b=65536,d=c.getTypeOf(a),e=!0;if("uint8array"===d?e=n.applyCanBeUsed.uint8array:"nodebuffer"===d&&(e=n.applyCanBeUsed.nodebuffer),e)for(;b>1;)try{return n.stringifyByChunk(a,d,b)}catch(f){b=Math.floor(b/2)}return n.stringifyByChar(a)}function h(a,b){for(var c=0;c<a.length;c++)b[c]=a[c];
return b}var i=a("./support"),j=a("./base64"),k=a("./nodejsUtils"),l=a("core-js/library/fn/set-immediate"),m=a("./external");c.newBlob=function(a,b){c.checkSupport("blob");try{return new Blob([a],{type:b})}catch(d){try{var e=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,f=new e;return f.append(a),f.getBlob(b)}catch(d){throw new Error("Bug : can't construct the Blob.")}}};var n={stringifyByChunk:function(a,b,c){var d=[],e=0,f=a.length;if(f<=c)return String.fromCharCode.apply(null,a);for(;e<f;)"array"===b||"nodebuffer"===b?d.push(String.fromCharCode.apply(null,a.slice(e,Math.min(e+c,f)))):d.push(String.fromCharCode.apply(null,a.subarray(e,Math.min(e+c,f)))),e+=c;return d.join("")},stringifyByChar:function(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(a){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,k.allocBuffer(1)).length}catch(a){return!1}}()}};c.applyFromCharCode=g;var o={};o.string={string:e,array:function(a){return f(a,new Array(a.length))},arraybuffer:function(a){return o.string.uint8array(a).buffer},uint8array:function(a){return f(a,new Uint8Array(a.length))},nodebuffer:function(a){return f(a,k.allocBuffer(a.length))}},o.array={string:g,array:e,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return k.newBufferFrom(a)}},o.arraybuffer={string:function(a){return g(new Uint8Array(a))},array:function(a){return h(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:e,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return k.newBufferFrom(new Uint8Array(a))}},o.uint8array={string:g,array:function(a){return h(a,new Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:e,nodebuffer:function(a){return k.newBufferFrom(a)}},o.nodebuffer={string:g,array:function(a){return h(a,new Array(a.length))},arraybuffer:function(a){return o.nodebuffer.uint8array(a).buffer},uint8array:function(a){return h(a,new Uint8Array(a.length))},nodebuffer:e},c.transformTo=function(a,b){if(b||(b=""),!a)return b;c.checkSupport(a);var d=c.getTypeOf(b),e=o[d][a](b);return e},c.getTypeOf=function(a){return"string"==typeof a?"string":"[object Array]"===Object.prototype.toString.call(a)?"array":i.nodebuffer&&k.isBuffer(a)?"nodebuffer":i.uint8array&&a instanceof Uint8Array?"uint8array":i.arraybuffer&&a instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(a){var b=i[a.toLowerCase()];if(!b)throw new Error(a+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(a){var b,c,d="";for(c=0;c<(a||"").length;c++)b=a.charCodeAt(c),d+="\\x"+(b<16?"0":"")+b.toString(16).toUpperCase();return d},c.delay=function(a,b,c){l(function(){a.apply(c||null,b||[])})},c.inherits=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c},c.extend=function(){var a,b,c={};for(a=0;a<arguments.length;a++)for(b in arguments[a])arguments[a].hasOwnProperty(b)&&"undefined"==typeof c[b]&&(c[b]=arguments[a][b]);return c},c.prepareContent=function(a,b,e,f,g){var h=m.Promise.resolve(b).then(function(a){var b=i.blob&&(a instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(a))!==-1);return b&&"undefined"!=typeof FileReader?new m.Promise(function(b,c){var d=new FileReader;d.onload=function(a){b(a.target.result)},d.onerror=function(a){c(a.target.error)},d.readAsArrayBuffer(a)}):a});return h.then(function(b){var h=c.getTypeOf(b);return h?("arraybuffer"===h?b=c.transformTo("uint8array",b):"string"===h&&(g?b=j.decode(b):e&&f!==!0&&(b=d(b))),b):m.Promise.reject(new Error("Can't read the data of '"+a+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(a,b,c){"use strict";function d(a){this.files=[],this.loadOptions=a}var e=a("./reader/readerFor"),f=a("./utils"),g=a("./signature"),h=a("./zipEntry"),i=(a("./utf8"),a("./support"));d.prototype={checkSignature:function(a){if(!this.reader.readAndCheckSignature(a)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(b)+", expected "+f.pretty(a)+")")}},isSignature:function(a,b){var c=this.reader.index;this.reader.setIndex(a);var d=this.reader.readString(4),e=d===b;return this.reader.setIndex(c),e},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var a=this.reader.readData(this.zipCommentLength),b=i.uint8array?"uint8array":"array",c=f.transformTo(b,a);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var a,b,c,d=this.zip64EndOfCentralSize-44,e=0;e<d;)a=this.reader.readInt(2),b=this.reader.readInt(4),c=this.reader.readData(b),this.zip64ExtensibleData[a]={id:a,length:b,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var a,b;for(a=0;a<this.files.length;a++)b=this.files[a],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var a;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)a=new h({zip64:this.zip64},this.loadOptions),a.readCentralPart(this.reader),this.files.push(a);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var a=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(a<0){var b=!this.isSignature(0,g.LOCAL_FILE_HEADER);throw b?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(a);var c=a;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,a=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),a<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(a),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var e=c-d;if(e>0)this.isSignature(c,g.CENTRAL_FILE_HEADER)||(this.reader.zero=e);else if(e<0)throw new Error("Corrupted zip: missing "+Math.abs(e)+" bytes.")},prepareReader:function(a){this.reader=e(a)},load:function(a){this.prepareReader(a),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(a,b,c){"use strict";function d(a,b){this.options=a,this.loadOptions=b}var e=a("./reader/readerFor"),f=a("./utils"),g=a("./compressedObject"),h=a("./crc32"),i=a("./utf8"),j=a("./compressions"),k=a("./support"),l=0,m=3,n=function(a){for(var b in j)if(j.hasOwnProperty(b)&&j[b].magic===a)return j[b];return null};d.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(a){var b,c;if(a.skip(22),this.fileNameLength=a.readInt(2),c=a.readInt(2),this.fileName=a.readData(this.fileNameLength),a.skip(c),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(b=n(this.compressionMethod),null===b)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,b,a.readData(this.compressedSize))},readCentralPart:function(a){this.versionMadeBy=a.readInt(2),a.skip(2),this.bitFlag=a.readInt(2),this.compressionMethod=a.readString(2),this.date=a.readDate(),this.crc32=a.readInt(4),this.compressedSize=a.readInt(4),this.uncompressedSize=a.readInt(4);var b=a.readInt(2);if(this.extraFieldsLength=a.readInt(2),this.fileCommentLength=a.readInt(2),this.diskNumberStart=a.readInt(2),this.internalFileAttributes=a.readInt(2),this.externalFileAttributes=a.readInt(4),this.localHeaderOffset=a.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");a.skip(b),this.readExtraFields(a),this.parseZIP64ExtraField(a),this.fileComment=a.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var a=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),a===l&&(this.dosPermissions=63&this.externalFileAttributes),a===m&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(a){if(this.extraFields[1]){var b=e(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(a){var b,c,d,e=a.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});a.index<e;)b=a.readInt(2),c=a.readInt(2),d=a.readData(c),this.extraFields[b]={id:b,length:c,value:d}},handleUTF8:function(){var a=k.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=i.utf8decode(this.fileName),this.fileCommentStr=i.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(null!==b)this.fileNameStr=b;else{var c=f.transformTo(a,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var d=this.findExtraFieldUnicodeComment();if(null!==d)this.fileCommentStr=d;else{var e=f.transformTo(a,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(e)}}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var b=e(a.value);return 1!==b.readInt(1)?null:h(this.fileName)!==b.readInt(4)?null:i.utf8decode(b.readData(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var b=e(a.value);return 1!==b.readInt(1)?null:h(this.fileComment)!==b.readInt(4)?null:i.utf8decode(b.readData(a.length-5))}return null}},b.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(a,b,c){"use strict";var d=a("./stream/StreamHelper"),e=a("./stream/DataWorker"),f=a("./utf8"),g=a("./compressedObject"),h=a("./stream/GenericWorker"),i=function(a,b,c){this.name=a,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this.unixPermissions=c.unixPermissions,this.dosPermissions=c.dosPermissions,this._data=b,this._dataBinary=c.binary,this.options={compression:c.compression,compressionOptions:c.compressionOptions}};i.prototype={internalStream:function(a){var b=null,c="string";try{if(!a)throw new Error("No output type specified.");c=a.toLowerCase();var e="string"===c||"text"===c;"binarystring"!==c&&"text"!==c||(c="string"),b=this._decompressWorker();var g=!this._dataBinary;g&&!e&&(b=b.pipe(new f.Utf8EncodeWorker)),!g&&e&&(b=b.pipe(new f.Utf8DecodeWorker))}catch(i){b=new h("error"),b.error(i)}return new d(b,c,"")},async:function(a,b){return this.internalStream(a).accumulate(b)},nodeStream:function(a,b){return this.internalStream(a||"nodebuffer").toNodejsStream(b)},_compressWorker:function(a,b){if(this._data instanceof g&&this._data.compression.magic===a.magic)return this._data.getCompressedWorker();var c=this._decompressWorker();return this._dataBinary||(c=c.pipe(new f.Utf8EncodeWorker)),g.createWorkerFrom(c,a,b)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof h?this._data:new e(this._data)}};for(var j=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],k=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<j.length;l++)i.prototype[j[l]]=k;b.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(a,b,c){a("../modules/web.immediate"),b.exports=a("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(a,b,c){b.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},{}],38:[function(a,b,c){var d=a("./_is-object");b.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},{"./_is-object":51}],39:[function(a,b,c){var d={}.toString;b.exports=function(a){return d.call(a).slice(8,-1)}},{}],40:[function(a,b,c){var d=b.exports={version:"2.3.0"};"number"==typeof __e&&(__e=d)},{}],41:[function(a,b,c){var d=a("./_a-function");b.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},{"./_a-function":37}],42:[function(a,b,c){b.exports=!a("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(a,b,c){var d=a("./_is-object"),e=a("./_global").document,f=d(e)&&d(e.createElement);b.exports=function(a){return f?e.createElement(a):{}}},{"./_global":46,"./_is-object":51}],44:[function(a,b,c){var d=a("./_global"),e=a("./_core"),f=a("./_ctx"),g=a("./_hide"),h="prototype",i=function(a,b,c){var j,k,l,m=a&i.F,n=a&i.G,o=a&i.S,p=a&i.P,q=a&i.B,r=a&i.W,s=n?e:e[b]||(e[b]={}),t=s[h],u=n?d:o?d[b]:(d[b]||{})[h];n&&(c=b);for(j in c)k=!m&&u&&void 0!==u[j],k&&j in s||(l=k?u[j]:c[j],s[j]=n&&"function"!=typeof u[j]?c[j]:q&&k?f(l,d):r&&u[j]==l?function(a){var b=function(b,c,d){if(this instanceof a){switch(arguments.length){case 0:return new a;case 1:return new a(b);case 2:return new a(b,c)}return new a(b,c,d)}return a.apply(this,arguments)};return b[h]=a[h],b}(l):p&&"function"==typeof l?f(Function.call,l):l,p&&((s.virtual||(s.virtual={}))[j]=l,a&i.R&&t&&!t[j]&&g(t,j,l)))};i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,i.U=64,i.R=128,b.exports=i},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(a,b,c){b.exports=function(a){try{return!!a()}catch(b){return!0}}},{}],46:[function(a,b,c){var d=b.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},{}],47:[function(a,b,c){var d=a("./_object-dp"),e=a("./_property-desc");b.exports=a("./_descriptors")?function(a,b,c){return d.f(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(a,b,c){b.exports=a("./_global").document&&document.documentElement},{"./_global":46}],49:[function(a,b,c){b.exports=!a("./_descriptors")&&!a("./_fails")(function(){return 7!=Object.defineProperty(a("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(a,b,c){b.exports=function(a,b,c){var d=void 0===c;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)}},{}],51:[function(a,b,c){b.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},{}],52:[function(a,b,c){var d=a("./_an-object"),e=a("./_ie8-dom-define"),f=a("./_to-primitive"),g=Object.defineProperty;c.f=a("./_descriptors")?Object.defineProperty:function(a,b,c){if(d(a),b=f(b,!0),d(c),e)try{return g(a,b,c)}catch(h){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],53:[function(a,b,c){b.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},{}],54:[function(a,b,c){var d,e,f,g=a("./_ctx"),h=a("./_invoke"),i=a("./_html"),j=a("./_dom-create"),k=a("./_global"),l=k.process,m=k.setImmediate,n=k.clearImmediate,o=k.MessageChannel,p=0,q={},r="onreadystatechange",s=function(){var a=+this;if(q.hasOwnProperty(a)){var b=q[a];delete q[a],b()}},t=function(a){s.call(a.data)};m&&n||(m=function(a){for(var b=[],c=1;arguments.length>c;)b.push(arguments[c++]);return q[++p]=function(){h("function"==typeof a?a:Function(a),b)},d(p),p},n=function(a){delete q[a]},"process"==a("./_cof")(l)?d=function(a){l.nextTick(g(s,a,1))}:o?(e=new o,f=e.port2,e.port1.onmessage=t,d=g(f.postMessage,f,1)):k.addEventListener&&"function"==typeof postMessage&&!k.importScripts?(d=function(a){k.postMessage(a+"","*")},k.addEventListener("message",t,!1)):d=r in j("script")?function(a){i.appendChild(j("script"))[r]=function(){i.removeChild(this),s.call(a)}}:function(a){setTimeout(g(s,a,1),0)}),b.exports={set:m,clear:n}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(a,b,c){var d=a("./_is-object");b.exports=function(a,b){if(!d(a))return a;var c,e;if(b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;if("function"==typeof(c=a.valueOf)&&!d(e=c.call(a)))return e;if(!b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":51}],56:[function(a,b,c){var d=a("./_export"),e=a("./_task");d(d.G+d.B,{setImmediate:e.set,clearImmediate:e.clear})},{"./_export":44,"./_task":54}],57:[function(a,b,c){(function(a){"use strict";function c(){k=!0;for(var a,b,c=l.length;c;){for(b=l,l=[],a=-1;++a<c;)b[a]();c=l.length}k=!1}function d(a){1!==l.push(a)||k||e()}var e,f=a.MutationObserver||a.WebKitMutationObserver;if(f){var g=0,h=new f(c),i=a.document.createTextNode("");h.observe(i,{characterData:!0}),e=function(){i.data=g=++g%2}}else if(a.setImmediate||"undefined"==typeof a.MessageChannel)e="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var b=a.document.createElement("script");b.onreadystatechange=function(){c(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},a.document.documentElement.appendChild(b)}:function(){setTimeout(c,0)};else{var j=new a.MessageChannel;j.port1.onmessage=c,e=function(){j.port2.postMessage(0)}}var k,l=[];b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(a,b,c){"use strict";function d(){}function e(a){if("function"!=typeof a)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,a!==d&&i(this,a)}function f(a,b,c){this.promise=a,"function"==typeof b&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),"function"==typeof c&&(this.onRejected=c,this.callRejected=this.otherCallRejected)}function g(a,b,c){o(function(){var d;try{d=b(c)}catch(e){return p.reject(a,e)}d===a?p.reject(a,new TypeError("Cannot resolve promise with itself")):p.resolve(a,d)})}function h(a){var b=a&&a.then;if(a&&("object"==typeof a||"function"==typeof a)&&"function"==typeof b)return function(){b.apply(a,arguments)}}function i(a,b){function c(b){f||(f=!0,p.reject(a,b))}function d(b){f||(f=!0,p.resolve(a,b))}function e(){b(d,c)}var f=!1,g=j(e);"error"===g.status&&c(g.value)}function j(a,b){var c={};try{c.value=a(b),c.status="success"}catch(d){c.status="error",c.value=d}return c}function k(a){return a instanceof this?a:p.resolve(new this(d),a)}function l(a){var b=new this(d);return p.reject(b,a)}function m(a){function b(a,b){function d(a){g[b]=a,++h!==e||f||(f=!0,p.resolve(j,g))}c.resolve(a).then(d,function(a){f||(f=!0,p.reject(j,a))})}var c=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var e=a.length,f=!1;if(!e)return this.resolve([]);for(var g=new Array(e),h=0,i=-1,j=new this(d);++i<e;)b(a[i],i);return j}function n(a){function b(a){c.resolve(a).then(function(a){f||(f=!0,p.resolve(h,a))},function(a){f||(f=!0,p.reject(h,a))})}var c=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var e=a.length,f=!1;if(!e)return this.resolve([]);for(var g=-1,h=new this(d);++g<e;)b(a[g]);return h}var o=a("immediate"),p={},q=["REJECTED"],r=["FULFILLED"],s=["PENDING"];b.exports=e,e.prototype["catch"]=function(a){return this.then(null,a)},e.prototype.then=function(a,b){if("function"!=typeof a&&this.state===r||"function"!=typeof b&&this.state===q)return this;var c=new this.constructor(d);if(this.state!==s){var e=this.state===r?a:b;g(c,e,this.outcome)}else this.queue.push(new f(c,a,b));return c},f.prototype.callFulfilled=function(a){p.resolve(this.promise,a)},f.prototype.otherCallFulfilled=function(a){g(this.promise,this.onFulfilled,a)},f.prototype.callRejected=function(a){p.reject(this.promise,a)},f.prototype.otherCallRejected=function(a){g(this.promise,this.onRejected,a)},p.resolve=function(a,b){var c=j(h,b);if("error"===c.status)return p.reject(a,c.value);var d=c.value;if(d)i(a,d);else{a.state=r,a.outcome=b;for(var e=-1,f=a.queue.length;++e<f;)a.queue[e].callFulfilled(b)}return a},p.reject=function(a,b){a.state=q,a.outcome=b;for(var c=-1,d=a.queue.length;++c<d;)a.queue[c].callRejected(b);return a},e.resolve=k,e.reject=l,e.all=m,e.race=n},{immediate:57}],59:[function(a,b,c){"use strict";var d=a("./lib/utils/common").assign,e=a("./lib/deflate"),f=a("./lib/inflate"),g=a("./lib/zlib/constants"),h={};d(h,e,f,g),b.exports=h},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);this.options=i.assign({level:s,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:t,to:""},a||{});var b=this.options;b.raw&&b.windowBits>0?b.windowBits=-b.windowBits:b.gzip&&b.windowBits>0&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var c=h.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(c!==p)throw new Error(k[c]);if(b.header&&h.deflateSetHeader(this.strm,b.header),b.dictionary){var e;if(e="string"==typeof b.dictionary?j.string2buf(b.dictionary):"[object ArrayBuffer]"===m.call(b.dictionary)?new Uint8Array(b.dictionary):b.dictionary,c=h.deflateSetDictionary(this.strm,e),c!==p)throw new Error(k[c]);this._dict_set=!0}}function e(a,b){var c=new d(b);if(c.push(a,!0),c.err)throw c.msg||k[c.err];return c.result}function f(a,b){return b=b||{},b.raw=!0,e(a,b)}function g(a,b){return b=b||{},b.gzip=!0,e(a,b)}var h=a("./zlib/deflate"),i=a("./utils/common"),j=a("./utils/strings"),k=a("./zlib/messages"),l=a("./zlib/zstream"),m=Object.prototype.toString,n=0,o=4,p=0,q=1,r=2,s=-1,t=0,u=8;d.prototype.push=function(a,b){var c,d,e=this.strm,f=this.options.chunkSize;if(this.ended)return!1;d=b===~~b?b:b===!0?o:n,"string"==typeof a?e.input=j.string2buf(a):"[object ArrayBuffer]"===m.call(a)?e.input=new Uint8Array(a):e.input=a,e.next_in=0,e.avail_in=e.input.length;do{if(0===e.avail_out&&(e.output=new i.Buf8(f),e.next_out=0,e.avail_out=f),c=h.deflate(e,d),c!==q&&c!==p)return this.onEnd(c),this.ended=!0,!1;0!==e.avail_out&&(0!==e.avail_in||d!==o&&d!==r)||("string"===this.options.to?this.onData(j.buf2binstring(i.shrinkBuf(e.output,e.next_out))):this.onData(i.shrinkBuf(e.output,e.next_out)))}while((e.avail_in>0||0===e.avail_out)&&c!==q);return d===o?(c=h.deflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===p):d!==r||(this.onEnd(p),e.avail_out=0,!0)},d.prototype.onData=function(a){this.chunks.push(a)},d.prototype.onEnd=function(a){a===p&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Deflate=d,c.deflate=e,c.deflateRaw=f,c.gzip=g},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},a||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15)),!(b.windowBits>=0&&b.windowBits<16)||a&&a.windowBits||(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&0===(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var c=g.inflateInit2(this.strm,b.windowBits);if(c!==j.Z_OK)throw new Error(k[c]);this.header=new m,g.inflateGetHeader(this.strm,this.header)}function e(a,b){var c=new d(b);if(c.push(a,!0),c.err)throw c.msg||k[c.err];return c.result}function f(a,b){return b=b||{},b.raw=!0,e(a,b)}var g=a("./zlib/inflate"),h=a("./utils/common"),i=a("./utils/strings"),j=a("./zlib/constants"),k=a("./zlib/messages"),l=a("./zlib/zstream"),m=a("./zlib/gzheader"),n=Object.prototype.toString;d.prototype.push=function(a,b){var c,d,e,f,k,l,m=this.strm,o=this.options.chunkSize,p=this.options.dictionary,q=!1;if(this.ended)return!1;d=b===~~b?b:b===!0?j.Z_FINISH:j.Z_NO_FLUSH,"string"==typeof a?m.input=i.binstring2buf(a):"[object ArrayBuffer]"===n.call(a)?m.input=new Uint8Array(a):m.input=a,m.next_in=0,m.avail_in=m.input.length;do{if(0===m.avail_out&&(m.output=new h.Buf8(o),m.next_out=0,m.avail_out=o),c=g.inflate(m,j.Z_NO_FLUSH),c===j.Z_NEED_DICT&&p&&(l="string"==typeof p?i.string2buf(p):"[object ArrayBuffer]"===n.call(p)?new Uint8Array(p):p,c=g.inflateSetDictionary(this.strm,l)),c===j.Z_BUF_ERROR&&q===!0&&(c=j.Z_OK,q=!1),c!==j.Z_STREAM_END&&c!==j.Z_OK)return this.onEnd(c),this.ended=!0,!1;m.next_out&&(0!==m.avail_out&&c!==j.Z_STREAM_END&&(0!==m.avail_in||d!==j.Z_FINISH&&d!==j.Z_SYNC_FLUSH)||("string"===this.options.to?(e=i.utf8border(m.output,m.next_out),f=m.next_out-e,k=i.buf2string(m.output,e),m.next_out=f,m.avail_out=o-f,f&&h.arraySet(m.output,m.output,e,f,0),this.onData(k)):this.onData(h.shrinkBuf(m.output,m.next_out)))),0===m.avail_in&&0===m.avail_out&&(q=!0)}while((m.avail_in>0||0===m.avail_out)&&c!==j.Z_STREAM_END);return c===j.Z_STREAM_END&&(d=j.Z_FINISH),d===j.Z_FINISH?(c=g.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===j.Z_OK):d!==j.Z_SYNC_FLUSH||(this.onEnd(j.Z_OK),m.avail_out=0,!0)},d.prototype.onData=function(a){this.chunks.push(a)},d.prototype.onEnd=function(a){a===j.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},c.Inflate=d,c.inflate=e,c.inflateRaw=f,c.ungzip=e},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(a,b,c){"use strict";var d="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;c.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if("object"!=typeof c)throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}}return a},c.shrinkBuf=function(a,b){return a.length===b?a:a.subarray?a.subarray(0,b):(a.length=b,a)};var e={arraySet:function(a,b,c,d,e){if(b.subarray&&a.subarray)return void a.set(b.subarray(c,c+d),e);for(var f=0;f<d;f++)a[e+f]=b[c+f]},flattenChunks:function(a){var b,c,d,e,f,g;for(d=0,b=0,c=a.length;b<c;b++)d+=a[b].length;for(g=new Uint8Array(d),e=0,b=0,c=a.length;b<c;b++)f=a[b],g.set(f,e),e+=f.length;return g}},f={arraySet:function(a,b,c,d,e){for(var f=0;f<d;f++)a[e+f]=b[c+f]},flattenChunks:function(a){return[].concat.apply([],a)}};c.setTyped=function(a){a?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,e)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,f))},c.setTyped(d)},{}],63:[function(a,b,c){"use strict";function d(a,b){if(b<65537&&(a.subarray&&g||!a.subarray&&f))return String.fromCharCode.apply(null,e.shrinkBuf(a,b));for(var c="",d=0;d<b;d++)c+=String.fromCharCode(a[d]);return c}var e=a("./common"),f=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch(h){f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(h){g=!1}for(var i=new e.Buf8(256),j=0;j<256;j++)i[j]=j>=252?6:j>=248?5:j>=240?4:j>=224?3:j>=192?2:1;i[254]=i[254]=1,c.string2buf=function(a){var b,c,d,f,g,h=a.length,i=0;for(f=0;f<h;f++)c=a.charCodeAt(f),55296===(64512&c)&&f+1<h&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),i+=c<128?1:c<2048?2:c<65536?3:4;for(b=new e.Buf8(i),g=0,f=0;g<i;f++)c=a.charCodeAt(f),55296===(64512&c)&&f+1<h&&(d=a.charCodeAt(f+1),56320===(64512&d)&&(c=65536+(c-55296<<10)+(d-56320),f++)),c<128?b[g++]=c:c<2048?(b[g++]=192|c>>>6,b[g++]=128|63&c):c<65536?(b[g++]=224|c>>>12,b[g++]=128|c>>>6&63,b[g++]=128|63&c):(b[g++]=240|c>>>18,b[g++]=128|c>>>12&63,b[g++]=128|c>>>6&63,b[g++]=128|63&c);return b},c.buf2binstring=function(a){return d(a,a.length)},c.binstring2buf=function(a){for(var b=new e.Buf8(a.length),c=0,d=b.length;c<d;c++)b[c]=a.charCodeAt(c);return b},c.buf2string=function(a,b){var c,e,f,g,h=b||a.length,j=new Array(2*h);for(e=0,c=0;c<h;)if(f=a[c++],f<128)j[e++]=f;else if(g=i[f],g>4)j[e++]=65533,c+=g-1;else{for(f&=2===g?31:3===g?15:7;g>1&&c<h;)f=f<<6|63&a[c++],g--;g>1?j[e++]=65533:f<65536?j[e++]=f:(f-=65536,j[e++]=55296|f>>10&1023,j[e++]=56320|1023&f)}return d(j,e)},c.utf8border=function(a,b){var c;for(b=b||a.length,b>a.length&&(b=a.length),c=b-1;c>=0&&128===(192&a[c]);)c--;return c<0?b:0===c?b:c+i[a[c]]>b?c:b}},{"./common":62}],64:[function(a,b,c){"use strict";function d(a,b,c,d){for(var e=65535&a|0,f=a>>>16&65535|0,g=0;0!==c;){g=c>2e3?2e3:c,c-=g;do e=e+b[d++]|0,f=f+e|0;while(--g);e%=65521,f%=65521}return e|f<<16|0;
}b.exports=d},{}],65:[function(a,b,c){"use strict";b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(a,b,c){"use strict";function d(){for(var a,b=[],c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}function e(a,b,c,d){var e=f,g=d+c;a^=-1;for(var h=d;h<g;h++)a=a>>>8^e[255&(a^b[h])];return a^-1}var f=d();b.exports=e},{}],67:[function(a,b,c){"use strict";function d(a,b){return a.msg=I[b],b}function e(a){return(a<<1)-(a>4?9:0)}function f(a){for(var b=a.length;--b>=0;)a[b]=0}function g(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out),0!==c&&(E.arraySet(a.output,b.pending_buf,b.pending_out,c,a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))}function h(a,b){F._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,b),a.block_start=a.strstart,g(a.strm)}function i(a,b){a.pending_buf[a.pending++]=b}function j(a,b){a.pending_buf[a.pending++]=b>>>8&255,a.pending_buf[a.pending++]=255&b}function k(a,b,c,d){var e=a.avail_in;return e>d&&(e=d),0===e?0:(a.avail_in-=e,E.arraySet(b,a.input,a.next_in,e,c),1===a.state.wrap?a.adler=G(a.adler,b,e,c):2===a.state.wrap&&(a.adler=H(a.adler,b,e,c)),a.next_in+=e,a.total_in+=e,e)}function l(a,b){var c,d,e=a.max_chain_length,f=a.strstart,g=a.prev_length,h=a.nice_match,i=a.strstart>a.w_size-la?a.strstart-(a.w_size-la):0,j=a.window,k=a.w_mask,l=a.prev,m=a.strstart+ka,n=j[f+g-1],o=j[f+g];a.prev_length>=a.good_match&&(e>>=2),h>a.lookahead&&(h=a.lookahead);do if(c=b,j[c+g]===o&&j[c+g-1]===n&&j[c]===j[f]&&j[++c]===j[f+1]){f+=2,c++;do;while(j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&f<m);if(d=ka-(m-f),f=m-ka,d>g){if(a.match_start=b,g=d,d>=h)break;n=j[f+g-1],o=j[f+g]}}while((b=l[b&k])>i&&0!==--e);return g<=a.lookahead?g:a.lookahead}function m(a){var b,c,d,e,f,g=a.w_size;do{if(e=a.window_size-a.lookahead-a.strstart,a.strstart>=g+(g-la)){E.arraySet(a.window,a.window,g,g,0),a.match_start-=g,a.strstart-=g,a.block_start-=g,c=a.hash_size,b=c;do d=a.head[--b],a.head[b]=d>=g?d-g:0;while(--c);c=g,b=c;do d=a.prev[--b],a.prev[b]=d>=g?d-g:0;while(--c);e+=g}if(0===a.strm.avail_in)break;if(c=k(a.strm,a.window,a.strstart+a.lookahead,e),a.lookahead+=c,a.lookahead+a.insert>=ja)for(f=a.strstart-a.insert,a.ins_h=a.window[f],a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+ja-1])&a.hash_mask,a.prev[f&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=f,f++,a.insert--,!(a.lookahead+a.insert<ja)););}while(a.lookahead<la&&0!==a.strm.avail_in)}function n(a,b){var c=65535;for(c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);;){if(a.lookahead<=1){if(m(a),0===a.lookahead&&b===J)return ua;if(0===a.lookahead)break}a.strstart+=a.lookahead,a.lookahead=0;var d=a.block_start+c;if((0===a.strstart||a.strstart>=d)&&(a.lookahead=a.strstart-d,a.strstart=d,h(a,!1),0===a.strm.avail_out))return ua;if(a.strstart-a.block_start>=a.w_size-la&&(h(a,!1),0===a.strm.avail_out))return ua}return a.insert=0,b===M?(h(a,!0),0===a.strm.avail_out?wa:xa):a.strstart>a.block_start&&(h(a,!1),0===a.strm.avail_out)?ua:ua}function o(a,b){for(var c,d;;){if(a.lookahead<la){if(m(a),a.lookahead<la&&b===J)return ua;if(0===a.lookahead)break}if(c=0,a.lookahead>=ja&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ja-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==c&&a.strstart-c<=a.w_size-la&&(a.match_length=l(a,c)),a.match_length>=ja)if(d=F._tr_tally(a,a.strstart-a.match_start,a.match_length-ja),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=ja){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ja-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else d=F._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(h(a,!1),0===a.strm.avail_out))return ua}return a.insert=a.strstart<ja-1?a.strstart:ja-1,b===M?(h(a,!0),0===a.strm.avail_out?wa:xa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ua:va}function p(a,b){for(var c,d,e;;){if(a.lookahead<la){if(m(a),a.lookahead<la&&b===J)return ua;if(0===a.lookahead)break}if(c=0,a.lookahead>=ja&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ja-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=ja-1,0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-la&&(a.match_length=l(a,c),a.match_length<=5&&(a.strategy===U||a.match_length===ja&&a.strstart-a.match_start>4096)&&(a.match_length=ja-1)),a.prev_length>=ja&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-ja,d=F._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-ja),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=e&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ja-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);if(a.match_available=0,a.match_length=ja-1,a.strstart++,d&&(h(a,!1),0===a.strm.avail_out))return ua}else if(a.match_available){if(d=F._tr_tally(a,0,a.window[a.strstart-1]),d&&h(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return ua}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(d=F._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<ja-1?a.strstart:ja-1,b===M?(h(a,!0),0===a.strm.avail_out?wa:xa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ua:va}function q(a,b){for(var c,d,e,f,g=a.window;;){if(a.lookahead<=ka){if(m(a),a.lookahead<=ka&&b===J)return ua;if(0===a.lookahead)break}if(a.match_length=0,a.lookahead>=ja&&a.strstart>0&&(e=a.strstart-1,d=g[e],d===g[++e]&&d===g[++e]&&d===g[++e])){f=a.strstart+ka;do;while(d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&e<f);a.match_length=ka-(f-e),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=ja?(c=F._tr_tally(a,1,a.match_length-ja),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(c=F._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),c&&(h(a,!1),0===a.strm.avail_out))return ua}return a.insert=0,b===M?(h(a,!0),0===a.strm.avail_out?wa:xa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ua:va}function r(a,b){for(var c;;){if(0===a.lookahead&&(m(a),0===a.lookahead)){if(b===J)return ua;break}if(a.match_length=0,c=F._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,c&&(h(a,!1),0===a.strm.avail_out))return ua}return a.insert=0,b===M?(h(a,!0),0===a.strm.avail_out?wa:xa):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?ua:va}function s(a,b,c,d,e){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d,this.func=e}function t(a){a.window_size=2*a.w_size,f(a.head),a.max_lazy_match=D[a.level].max_lazy,a.good_match=D[a.level].good_length,a.nice_match=D[a.level].nice_length,a.max_chain_length=D[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=ja-1,a.match_available=0,a.ins_h=0}function u(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new E.Buf16(2*ha),this.dyn_dtree=new E.Buf16(2*(2*fa+1)),this.bl_tree=new E.Buf16(2*(2*ga+1)),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new E.Buf16(ia+1),this.heap=new E.Buf16(2*ea+1),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new E.Buf16(2*ea+1),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function v(a){var b;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=Z,b=a.state,b.pending=0,b.pending_out=0,b.wrap<0&&(b.wrap=-b.wrap),b.status=b.wrap?na:sa,a.adler=2===b.wrap?0:1,b.last_flush=J,F._tr_init(b),O):d(a,Q)}function w(a){var b=v(a);return b===O&&t(a.state),b}function x(a,b){return a&&a.state?2!==a.state.wrap?Q:(a.state.gzhead=b,O):Q}function y(a,b,c,e,f,g){if(!a)return Q;var h=1;if(b===T&&(b=6),e<0?(h=0,e=-e):e>15&&(h=2,e-=16),f<1||f>_||c!==$||e<8||e>15||b<0||b>9||g<0||g>X)return d(a,Q);8===e&&(e=9);var i=new u;return a.state=i,i.strm=a,i.wrap=h,i.gzhead=null,i.w_bits=e,i.w_size=1<<i.w_bits,i.w_mask=i.w_size-1,i.hash_bits=f+7,i.hash_size=1<<i.hash_bits,i.hash_mask=i.hash_size-1,i.hash_shift=~~((i.hash_bits+ja-1)/ja),i.window=new E.Buf8(2*i.w_size),i.head=new E.Buf16(i.hash_size),i.prev=new E.Buf16(i.w_size),i.lit_bufsize=1<<f+6,i.pending_buf_size=4*i.lit_bufsize,i.pending_buf=new E.Buf8(i.pending_buf_size),i.d_buf=1*i.lit_bufsize,i.l_buf=3*i.lit_bufsize,i.level=b,i.strategy=g,i.method=c,w(a)}function z(a,b){return y(a,b,$,aa,ba,Y)}function A(a,b){var c,h,k,l;if(!a||!a.state||b>N||b<0)return a?d(a,Q):Q;if(h=a.state,!a.output||!a.input&&0!==a.avail_in||h.status===ta&&b!==M)return d(a,0===a.avail_out?S:Q);if(h.strm=a,c=h.last_flush,h.last_flush=b,h.status===na)if(2===h.wrap)a.adler=0,i(h,31),i(h,139),i(h,8),h.gzhead?(i(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),i(h,255&h.gzhead.time),i(h,h.gzhead.time>>8&255),i(h,h.gzhead.time>>16&255),i(h,h.gzhead.time>>24&255),i(h,9===h.level?2:h.strategy>=V||h.level<2?4:0),i(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(i(h,255&h.gzhead.extra.length),i(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(a.adler=H(a.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=oa):(i(h,0),i(h,0),i(h,0),i(h,0),i(h,0),i(h,9===h.level?2:h.strategy>=V||h.level<2?4:0),i(h,ya),h.status=sa);else{var m=$+(h.w_bits-8<<4)<<8,n=-1;n=h.strategy>=V||h.level<2?0:h.level<6?1:6===h.level?2:3,m|=n<<6,0!==h.strstart&&(m|=ma),m+=31-m%31,h.status=sa,j(h,m),0!==h.strstart&&(j(h,a.adler>>>16),j(h,65535&a.adler)),a.adler=1}if(h.status===oa)if(h.gzhead.extra){for(k=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending!==h.pending_buf_size));)i(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=pa)}else h.status=pa;if(h.status===pa)if(h.gzhead.name){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.gzindex=0,h.status=qa)}else h.status=qa;if(h.status===qa)if(h.gzhead.comment){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=H(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.status=ra)}else h.status=ra;if(h.status===ra&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&g(a),h.pending+2<=h.pending_buf_size&&(i(h,255&a.adler),i(h,a.adler>>8&255),a.adler=0,h.status=sa)):h.status=sa),0!==h.pending){if(g(a),0===a.avail_out)return h.last_flush=-1,O}else if(0===a.avail_in&&e(b)<=e(c)&&b!==M)return d(a,S);if(h.status===ta&&0!==a.avail_in)return d(a,S);if(0!==a.avail_in||0!==h.lookahead||b!==J&&h.status!==ta){var o=h.strategy===V?r(h,b):h.strategy===W?q(h,b):D[h.level].func(h,b);if(o!==wa&&o!==xa||(h.status=ta),o===ua||o===wa)return 0===a.avail_out&&(h.last_flush=-1),O;if(o===va&&(b===K?F._tr_align(h):b!==N&&(F._tr_stored_block(h,0,0,!1),b===L&&(f(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),g(a),0===a.avail_out))return h.last_flush=-1,O}return b!==M?O:h.wrap<=0?P:(2===h.wrap?(i(h,255&a.adler),i(h,a.adler>>8&255),i(h,a.adler>>16&255),i(h,a.adler>>24&255),i(h,255&a.total_in),i(h,a.total_in>>8&255),i(h,a.total_in>>16&255),i(h,a.total_in>>24&255)):(j(h,a.adler>>>16),j(h,65535&a.adler)),g(a),h.wrap>0&&(h.wrap=-h.wrap),0!==h.pending?O:P)}function B(a){var b;return a&&a.state?(b=a.state.status,b!==na&&b!==oa&&b!==pa&&b!==qa&&b!==ra&&b!==sa&&b!==ta?d(a,Q):(a.state=null,b===sa?d(a,R):O)):Q}function C(a,b){var c,d,e,g,h,i,j,k,l=b.length;if(!a||!a.state)return Q;if(c=a.state,g=c.wrap,2===g||1===g&&c.status!==na||c.lookahead)return Q;for(1===g&&(a.adler=G(a.adler,b,l,0)),c.wrap=0,l>=c.w_size&&(0===g&&(f(c.head),c.strstart=0,c.block_start=0,c.insert=0),k=new E.Buf8(c.w_size),E.arraySet(k,b,l-c.w_size,c.w_size,0),b=k,l=c.w_size),h=a.avail_in,i=a.next_in,j=a.input,a.avail_in=l,a.next_in=0,a.input=b,m(c);c.lookahead>=ja;){d=c.strstart,e=c.lookahead-(ja-1);do c.ins_h=(c.ins_h<<c.hash_shift^c.window[d+ja-1])&c.hash_mask,c.prev[d&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=d,d++;while(--e);c.strstart=d,c.lookahead=ja-1,m(c)}return c.strstart+=c.lookahead,c.block_start=c.strstart,c.insert=c.lookahead,c.lookahead=0,c.match_length=c.prev_length=ja-1,c.match_available=0,a.next_in=i,a.input=j,a.avail_in=h,c.wrap=g,O}var D,E=a("../utils/common"),F=a("./trees"),G=a("./adler32"),H=a("./crc32"),I=a("./messages"),J=0,K=1,L=3,M=4,N=5,O=0,P=1,Q=-2,R=-3,S=-5,T=-1,U=1,V=2,W=3,X=4,Y=0,Z=2,$=8,_=9,aa=15,ba=8,ca=29,da=256,ea=da+1+ca,fa=30,ga=19,ha=2*ea+1,ia=15,ja=3,ka=258,la=ka+ja+1,ma=32,na=42,oa=69,pa=73,qa=91,ra=103,sa=113,ta=666,ua=1,va=2,wa=3,xa=4,ya=3;D=[new s(0,0,0,0,n),new s(4,4,8,4,o),new s(4,5,16,8,o),new s(4,6,32,32,o),new s(4,4,16,16,p),new s(8,16,32,32,p),new s(8,16,128,128,p),new s(8,32,128,256,p),new s(32,128,258,1024,p),new s(32,258,258,4096,p)],c.deflateInit=z,c.deflateInit2=y,c.deflateReset=w,c.deflateResetKeep=v,c.deflateSetHeader=x,c.deflate=A,c.deflateEnd=B,c.deflateSetDictionary=C,c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(a,b,c){"use strict";function d(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}b.exports=d},{}],69:[function(a,b,c){"use strict";var d=30,e=12;b.exports=function(a,b){var c,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;c=a.state,f=a.next_in,B=a.input,g=f+(a.avail_in-5),h=a.next_out,C=a.output,i=h-(b-a.avail_out),j=h+(a.avail_out-257),k=c.dmax,l=c.wsize,m=c.whave,n=c.wnext,o=c.window,p=c.hold,q=c.bits,r=c.lencode,s=c.distcode,t=(1<<c.lenbits)-1,u=(1<<c.distbits)-1;a:do{q<15&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=r[p&t];b:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,0===w)C[h++]=65535&v;else{if(!(16&w)){if(0===(64&w)){v=r[(65535&v)+(p&(1<<w)-1)];continue b}if(32&w){c.mode=e;break a}a.msg="invalid literal/length code",c.mode=d;break a}x=65535&v,w&=15,w&&(q<w&&(p+=B[f++]<<q,q+=8),x+=p&(1<<w)-1,p>>>=w,q-=w),q<15&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=s[p&u];c:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,!(16&w)){if(0===(64&w)){v=s[(65535&v)+(p&(1<<w)-1)];continue c}a.msg="invalid distance code",c.mode=d;break a}if(y=65535&v,w&=15,q<w&&(p+=B[f++]<<q,q+=8,q<w&&(p+=B[f++]<<q,q+=8)),y+=p&(1<<w)-1,y>k){a.msg="invalid distance too far back",c.mode=d;break a}if(p>>>=w,q-=w,w=h-i,y>w){if(w=y-w,w>m&&c.sane){a.msg="invalid distance too far back",c.mode=d;break a}if(z=0,A=o,0===n){if(z+=l-w,w<x){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}else if(n<w){if(z+=l+n-w,w-=n,w<x){x-=w;do C[h++]=o[z++];while(--w);if(z=0,n<x){w=n,x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}}else if(z+=n-w,w<x){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}for(;x>2;)C[h++]=A[z++],C[h++]=A[z++],C[h++]=A[z++],x-=3;x&&(C[h++]=A[z++],x>1&&(C[h++]=A[z++]))}else{z=h-y;do C[h++]=C[z++],C[h++]=C[z++],C[h++]=C[z++],x-=3;while(x>2);x&&(C[h++]=C[z++],x>1&&(C[h++]=C[z++]))}break}}break}}while(f<g&&h<j);x=q>>3,f-=x,q-=x<<3,p&=(1<<q)-1,a.next_in=f,a.next_out=h,a.avail_in=f<g?5+(g-f):5-(f-g),a.avail_out=h<j?257+(j-h):257-(h-j),c.hold=p,c.bits=q}},{}],70:[function(a,b,c){"use strict";function d(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(a){var b;return a&&a.state?(b=a.state,a.total_in=a.total_out=b.total=0,a.msg="",b.wrap&&(a.adler=1&b.wrap),b.mode=L,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new s.Buf32(pa),b.distcode=b.distdyn=new s.Buf32(qa),b.sane=1,b.back=-1,D):G}function g(a){var b;return a&&a.state?(b=a.state,b.wsize=0,b.whave=0,b.wnext=0,f(a)):G}function h(a,b){var c,d;return a&&a.state?(d=a.state,b<0?(c=0,b=-b):(c=(b>>4)+1,b<48&&(b&=15)),b&&(b<8||b>15)?G:(null!==d.window&&d.wbits!==b&&(d.window=null),d.wrap=c,d.wbits=b,g(a))):G}function i(a,b){var c,d;return a?(d=new e,a.state=d,d.window=null,c=h(a,b),c!==D&&(a.state=null),c):G}function j(a){return i(a,sa)}function k(a){if(ta){var b;for(q=new s.Buf32(512),r=new s.Buf32(32),b=0;b<144;)a.lens[b++]=8;for(;b<256;)a.lens[b++]=9;for(;b<280;)a.lens[b++]=7;for(;b<288;)a.lens[b++]=8;for(w(y,a.lens,0,288,q,0,a.work,{bits:9}),b=0;b<32;)a.lens[b++]=5;w(z,a.lens,0,32,r,0,a.work,{bits:5}),ta=!1}a.lencode=q,a.lenbits=9,a.distcode=r,a.distbits=5}function l(a,b,c,d){var e,f=a.state;return null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new s.Buf8(f.wsize)),d>=f.wsize?(s.arraySet(f.window,b,c-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(e=f.wsize-f.wnext,e>d&&(e=d),s.arraySet(f.window,b,c-d,e,f.wnext),d-=e,d?(s.arraySet(f.window,b,c-d,d,0),f.wnext=d,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0}function m(a,b){var c,e,f,g,h,i,j,m,n,o,p,q,r,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa=0,Ba=new s.Buf8(4),Ca=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return G;c=a.state,c.mode===W&&(c.mode=X),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,o=i,p=j,xa=D;a:for(;;)switch(c.mode){case L:if(0===c.wrap){c.mode=X;break}for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(2&c.wrap&&35615===m){c.check=0,Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=u(c.check,Ba,2,0),m=0,n=0,c.mode=M;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&m)<<8)+(m>>8))%31){a.msg="incorrect header check",c.mode=ma;break}if((15&m)!==K){a.msg="unknown compression method",c.mode=ma;break}if(m>>>=4,n-=4,wa=(15&m)+8,0===c.wbits)c.wbits=wa;else if(wa>c.wbits){a.msg="invalid window size",c.mode=ma;break}c.dmax=1<<wa,a.adler=c.check=1,c.mode=512&m?U:W,m=0,n=0;break;case M:for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.flags=m,(255&c.flags)!==K){a.msg="unknown compression method",c.mode=ma;break}if(57344&c.flags){a.msg="unknown header flags set",c.mode=ma;break}c.head&&(c.head.text=m>>8&1),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=u(c.check,Ba,2,0)),m=0,n=0,c.mode=N;case N:for(;n<32;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.time=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,Ba[2]=m>>>16&255,Ba[3]=m>>>24&255,c.check=u(c.check,Ba,4,0)),m=0,n=0,c.mode=O;case O:for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.xflags=255&m,c.head.os=m>>8),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=u(c.check,Ba,2,0)),m=0,n=0,c.mode=P;case P:if(1024&c.flags){for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length=m,c.head&&(c.head.extra_len=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=u(c.check,Ba,2,0)),m=0,n=0}else c.head&&(c.head.extra=null);c.mode=Q;case Q:if(1024&c.flags&&(q=c.length,q>i&&(q=i),q&&(c.head&&(wa=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),s.arraySet(c.head.extra,e,g,q,wa)),512&c.flags&&(c.check=u(c.check,e,q,g)),i-=q,g+=q,c.length-=q),c.length))break a;c.length=0,c.mode=R;case R:if(2048&c.flags){if(0===i)break a;q=0;do wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.name+=String.fromCharCode(wa));while(wa&&q<i);if(512&c.flags&&(c.check=u(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.name=null);c.length=0,c.mode=S;case S:if(4096&c.flags){if(0===i)break a;q=0;do wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.comment+=String.fromCharCode(wa));while(wa&&q<i);if(512&c.flags&&(c.check=u(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.comment=null);c.mode=T;case T:if(512&c.flags){for(;n<16;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(65535&c.check)){a.msg="header crc mismatch",c.mode=ma;break}m=0,n=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),a.adler=c.check=0,c.mode=W;break;case U:for(;n<32;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}a.adler=c.check=d(m),m=0,n=0,c.mode=V;case V:if(0===c.havedict)return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,F;a.adler=c.check=1,c.mode=W;case W:if(b===B||b===C)break a;case X:if(c.last){m>>>=7&n,n-=7&n,c.mode=ja;break}for(;n<3;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}switch(c.last=1&m,m>>>=1,n-=1,3&m){case 0:c.mode=Y;break;case 1:if(k(c),c.mode=ca,b===C){m>>>=2,n-=2;break a}break;case 2:c.mode=_;break;case 3:a.msg="invalid block type",c.mode=ma}m>>>=2,n-=2;break;case Y:for(m>>>=7&n,n-=7&n;n<32;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if((65535&m)!==(m>>>16^65535)){a.msg="invalid stored block lengths",c.mode=ma;break}if(c.length=65535&m,m=0,n=0,c.mode=Z,b===C)break a;case Z:c.mode=$;case $:if(q=c.length){if(q>i&&(q=i),q>j&&(q=j),0===q)break a;s.arraySet(f,e,g,q,h),i-=q,g+=q,j-=q,h+=q,c.length-=q;break}c.mode=W;break;case _:for(;n<14;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.nlen=(31&m)+257,m>>>=5,n-=5,c.ndist=(31&m)+1,m>>>=5,n-=5,c.ncode=(15&m)+4,m>>>=4,n-=4,c.nlen>286||c.ndist>30){a.msg="too many length or distance symbols",c.mode=ma;break}c.have=0,c.mode=aa;case aa:for(;c.have<c.ncode;){for(;n<3;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.lens[Ca[c.have++]]=7&m,m>>>=3,n-=3}for(;c.have<19;)c.lens[Ca[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,ya={bits:c.lenbits},xa=w(x,c.lens,0,19,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg="invalid code lengths set",c.mode=ma;break}c.have=0,c.mode=ba;case ba:for(;c.have<c.nlen+c.ndist;){for(;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(sa<16)m>>>=qa,n-=qa,c.lens[c.have++]=sa;else{if(16===sa){for(za=qa+2;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m>>>=qa,n-=qa,0===c.have){a.msg="invalid bit length repeat",c.mode=ma;break}wa=c.lens[c.have-1],q=3+(3&m),m>>>=2,n-=2}else if(17===sa){for(za=qa+3;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=3+(7&m),m>>>=3,n-=3}else{for(za=qa+7;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=11+(127&m),m>>>=7,n-=7}if(c.have+q>c.nlen+c.ndist){a.msg="invalid bit length repeat",c.mode=ma;break}for(;q--;)c.lens[c.have++]=wa}}if(c.mode===ma)break;if(0===c.lens[256]){a.msg="invalid code -- missing end-of-block",c.mode=ma;break}if(c.lenbits=9,ya={bits:c.lenbits},xa=w(y,c.lens,0,c.nlen,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg="invalid literal/lengths set",c.mode=ma;break}if(c.distbits=6,c.distcode=c.distdyn,ya={bits:c.distbits},xa=w(z,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,ya),c.distbits=ya.bits,xa){a.msg="invalid distances set",c.mode=ma;break}if(c.mode=ca,b===C)break a;case ca:c.mode=da;case da:if(i>=6&&j>=258){a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,v(a,p),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,c.mode===W&&(c.back=-1);break}for(c.back=0;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(ra&&0===(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.lencode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(ta+qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,c.length=sa,0===ra){c.mode=ia;break}if(32&ra){c.back=-1,c.mode=W;break}if(64&ra){a.msg="invalid literal/length code",c.mode=ma;break}c.extra=15&ra,c.mode=ea;case ea:if(c.extra){for(za=c.extra;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=fa;case fa:for(;Aa=c.distcode[m&(1<<c.distbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(0===(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.distcode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(ta+qa<=n);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,64&ra){a.msg="invalid distance code",c.mode=ma;break}c.offset=sa,c.extra=15&ra,c.mode=ga;case ga:if(c.extra){for(za=c.extra;n<za;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.offset+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){a.msg="invalid distance too far back",c.mode=ma;break}c.mode=ha;case ha:if(0===j)break a;if(q=p-j,c.offset>q){if(q=c.offset-q,q>c.whave&&c.sane){a.msg="invalid distance too far back",c.mode=ma;break}q>c.wnext?(q-=c.wnext,r=c.wsize-q):r=c.wnext-q,q>c.length&&(q=c.length),pa=c.window}else pa=f,r=h-c.offset,q=c.length;q>j&&(q=j),j-=q,c.length-=q;do f[h++]=pa[r++];while(--q);0===c.length&&(c.mode=da);break;case ia:if(0===j)break a;f[h++]=c.length,j--,c.mode=da;break;case ja:if(c.wrap){for(;n<32;){if(0===i)break a;i--,m|=e[g++]<<n,n+=8}if(p-=j,a.total_out+=p,c.total+=p,p&&(a.adler=c.check=c.flags?u(c.check,f,p,h-p):t(c.check,f,p,h-p)),p=j,(c.flags?m:d(m))!==c.check){a.msg="incorrect data check",c.mode=ma;break}m=0,n=0}c.mode=ka;case ka:if(c.wrap&&c.flags){for(;n<32;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(4294967295&c.total)){a.msg="incorrect length check",c.mode=ma;break}m=0,n=0}c.mode=la;case la:xa=E;break a;case ma:xa=H;break a;case na:return I;case oa:default:return G}return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,(c.wsize||p!==a.avail_out&&c.mode<ma&&(c.mode<ja||b!==A))&&l(a,a.output,a.next_out,p-a.avail_out)?(c.mode=na,I):(o-=a.avail_in,p-=a.avail_out,a.total_in+=o,a.total_out+=p,c.total+=p,c.wrap&&p&&(a.adler=c.check=c.flags?u(c.check,f,p,a.next_out-p):t(c.check,f,p,a.next_out-p)),a.data_type=c.bits+(c.last?64:0)+(c.mode===W?128:0)+(c.mode===ca||c.mode===Z?256:0),(0===o&&0===p||b===A)&&xa===D&&(xa=J),xa)}function n(a){if(!a||!a.state)return G;var b=a.state;return b.window&&(b.window=null),a.state=null,D}function o(a,b){var c;return a&&a.state?(c=a.state,0===(2&c.wrap)?G:(c.head=b,b.done=!1,D)):G}function p(a,b){var c,d,e,f=b.length;return a&&a.state?(c=a.state,0!==c.wrap&&c.mode!==V?G:c.mode===V&&(d=1,d=t(d,b,f,0),d!==c.check)?H:(e=l(a,b,f,f))?(c.mode=na,I):(c.havedict=1,D)):G}var q,r,s=a("../utils/common"),t=a("./adler32"),u=a("./crc32"),v=a("./inffast"),w=a("./inftrees"),x=0,y=1,z=2,A=4,B=5,C=6,D=0,E=1,F=2,G=-2,H=-3,I=-4,J=-5,K=8,L=1,M=2,N=3,O=4,P=5,Q=6,R=7,S=8,T=9,U=10,V=11,W=12,X=13,Y=14,Z=15,$=16,_=17,aa=18,ba=19,ca=20,da=21,ea=22,fa=23,ga=24,ha=25,ia=26,ja=27,ka=28,la=29,ma=30,na=31,oa=32,pa=852,qa=592,ra=15,sa=ra,ta=!0;c.inflateReset=g,c.inflateReset2=h,c.inflateResetKeep=f,c.inflateInit=j,c.inflateInit2=i,c.inflate=m,c.inflateEnd=n,c.inflateGetHeader=o,c.inflateSetDictionary=p,c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(a,b,c){"use strict";var d=a("../utils/common"),e=15,f=852,g=592,h=0,i=1,j=2,k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],n=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(a,b,c,o,p,q,r,s){var t,u,v,w,x,y,z,A,B,C=s.bits,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=null,O=0,P=new d.Buf16(e+1),Q=new d.Buf16(e+1),R=null,S=0;for(D=0;D<=e;D++)P[D]=0;for(E=0;E<o;E++)P[b[c+E]]++;for(H=C,G=e;G>=1&&0===P[G];G--);if(H>G&&(H=G),0===G)return p[q++]=20971520,p[q++]=20971520,s.bits=1,0;for(F=1;F<G&&0===P[F];F++);for(H<F&&(H=F),K=1,D=1;D<=e;D++)if(K<<=1,K-=P[D],K<0)return-1;if(K>0&&(a===h||1!==G))return-1;for(Q[1]=0,D=1;D<e;D++)Q[D+1]=Q[D]+P[D];for(E=0;E<o;E++)0!==b[c+E]&&(r[Q[b[c+E]]++]=E);if(a===h?(N=R=r,y=19):a===i?(N=k,O-=257,R=l,S-=257,y=256):(N=m,R=n,y=-1),M=0,E=0,D=F,x=q,I=H,J=0,v=-1,L=1<<H,w=L-1,a===i&&L>f||a===j&&L>g)return 1;for(;;){z=D-J,r[E]<y?(A=0,B=r[E]):r[E]>y?(A=R[S+r[E]],B=N[O+r[E]]):(A=96,B=0),t=1<<D-J,u=1<<I,F=u;do u-=t,p[x+(M>>J)+u]=z<<24|A<<16|B|0;while(0!==u);for(t=1<<D-1;M&t;)t>>=1;if(0!==t?(M&=t-1,M+=t):M=0,E++,0===--P[D]){if(D===G)break;D=b[c+r[E]]}if(D>H&&(M&w)!==v){for(0===J&&(J=H),x+=F,I=D-J,K=1<<I;I+J<G&&(K-=P[I+J],!(K<=0));)I++,K<<=1;if(L+=1<<I,a===i&&L>f||a===j&&L>g)return 1;v=M&w,p[v]=H<<24|I<<16|x-q|0}}return 0!==M&&(p[x+M]=D-J<<24|64<<16|0),s.bits=H,0}},{"../utils/common":62}],72:[function(a,b,c){"use strict";b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(a,b,c){"use strict";function d(a){for(var b=a.length;--b>=0;)a[b]=0}function e(a,b,c,d,e){this.static_tree=a,this.extra_bits=b,this.extra_base=c,this.elems=d,this.max_length=e,this.has_stree=a&&a.length}function f(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b}function g(a){return a<256?ia[a]:ia[256+(a>>>7)]}function h(a,b){a.pending_buf[a.pending++]=255&b,a.pending_buf[a.pending++]=b>>>8&255}function i(a,b,c){a.bi_valid>X-c?(a.bi_buf|=b<<a.bi_valid&65535,h(a,a.bi_buf),a.bi_buf=b>>X-a.bi_valid,a.bi_valid+=c-X):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function j(a,b,c){i(a,c[2*b],c[2*b+1])}function k(a,b){var c=0;do c|=1&a,a>>>=1,c<<=1;while(--b>0);return c>>>1}function l(a){16===a.bi_valid?(h(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}function m(a,b){var c,d,e,f,g,h,i=b.dyn_tree,j=b.max_code,k=b.stat_desc.static_tree,l=b.stat_desc.has_stree,m=b.stat_desc.extra_bits,n=b.stat_desc.extra_base,o=b.stat_desc.max_length,p=0;for(f=0;f<=W;f++)a.bl_count[f]=0;for(i[2*a.heap[a.heap_max]+1]=0,
c=a.heap_max+1;c<V;c++)d=a.heap[c],f=i[2*i[2*d+1]+1]+1,f>o&&(f=o,p++),i[2*d+1]=f,d>j||(a.bl_count[f]++,g=0,d>=n&&(g=m[d-n]),h=i[2*d],a.opt_len+=h*(f+g),l&&(a.static_len+=h*(k[2*d+1]+g)));if(0!==p){do{for(f=o-1;0===a.bl_count[f];)f--;a.bl_count[f]--,a.bl_count[f+1]+=2,a.bl_count[o]--,p-=2}while(p>0);for(f=o;0!==f;f--)for(d=a.bl_count[f];0!==d;)e=a.heap[--c],e>j||(i[2*e+1]!==f&&(a.opt_len+=(f-i[2*e+1])*i[2*e],i[2*e+1]=f),d--)}}function n(a,b,c){var d,e,f=new Array(W+1),g=0;for(d=1;d<=W;d++)f[d]=g=g+c[d-1]<<1;for(e=0;e<=b;e++){var h=a[2*e+1];0!==h&&(a[2*e]=k(f[h]++,h))}}function o(){var a,b,c,d,f,g=new Array(W+1);for(c=0,d=0;d<Q-1;d++)for(ka[d]=c,a=0;a<1<<ba[d];a++)ja[c++]=d;for(ja[c-1]=d,f=0,d=0;d<16;d++)for(la[d]=f,a=0;a<1<<ca[d];a++)ia[f++]=d;for(f>>=7;d<T;d++)for(la[d]=f<<7,a=0;a<1<<ca[d]-7;a++)ia[256+f++]=d;for(b=0;b<=W;b++)g[b]=0;for(a=0;a<=143;)ga[2*a+1]=8,a++,g[8]++;for(;a<=255;)ga[2*a+1]=9,a++,g[9]++;for(;a<=279;)ga[2*a+1]=7,a++,g[7]++;for(;a<=287;)ga[2*a+1]=8,a++,g[8]++;for(n(ga,S+1,g),a=0;a<T;a++)ha[2*a+1]=5,ha[2*a]=k(a,5);ma=new e(ga,ba,R+1,S,W),na=new e(ha,ca,0,T,W),oa=new e(new Array(0),da,0,U,Y)}function p(a){var b;for(b=0;b<S;b++)a.dyn_ltree[2*b]=0;for(b=0;b<T;b++)a.dyn_dtree[2*b]=0;for(b=0;b<U;b++)a.bl_tree[2*b]=0;a.dyn_ltree[2*Z]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0}function q(a){a.bi_valid>8?h(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function r(a,b,c,d){q(a),d&&(h(a,c),h(a,~c)),G.arraySet(a.pending_buf,a.window,b,c,a.pending),a.pending+=c}function s(a,b,c,d){var e=2*b,f=2*c;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]}function t(a,b,c){for(var d=a.heap[c],e=c<<1;e<=a.heap_len&&(e<a.heap_len&&s(b,a.heap[e+1],a.heap[e],a.depth)&&e++,!s(b,d,a.heap[e],a.depth));)a.heap[c]=a.heap[e],c=e,e<<=1;a.heap[c]=d}function u(a,b,c){var d,e,f,h,k=0;if(0!==a.last_lit)do d=a.pending_buf[a.d_buf+2*k]<<8|a.pending_buf[a.d_buf+2*k+1],e=a.pending_buf[a.l_buf+k],k++,0===d?j(a,e,b):(f=ja[e],j(a,f+R+1,b),h=ba[f],0!==h&&(e-=ka[f],i(a,e,h)),d--,f=g(d),j(a,f,c),h=ca[f],0!==h&&(d-=la[f],i(a,d,h)));while(k<a.last_lit);j(a,Z,b)}function v(a,b){var c,d,e,f=b.dyn_tree,g=b.stat_desc.static_tree,h=b.stat_desc.has_stree,i=b.stat_desc.elems,j=-1;for(a.heap_len=0,a.heap_max=V,c=0;c<i;c++)0!==f[2*c]?(a.heap[++a.heap_len]=j=c,a.depth[c]=0):f[2*c+1]=0;for(;a.heap_len<2;)e=a.heap[++a.heap_len]=j<2?++j:0,f[2*e]=1,a.depth[e]=0,a.opt_len--,h&&(a.static_len-=g[2*e+1]);for(b.max_code=j,c=a.heap_len>>1;c>=1;c--)t(a,f,c);e=i;do c=a.heap[1],a.heap[1]=a.heap[a.heap_len--],t(a,f,1),d=a.heap[1],a.heap[--a.heap_max]=c,a.heap[--a.heap_max]=d,f[2*e]=f[2*c]+f[2*d],a.depth[e]=(a.depth[c]>=a.depth[d]?a.depth[c]:a.depth[d])+1,f[2*c+1]=f[2*d+1]=e,a.heap[1]=e++,t(a,f,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],m(a,b),n(f,j,a.bl_count)}function w(a,b,c){var d,e,f=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),b[2*(c+1)+1]=65535,d=0;d<=c;d++)e=g,g=b[2*(d+1)+1],++h<i&&e===g||(h<j?a.bl_tree[2*e]+=h:0!==e?(e!==f&&a.bl_tree[2*e]++,a.bl_tree[2*$]++):h<=10?a.bl_tree[2*_]++:a.bl_tree[2*aa]++,h=0,f=e,0===g?(i=138,j=3):e===g?(i=6,j=3):(i=7,j=4))}function x(a,b,c){var d,e,f=-1,g=b[1],h=0,k=7,l=4;for(0===g&&(k=138,l=3),d=0;d<=c;d++)if(e=g,g=b[2*(d+1)+1],!(++h<k&&e===g)){if(h<l){do j(a,e,a.bl_tree);while(0!==--h)}else 0!==e?(e!==f&&(j(a,e,a.bl_tree),h--),j(a,$,a.bl_tree),i(a,h-3,2)):h<=10?(j(a,_,a.bl_tree),i(a,h-3,3)):(j(a,aa,a.bl_tree),i(a,h-11,7));h=0,f=e,0===g?(k=138,l=3):e===g?(k=6,l=3):(k=7,l=4)}}function y(a){var b;for(w(a,a.dyn_ltree,a.l_desc.max_code),w(a,a.dyn_dtree,a.d_desc.max_code),v(a,a.bl_desc),b=U-1;b>=3&&0===a.bl_tree[2*ea[b]+1];b--);return a.opt_len+=3*(b+1)+5+5+4,b}function z(a,b,c,d){var e;for(i(a,b-257,5),i(a,c-1,5),i(a,d-4,4),e=0;e<d;e++)i(a,a.bl_tree[2*ea[e]+1],3);x(a,a.dyn_ltree,b-1),x(a,a.dyn_dtree,c-1)}function A(a){var b,c=4093624447;for(b=0;b<=31;b++,c>>>=1)if(1&c&&0!==a.dyn_ltree[2*b])return I;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return J;for(b=32;b<R;b++)if(0!==a.dyn_ltree[2*b])return J;return I}function B(a){pa||(o(),pa=!0),a.l_desc=new f(a.dyn_ltree,ma),a.d_desc=new f(a.dyn_dtree,na),a.bl_desc=new f(a.bl_tree,oa),a.bi_buf=0,a.bi_valid=0,p(a)}function C(a,b,c,d){i(a,(L<<1)+(d?1:0),3),r(a,b,c,!0)}function D(a){i(a,M<<1,3),j(a,Z,ga),l(a)}function E(a,b,c,d){var e,f,g=0;a.level>0?(a.strm.data_type===K&&(a.strm.data_type=A(a)),v(a,a.l_desc),v(a,a.d_desc),g=y(a),e=a.opt_len+3+7>>>3,f=a.static_len+3+7>>>3,f<=e&&(e=f)):e=f=c+5,c+4<=e&&b!==-1?C(a,b,c,d):a.strategy===H||f===e?(i(a,(M<<1)+(d?1:0),3),u(a,ga,ha)):(i(a,(N<<1)+(d?1:0),3),z(a,a.l_desc.max_code+1,a.d_desc.max_code+1,g+1),u(a,a.dyn_ltree,a.dyn_dtree)),p(a),d&&q(a)}function F(a,b,c){return a.pending_buf[a.d_buf+2*a.last_lit]=b>>>8&255,a.pending_buf[a.d_buf+2*a.last_lit+1]=255&b,a.pending_buf[a.l_buf+a.last_lit]=255&c,a.last_lit++,0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[2*(ja[c]+R+1)]++,a.dyn_dtree[2*g(b)]++),a.last_lit===a.lit_bufsize-1}var G=a("../utils/common"),H=4,I=0,J=1,K=2,L=0,M=1,N=2,O=3,P=258,Q=29,R=256,S=R+1+Q,T=30,U=19,V=2*S+1,W=15,X=16,Y=7,Z=256,$=16,_=17,aa=18,ba=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ca=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],da=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ea=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fa=512,ga=new Array(2*(S+2));d(ga);var ha=new Array(2*T);d(ha);var ia=new Array(fa);d(ia);var ja=new Array(P-O+1);d(ja);var ka=new Array(Q);d(ka);var la=new Array(T);d(la);var ma,na,oa,pa=!1;c._tr_init=B,c._tr_stored_block=C,c._tr_flush_block=E,c._tr_tally=F,c._tr_align=D},{"../utils/common":62}],74:[function(a,b,c){"use strict";function d(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}b.exports=d},{}]},{},[10])(10)});
});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/CheckoutAPIv0.js

sms.addModule('assets/js/resources/CheckoutAPIv0.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')
const config = require('env').apis
const apiUrl = config.orders

module.exports = {
  // Cart
  getCart (params, pid) {
    return Request.get(apiUrl + 'carts/' + pid, params)
  },
  postCart (params) {
    return Request.post(apiUrl + 'carts', params)
  },
  postCartLines (params, pid) {
    return Request.post(apiUrl + 'carts/' + pid + '/lines', params)
  },
  patchCartLines (params, pid) {
    return Request.patch(apiUrl + 'carts/' + pid + '/lines', params)
  },
  patchCartLine (params, pid) {
    return Request.patch(apiUrl + 'cartlines/' + pid, params)
  },
  deleteCartLine (pid) {
    return Request.delete(apiUrl + 'cartlines/' + pid)
  },
  deleteCart (params, pid) {
    return Request.delete(apiUrl + 'carts/' + pid, params)
  },
  applyCartCoupon (params, pid) {
    return Request.post(apiUrl + 'carts/' + pid + '/apply-coupon', params)
  },
  estimateCartShipping (pid) {
    return Request.get(apiUrl + 'carts/' + pid + '/estimate-shipping')
  },
  // Invoice
  getInvoice (token) {
    return Request.get(apiUrl + 'invoices/token/' + token)
  },
  createInvoiceFromCart (params, cartPid) {
    return Request.post(apiUrl + 'carts/' + cartPid + '/create-invoice', params)
  },
  // Process
  get (pid) {
    return Request.get(apiUrl + 'checkouts/' + pid)
  },
  createFromCart (params, cartPid) {
    return Request.post(apiUrl + 'carts/' + cartPid + '/create-checkout', params)
  },
  createFromInvoice (params, invoiceToken) {
    return Request.post(apiUrl + 'invoices/' + invoiceToken + '/create-checkout', params)
  },
  update (params, pid) {
    return Request.patch(apiUrl + 'checkouts/' + pid, params)
  },
  process (params, pid) {
    return Request.post(apiUrl + 'checkouts/' + pid + '/process', params)
  },
  deleteCheckout (pid) {
    return Request.delete(apiUrl + 'checkouts/' + pid)
  },
  // Shipping Rate
  getShippingRate (params) {
    return Request.get(apiUrl + 'shipping-rate-estimate', params)
  },
  getCoupons (params) {
    return Request.get(apiUrl + 'coupons', params)
  },
  getCoupon (id) {
    return Request.get(apiUrl + 'coupons/' + id)
  },
  createCoupon (params) {
    return Request.post(apiUrl + 'coupons', params)
  },
  deleteCoupon (id) {
    return Request.delete(apiUrl + 'coupons/' + id)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/gitlab.js

sms.addModule('assets/js/resources/gitlab.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  gitlabReleaseNotes (params) {
    return Request.get('/api/v1/release-notes', params)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/docs.js

sms.addModule('assets/js/resources/docs.js', {"path":""}, (require,exports,module)=>{
/**
 * This doesn't do much now, but we can add more as we go
 *
 * ServiceDocumenterFactory
 *
 * Example:
 *
 * const doc = ServiceDocumenterFactory('myServiceName')
 *
 * module.exports = {
 *    myNewFunc () {
 *      ...
 *    },
 *    myOldFunc () {
 *      doc.deprecate('myOldFunc').inFavorOf('myNewFunc')
 *      ...
 *    }
 * }
 */

const ServiceDocumenterFactory = (service) => {
  return {
    deprecate (oldFunc) {
      return {
        inFavorOf (newFunc) {
          console.warn(`DEPRECATION WARNING: The '${oldFunc}' method in the '${service}' service has been deprecated. Please use '${newFunc}' instead.`)
        }
      }
    }
  }
}
module.exports = {
  ServiceDocumenterFactory
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/banking.js

sms.addModule('assets/js/resources/banking.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  cardUpdate: function (card) {
    return Request.post('/api/v1/user-settings/card/card-token', card)
  },
  bankUpdate: function (bank) {
    return Request.put('/api/v1/bank/update', bank)
  },
  depositVerify: function (deposits) {
    return Request.put('/api/v1/bank/verify', deposits)
  },
  bankInfo: function (id, params) {
    return Request.get('/api/v1/bank/show/' + id, params)
  },
  checkBillingForCardUpdate: function (params) {
    return Request.get('/api/v1/bank/check-billing', params)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/email-reports.js

sms.addModule('assets/js/resources/email-reports.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  index: function (params) {
    return Request.get('/api/v1/reports/emails', params)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/ewallet.js

sms.addModule('assets/js/resources/ewallet.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  getPayQuickerRedirectLink () {
    return Request.get('/api/v1/payquicker/invite')
  },
  dashboard: function (params) {
    return Request.get('/api/v1/ewallet/dashboard-report', params)
  },
  salesTaxLedger: function (params) {
    return Request.get('/api/v1/ewallet/tax-ledger/', params)
  },
  payments: function (params) {
    return Request.get('/api/v1/ewallet/payments', params)
  },
  processingFees: function (params) {
    return Request.get('/api/v1/ewallet/processing-fees', params)
  },
  salesTax: function (params) {
    return Request.get('/api/v1/ewallet/sales-tax', params)
  },
  withdraw: function (params) {
    return Request.post('/api/v1/ewallet/withdraw', params)
  },
  ledger: function (params) {
    return Request.get('/api/v1/ewallet/ledger', params)
  },
  transaction: function (params) {
    return Request.get('/api/v1/ewallet/transaction/' + params)
  },
  payTaxesCreditCard: function (params) {
    return Request.get('/api/v1/ewallet/pay-taxes/credit-card', params)
  },
  payTaxesEcheck: function (params) {
    return Request.get('/api/v1/ewallet/pay-taxes/echeck', params)
  },
  payTaxesEwallet: function (params) {
    return Request.get('/api/v1/ewallet/pay-taxes/ewallet', params)
  },
  getUser: function () {
    return Request.get('/api/v1/eWallet/user')
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/history.js

sms.addModule('assets/js/resources/history.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  index: function (params) {
    return Request.get('/api/v1/history', params)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/inventory.js

sms.addModule('assets/js/resources/inventory.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  index: function (params) {
    return Request.get('/api/v1/inventory', params)
  },
  savePrice: function (params) {
    return Request.post('/api/v1/inventory/save-price', params)
  },
  saveQuantity: function (params) {
    return Request.post('/api/v1/inventory/save-quantity', params)
  },
  updateQuanity: function (params) {
    return Request.post('/api/v1/inventory/save-quantity', params)
  },
  toggleDisable: function (id) {
    return Request.get('/api/v1/inventory/toggle/' + id)
  },
  getFulfilledByCorp: function (params) {
    return Request.get('/api/v1/inventory/fulfilled-by-corporate', params)
  },
  fulfilledByCorpPriceUpdate: function (params) {
    return Request.post('/api/v1/price/update-premium', params)
  },
  relistfulfilledByCorp: function (id) {
    return Request.post('/api/v1/inventory/relist', id)
  },
  updateExpirationDate: function (params) {
    return Request.post('/api/v1/inventory/expiration', params)
  },
  getAllLiveVideoProduct: function (params) {
    return Request.get('/api/v2/live-video-products', params)
  },
  createPersonalProduct: function (params) {
    return Request.post('/api/v2/live-video/create-product', params)
  },
  deletePersonalProduct: function (id) {
    return Request.get('/api/v2/live-videos/personal-product/delete/' + id)
  },
  getPersonalProduct: function (id) {
    return Request.get('/api/v2/live-videos/personal-product/' + id)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/custom-links.js

sms.addModule('assets/js/resources/custom-links.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  index (params) {
    return Request.get('/api/v1/custom-links', params)
  },
  create: function (params) {
    return Request.post('/api/v1/custom-links', params)
  },
  remove (id) {
    return Request.delete('/api/v1/custom-links/' + id)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/CommissionEngineAPIv0.js

sms.addModule('assets/js/resources/CommissionEngineAPIv0.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')
const config = require('env').apis
const ceUrl = config.commission
module.exports = {
  runCommand (headers) {
    let params = {}
    headers.sort = `orderdir=${headers.orderdir}&offset=${headers.offset}&limit=${headers.limit}&orderby=${headers.orderby}`
    request = Request.get(ceUrl, params, {headers})
    request.then(function (response) {
      if (response.errors) {
        throw response.errors
      }
      if (response.errormessage) {
        throw {detail: response.errormessage}
      }
    }).catch(function (error) {
      if (error.status != "400") {
        window.Vue.toast(error.detail, { error: true })
      }
    })
    return request
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/googleMaps.js

sms.addModule('assets/js/resources/googleMaps.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/googleMapsRequestHandler.js')

const gmapApiKey = 'AIzaSyA5myQbIe_OrEoNzYXUhX46Ly3qNKj6d-8'

module.exports = {
  getAddressFromGeocode (lat, lng) {
    return Request.post('https://maps.googleapis.com/maps/api/geocode/json?latlng=' + lat + ',' + lng + '&key=' + gmapApiKey)
  },
  getGeocodeFromZipCode (zipcode) {
    return Request.post('https://maps.googleapis.com/maps/api/geocode/json?address=' + zipcode + '&key=' + gmapApiKey)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/googleMapsRequestHandler.js

sms.addModule('assets/js/resources/googleMapsRequestHandler.js', {"path":""}, (require,exports,module)=>{
if (!window.Vue) {
  window.Vue = require('vue')
}
const VueResource = require('vue-resource')
const Toast = require('../custom-plugins/toast/index.js')
const ErrorHandler = require('../resources/requestErrorHandler.js')

window.Vue.use(Toast)
window.Vue.use(VueResource)

var standardOptions = {
  headers: {
    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'
  }
}

module.exports = {
  get: function (endpoint, params) {
    return window.Vue.http.get(endpoint, { params: params }, standardOptions)
        .then((response) => {
          return response.data
        }, (error) => {
          return this.handleError(error)
        })
  },
  post: function (endpoint, params) {
    return window.Vue.http.post(endpoint, params, standardOptions)
        .then((response) => {
          return response.data
        }, (error) => {
          return this.handleError(error)
        })
  },
  put: function (endpoint, params) {
    return window.Vue.http.put(endpoint, params, standardOptions)
        .then((response) => {
          return response.data
        }, (error) => {
          return this.handleError(error)
        })
  },
  patch: function (endpoint, params) {
    return window.Vue.http.patch(endpoint, params, standardOptions)
        .then((response) => {
          return response.data
        }, (error) => {
          return this.handleError(error)
        })
  },
  delete: function (endpoint, params) {
    return window.Vue.http.delete(endpoint, params, standardOptions)
        .then((response) => {
          return response.data
        }, (error) => {
          return this.handleError(error)
        })
  },
  handleError: ErrorHandler
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/MCommEngineAPI.js

sms.addModule('assets/js/resources/MCommEngineAPI.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')
const config = require('env').apis
const ceUrl = config.mcomm
module.exports = {
  mcommDownline: function(userId) {
    return Request.get('/api/v2/mcomm/genealogy/'+userId)
  },
  mcommVolume: function(userId, period){
    return Request.get('/api/v2/mcomm/kpi/'+userId+'/'+period)
  },
  salesVolume: function(userId,period){
    var request = Request.get('/api/v2/mcomm/kpi/'+userId)
    return request
  },
  mcommMembers: function(userId){
    return Request.get('/api/v2/mcomm/members/'+userId)
  },
  activeHistory: function(userId){
    return Request.get('/api/v2/mcomm/activePeriods/')
  },
  getCurrentPeriod: function(){
    return Request.get('/api/v2/mcomm/currentPeriod')
  }
}

  
});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/invoice.js

sms.addModule('assets/js/resources/invoice.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  index: function (params) {
    return Request.get('/api/v1/invoice/', params)
  },
  indexPdf: function (params) {
    return Request.get('/api/v1/invoices-pdf/', params)
  },
  getOrderByID: function (token) {
    return Request.get('/api/v1/invoice/' + token)
  },
  getPdfInvoiceByUid: function (uid) {
    return Request.get('/api/v1/invoice-pdf/' + uid)
  },
  updateInvoiceStatus: function (params) {
    return Request.post('/api/v1/invoice/update-invoice-status', params)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/MCommAPI.js

sms.addModule('assets/js/resources/MCommAPI.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')
module.exports = {
  getApiData (headers) {
    let params = {}
    headers.sort = `orderdir=${headers.orderdir}&offset=${headers.offset}&limit=${headers.limit}&orderby=${headers.orderby}`
    request = Request.get(ceUrl, params, {headers})
    request.then(function (response) {
      if (response.errors) {
        throw response.errors
      }
      if (response.errormessage) {
        throw {detail: response.errormessage}
      }
    }).catch(function (error) {
      if (error.status != "400") {
        window.Vue.toast(error.detail, { error: true })
      }
    })
    return request
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/mcomm-dashboard.js

sms.addModule('assets/js/resources/mcomm-dashboard.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  mcommVolume: function () {
    return Request.get('/api/v2/kpi');
  } 
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/EventsAPIv0.js

sms.addModule('assets/js/resources/EventsAPIv0.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')
const config = require('env').apis

const apiUrl = config.events

module.exports = {
  getEvent (params, id) {
    return Request.get(apiUrl + 'events/' + id, params)
  },
  getEvents (params) {
    return Request.get(apiUrl + 'events', params)
  },
  createEvent (params) {
    return Request.post(apiUrl + 'events', params)
  },
  updateEvent (params, id) {
    return Request.patch(apiUrl + 'events/' + id, params)
  },
  deleteEvents (params, id) {
    return Request.delete(apiUrl + 'events/' + id, params)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/media.js

sms.addModule('assets/js/resources/media.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

const Auth = require('auth')

module.exports = {
  index: function (params) {
    return Request.get('/api/v1/media', params)
  },
  indexWithFilters: function (params) {
    return Request.get('/api/v1/media/filter', params)
  },
  update: function (id, params) {
    return Request.patch('/api/v1/media/' + id, params)
  },
  process: function (params, options) {
    return Request.post('/api/v1/media/process', params, options)
  },
  delete: function (id) {
    return Request.delete('/api/v1/media/' + id)
  },
  mediaTypeCount: function (param) {
    return Request.get('/api/v1/media/count', param)
  },
  dropzoneConfig: function (fileTypes = '') {
    const headers = Object.assign({}, Auth.getAuthHeaders())
    return {
      maxFileSize: 5000,
      maxFiles: 1,
      acceptedFiles: '.jpg, .mp4, .jpeg, .JPEG, .PNG, image/JPG, .png, .gif, .GIF, .doc, .pdf, .docx, .odt, .rtf, .txt, .epub, .xlsx, .ods, .csv, .tsv, .pptx, .odp, .svg, ' + fileTypes,
      dictDefaultMessage: 'Click or drop your file here to upload',
      dictMaxFilesExceeded: 'You may only upload one file at a time.',
      addRemoveLinks: true,
      dictRemoveFile: 'Remove File',
      headers
    }
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/InventoryAPIv0.js

sms.addModule('assets/js/resources/InventoryAPIv0.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')
const config = require('env').apis
const apiUrl = config.inventory

module.exports = {
  getProduct (params, id) {
    return Request.get(apiUrl + 'products/' + id, params)
  },
  getProducts (params) {
    return Request.get(apiUrl + 'products', params)
  },
  createProduct (params) {
    return Request.post(apiUrl + 'products', params)
  },
  updateProduct (params, id) {
    return Request.patch(apiUrl + 'products/' + id, params)
  },
  deleteProduct (id) {
    return Request.delete(apiUrl + 'products/' + id)
  },
  getVariant (params, id) {
    return Request.get(apiUrl + 'variants/' + id, params)
  },
  getVariants (params) {
    return Request.get(apiUrl + 'variants', params)
  },
  createVariant (params) {
    return Request.post(apiUrl + 'variants', params)
  },
  updateVariant (params, id) {
    return Request.patch(apiUrl + 'variants/' + id, params)
  },
  deleteVariant (id) {
    return Request.delete(apiUrl + 'variants/' + id)
  },
  getItem (params, id) {
    return Request.get(apiUrl + 'items/' + id, params)
  },
  getItems (params) {
    return Request.get(apiUrl + 'items', params)
  },
  createItem (params) {
    return Request.post(apiUrl + 'items', params)
  },
  updateItem (params, id) {
    return Request.patch(apiUrl + 'items/' + id, params)
  },
  deleteItem (id) {
    return Request.delete(apiUrl + 'items/' + id)
  },
  updateInventory (params, id) {
    return Request.patch(apiUrl + 'inventory/' + id, params)
  },
  getCategory (params, id) {
    return Request.get(apiUrl + 'category/' + id, params)
  },
  getCategories (params) {
    return Request.get(apiUrl + 'category', params)
  },
  createCategory (params) {
    return Request.post(apiUrl + 'category', params)
  },
  updateCategory (params, id) {
    return Request.patch(apiUrl + 'category/' + id, params)
  },
  deleteCategory (params, id) {
    return Request.delete(apiUrl + 'category/' + id, params)
  },
  getBundles (params) {
    return Request.get(apiUrl + 'bundles', params)
  },
  getBundle (params, id) {
    return Request.get(apiUrl + 'bundles/' + id, params)
  },
  createBundle (params) {
    return Request.post(apiUrl + 'bundles', params)
  },
  updateBundle (params, id) {
    return Request.patch(apiUrl + 'bundles/' + id, params)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/OrdersAPIv0.js

sms.addModule('assets/js/resources/OrdersAPIv0.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')
// apiUrl will need to point to live eventually
const config = require('env').apis
const apiUrl = config.orders

module.exports = {
  get (params, id) {
    return Request.get(apiUrl + 'orders/' + id, params)
  },
  getByReceiptId (params, id) {
    return Request.get(apiUrl + 'orders/by-receipt-id/' + id, params)
  },
  getOrders (params) {
    return Request.get(apiUrl + 'orders', params)
  },
  updateStatuses (params) {
    return Request.patch(apiUrl + 'orders', params)
  },
  updateStatus (params, id) {
    return Request.patch(apiUrl + 'orders/' + id, params)
  },
  updateShippingAddress (params, id) {
    return Request.put(apiUrl + 'orders/' + id + '/shipping-address', params)
  },
  acceptInventory (id) {
    return Request.get(apiUrl + 'orders/' + id + '/accept-inventory')
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/requestErrorHandler.js

sms.addModule('assets/js/resources/requestErrorHandler.js', {"path":""}, (require,exports,module)=>{
module.exports = function (error) {
  var message
  switch (error.status) {
    case 500:
      message = ['500 ERROR: Please contact support.']
      window.Vue.toast('500 ERROR: Please contact support.', { error: true })
      break
    case 404:
      message = ['The requested data was not found.']
      break
    case 400:
      message = error.body
      window.Vue.toast(error.body, { error: true })
      break
    case 422:
      message = error.body
      window.Vue.toast('The request could not be processed. Check your input.', { error: true, dismiss: false })
      break
    default:
      message = error.body
  }
  return {
    error: true,
    code: error.status,
    message: message
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/payments.js

sms.addModule('assets/js/resources/payments.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  pay: function (params) {
    return Request.post('/api/v1/custom-order/pay', params)
  },
  calculateTaxes: function (params) {
    return Request.post('/api/v1/custom-order/tax', params)
  },
  subscriptionAmount: function (userId) {
    return Request.get('/api/v1/subscriptions/renew-amount/' + userId)
  },
  // REGISTRATION RELATED
  subscriptionPayment (params) {
    return Request.post('/api/v1/register', params)
  },
  subscriptionPayNow () {
    return Request.post('/api/v1/subscriptions/renew-subscription')
  },
  validateSplashAccount (params) {
    return Request.post('/api/v1/register/validate-splash', params)
  },
  createPaymentProcessingAccount (params) {
    return Request.post('/api/v1/payment-account', params)
  },
  checkPaymentProcessingAccount (id, params) {
    return Request.post('/api/v1/payment-account/user/' + id, params)
  }

}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/returns.js

sms.addModule('assets/js/resources/returns.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  index: function (params) {
    return Request.get('/api/v1/returns', params)
  },
  return: function (params) {
    return Request.post('/api/v1/returns/request', params)
  },
  returned: function (orderId) {
    return Request.get('/api/v1/returns/return-orders/' + orderId)
  },
  refund: function (params) {
    return Request.post('/api/v1/return/refundRequest', params)
  },
  reason: function () {
    return Request.get('/api/v1/returns/reason')
  },
  history: function (id) {
    return Request.get('/api/v1/returnhistory/' + id)
  },
  returnedQuantity: function (params) {
    return Request.get('/api/v1/returns/quantity', params)
  },
  returnedShow: function (id) {
    return Request.get('/api/v1/returns/show/' + id)
  },
  updateStatus: function (id, params) {
    return Request.patch('/api/v1/returns/update/' + id, params)
  },
  returnStatuses: function () {
    return Request.get('/api/v1/return-statuses/all')
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/PaymanAPI.js

sms.addModule('assets/js/resources/PaymanAPI.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')
// apiUrl will need to point to live eventually
const config = require('env').apis
const apiUrl = config.payman

module.exports = {
  getEWalletBalance (userId) {
    return Request.get(apiUrl + 'e-wallets/' + userId)
  },
  getBankAccount (userId) {
    return Request.get(apiUrl + 'user-accounts/' + userId)
  },
  updateBankAccount (params, userId) {
    return Request.put(apiUrl + 'user-accounts/' + userId, params)
  },
  getEWalletLedger (params) {
    return Request.get(apiUrl + 'reports/balance-ledger', params)
  },
  getPaymentFiles (params) {
    return Request.get(apiUrl + 'payment-files', params)
  },
  getPaymentFile (id) {
    return Request.get(apiUrl + 'payment-files/' + id)
  },
  markSubmitted (id) {
    return Request.get(apiUrl + 'payment-files/' + id + '/mark-submitted')
  },
  downloadNacha (id) {
    return Request.get(apiUrl + 'payment-files/' + id + '/file')
  },
  getValidations (params) {
    // Params: userId, paymentFileId, sortBy
    return Request.get(apiUrl + 'user-account-validations', params)
  },
  isRoutingValid (routing) {
    let multipliers = [3,7,1,3,7,1,3,7,1]
    let sum = 0
    for (let i = 0; i < 9; i++) {
      sum += (routing[i] * multipliers[i])
    }
    return sum % 10 == 0
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/order-status.js

sms.addModule('assets/js/resources/order-status.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  getIndex: function () {
    return Request.get('/api/v1/order-status')
  },
  create: function (params) {
    return Request.post('/api/v1/order-status', params)
  },
  update: function (id, params) {
    return Request.patch('/api/v1/order-status/' + id, params)
  },
  delete: function (id) {
    return Request.delete('/api/v1/order-status/' + id)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/sales.js

sms.addModule('assets/js/resources/sales.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  index: function (params) {
    return Request.get('/api/v1/sales', params)
  },
  getSalesByOrderType: function (orderType, params) {
    return Request.get('/api/v1/report/sales/' + orderType, params)
  },
  repToCustomer: function (params) {
    return Request.get('/api/v1/sales/reps', params)
  },
  getCorpIndex: function (params) {
    return Request.get('/api/v1/report/sales/corp', params)
  },
  getCustIndex: function (params) {
    return Request.get('/api/v1/report/sales/cust', params)
  },
  getRepIndex: function (params) {
    return Request.get('/api/v1/report/sales/rep', params)
  },
  getRepTransferIndex: function (params) {
    return Request.get('/api/v1/report/sales/rep-transfer', params)
  },
  getFBCIndex: function (params) {
    return Request.get('/api/v1/report/sales/fbc', params)
  },
  getFBCByRep: function (id, params) {
    return Request.get('/api/v1/report/sales/fbc/' + id, params)
  },
  getCorpTotal: function (params) {
    return Request.get('/api/v1/report/sales/corp/total', params)
  },
  getFBCTotals: function (params) {
    return Request.get('/api/v1/report/sales/fbc/total', params)
  },
  getRepTotals: function (params) {
    return Request.get('/api/v1/report/sales/rep/total', params)
  },
  getRepTransferTotals: function (params) {
    return Request.get('/api/v1/report/sales/rep-transfer/total', params)
  },
  getSalesTaxTotals: function (params) {
    return Request.get('/api/v1/report/tax/total', params)
  },
  getSalesTaxOwedTotals: function (params) {
    return Request.get('/api/v1/report/tax/owedByUser', params)
  },
  getRep: function (id, params) {
    return Request.get('/api/v1/report/sales/rep/' + id, params)
  },
  getAffiliateIndex: function (params) {
    return Request.get('/api/v1/report/sales/affiliate', params)
  },
  getAffiliateTotals: function (params) {
    return Request.get('/api/v1/report/sales/affiliate/total', params)
  },
  getAffiliate: function (id, params) {
    return Request.get('/api/v1/report/sales/affiliate_user/' + id, params)
  },
  isAffiliate: function () {
    return Request.get('/api/v1/report/isAffiliate')
  }

}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/pid.js

sms.addModule('assets/js/resources/pid.js', {"path":""}, (require,exports,module)=>{
module.exports = (function () {
  // UUID Generator: https://github.com/kelektiv/node-uuid
  const uuidv4=(()=>{const r=(()=>{var r="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);return function(){return r(n),n}}var t=new Array(16);return function(){for(var r,n=0;n<16;n++)0==(3&n)&&(r=4294967296*Math.random()),t[n]=r>>>((3&n)<<3)&255;return t}})(),n=(()=>{for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);return function(n,t){var o=t||0,e=r;return e[n[o++]]+e[n[o++]]+e[n[o++]]+e[n[o++]]+"-"+e[n[o++]]+e[n[o++]]+"-"+e[n[o++]]+e[n[o++]]+"-"+e[n[o++]]+e[n[o++]]+"-"+e[n[o++]]+e[n[o++]]+e[n[o++]]+e[n[o++]]+e[n[o++]]+e[n[o++]]}})();return function(t,o,e){var u=o&&e||0;"string"==typeof t&&(o="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,o)for(var i=0;i<16;++i)o[u+i]=a[i];return o||n(a)}})(); // eslint-disable-line

  /* bignumber.js v6.0.0 https://github.com/MikeMcl/bignumber.js/blob/v6.0.0/LICENCE */
  const BigNumber=function(e){"use strict";var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,t=Math.ceil,i=Math.floor,o="[BigNumber Error] ",s=o+"Number primitive has more than 15 significant digits: ",u=1e14,f=14,c=9007199254740991,l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],a=1e7,h=1e9;function g(e){var r=0|e;return e>0||e===r?r:r-1}function p(e){for(var r,n,t=1,i=e.length,o=e[0]+"";t<i;){for(r=e[t++]+"",n=f-r.length;n--;r="0"+r);o+=r}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function w(e,r){var n,t,i=e.c,o=r.c,s=e.s,u=r.s,f=e.e,c=r.e;if(!s||!u)return null;if(n=i&&!i[0],t=o&&!o[0],n||t)return n?t?0:-u:s;if(s!=u)return s;if(n=s<0,t=f==c,!i||!o)return t?0:!i^n?1:-1;if(!t)return f>c^n?1:-1;for(u=(f=i.length)<(c=o.length)?f:c,s=0;s<u;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return f==c?0:f>c^n?1:-1}function m(e,r,n,s){if(e<r||e>n||e!==(e<0?t(e):i(e)))throw Error(o+(s||"Argument")+("number"==typeof e?e<r||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+e)}function d(e){return"[object Array]"==Object.prototype.toString.call(e)}function v(e,r){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(r<0?"e":"e+")+r}function O(e,r,n){var t,i;if(r<0){for(i=n+".";++r;i+=n);e=i+e}else if(++r>(t=e.length)){for(i=n,r-=t;--r;i+=n);e+=i}else r<t&&(e=e.slice(0,r)+"."+e.slice(r));return e}return(r=function e(r){var N,y,b,E,A,R,P,S,_,L=$.prototype,D=new $(1),T=20,I=4,B=-7,C=21,M=-1e7,U=1e7,x=!1,F=1,G=0,k={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0},q="0123456789abcdefghijklmnopqrstuvwxyz";function $(e,r){var t,o,u,l,a,h,g,p=this;if(!(p instanceof $))return new $(e,r);if(null==r){if(e instanceof $)return p.s=e.s,p.e=e.e,void(p.c=(e=e.c)?e.slice():e);if((a="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,l=e;l>=10;l/=10,u++);return p.e=u,void(p.c=[e])}g=e+""}else{if(!n.test(g=e+""))return b(p,g,a);p.s=45==g.charCodeAt(0)?(g=g.slice(1),-1):1}}else{if(m(r,2,q.length,"Base"),g=e+"",10==r)return V(p=new $(e instanceof $?e:g),T+p.e+1,I);if(a="number"==typeof e){if(0*e!=0)return b(p,g,a,r);if(p.s=1/e<0?(g=g.slice(1),-1):1,g.replace(/^0\.0*|\./,"").length>15)throw Error(s+e);a=!1}else p.s=45===g.charCodeAt(0)?(g=g.slice(1),-1):1,r>10&&r<37&&(g=g.toLowerCase());for(t=q.slice(0,r),u=l=0,h=g.length;l<h;l++)if(t.indexOf(o=g.charAt(l))<0){if("."==o&&l>u){u=h;continue}return b(p,e+"",a,r)}g=y(g,r,10,p.s)}for((u=g.indexOf("."))>-1&&(g=g.replace(".","")),(l=g.search(/e/i))>0?(u<0&&(u=l),u+=+g.slice(l+1),g=g.substring(0,l)):u<0&&(u=g.length),l=0;48===g.charCodeAt(l);l++);for(h=g.length;48===g.charCodeAt(--h););if(g=g.slice(l,h+1)){if(h=g.length,a&&h>15&&(e>c||e!==i(e)))throw Error(s+p.s*e);if((u=u-l-1)>U)p.c=p.e=null;else if(u<M)p.c=[p.e=0];else{if(p.e=u,p.c=[],l=(u+1)%f,u<0&&(l+=f),l<h){for(l&&p.c.push(+g.slice(0,l)),h-=f;l<h;)p.c.push(+g.slice(l,l+=f));g=g.slice(l),l=f-g.length}else l-=h;for(;l--;g+="0");p.c.push(+g)}}else p.c=[p.e=0]}function z(e,r,n,t){var i,o,s,u,f;if(null==n?n=I:m(n,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==r)f=p(e.c),f=1==t||2==t&&s<=B?v(f,s):O(f,s,"0");else if(o=(e=V(new $(e),r,n)).e,u=(f=p(e.c)).length,1==t||2==t&&(r<=o||o<=B)){for(;u<r;f+="0",u++);f=v(f,o)}else if(r-=s,f=O(f,o,"0"),o+1>u){if(--r>0)for(f+=".";r--;f+="0");}else if((r+=o-u)>0)for(o+1==u&&(f+=".");r--;f+="0");return e.s<0&&i?"-"+f:f}function j(e,r){var n,t,i=0;for(d(e[0])&&(e=e[0]),n=new $(e[0]);++i<e.length;){if(!(t=new $(e[i])).s){n=t;break}r.call(n,t)&&(n=t)}return n}function H(e,r,n){for(var t=1,i=r.length;!r[--i];r.pop());for(i=r[0];i>=10;i/=10,t++);return(n=t+n*f-1)>U?e.c=e.e=null:n<M?e.c=[e.e=0]:(e.e=n,e.c=r),e}function V(e,r,n,o){var s,c,a,h,g,p,w,m=e.c,d=l;if(m){e:{for(s=1,h=m[0];h>=10;h/=10,s++);if((c=r-s)<0)c+=f,a=r,w=(g=m[p=0])/d[s-a-1]%10|0;else if((p=t((c+1)/f))>=m.length){if(!o)break e;for(;m.length<=p;m.push(0));g=w=0,s=1,a=(c%=f)-f+1}else{for(g=h=m[p],s=1;h>=10;h/=10,s++);w=(a=(c%=f)-f+s)<0?0:g/d[s-a-1]%10|0}if(o=o||r<0||null!=m[p+1]||(a<0?g:g%d[s-a-1]),o=n<4?(w||o)&&(0==n||n==(e.s<0?3:2)):w>5||5==w&&(4==n||o||6==n&&(c>0?a>0?g/d[s-a]:0:m[p-1])%10&1||n==(e.s<0?8:7)),r<1||!m[0])return m.length=0,o?(r-=e.e+1,m[0]=d[(f-r%f)%f],e.e=-r||0):m[0]=e.e=0,e;if(0==c?(m.length=p,h=1,p--):(m.length=p+1,h=d[f-c],m[p]=a>0?i(g/d[s-a]%d[a])*h:0),o)for(;;){if(0==p){for(c=1,a=m[0];a>=10;a/=10,c++);for(a=m[0]+=h,h=1;a>=10;a/=10,h++);c!=h&&(e.e++,m[0]==u&&(m[0]=1));break}if(m[p]+=h,m[p]!=u)break;m[p--]=0,h=1}for(c=m.length;0===m[--c];m.pop());}e.e>U?e.c=e.e=null:e.e<M&&(e.c=[e.e=0])}return e}return $.clone=e,$.ROUND_UP=0,$.ROUND_DOWN=1,$.ROUND_CEIL=2,$.ROUND_FLOOR=3,$.ROUND_HALF_UP=4,$.ROUND_HALF_DOWN=5,$.ROUND_HALF_EVEN=6,$.ROUND_HALF_CEIL=7,$.ROUND_HALF_FLOOR=8,$.EUCLID=9,$.config=$.set=function(e){var r,n;if(null!=e){if("object"!=typeof e)throw Error(o+"Object expected: "+e);if(e.hasOwnProperty(r="DECIMAL_PLACES")&&(m(n=e[r],0,h,r),T=n),e.hasOwnProperty(r="ROUNDING_MODE")&&(m(n=e[r],0,8,r),I=n),e.hasOwnProperty(r="EXPONENTIAL_AT")&&(d(n=e[r])?(m(n[0],-h,0,r),m(n[1],0,h,r),B=n[0],C=n[1]):(m(n,-h,h,r),B=-(C=n<0?-n:n))),e.hasOwnProperty(r="RANGE"))if(d(n=e[r]))m(n[0],-h,-1,r),m(n[1],1,h,r),M=n[0],U=n[1];else{if(m(n,-h,h,r),!n)throw Error(o+r+" cannot be zero: "+n);M=-(U=n<0?-n:n)}if(e.hasOwnProperty(r="CRYPTO")){if((n=e[r])!==!!n)throw Error(o+r+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw x=!n,Error(o+"crypto unavailable");x=n}else x=n}if(e.hasOwnProperty(r="MODULO_MODE")&&(m(n=e[r],0,9,r),F=n),e.hasOwnProperty(r="POW_PRECISION")&&(m(n=e[r],0,h,r),G=n),e.hasOwnProperty(r="FORMAT")){if("object"!=typeof(n=e[r]))throw Error(o+r+" not an object: "+n);k=n}if(e.hasOwnProperty(r="ALPHABET")){if("string"!=typeof(n=e[r])||/^.$|\.|(.).*\1/.test(n))throw Error(o+r+" invalid: "+n);q=n}}return{DECIMAL_PLACES:T,ROUNDING_MODE:I,EXPONENTIAL_AT:[B,C],RANGE:[M,U],CRYPTO:x,MODULO_MODE:F,POW_PRECISION:G,FORMAT:k,ALPHABET:q}},$.isBigNumber=function(e){return e instanceof $||e&&!0===e._isBigNumber||!1},$.maximum=$.max=function(){return j(arguments,L.lt)},$.minimum=$.min=function(){return j(arguments,L.gt)},$.random=(E=9007199254740992*Math.random()&2097151?function(){return i(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var r,n,s,u,c,a=0,g=[],p=new $(D);if(null==e?e=T:m(e,0,h),u=t(e/f),x)if(crypto.getRandomValues){for(r=crypto.getRandomValues(new Uint32Array(u*=2));a<u;)(c=131072*r[a]+(r[a+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),r[a]=n[0],r[a+1]=n[1]):(g.push(c%1e14),a+=2);a=u/2}else{if(!crypto.randomBytes)throw x=!1,Error(o+"crypto unavailable");for(r=crypto.randomBytes(u*=7);a<u;)(c=281474976710656*(31&r[a])+1099511627776*r[a+1]+4294967296*r[a+2]+16777216*r[a+3]+(r[a+4]<<16)+(r[a+5]<<8)+r[a+6])>=9e15?crypto.randomBytes(7).copy(r,a):(g.push(c%1e14),a+=7);a=u/7}if(!x)for(;a<u;)(c=E())<9e15&&(g[a++]=c%1e14);for(u=g[--a],e%=f,u&&e&&(c=l[f-e],g[a]=i(u/c)*c);0===g[a];g.pop(),a--);if(a<0)g=[s=0];else{for(s=-1;0===g[0];g.splice(0,1),s-=f);for(a=1,c=g[0];c>=10;c/=10,a++);a<f&&(s-=f-a)}return p.e=s,p.c=g,p}),y=function(){function e(e,r,n,t){for(var i,o,s=[0],u=0,f=e.length;u<f;){for(o=s.length;o--;s[o]*=r);for(s[0]+=t.indexOf(e.charAt(u++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(r,n,t,i,o){var s,u,f,c,l,a,h,g,w=r.indexOf("."),m=T,d=I;for(w>=0&&(c=G,G=0,r=r.replace(".",""),a=(g=new $(n)).pow(r.length-w),G=c,g.c=e(O(p(a.c),a.e,"0"),10,t,"0123456789"),g.e=g.c.length),f=c=(h=e(r,n,t,o?(s=q,"0123456789"):(s="0123456789",q))).length;0==h[--c];h.pop());if(!h[0])return s.charAt(0);if(w<0?--f:(a.c=h,a.e=f,a.s=i,h=(a=N(a,g,m,d,t)).c,l=a.r,f=a.e),w=h[u=f+m+1],c=t/2,l=l||u<0||null!=h[u+1],l=d<4?(null!=w||l)&&(0==d||d==(a.s<0?3:2)):w>c||w==c&&(4==d||l||6==d&&1&h[u-1]||d==(a.s<0?8:7)),u<1||!h[0])r=l?O(s.charAt(1),-m,s.charAt(0)):s.charAt(0);else{if(h.length=u,l)for(--t;++h[--u]>t;)h[u]=0,u||(++f,h=[1].concat(h));for(c=h.length;!h[--c];);for(w=0,r="";w<=c;r+=s.charAt(h[w++]));r=O(r,f,s.charAt(0))}return r}}(),N=function(){function e(e,r,n){var t,i,o,s,u=0,f=e.length,c=r%a,l=r/a|0;for(e=e.slice();f--;)u=((i=c*(o=e[f]%a)+(t=l*o+(s=e[f]/a|0)*c)%a*a+u)/n|0)+(t/a|0)+l*s,e[f]=i%n;return u&&(e=[u].concat(e)),e}function r(e,r,n,t){var i,o;if(n!=t)o=n>t?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=r[i]){o=e[i]>r[i]?1:-1;break}return o}function n(e,r,n,t){for(var i=0;n--;)e[n]-=i,i=e[n]<r[n]?1:0,e[n]=i*t+e[n]-r[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(t,o,s,c,l){var a,h,p,w,m,d,v,O,N,y,b,E,A,R,P,S,_,L=t.s==o.s?1:-1,D=t.c,T=o.c;if(!(D&&D[0]&&T&&T[0]))return new $(t.s&&o.s&&(D?!T||D[0]!=T[0]:T)?D&&0==D[0]||!T?0*L:L/0:NaN);for(N=(O=new $(L)).c=[],L=s+(h=t.e-o.e)+1,l||(l=u,h=g(t.e/f)-g(o.e/f),L=L/f|0),p=0;T[p]==(D[p]||0);p++);if(T[p]>(D[p]||0)&&h--,L<0)N.push(1),w=!0;else{for(R=D.length,S=T.length,p=0,L+=2,(m=i(l/(T[0]+1)))>1&&(T=e(T,m,l),D=e(D,m,l),S=T.length,R=D.length),A=S,b=(y=D.slice(0,S)).length;b<S;y[b++]=0);_=T.slice(),_=[0].concat(_),P=T[0],T[1]>=l/2&&P++;do{if(m=0,(a=r(T,y,S,b))<0){if(E=y[0],S!=b&&(E=E*l+(y[1]||0)),(m=i(E/P))>1)for(m>=l&&(m=l-1),v=(d=e(T,m,l)).length,b=y.length;1==r(d,y,v,b);)m--,n(d,S<v?_:T,v,l),v=d.length,a=1;else 0==m&&(a=m=1),v=(d=T.slice()).length;if(v<b&&(d=[0].concat(d)),n(y,d,b,l),b=y.length,-1==a)for(;r(T,y,S,b)<1;)m++,n(y,S<b?_:T,b,l),b=y.length}else 0===a&&(m++,y=[0]);N[p++]=m,y[0]?y[b++]=D[A]||0:(y=[D[A]],b=1)}while((A++<R||null!=y[0])&&L--);w=null!=y[0],N[0]||N.splice(0,1)}if(l==u){for(p=1,L=N[0];L>=10;L/=10,p++);V(O,s+(O.e=p+h*f-1)+1,c,w)}else O.e=h,O.r=+w;return O}}(),A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,R=/^([^.]+)\.$/,P=/^\.([^.]+)$/,S=/^-?(Infinity|NaN)$/,_=/^\s*\+(?=[\w.])|^\s+|\s+$/g,b=function(e,r,n,t){var i,s=n?r:r.replace(_,"");if(!S.test(s)){if(!n&&(s=s.replace(A,function(e,r,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,t&&t!=i?e:r}),t&&(i=t,s=s.replace(R,"$1").replace(P,"0.$1")),r!=s))return new $(s,i);throw Error(o+"Not a"+(t?" base "+t:"")+" number: "+r)}e.s=isNaN(s)?null:s<0?-1:1,e.c=e.e=null},L.absoluteValue=L.abs=function(){var e=new $(this);return e.s<0&&(e.s=1),e},L.comparedTo=function(e,r){return w(this,new $(e,r))},L.decimalPlaces=L.dp=function(e,r){var n,t,i,o=this;if(null!=e)return m(e,0,h),null==r?r=I:m(r,0,8),V(new $(o),e+o.e+1,r);if(!(n=o.c))return null;if(t=((i=n.length-1)-g(this.e/f))*f,i=n[i])for(;i%10==0;i/=10,t--);return t<0&&(t=0),t},L.dividedBy=L.div=function(e,r){return N(this,new $(e,r),T,I)},L.dividedToIntegerBy=L.idiv=function(e,r){return N(this,new $(e,r),0,1)},L.isEqualTo=L.eq=function(e,r){return 0===w(this,new $(e,r))},L.integerValue=function(e){var r=new $(this);return null==e?e=I:m(e,0,8),V(r,r.e+1,e)},L.isGreaterThan=L.gt=function(e,r){return w(this,new $(e,r))>0},L.isGreaterThanOrEqualTo=L.gte=function(e,r){return 1===(r=w(this,new $(e,r)))||0===r},L.isFinite=function(){return!!this.c},L.isInteger=function(){return!!this.c&&g(this.e/f)>this.c.length-2},L.isNaN=function(){return!this.s},L.isNegative=function(){return this.s<0},L.isPositive=function(){return this.s>0},L.isZero=function(){return!!this.c&&0==this.c[0]},L.isLessThan=L.lt=function(e,r){return w(this,new $(e,r))<0},L.isLessThanOrEqualTo=L.lte=function(e,r){return-1===(r=w(this,new $(e,r)))||0===r},L.minus=function(e,r){var n,t,i,o,s=this,c=s.s;if(r=(e=new $(e,r)).s,!c||!r)return new $(NaN);if(c!=r)return e.s=-r,s.plus(e);var l=s.e/f,a=e.e/f,h=s.c,p=e.c;if(!l||!a){if(!h||!p)return h?(e.s=-r,e):new $(p?s:NaN);if(!h[0]||!p[0])return p[0]?(e.s=-r,e):new $(h[0]?s:3==I?-0:0)}if(l=g(l),a=g(a),h=h.slice(),c=l-a){for((o=c<0)?(c=-c,i=h):(a=l,i=p),i.reverse(),r=c;r--;i.push(0));i.reverse()}else for(t=(o=(c=h.length)<(r=p.length))?c:r,c=r=0;r<t;r++)if(h[r]!=p[r]){o=h[r]<p[r];break}if(o&&(i=h,h=p,p=i,e.s=-e.s),(r=(t=p.length)-(n=h.length))>0)for(;r--;h[n++]=0);for(r=u-1;t>c;){if(h[--t]<p[t]){for(n=t;n&&!h[--n];h[n]=r);--h[n],h[t]+=u}h[t]-=p[t]}for(;0==h[0];h.splice(0,1),--a);return h[0]?H(e,h,a):(e.s=3==I?-1:1,e.c=[e.e=0],e)},L.modulo=L.mod=function(e,r){var n,t,i=this;return e=new $(e,r),!i.c||!e.s||e.c&&!e.c[0]?new $(NaN):!e.c||i.c&&!i.c[0]?new $(i):(9==F?(t=e.s,e.s=1,n=N(i,e,0,3),e.s=t,n.s*=t):n=N(i,e,0,F),i.minus(n.times(e)))},L.multipliedBy=L.times=function(e,r){var n,t,i,o,s,c,l,h,p,w,m,d,v,O,N,y=this,b=y.c,E=(e=new $(e,r)).c;if(!(b&&E&&b[0]&&E[0]))return!y.s||!e.s||b&&!b[0]&&!E||E&&!E[0]&&!b?e.c=e.e=e.s=null:(e.s*=y.s,b&&E?(e.c=[0],e.e=0):e.c=e.e=null),e;for(t=g(y.e/f)+g(e.e/f),e.s*=y.s,(l=b.length)<(w=E.length)&&(v=b,b=E,E=v,i=l,l=w,w=i),i=l+w,v=[];i--;v.push(0));for(O=u,N=a,i=w;--i>=0;){for(n=0,m=E[i]%N,d=E[i]/N|0,o=i+(s=l);o>i;)n=((h=m*(h=b[--s]%N)+(c=d*h+(p=b[s]/N|0)*m)%N*N+v[o]+n)/O|0)+(c/N|0)+d*p,v[o--]=h%O;v[o]=n}return n?++t:v.splice(0,1),H(e,v,t)},L.negated=function(){var e=new $(this);return e.s=-e.s||null,e},L.plus=function(e,r){var n,t=this,i=t.s;if(r=(e=new $(e,r)).s,!i||!r)return new $(NaN);if(i!=r)return e.s=-r,t.minus(e);var o=t.e/f,s=e.e/f,c=t.c,l=e.c;if(!o||!s){if(!c||!l)return new $(i/0);if(!c[0]||!l[0])return l[0]?e:new $(c[0]?t:0*i)}if(o=g(o),s=g(s),c=c.slice(),i=o-s){for(i>0?(s=o,n=l):(i=-i,n=c),n.reverse();i--;n.push(0));n.reverse()}for((i=c.length)-(r=l.length)<0&&(n=l,l=c,c=n,r=i),i=0;r;)i=(c[--r]=c[r]+l[r]+i)/u|0,c[r]=u===c[r]?0:c[r]%u;return i&&(c=[i].concat(c),++s),H(e,c,s)},L.precision=L.sd=function(e,r){var n,t,i,o=this;if(null!=e&&e!==!!e)return m(e,1,h),null==r?r=I:m(r,0,8),V(new $(o),e,r);if(!(n=o.c))return null;if(t=(i=n.length-1)*f+1,i=n[i]){for(;i%10==0;i/=10,t--);for(i=n[0];i>=10;i/=10,t++);}return e&&o.e+1>t&&(t=o.e+1),t},L.shiftedBy=function(e){return m(e,-c,c),this.times("1e"+e)},L.squareRoot=L.sqrt=function(){var e,r,n,t,i,o=this,s=o.c,u=o.s,f=o.e,c=T+4,l=new $("0.5");if(1!==u||!s||!s[0])return new $(!u||u<0&&(!s||s[0])?NaN:s?o:1/0);if(0==(u=Math.sqrt(+o))||u==1/0?(((r=p(s)).length+f)%2==0&&(r+="0"),u=Math.sqrt(r),f=g((f+1)/2)-(f<0||f%2),n=new $(r=u==1/0?"1e"+f:(r=u.toExponential()).slice(0,r.indexOf("e")+1)+f)):n=new $(u+""),n.c[0])for((u=(f=n.e)+c)<3&&(u=0);;)if(i=n,n=l.times(i.plus(N(o,i,c,1))),p(i.c).slice(0,u)===(r=p(n.c)).slice(0,u)){if(n.e<f&&--u,"9999"!=(r=r.slice(u-3,u+1))&&(t||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(V(n,n.e+T+2,1),e=!n.times(n).eq(o));break}if(!t&&(V(i,i.e+T+2,0),i.times(i).eq(o))){n=i;break}c+=4,u+=4,t=1}return V(n,n.e+T+1,I,e)},L.toExponential=function(e,r){return null!=e&&(m(e,0,h),e++),z(this,e,r,1)},L.toFixed=function(e,r){return null!=e&&(m(e,0,h),e=e+this.e+1),z(this,e,r)},L.toFormat=function(e,r){var n=this.toFixed(e,r);if(this.c){var t,i=n.split("."),o=+k.groupSize,s=+k.secondaryGroupSize,u=k.groupSeparator,f=i[0],c=i[1],l=this.s<0,a=l?f.slice(1):f,h=a.length;if(s&&(t=o,o=s,s=t,h-=t),o>0&&h>0){for(t=h%o||o,f=a.substr(0,t);t<h;t+=o)f+=u+a.substr(t,o);s>0&&(f+=u+a.slice(t)),l&&(f="-"+f)}n=c?f+k.decimalSeparator+((s=+k.fractionGroupSize)?c.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+k.fractionGroupSeparator):c):f}return n},L.toFraction=function(e){var r,n,t,i,s,u,c,a,h,g,w,m,d=this,v=d.c;if(null!=e&&(!(a=new $(e)).isInteger()||a.lt(D)))throw Error(o+"Argument "+(a.isInteger()?"out of range: ":"not an integer: ")+e);if(!v)return d.toString();for(n=new $(D),g=t=new $(D),i=h=new $(D),m=p(v),u=n.e=m.length-d.e-1,n.c[0]=l[(c=u%f)<0?f+c:c],e=!e||a.comparedTo(n)>0?u>0?n:g:a,c=U,U=1/0,a=new $(m),h.c[0]=0;w=N(a,n,0,1),1!=(s=t.plus(w.times(i))).comparedTo(e);)t=i,i=s,g=h.plus(w.times(s=g)),h=s,n=a.minus(w.times(s=n)),a=s;return s=N(e.minus(t),i,0,1),h=h.plus(s.times(g)),t=t.plus(s.times(i)),h.s=g.s=d.s,r=N(g,i,u*=2,I).minus(d).abs().comparedTo(N(h,t,u,I).minus(d).abs())<1?[g.toString(),i.toString()]:[h.toString(),t.toString()],U=c,r},L.toNumber=function(){return+this},L.exponentiatedBy=L.pow=function(e,r){var n,o,s,u,l=this;for(m(e,-c,c),null!=r&&(r=new $(r)),r?e>1&&l.gt(D)&&l.isInteger()&&r.gt(D)&&r.isInteger()?l=l.mod(r):(u=r,r=null):G&&(o=t(G/f+2)),s=new $(D),n=i(e<0?-e:e);;){if(n%2){if(!(s=s.times(l)).c)break;o?s.c.length>o&&(s.c.length=o):r&&(s=s.mod(r))}if(!(n=i(n/2)))break;l=l.times(l),o?l.c&&l.c.length>o&&(l.c.length=o):r&&(l=l.mod(r))}return r?s:(e<0&&(s=D.div(s)),u?s.mod(u):o?V(s,G,I):s)},L.toPrecision=function(e,r){return null!=e&&m(e,1,h),z(this,e,r,2)},L.toString=function(e){var r,n=this,t=n.s,i=n.e;return null===i?t?(r="Infinity",t<0&&(r="-"+r)):r="NaN":(r=p(n.c),null==e?r=i<=B||i>=C?v(r,i):O(r,i,"0"):(m(e,2,q.length,"Base"),r=y(O(r,i,"0"),10,e,t,!0)),t<0&&n.c[0]&&(r="-"+r)),r},L.valueOf=L.toJSON=function(){var e,r=this,n=r.e;return null===n?r.toString():(e=p(r.c),e=n<=B||n>=C?v(e,n):O(e,n,"0"),r.s<0?"-"+e:e)},L._isBigNumber=!0,null!=r&&$.set(r),$}()).default=r.BigNumber=r,r}(window); // eslint-disable-line

  const UUID_BASE16 = 16
  const PID_BASE36 = 36
  const SYMBOLS = '0123456789abcdefghijklmnopqrstuvwxyz'
  const RE_UUID_NO_HYPHEN = /^([a-f0-9]{8})([a-f0-9]{4})([a-f0-9]{4})([a-f0-9]{4})([a-f0-9]{12})$/
  const RE_UUID_WITH_HYPHEN = '$1-$2-$3-$4-$5'

  const create = (uuid = '') => {
    if (uuid === '') uuid = uuidv4()
    uuid = uuid.replace(/-/g, '').toLowerCase()
    let pid = baseToBase(uuid, UUID_BASE16, PID_BASE36)
    return '' + padStart(pid, 25, '0')
  }

  const toUuid = (pid) => {
    let uuid = baseToBase(pid, PID_BASE36, UUID_BASE16)
    uuid = padStart(uuid, 32, '0')
    return '' + uuid.replace(RE_UUID_NO_HYPHEN, RE_UUID_WITH_HYPHEN)
  }

  const padStart = (str, count, char) => {
    count = count - (str || '').length
    if (count <= 0) return str
    let pad = char
    while (count > pad.length) pad += char
    pad = pad.substr(0, count)
    return pad + str
  }

  const baseToBase = (digits, fromBase, toBase) => {
    return valueToForm(formToValue(digits, fromBase), toBase)
  }

  const valueToForm = (value, base) => {
    if (!(value instanceof BigNumber)) value = BigNumber(value)
    let digits = ''
    while (value.comparedTo(0) > 0) {
      const quotient = value.idiv(base)
      const remainder = value.mod(base)
      digits = SYMBOLS[remainder] + digits
      value = quotient
    }
    return digits
  }

  const formToValue = (digits, base) => {
    if (base > PID_BASE36) {
      throw new Error(`Base '${base}' exceeds maximum '${PID_BASE36}'.`)
    }
    const subset = SYMBOLS.substr(0, base)
    let value = BigNumber(0)
    for (let c of digits) {
      const index = subset.indexOf(c)
      if (index === -1) {
        throw new Error(`Invalid digit '${c}', not found in '${base}' digits '${subset}'.`)
      }
      value = value.times(base).plus(index)
    }
    return value
  }

  return { create, toUuid }
})()

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/requestHandler.js

sms.addModule('assets/js/resources/requestHandler.js', {"path":""}, (require,exports,module)=>{
const Auth = require('auth')
const Pid = require('./pid.js')

module.exports = {
  get (url, params, options) {
    return request(Object.assign({}, options, { method: 'get', url, params }))
  },
  post (url, body, options) {
    return request(Object.assign({}, options, { method: 'post', url, body }))
  },
  put (url, body) {
    return request({ method: 'put', url, body })
  },
  patch (url, body) {
    return request({ method: 'patch', url, body })
  },
  delete (url, params) {
    return request({ method: 'delete', url, params })
  }
}

const request = (opts) => {
  if (!opts || typeof opts !== 'object') throw new Error(`Invalid request object!`)
  let defaultHeaders = Object.assign({}, {
    'X-Cp-Request-Id': Pid.create()
  }, Auth.getAuthHeaders())
  opts.headers = Object.assign({}, opts.headers, defaultHeaders)
  return window.Vue
    .http(opts)
    .then(res => res.data)
    .catch(err => handleError(err))
}

const handleError = (error) => {
  var message
  switch (error.status) {
    case 401:
      Auth.logout().then(() => {
        window.VueInstance.$router.push(`/auth?return=${window.location.pathname}`)
      })
      return {
        error: true,
        code: error.status,
        message: 'Please login.'
      }
    case 500:
      message = ['500 ERROR: Please contact support.']
      window.Vue.toast('500 ERROR: Please contact support.', { error: true })
      break
    case 404:
      message = ['The requested data was not found.']
      break
    case 400:
      message = error.body
      window.Vue.toast(error.body, { error: true })
      break
    case 422:
      message = error.body
      if (typeof message === 'string') {
        window.Vue.toast(message, { error: true, dismiss: false })
      } else if (typeof message === 'object') {
        window.Vue.toast(message[Object.keys(message)[0]], { error: true, dismiss: false })
      } else {
        window.Vue.toast('Check your input and try again.', { error: true, dismiss: false })
      }
      break
    default:
      message = error.body
  }
  return {
    error: true,
    code: error.status,
    message: message
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/repLocator.js

sms.addModule('assets/js/resources/repLocator.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

const gmapApiKey = 'AIzaSyA5myQbIe_OrEoNzYXUhX46Ly3qNKj6d-8'

module.exports = {
  getRepsByLocation: function (searchLocation) {
    return Request.post('/api/v1/rep-locator/nearby-reps', searchLocation)
  },
  reverseGeocode: function (latitude, longitude) {
    return Request.get('/api/v1/rep-locator/geocoord/' + latitude + '/' + longitude)
  },
  searchProducts: function (productId, searchLocation) {
    return Request.post('/api/v1/rep-locator/searchProduct/' + productId, searchLocation)
  },
  // following are for the new rep locator
  getAddressFromGeocode (lat, lng) {
    return Request.post('https://maps.googleapis.com/maps/api/geocode/json?latlng=' + lat + ',' + lng + '&key=' + gmapApiKey)
  },
  searchReps (params) {
    return Request.get('/api/v1/locator/rep/search', params)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/settings.js

sms.addModule('assets/js/resources/settings.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  getAllSettings: function (params) {
    return Request.get('/api/v1/settings')
  },
  getReturnPolicy: function () {
    return Request.get('/api/v1/pages/return-policy')
  },
  getGeneralStoreSettings: function () {
    return Request.get('/api/v1/settings/general-store')
  },
  getInventorySettings: function () {
    return Request.get('/api/v1/settings/inventory')
  },
  getRepSettings: function () {
    return Request.get('/api/v1/settings/rep')
  },
  getStoreSettings: function () {
    return Request.get('/api/v1/store-settings')
  },
  getTaxSettings: function () {
    return Request.get('/api/v1/settings/taxes')
  },
  update: function (params) {
    return Request.post('/api/v1/settings/update', params)
  },
  saveCustomPage: function (params) {
    return Request.post('/api/v1/pages/create', params)
  },
  saveRequireCustomPage: function (params) {
    return Request.post('/api/v1/pages/create-revised', params)
  },
  customPages: function () {
    return Request.get('/api/v1/pages')
  },
  getCompanyTerms: function () {
    return Request.get('/api/v1/pages/terms')
  },
  getRepTerms: function () {
    return Request.get('/api/v1/pages/rep-terms')
  },
  getCustomPage: function (slug) {
    return Request.get('/api/v1/pages/' + slug)
  },
  getRegistrationSettings: function () {
    return Request.get('/api/v1/settings/registration')
  },
  saveStoreSetting: function (params) {
    return Request.post('/api/v1/store-settings/update', params)
  },
  saveCategoryCaption: function (params) {
    return Request.post('/api/v1/store-settings/category-header', params)
  },
  getUserStoreSettings: function (userId) {
    return Request.get('/api/v1/store-settings/user/' + userId)
  },
  getShippingSettings: function () {
    return Request.get('/api/v1/settings/shipping')
  },
  getCommissionSettings: function (params) {
    return Request.get('api/v1/settings/commission-engine')
  },
  getSettingCategory: function (category) {
    return Request.get('api/v1/settings/category/' + category)
  },
  getBlacklist: function () {
    return Request.get('api/v1/settings/blacklist')
  },
  updateBlacklist: function (params) {
    return Request.post('api/v1/settings/updateBlacklist', params)
  },
  getCheckoutSetting: function () {
    return Request.get('/api/v1/checkout/setting')
  },
  saveCheckoutSetting: function (params) {
    return Request.post('/api/v1/checkout/setting', params)
  },
  customEmails: function () {
    return Request.get('/api/v1/email')
  },
  getCustomEmailBySlug (slug) {
    return Request.get('/api/v1/emails/byslug/' + slug)
  },
  saveCustomEmail: function (title, params) {
    return Request.post('/api/v1/email/update/' + title, params)
  },
  showcontent: function (title, params) {
    return Request.get('/api/v1/email/show/' + title, params)
  },
  updateVariantClaimNumber: function () {
    return Request.post('/api/v1/variants/claim-number')
  },
  getEventSettings: function () {
    return Request.get('/api/v1/settings/events')
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/social-media.js

sms.addModule('assets/js/resources/social-media.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  connectFacebook: function () {
    return Request.get('/api/v2/oauth/associate/facebook')
  },
  disconnectFacebook: function () {
    return Request.get('/api/v2/oauth/disconnect/facebook')
  }

}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/shipping.js

sms.addModule('assets/js/resources/shipping.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  rateRanges: function () {
    return Request.get('/api/v1/shipping-rate')
  },
  wholesaleRateRanges: function () {
    return Request.get('/api/v1/shipping-rate-wholesale')
  },
  createRateRanges: function (params) {
    return Request.post('/api/v1/shipping-rate/create', params)
  },
  getShippingCostByAuth: function (totalCost) {
    return Request.get('/api/v1/shipping-rate/shipping-cost-by-auth', totalCost)
  },
  shippoRates: function (params) {
    return Request.post('/api/v1/shipping/rates', params)
  },
  label: function (params) {
    return Request.post('/api/v1/shipping', params)
  },
  shippingCost: function (priceTotal) {
    return Request.get('/api/v1/shipping-rate/shipping-cost', priceTotal)
  },
  customOrderShippingCost: function (params) {
    return Request.get('/api/v1/custom-shipping-rate', params)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/Rollbar.js

sms.addModule('assets/js/resources/Rollbar.js', {"path":""}, (require,exports,module)=>{
const Rollbar = require('rollbar')

module.exports = {
  install: function(Vue) {
    Vue.rollbar = new Rollbar({
      accessToken: 'f9c6b720fb964fa683052b97b0c4f761',
      captureUncaught: false,
      captureUnhandledRejections: false,
      enabled: true,
      source_map_enabled: false,
      environment: 'production',
      payload: {
        client: {
          javascript: {
            code_version: 'unknown'
          }
        }
      }
    });
    Vue.prototype.$rollbar = Vue.rollbar
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/orders.js

sms.addModule('assets/js/resources/orders.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  all: function (params) {
    return Request.get('/api/v1/orders', params)
  },
  byFulfillmentStatus: function (params) {
    return Request.get('/api/v1/orders/all', params)
  },
  show: function (receiptId) {
    return Request.get('/api/v1/orders/show/' + receiptId)
  },
  rep: function (params) {
    return Request.get('/api/v1/orders/by-rep', params)
  },
  updateStatus: function (params) {
    return Request.post('/api/v1/orders/update-status', params)
  },
  getStatus: function () {
    return Request.get('/api/v1/order-status')
  },
  createStandardOrder (params) {
    return Request.post('/api/v1/orders/create', params)
  },
  createCustomOrder (params) {
    return Request.post('/api/v1/orders/create-custom', params)
  },
  transferInventory (receiptId) {
    return Request.post('/api/v1/orders/transfer-inventory/' + receiptId)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/states.js

sms.addModule('assets/js/resources/states.js', {"path":""}, (require,exports,module)=>{

module.exports.states = [
  {
    'value': 'AL',
    'name': 'Alabama'
  },
  {
    'value': 'AK',
    'name': 'Alaska'
  },
  {
    'value': 'AZ',
    'name': 'Arizona'
  },
  {
    'value': 'AR',
    'name': 'Arkansas'
  },
  {
    'value': 'CA',
    'name': 'California'
  },
  {
    'value': 'CO',
    'name': 'Colorado'
  },
  {
    'value': 'CT',
    'name': 'Connecticut'
  },
  {
    'value': 'DE',
    'name': 'Delaware'
  },
  {
    'value': 'DC',
    'name': 'District Of Columbia'
  },
  {
    'value': 'FL',
    'name': 'Florida'
  },
  {
    'value': 'GA',
    'name': 'Georgia'
  },
  {
    'value': 'HI',
    'name': 'Hawaii'
  },
  {
    'value': 'ID',
    'name': 'Idaho'
  },
  {
    'value': 'IL',
    'name': 'Illinois'
  },
  {
    'value': 'IN',
    'name': 'Indiana'
  },
  {
    'value': 'IA',
    'name': 'Iowa'
  },
  {
    'value': 'KS',
    'name': 'Kansas'
  },
  {
    'value': 'KY',
    'name': 'Kentucky'
  },
  {
    'value': 'LA',
    'name': 'Louisiana'
  },
  {
    'value': 'ME',
    'name': 'Maine'
  },
  {
    'value': 'MD',
    'name': 'Maryland'
  },
  {
    'value': 'MA',
    'name': 'Massachusetts'
  },
  {
    'value': 'MI',
    'name': 'Michigan'
  },
  {
    'value': 'MN',
    'name': 'Minnesota'
  },
  {
    'value': 'MS',
    'name': 'Mississippi'
  },
  {
    'value': 'MO',
    'name': 'Missouri'
  },
  {
    'value': 'MT',
    'name': 'Montana'
  },
  {
    'value': 'NE',
    'name': 'Nebraska'
  },
  {
    'value': 'NV',
    'name': 'Nevada'
  },
  {
    'value': 'NH',
    'name': 'New Hampshire'
  },
  {
    'value': 'NJ',
    'name': 'New Jersey'
  },
  {
    'value': 'NM',
    'name': 'New Mexico'
  },
  {
    'value': 'NY',
    'name': 'New York'
  },
  {
    'value': 'NC',
    'name': 'North Carolina'
  },
  {
    'value': 'ND',
    'name': 'North Dakota'
  },
  {
    'value': 'OH',
    'name': 'Ohio'
  },
  {
    'value': 'OK',
    'name': 'Oklahoma'
  },
  {
    'value': 'OR',
    'name': 'Oregon'
  },
  {
    'value': 'PA',
    'name': 'Pennsylvania'
  },
  {
    'value': 'RI',
    'name': 'Rhode Island'
  },
  {
    'value': 'SC',
    'name': 'South Carolina'
  },
  {
    'value': 'SD',
    'name': 'South Dakota'
  },
  {
    'value': 'TN',
    'name': 'Tennessee'
  },
  {
    'value': 'TX',
    'name': 'Texas'
  },
  {
    'value': 'UT',
    'name': 'Utah'
  },
  {
    'value': 'VT',
    'name': 'Vermont'
  },
  {
    'value': 'VA',
    'name': 'Virginia'
  },
  {
    'value': 'WA',
    'name': 'Washington'
  },
  {
    'value': 'WV',
    'name': 'West Virginia'
  },
  {
    'value': 'WI',
    'name': 'Wisconsin'
  },
  {
    'value': 'WY',
    'name': 'Wyoming'
  },
  {
    'value': 'AA',
    'name': 'Armed Forces Americas'
  },
  {
    'value': 'AE',
    'name': 'Armed Forces Middle East, Europe, Africa and Canada'
  },
  {
    'value': 'AP',
    'name': 'Armed Forces Pacific'
  },
  {
    'value': 'APO',
    'name': 'Army Post Office'
  },
  {
    'value': 'FPO',
    'name': 'Fleet Post Office'
  },
  {
    'value': 'DPO',
    'name': 'Diplomatic Post Office'
  },
  {
    'value': 'AS',
    'name': 'American Samoa'
  },
  {
    'value': 'AS',
    'name': 'Micronesia'
  },
  {
    'value': 'MP',
    'name': 'Norther Mariana Islands'
  },
  {
    'value': 'GU',
    'name': 'Guam'
  },
  {
    'value': 'PR',
    'name': 'Puerto Rico'
  },
  {
    'value': 'VI',
    'name': 'Us Virgin Islands'
  },
  {
    'value': 'MH',
    'name': 'Marshall Islands'
  }
]

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/users.js

sms.addModule('assets/js/resources/users.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  index: function (params) {
    return Request.get('/api/v1/user', params)
  },
  names: function (params) {
    return Request.get('/api/v1/user/names', params)
  },
  searchUsers (params) {
    return Request.get('/api/v1/user/search', params)
  },
  searchReps (params) {
    return Request.get('/api/v1/users/search/reps', params)
  },
  searchSponsors (params) {
    return Request.get('/api/v1/users/search/sponsors', params)
  },
  roles: function () {
    return Request.get('/api/v1/roles')
  },
  create: function (params) {
    return Request.post('/api/v1/user/create', params)
  },
  update: function (user) {
    return Request.put('/api/v1/user/update/' + user.id, user)
  },
  userAccount: function (id) {
    return Request.get('/api/v1/my-account/' + id)
  },
  userSettings: function (id) {
    return Request.get('/api/v1/user-settings/' + id)
  },
  updateUserSettings: function (settings) {
    return Request.put('/api/v1/user-settings/update', settings)
  },
  userCardInfo: function () {
    return Request.get('/api/v1/user-settings/card/show')
  },
  editJoinDate: function (params) {
    return Request.post('/api/v1/user/edit-join-date', params)
  },
  // check availability of domain name (public id)
  checkPublicId (publicId) {
    return Request.get('/api/v1/register/check-public-id/' + publicId)
  },
  adminCreatableRoles () {
    return Request.get('/api/v1/roles/admin-creatable')
  },
  /**
  * get terms  and rep url for my settings/my account page
  */
  getTerms (params, id) {
    return Request.get('/api/v1/user-settings/terms/' + id, params)
  },
  /**
  * validates a new user for registration purposes (does not register or create a user)
  */
  validateNewUser (params) {
    return Request.post('/api/v1/register/validate-user', params)
  },
  validateBasicCustomerInfo (params) {
    return Request.post('/api/v1/orders/validate-basic-customer-info', params)
  },
  softDeleteUser: function (id) {
    return Request.post('/api/v1/user/delete', id)
  },
  downloadUserCsv: function (params) {
    return Request.post('/api/v1/user/csv', params)
  },
  userCompanyInfo: function () {
    return Request.get('/api/v1/user/company')
  },
  createOrUpdateCompanyInfo: function (params) {
    return Request.post('/api/v1/user/createUpdateCompany', params)
  },
  acceptTermsAndConditions: function () {
    return Request.get('api/v1/user/acceptTerms')
  },
  getAuthUser () {
    return Request.get('/api/v1/user/auth')
  },
  isAffiliate () {
    return Request.get('/api/v1/user/isAffiliate')
  },
  getRegistrationToken (token) {
    return Request.get('/api/v1/user-token/' + token)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/TaxesAPIv0.js

sms.addModule('assets/js/resources/TaxesAPIv0.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')
const config = require('env').apis
const apiUrl = config.taxes
module.exports = {
  getQuote (params) {
    return Request.post(apiUrl + 'tax-invoices/', params)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/user-status.js

sms.addModule('assets/js/resources/user-status.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  getIndex: function () {
    return Request.get('/api/v1/user-status')
  },
  create: function (params) {
    return Request.post('/api/v1/user-status', params)
  },
  update: function (id, params) {
    return Request.patch('/api/v1/user-status/' + id, params)
  },
  delete: function (id) {
    return Request.delete('/api/v1/user-status/' + id)
  },
  updateStatuses: function (params) {
    return Request.post('/api/v1/user-status/update-status', params)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/UserApiv0.js

sms.addModule('assets/js/resources/UserApiv0.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')
const config = require('env').apis
const apiUrl = config.users

module.exports = {
  get (pid, params) {
    return Request.get(apiUrl + 'users/' + pid, params)
  },
  getByEmail (email) {
    return Request.get(apiUrl + 'users/email/' + email)
  },
  getByIdAndEmail (id, email) {
    return Request.get(apiUrl + 'user-by-id-email', {id: id, email: email})
  },
  search (params) {
    return Request.get(apiUrl + 'customers/', params)
  },
  getCardToken (pid) {
    return Request.get(apiUrl + 'users/' + pid + '/card-token')
  },
  saveSettings (pid, params) {
    return Request.patch(apiUrl + 'settings/' + pid, params)
  },
  getSetting (pid, settingKey) {
    return Request.get(apiUrl + 'settings/' + pid + '/' + settingKey)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/WebhooksAPIv0.js

sms.addModule('assets/js/resources/WebhooksAPIv0.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')
const config = require('env').apis
const apiUrl = config.webhooks
const eventMap = {
  'order-created': 'Order Created',
  'order-fulfilled': 'Order Fulfilled',
  'order-cancelled': 'Order Cancelled'
}

module.exports = {
  search(params) {
    return Request.get(apiUrl + 'webhooks', params)
  },
  get (id) {
    return Request.get(apiUrl + 'webhooks/' + id)
  },
  create (webhook) {
    return Request.post(apiUrl + 'webhooks', webhook)
  },
  update (webhook) {
    return Request.patch(apiUrl + 'webhooks/' + webhook.id, webhook)
  },
  delete (id) {
    return Request.delete(apiUrl + 'webhooks/' + id)
  },
  getEventMap () {
    return eventMap;
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/UsersAPIv0.js

sms.addModule('assets/js/resources/UsersAPIv0.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')
const config = require('env').apis
const apiUrl = config.users
module.exports = {
  index (params) {
    return Request.get(apiUrl + 'users', params)
  },
  get (params, pid) {
    return Request.get(apiUrl + 'users/' + pid, params)
  },
  getById (params, id) {
    return Request.get(apiUrl + 'users/id/' + id, params)
  },
  create (params) {
    return Request.post(apiUrl + 'users', params)
  },
  getCardToken (pid) {
    return Request.get(apiUrl + 'users/' + pid + '/card-token')
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/liveVideo.js

sms.addModule('assets/js/resources/liveVideo.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  getUserInventory: function () {
    return Request.get('/api/v1/inventory/rep')
  },
  checkForLiveVideo: function (service) {
    return Request.get('/api/v2/live-videos/' + service + '/check')
  },
  commitVideo: function (service, params) {
    return Request.post('/api/v2/live-videos/' + service, params)
  },
  commitInventory: function (service, payload) {
    return Request.post('/api/v2/live-videos/' + service + '/inventory', payload)
  },
  showLiveVideos: function (service, id) {
    return Request.get('/api/v2/live-videos/' + service + '/video/' + id)
  },
  endLiveSession: function (service) {
    return Request.get('/api/v2/live-videos/' + service + '/end-session')
  },
  deleteVideo: function (service, id) {
    return Request.get('/api/v2/live-videos/' + service + '/delete/' + id)
  },
  getUserVideoInventory: function (params) {
    return Request.get('/api/v2/live-videos/AllVideoInventory', params)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/resources/subscription.js

sms.addModule('assets/js/resources/subscription.js', {"path":""}, (require,exports,module)=>{
const Request = require('../resources/requestHandler.js')

module.exports = {
  subscriptionPlanCreate: function (params) {
    return Request.post('/api/v1/subscriptions/create', params)
  },
  planIndex: function () {
    return Request.get('/api/v1/subscriptions/all-subscriptions')
  },
  getSubscriptionOnJoin () {
    return Request.get('/api/v1/register/plans')
  },
  deleteSubscriptions: function (id) {
    return Request.delete('/api/v1/subscriptions/' + id)
  },
  updateSubscription: function (params) {
    return Request.put('/api/v1/subscriptions/edit/' + params.id, params)
  },
  planPrice: function (id) {
    return Request.get('/api/v1/subscriptions/show-plan/' + id)
  },
  getUserIndex: function (params) {
    return Request.get('/api/v1/subscriptions/user-subscriptions', params)
  },
  getCustReportIndex:function (params) {
    return Request.get('/api/v1/subscriptions/user-subscriptions', params)
  },
  postAutoRenewalUpdate: function (params) {
    return Request.post('/api/v1/subscriptions/update-auto-renew', params)
  },
  updateUserEndsAt: function (params) {
    return Request.post('/api/v1/subscriptions/update-ends-at', params)
  },
  transactionReport: function (params) {
    return Request.get('/api/v1/subscriptions/transactions', params)
  },
  getSubReceipt: function (id, params) {
    return Request.get('/api/v1/subscriptions/receipt/' + id, params)
  },
  paySubcription: function (user) {
    return Request.post('/api/v1/subscriptions/renewable-pay', user)
  },
  subscriptionRenewAmount: function (userId) {
    return Request.get('/api/v1/subscriptions/renew-amount/' + userId)
  },
  getTax: function (params) {
    return Request.post('/api/v1/subscriptions/tax', params)
  },
  getTaxAdmin: function (params) {
    return Request.post('/api/v1/subscriptions/taxAdmin', params)
  },
  subscriptionReceipts: function (params) {
    return Request.get('/api/v1/subscriptions/all-receipt', params)
  }
}

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/slick.js

sms.addModule('assets/js/slick.js', {"path":""}, (require,exports,module)=>{
/*
     _ _      _       _
 ___| (_) ___| | __  (_)___
/ __| | |/ __| |/ /  | / __|
\__ \ | | (__|   < _ | \__ \
|___/_|_|\___|_|\_(_)/ |___/
                   |__/

 Version: 1.6.0
  Author: Ken Wheeler
 Website: http://kenwheeler.github.io
    Docs: http://kenwheeler.github.io/slick
    Repo: http://github.com/kenwheeler/slick
  Issues: http://github.com/kenwheeler/slick/issues

 */
/* global window, document, define, jQuery, setInterval, clearInterval */
(function(factory) {
    'use strict';
    if (typeof define === 'function' && define.amd) {
        define(['jquery'], factory);
    } else if (typeof exports !== 'undefined') {
        module.exports = factory(require('jquery'));
    } else {
        factory(jQuery);
    }

}(function($) {
    'use strict';
    var Slick = window.Slick || {};

    Slick = (function() {

        var instanceUid = 0;

        function Slick(element, settings) {

            var _ = this, dataSettings;

            _.defaults = {
                accessibility: true,
                adaptiveHeight: false,
                appendArrows: $(element),
                appendDots: $(element),
                arrows: true,
                asNavFor: null,
                prevArrow: '<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button"></button>',
                nextArrow: '<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button"></button>',
                autoplay: false,
                autoplaySpeed: 3000,
                centerMode: false,
                centerPadding: '50px',
                cssEase: 'ease',
                customPaging: function(slider, i) {
                    return $('<button type="button" data-role="none" role="button" tabindex="0" />').text(i + 1);
                },
                dots: false,
                dotsClass: 'slick-dots',
                draggable: true,
                easing: 'linear',
                edgeFriction: 0.35,
                fade: false,
                focusOnSelect: false,
                infinite: true,
                initialSlide: 0,
                lazyLoad: 'ondemand',
                mobileFirst: false,
                pauseOnHover: true,
                pauseOnFocus: true,
                pauseOnDotsHover: false,
                respondTo: 'window',
                responsive: null,
                rows: 1,
                rtl: false,
                slide: '',
                slidesPerRow: 1,
                slidesToShow: 1,
                slidesToScroll: 1,
                speed: 500,
                swipe: true,
                swipeToSlide: false,
                touchMove: true,
                touchThreshold: 5,
                useCSS: true,
                useTransform: true,
                variableWidth: false,
                vertical: false,
                verticalSwiping: false,
                waitForAnimate: true,
                zIndex: 1000
            };

            _.initials = {
                animating: false,
                dragging: false,
                autoPlayTimer: null,
                currentDirection: 0,
                currentLeft: null,
                currentSlide: 0,
                direction: 1,
                $dots: null,
                listWidth: null,
                listHeight: null,
                loadIndex: 0,
                $nextArrow: null,
                $prevArrow: null,
                slideCount: null,
                slideWidth: null,
                $slideTrack: null,
                $slides: null,
                sliding: false,
                slideOffset: 0,
                swipeLeft: null,
                $list: null,
                touchObject: {},
                transformsEnabled: false,
                unslicked: false
            };

            $.extend(_, _.initials);

            _.activeBreakpoint = null;
            _.animType = null;
            _.animProp = null;
            _.breakpoints = [];
            _.breakpointSettings = [];
            _.cssTransitions = false;
            _.focussed = false;
            _.interrupted = false;
            _.hidden = 'hidden';
            _.paused = true;
            _.positionProp = null;
            _.respondTo = null;
            _.rowCount = 1;
            _.shouldClick = true;
            _.$slider = $(element);
            _.$slidesCache = null;
            _.transformType = null;
            _.transitionType = null;
            _.visibilityChange = 'visibilitychange';
            _.windowWidth = 0;
            _.windowTimer = null;

            dataSettings = $(element).data('slick') || {};

            _.options = $.extend({}, _.defaults, settings, dataSettings);

            _.currentSlide = _.options.initialSlide;

            _.originalSettings = _.options;

            if (typeof document.mozHidden !== 'undefined') {
                _.hidden = 'mozHidden';
                _.visibilityChange = 'mozvisibilitychange';
            } else if (typeof document.webkitHidden !== 'undefined') {
                _.hidden = 'webkitHidden';
                _.visibilityChange = 'webkitvisibilitychange';
            }

            _.autoPlay = $.proxy(_.autoPlay, _);
            _.autoPlayClear = $.proxy(_.autoPlayClear, _);
            _.autoPlayIterator = $.proxy(_.autoPlayIterator, _);
            _.changeSlide = $.proxy(_.changeSlide, _);
            _.clickHandler = $.proxy(_.clickHandler, _);
            _.selectHandler = $.proxy(_.selectHandler, _);
            _.setPosition = $.proxy(_.setPosition, _);
            _.swipeHandler = $.proxy(_.swipeHandler, _);
            _.dragHandler = $.proxy(_.dragHandler, _);
            _.keyHandler = $.proxy(_.keyHandler, _);

            _.instanceUid = instanceUid++;

            // A simple way to check for HTML strings
            // Strict HTML recognition (must start with <)
            // Extracted from jQuery v1.11 source
            _.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/;


            _.registerBreakpoints();
            _.init(true);

        }

        return Slick;

    }());

    Slick.prototype.activateADA = function() {
        var _ = this;

        _.$slideTrack.find('.slick-active').attr({
            'aria-hidden': 'false'
        }).find('a, input, button, select').attr({
            'tabindex': '0'
        });

    };

    Slick.prototype.addSlide = Slick.prototype.slickAdd = function(markup, index, addBefore) {

        var _ = this;

        if (typeof(index) === 'boolean') {
            addBefore = index;
            index = null;
        } else if (index < 0 || (index >= _.slideCount)) {
            return false;
        }

        _.unload();

        if (typeof(index) === 'number') {
            if (index === 0 && _.$slides.length === 0) {
                $(markup).appendTo(_.$slideTrack);
            } else if (addBefore) {
                $(markup).insertBefore(_.$slides.eq(index));
            } else {
                $(markup).insertAfter(_.$slides.eq(index));
            }
        } else {
            if (addBefore === true) {
                $(markup).prependTo(_.$slideTrack);
            } else {
                $(markup).appendTo(_.$slideTrack);
            }
        }

        _.$slides = _.$slideTrack.children(this.options.slide);

        _.$slideTrack.children(this.options.slide).detach();

        _.$slideTrack.append(_.$slides);

        _.$slides.each(function(index, element) {
            $(element).attr('data-slick-index', index);
        });

        _.$slidesCache = _.$slides;

        _.reinit();

    };

    Slick.prototype.animateHeight = function() {
        var _ = this;
        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {
            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);
            _.$list.animate({
                height: targetHeight
            }, _.options.speed);
        }
    };

    Slick.prototype.animateSlide = function(targetLeft, callback) {

        var animProps = {},
            _ = this;

        _.animateHeight();

        if (_.options.rtl === true && _.options.vertical === false) {
            targetLeft = -targetLeft;
        }
        if (_.transformsEnabled === false) {
            if (_.options.vertical === false) {
                _.$slideTrack.animate({
                    left: targetLeft
                }, _.options.speed, _.options.easing, callback);
            } else {
                _.$slideTrack.animate({
                    top: targetLeft
                }, _.options.speed, _.options.easing, callback);
            }

        } else {

            if (_.cssTransitions === false) {
                if (_.options.rtl === true) {
                    _.currentLeft = -(_.currentLeft);
                }
                $({
                    animStart: _.currentLeft
                }).animate({
                    animStart: targetLeft
                }, {
                    duration: _.options.speed,
                    easing: _.options.easing,
                    step: function(now) {
                        now = Math.ceil(now);
                        if (_.options.vertical === false) {
                            animProps[_.animType] = 'translate(' +
                                now + 'px, 0px)';
                            _.$slideTrack.css(animProps);
                        } else {
                            animProps[_.animType] = 'translate(0px,' +
                                now + 'px)';
                            _.$slideTrack.css(animProps);
                        }
                    },
                    complete: function() {
                        if (callback) {
                            callback.call();
                        }
                    }
                });

            } else {

                _.applyTransition();
                targetLeft = Math.ceil(targetLeft);

                if (_.options.vertical === false) {
                    animProps[_.animType] = 'translate3d(' + targetLeft + 'px, 0px, 0px)';
                } else {
                    animProps[_.animType] = 'translate3d(0px,' + targetLeft + 'px, 0px)';
                }
                _.$slideTrack.css(animProps);

                if (callback) {
                    setTimeout(function() {

                        _.disableTransition();

                        callback.call();
                    }, _.options.speed);
                }

            }

        }

    };

    Slick.prototype.getNavTarget = function() {

        var _ = this,
            asNavFor = _.options.asNavFor;

        if ( asNavFor && asNavFor !== null ) {
            asNavFor = $(asNavFor).not(_.$slider);
        }

        return asNavFor;

    };

    Slick.prototype.asNavFor = function(index) {

        var _ = this,
            asNavFor = _.getNavTarget();

        if ( asNavFor !== null && typeof asNavFor === 'object' ) {
            asNavFor.each(function() {
                var target = $(this).slick('getSlick');
                if(!target.unslicked) {
                    target.slideHandler(index, true);
                }
            });
        }

    };

    Slick.prototype.applyTransition = function(slide) {

        var _ = this,
            transition = {};

        if (_.options.fade === false) {
            transition[_.transitionType] = _.transformType + ' ' + _.options.speed + 'ms ' + _.options.cssEase;
        } else {
            transition[_.transitionType] = 'opacity ' + _.options.speed + 'ms ' + _.options.cssEase;
        }

        if (_.options.fade === false) {
            _.$slideTrack.css(transition);
        } else {
            _.$slides.eq(slide).css(transition);
        }

    };

    Slick.prototype.autoPlay = function() {

        var _ = this;

        _.autoPlayClear();

        if ( _.slideCount > _.options.slidesToShow ) {
            _.autoPlayTimer = setInterval( _.autoPlayIterator, _.options.autoplaySpeed );
        }

    };

    Slick.prototype.autoPlayClear = function() {

        var _ = this;

        if (_.autoPlayTimer) {
            clearInterval(_.autoPlayTimer);
        }

    };

    Slick.prototype.autoPlayIterator = function() {

        var _ = this,
            slideTo = _.currentSlide + _.options.slidesToScroll;

        if ( !_.paused && !_.interrupted && !_.focussed ) {

            if ( _.options.infinite === false ) {

                if ( _.direction === 1 && ( _.currentSlide + 1 ) === ( _.slideCount - 1 )) {
                    _.direction = 0;
                }

                else if ( _.direction === 0 ) {

                    slideTo = _.currentSlide - _.options.slidesToScroll;

                    if ( _.currentSlide - 1 === 0 ) {
                        _.direction = 1;
                    }

                }

            }

            _.slideHandler( slideTo );

        }

    };

    Slick.prototype.buildArrows = function() {

        var _ = this;

        if (_.options.arrows === true ) {

            _.$prevArrow = $(_.options.prevArrow).addClass('slick-arrow');
            _.$nextArrow = $(_.options.nextArrow).addClass('slick-arrow');

            if( _.slideCount > _.options.slidesToShow ) {

                _.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');
                _.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');

                if (_.htmlExpr.test(_.options.prevArrow)) {
                    _.$prevArrow.prependTo(_.options.appendArrows);
                }

                if (_.htmlExpr.test(_.options.nextArrow)) {
                    _.$nextArrow.appendTo(_.options.appendArrows);
                }

                if (_.options.infinite !== true) {
                    _.$prevArrow
                        .addClass('slick-disabled')
                        .attr('aria-disabled', 'true');
                }

            } else {

                _.$prevArrow.add( _.$nextArrow )

                    .addClass('slick-hidden')
                    .attr({
                        'aria-disabled': 'true',
                        'tabindex': '-1'
                    });

            }

        }

    };

    Slick.prototype.buildDots = function() {

        var _ = this,
            i, dot;

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            _.$slider.addClass('slick-dotted');

            dot = $('<ul />').addClass(_.options.dotsClass);

            for (i = 0; i <= _.getDotCount(); i += 1) {
                dot.append($('<li />').append(_.options.customPaging.call(this, _, i)));
            }

            _.$dots = dot.appendTo(_.options.appendDots);

            _.$dots.find('li').first().addClass('slick-active').attr('aria-hidden', 'false');

        }

    };

    Slick.prototype.buildOut = function() {

        var _ = this;

        _.$slides =
            _.$slider
                .children( _.options.slide + ':not(.slick-cloned)')
                .addClass('slick-slide');

        _.slideCount = _.$slides.length;

        _.$slides.each(function(index, element) {
            $(element)
                .attr('data-slick-index', index)
                .data('originalStyling', $(element).attr('style') || '');
        });

        _.$slider.addClass('slick-slider');

        _.$slideTrack = (_.slideCount === 0) ?
            $('<div class="slick-track"/>').appendTo(_.$slider) :
            _.$slides.wrapAll('<div class="slick-track"/>').parent();

        _.$list = _.$slideTrack.wrap(
            '<div aria-live="polite" class="slick-list"/>').parent();
        _.$slideTrack.css('opacity', 0);

        if (_.options.centerMode === true || _.options.swipeToSlide === true) {
            _.options.slidesToScroll = 1;
        }

        $('img[data-lazy]', _.$slider).not('[src]').addClass('slick-loading');

        _.setupInfinite();

        _.buildArrows();

        _.buildDots();

        _.updateDots();


        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);

        if (_.options.draggable === true) {
            _.$list.addClass('draggable');
        }

    };

    Slick.prototype.buildRows = function() {

        var _ = this, a, b, c, newSlides, numOfSlides, originalSlides,slidesPerSection;

        newSlides = document.createDocumentFragment();
        originalSlides = _.$slider.children();

        if(_.options.rows > 1) {

            slidesPerSection = _.options.slidesPerRow * _.options.rows;
            numOfSlides = Math.ceil(
                originalSlides.length / slidesPerSection
            );

            for(a = 0; a < numOfSlides; a++){
                var slide = document.createElement('div');
                for(b = 0; b < _.options.rows; b++) {
                    var row = document.createElement('div');
                    for(c = 0; c < _.options.slidesPerRow; c++) {
                        var target = (a * slidesPerSection + ((b * _.options.slidesPerRow) + c));
                        if (originalSlides.get(target)) {
                            row.appendChild(originalSlides.get(target));
                        }
                    }
                    slide.appendChild(row);
                }
                newSlides.appendChild(slide);
            }

            _.$slider.empty().append(newSlides);
            _.$slider.children().children().children()
                .css({
                    'width':(100 / _.options.slidesPerRow) + '%',
                    'display': 'inline-block'
                });

        }

    };

    Slick.prototype.checkResponsive = function(initial, forceUpdate) {

        var _ = this,
            breakpoint, targetBreakpoint, respondToWidth, triggerBreakpoint = false;
        var sliderWidth = _.$slider.width();
        var windowWidth = window.innerWidth || $(window).width();

        if (_.respondTo === 'window') {
            respondToWidth = windowWidth;
        } else if (_.respondTo === 'slider') {
            respondToWidth = sliderWidth;
        } else if (_.respondTo === 'min') {
            respondToWidth = Math.min(windowWidth, sliderWidth);
        }

        if ( _.options.responsive &&
            _.options.responsive.length &&
            _.options.responsive !== null) {

            targetBreakpoint = null;

            for (breakpoint in _.breakpoints) {
                if (_.breakpoints.hasOwnProperty(breakpoint)) {
                    if (_.originalSettings.mobileFirst === false) {
                        if (respondToWidth < _.breakpoints[breakpoint]) {
                            targetBreakpoint = _.breakpoints[breakpoint];
                        }
                    } else {
                        if (respondToWidth > _.breakpoints[breakpoint]) {
                            targetBreakpoint = _.breakpoints[breakpoint];
                        }
                    }
                }
            }

            if (targetBreakpoint !== null) {
                if (_.activeBreakpoint !== null) {
                    if (targetBreakpoint !== _.activeBreakpoint || forceUpdate) {
                        _.activeBreakpoint =
                            targetBreakpoint;
                        if (_.breakpointSettings[targetBreakpoint] === 'unslick') {
                            _.unslick(targetBreakpoint);
                        } else {
                            _.options = $.extend({}, _.originalSettings,
                                _.breakpointSettings[
                                    targetBreakpoint]);
                            if (initial === true) {
                                _.currentSlide = _.options.initialSlide;
                            }
                            _.refresh(initial);
                        }
                        triggerBreakpoint = targetBreakpoint;
                    }
                } else {
                    _.activeBreakpoint = targetBreakpoint;
                    if (_.breakpointSettings[targetBreakpoint] === 'unslick') {
                        _.unslick(targetBreakpoint);
                    } else {
                        _.options = $.extend({}, _.originalSettings,
                            _.breakpointSettings[
                                targetBreakpoint]);
                        if (initial === true) {
                            _.currentSlide = _.options.initialSlide;
                        }
                        _.refresh(initial);
                    }
                    triggerBreakpoint = targetBreakpoint;
                }
            } else {
                if (_.activeBreakpoint !== null) {
                    _.activeBreakpoint = null;
                    _.options = _.originalSettings;
                    if (initial === true) {
                        _.currentSlide = _.options.initialSlide;
                    }
                    _.refresh(initial);
                    triggerBreakpoint = targetBreakpoint;
                }
            }

            // only trigger breakpoints during an actual break. not on initialize.
            if( !initial && triggerBreakpoint !== false ) {
                _.$slider.trigger('breakpoint', [_, triggerBreakpoint]);
            }
        }

    };

    Slick.prototype.changeSlide = function(event, dontAnimate) {

        var _ = this,
            $target = $(event.currentTarget),
            indexOffset, slideOffset, unevenOffset;

        // If target is a link, prevent default action.
        if($target.is('a')) {
            event.preventDefault();
        }

        // If target is not the <li> element (ie: a child), find the <li>.
        if(!$target.is('li')) {
            $target = $target.closest('li');
        }

        unevenOffset = (_.slideCount % _.options.slidesToScroll !== 0);
        indexOffset = unevenOffset ? 0 : (_.slideCount - _.currentSlide) % _.options.slidesToScroll;

        switch (event.data.message) {

            case 'previous':
                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : _.options.slidesToShow - indexOffset;
                if (_.slideCount > _.options.slidesToShow) {
                    _.slideHandler(_.currentSlide - slideOffset, false, dontAnimate);
                }
                break;

            case 'next':
                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : indexOffset;
                if (_.slideCount > _.options.slidesToShow) {
                    _.slideHandler(_.currentSlide + slideOffset, false, dontAnimate);
                }
                break;

            case 'index':
                var index = event.data.index === 0 ? 0 :
                    event.data.index || $target.index() * _.options.slidesToScroll;

                _.slideHandler(_.checkNavigable(index), false, dontAnimate);
                $target.children().trigger('focus');
                break;

            default:
                return;
        }

    };

    Slick.prototype.checkNavigable = function(index) {

        var _ = this,
            navigables, prevNavigable;

        navigables = _.getNavigableIndexes();
        prevNavigable = 0;
        if (index > navigables[navigables.length - 1]) {
            index = navigables[navigables.length - 1];
        } else {
            for (var n in navigables) {
                if (index < navigables[n]) {
                    index = prevNavigable;
                    break;
                }
                prevNavigable = navigables[n];
            }
        }

        return index;
    };

    Slick.prototype.cleanUpEvents = function() {

        var _ = this;

        if (_.options.dots && _.$dots !== null) {

            $('li', _.$dots)
                .off('click.slick', _.changeSlide)
                .off('mouseenter.slick', $.proxy(_.interrupt, _, true))
                .off('mouseleave.slick', $.proxy(_.interrupt, _, false));

        }

        _.$slider.off('focus.slick blur.slick');

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {
            _.$prevArrow && _.$prevArrow.off('click.slick', _.changeSlide);
            _.$nextArrow && _.$nextArrow.off('click.slick', _.changeSlide);
        }

        _.$list.off('touchstart.slick mousedown.slick', _.swipeHandler);
        _.$list.off('touchmove.slick mousemove.slick', _.swipeHandler);
        _.$list.off('touchend.slick mouseup.slick', _.swipeHandler);
        _.$list.off('touchcancel.slick mouseleave.slick', _.swipeHandler);

        _.$list.off('click.slick', _.clickHandler);

        $(document).off(_.visibilityChange, _.visibility);

        _.cleanUpSlideEvents();

        if (_.options.accessibility === true) {
            _.$list.off('keydown.slick', _.keyHandler);
        }

        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().off('click.slick', _.selectHandler);
        }

        $(window).off('orientationchange.slick.slick-' + _.instanceUid, _.orientationChange);

        $(window).off('resize.slick.slick-' + _.instanceUid, _.resize);

        $('[draggable!=true]', _.$slideTrack).off('dragstart', _.preventDefault);

        $(window).off('load.slick.slick-' + _.instanceUid, _.setPosition);
        $(document).off('ready.slick.slick-' + _.instanceUid, _.setPosition);

    };

    Slick.prototype.cleanUpSlideEvents = function() {

        var _ = this;

        _.$list.off('mouseenter.slick', $.proxy(_.interrupt, _, true));
        _.$list.off('mouseleave.slick', $.proxy(_.interrupt, _, false));

    };

    Slick.prototype.cleanUpRows = function() {

        var _ = this, originalSlides;

        if(_.options.rows > 1) {
            originalSlides = _.$slides.children().children();
            originalSlides.removeAttr('style');
            _.$slider.empty().append(originalSlides);
        }

    };

    Slick.prototype.clickHandler = function(event) {

        var _ = this;

        if (_.shouldClick === false) {
            event.stopImmediatePropagation();
            event.stopPropagation();
            event.preventDefault();
        }

    };

    Slick.prototype.destroy = function(refresh) {

        var _ = this;

        _.autoPlayClear();

        _.touchObject = {};

        _.cleanUpEvents();

        $('.slick-cloned', _.$slider).detach();

        if (_.$dots) {
            _.$dots.remove();
        }


        if ( _.$prevArrow && _.$prevArrow.length ) {

            _.$prevArrow
                .removeClass('slick-disabled slick-arrow slick-hidden')
                .removeAttr('aria-hidden aria-disabled tabindex')
                .css('display','');

            if ( _.htmlExpr.test( _.options.prevArrow )) {
                _.$prevArrow.remove();
            }
        }

        if ( _.$nextArrow && _.$nextArrow.length ) {

            _.$nextArrow
                .removeClass('slick-disabled slick-arrow slick-hidden')
                .removeAttr('aria-hidden aria-disabled tabindex')
                .css('display','');

            if ( _.htmlExpr.test( _.options.nextArrow )) {
                _.$nextArrow.remove();
            }

        }


        if (_.$slides) {

            _.$slides
                .removeClass('slick-slide slick-active slick-center slick-visible slick-current')
                .removeAttr('aria-hidden')
                .removeAttr('data-slick-index')
                .each(function(){
                    $(this).attr('style', $(this).data('originalStyling'));
                });

            _.$slideTrack.children(this.options.slide).detach();

            _.$slideTrack.detach();

            _.$list.detach();

            _.$slider.append(_.$slides);
        }

        _.cleanUpRows();

        _.$slider.removeClass('slick-slider');
        _.$slider.removeClass('slick-initialized');
        _.$slider.removeClass('slick-dotted');

        _.unslicked = true;

        if(!refresh) {
            _.$slider.trigger('destroy', [_]);
        }

    };

    Slick.prototype.disableTransition = function(slide) {

        var _ = this,
            transition = {};

        transition[_.transitionType] = '';

        if (_.options.fade === false) {
            _.$slideTrack.css(transition);
        } else {
            _.$slides.eq(slide).css(transition);
        }

    };

    Slick.prototype.fadeSlide = function(slideIndex, callback) {

        var _ = this;

        if (_.cssTransitions === false) {

            _.$slides.eq(slideIndex).css({
                zIndex: _.options.zIndex
            });

            _.$slides.eq(slideIndex).animate({
                opacity: 1
            }, _.options.speed, _.options.easing, callback);

        } else {

            _.applyTransition(slideIndex);

            _.$slides.eq(slideIndex).css({
                opacity: 1,
                zIndex: _.options.zIndex
            });

            if (callback) {
                setTimeout(function() {

                    _.disableTransition(slideIndex);

                    callback.call();
                }, _.options.speed);
            }

        }

    };

    Slick.prototype.fadeSlideOut = function(slideIndex) {

        var _ = this;

        if (_.cssTransitions === false) {

            _.$slides.eq(slideIndex).animate({
                opacity: 0,
                zIndex: _.options.zIndex - 2
            }, _.options.speed, _.options.easing);

        } else {

            _.applyTransition(slideIndex);

            _.$slides.eq(slideIndex).css({
                opacity: 0,
                zIndex: _.options.zIndex - 2
            });

        }

    };

    Slick.prototype.filterSlides = Slick.prototype.slickFilter = function(filter) {

        var _ = this;

        if (filter !== null) {

            _.$slidesCache = _.$slides;

            _.unload();

            _.$slideTrack.children(this.options.slide).detach();

            _.$slidesCache.filter(filter).appendTo(_.$slideTrack);

            _.reinit();

        }

    };

    Slick.prototype.focusHandler = function() {

        var _ = this;

        _.$slider
            .off('focus.slick blur.slick')
            .on('focus.slick blur.slick',
                '*:not(.slick-arrow)', function(event) {

            event.stopImmediatePropagation();
            var $sf = $(this);

            setTimeout(function() {

                if( _.options.pauseOnFocus ) {
                    _.focussed = $sf.is(':focus');
                    _.autoPlay();
                }

            }, 0);

        });
    };

    Slick.prototype.getCurrent = Slick.prototype.slickCurrentSlide = function() {

        var _ = this;
        return _.currentSlide;

    };

    Slick.prototype.getDotCount = function() {

        var _ = this;

        var breakPoint = 0;
        var counter = 0;
        var pagerquantity = 0;

        if (_.options.infinite === true) {
            while (breakPoint < _.slideCount) {
                ++pagerquantity;
                breakPoint = counter + _.options.slidesToScroll;
                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
            }
        } else if (_.options.centerMode === true) {
            pagerquantity = _.slideCount;
        } else if(!_.options.asNavFor) {
            pagerquantity = 1 + Math.ceil((_.slideCount - _.options.slidesToShow) / _.options.slidesToScroll);
        }else {
            while (breakPoint < _.slideCount) {
                ++pagerquantity;
                breakPoint = counter + _.options.slidesToScroll;
                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
            }
        }

        return pagerquantity - 1;

    };

    Slick.prototype.getLeft = function(slideIndex) {

        var _ = this,
            targetLeft,
            verticalHeight,
            verticalOffset = 0,
            targetSlide;

        _.slideOffset = 0;
        verticalHeight = _.$slides.first().outerHeight(true);

        if (_.options.infinite === true) {
            if (_.slideCount > _.options.slidesToShow) {
                _.slideOffset = (_.slideWidth * _.options.slidesToShow) * -1;
                verticalOffset = (verticalHeight * _.options.slidesToShow) * -1;
            }
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                if (slideIndex + _.options.slidesToScroll > _.slideCount && _.slideCount > _.options.slidesToShow) {
                    if (slideIndex > _.slideCount) {
                        _.slideOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * _.slideWidth) * -1;
                        verticalOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * verticalHeight) * -1;
                    } else {
                        _.slideOffset = ((_.slideCount % _.options.slidesToScroll) * _.slideWidth) * -1;
                        verticalOffset = ((_.slideCount % _.options.slidesToScroll) * verticalHeight) * -1;
                    }
                }
            }
        } else {
            if (slideIndex + _.options.slidesToShow > _.slideCount) {
                _.slideOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * _.slideWidth;
                verticalOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * verticalHeight;
            }
        }

        if (_.slideCount <= _.options.slidesToShow) {
            _.slideOffset = 0;
            verticalOffset = 0;
        }

        if (_.options.centerMode === true && _.options.infinite === true) {
            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2) - _.slideWidth;
        } else if (_.options.centerMode === true) {
            _.slideOffset = 0;
            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2);
        }

        if (_.options.vertical === false) {
            targetLeft = ((slideIndex * _.slideWidth) * -1) + _.slideOffset;
        } else {
            targetLeft = ((slideIndex * verticalHeight) * -1) + verticalOffset;
        }

        if (_.options.variableWidth === true) {

            if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {
                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);
            } else {
                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow);
            }

            if (_.options.rtl === true) {
                if (targetSlide[0]) {
                    targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;
                } else {
                    targetLeft =  0;
                }
            } else {
                targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;
            }

            if (_.options.centerMode === true) {
                if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {
                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);
                } else {
                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow + 1);
                }

                if (_.options.rtl === true) {
                    if (targetSlide[0]) {
                        targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;
                    } else {
                        targetLeft =  0;
                    }
                } else {
                    targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;
                }

                targetLeft += (_.$list.width() - targetSlide.outerWidth()) / 2;
            }
        }

        return targetLeft;

    };

    Slick.prototype.getOption = Slick.prototype.slickGetOption = function(option) {

        var _ = this;

        return _.options[option];

    };

    Slick.prototype.getNavigableIndexes = function() {

        var _ = this,
            breakPoint = 0,
            counter = 0,
            indexes = [],
            max;

        if (_.options.infinite === false) {
            max = _.slideCount;
        } else {
            breakPoint = _.options.slidesToScroll * -1;
            counter = _.options.slidesToScroll * -1;
            max = _.slideCount * 2;
        }

        while (breakPoint < max) {
            indexes.push(breakPoint);
            breakPoint = counter + _.options.slidesToScroll;
            counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
        }

        return indexes;

    };

    Slick.prototype.getSlick = function() {

        return this;

    };

    Slick.prototype.getSlideCount = function() {

        var _ = this,
            slidesTraversed, swipedSlide, centerOffset;

        centerOffset = _.options.centerMode === true ? _.slideWidth * Math.floor(_.options.slidesToShow / 2) : 0;

        if (_.options.swipeToSlide === true) {
            _.$slideTrack.find('.slick-slide').each(function(index, slide) {
                if (slide.offsetLeft - centerOffset + ($(slide).outerWidth() / 2) > (_.swipeLeft * -1)) {
                    swipedSlide = slide;
                    return false;
                }
            });

            slidesTraversed = Math.abs($(swipedSlide).attr('data-slick-index') - _.currentSlide) || 1;

            return slidesTraversed;

        } else {
            return _.options.slidesToScroll;
        }

    };

    Slick.prototype.goTo = Slick.prototype.slickGoTo = function(slide, dontAnimate) {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'index',
                index: parseInt(slide)
            }
        }, dontAnimate);

    };

    Slick.prototype.init = function(creation) {

        var _ = this;

        if (!$(_.$slider).hasClass('slick-initialized')) {

            $(_.$slider).addClass('slick-initialized');

            _.buildRows();
            _.buildOut();
            _.setProps();
            _.startLoad();
            _.loadSlider();
            _.initializeEvents();
            _.updateArrows();
            _.updateDots();
            _.checkResponsive(true);
            _.focusHandler();

        }

        if (creation) {
            _.$slider.trigger('init', [_]);
        }

        if (_.options.accessibility === true) {
            _.initADA();
        }

        if ( _.options.autoplay ) {

            _.paused = false;
            _.autoPlay();

        }

    };

    Slick.prototype.initADA = function() {
        var _ = this;
        _.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({
            'aria-hidden': 'true',
            'tabindex': '-1'
        }).find('a, input, button, select').attr({
            'tabindex': '-1'
        });

        _.$slideTrack.attr('role', 'listbox');

        _.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function(i) {
            $(this).attr({
                'role': 'option',
                'aria-describedby': 'slick-slide' + _.instanceUid + i + ''
            });
        });

        if (_.$dots !== null) {
            _.$dots.attr('role', 'tablist').find('li').each(function(i) {
                $(this).attr({
                    'role': 'presentation',
                    'aria-selected': 'false',
                    'aria-controls': 'navigation' + _.instanceUid + i + '',
                    'id': 'slick-slide' + _.instanceUid + i + ''
                });
            })
                .first().attr('aria-selected', 'true').end()
                .find('button').attr('role', 'button').end()
                .closest('div').attr('role', 'toolbar');
        }
        _.activateADA();

    };

    Slick.prototype.initArrowEvents = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {
            _.$prevArrow
               .off('click.slick')
               .on('click.slick', {
                    message: 'previous'
               }, _.changeSlide);
            _.$nextArrow
               .off('click.slick')
               .on('click.slick', {
                    message: 'next'
               }, _.changeSlide);
        }

    };

    Slick.prototype.initDotEvents = function() {

        var _ = this;

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {
            $('li', _.$dots).on('click.slick', {
                message: 'index'
            }, _.changeSlide);
        }

        if ( _.options.dots === true && _.options.pauseOnDotsHover === true ) {

            $('li', _.$dots)
                .on('mouseenter.slick', $.proxy(_.interrupt, _, true))
                .on('mouseleave.slick', $.proxy(_.interrupt, _, false));

        }

    };

    Slick.prototype.initSlideEvents = function() {

        var _ = this;

        if ( _.options.pauseOnHover ) {

            _.$list.on('mouseenter.slick', $.proxy(_.interrupt, _, true));
            _.$list.on('mouseleave.slick', $.proxy(_.interrupt, _, false));

        }

    };

    Slick.prototype.initializeEvents = function() {

        var _ = this;

        _.initArrowEvents();

        _.initDotEvents();
        _.initSlideEvents();

        _.$list.on('touchstart.slick mousedown.slick', {
            action: 'start'
        }, _.swipeHandler);
        _.$list.on('touchmove.slick mousemove.slick', {
            action: 'move'
        }, _.swipeHandler);
        _.$list.on('touchend.slick mouseup.slick', {
            action: 'end'
        }, _.swipeHandler);
        _.$list.on('touchcancel.slick mouseleave.slick', {
            action: 'end'
        }, _.swipeHandler);

        _.$list.on('click.slick', _.clickHandler);

        $(document).on(_.visibilityChange, $.proxy(_.visibility, _));

        if (_.options.accessibility === true) {
            _.$list.on('keydown.slick', _.keyHandler);
        }

        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().on('click.slick', _.selectHandler);
        }

        $(window).on('orientationchange.slick.slick-' + _.instanceUid, $.proxy(_.orientationChange, _));

        $(window).on('resize.slick.slick-' + _.instanceUid, $.proxy(_.resize, _));

        $('[draggable!=true]', _.$slideTrack).on('dragstart', _.preventDefault);

        $(window).on('load.slick.slick-' + _.instanceUid, _.setPosition);
        $(document).on('ready.slick.slick-' + _.instanceUid, _.setPosition);

    };

    Slick.prototype.initUI = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {

            _.$prevArrow.show();
            _.$nextArrow.show();

        }

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            _.$dots.show();

        }

    };

    Slick.prototype.keyHandler = function(event) {

        var _ = this;
         //Dont slide if the cursor is inside the form fields and arrow keys are pressed
        if(!event.target.tagName.match('TEXTAREA|INPUT|SELECT')) {
            if (event.keyCode === 37 && _.options.accessibility === true) {
                _.changeSlide({
                    data: {
                        message: _.options.rtl === true ? 'next' :  'previous'
                    }
                });
            } else if (event.keyCode === 39 && _.options.accessibility === true) {
                _.changeSlide({
                    data: {
                        message: _.options.rtl === true ? 'previous' : 'next'
                    }
                });
            }
        }

    };

    Slick.prototype.lazyLoad = function() {

        var _ = this,
            loadRange, cloneRange, rangeStart, rangeEnd;

        function loadImages(imagesScope) {

            $('img[data-lazy]', imagesScope).each(function() {

                var image = $(this),
                    imageSource = $(this).attr('data-lazy'),
                    imageToLoad = document.createElement('img');

                imageToLoad.onload = function() {

                    image
                        .animate({ opacity: 0 }, 100, function() {
                            image
                                .attr('src', imageSource)
                                .animate({ opacity: 1 }, 200, function() {
                                    image
                                        .removeAttr('data-lazy')
                                        .removeClass('slick-loading');
                                });
                            _.$slider.trigger('lazyLoaded', [_, image, imageSource]);
                        });

                };

                imageToLoad.onerror = function() {

                    image
                        .removeAttr( 'data-lazy' )
                        .removeClass( 'slick-loading' )
                        .addClass( 'slick-lazyload-error' );

                    _.$slider.trigger('lazyLoadError', [ _, image, imageSource ]);

                };

                imageToLoad.src = imageSource;

            });

        }

        if (_.options.centerMode === true) {
            if (_.options.infinite === true) {
                rangeStart = _.currentSlide + (_.options.slidesToShow / 2 + 1);
                rangeEnd = rangeStart + _.options.slidesToShow + 2;
            } else {
                rangeStart = Math.max(0, _.currentSlide - (_.options.slidesToShow / 2 + 1));
                rangeEnd = 2 + (_.options.slidesToShow / 2 + 1) + _.currentSlide;
            }
        } else {
            rangeStart = _.options.infinite ? _.options.slidesToShow + _.currentSlide : _.currentSlide;
            rangeEnd = Math.ceil(rangeStart + _.options.slidesToShow);
            if (_.options.fade === true) {
                if (rangeStart > 0) rangeStart--;
                if (rangeEnd <= _.slideCount) rangeEnd++;
            }
        }

        loadRange = _.$slider.find('.slick-slide').slice(rangeStart, rangeEnd);
        loadImages(loadRange);

        if (_.slideCount <= _.options.slidesToShow) {
            cloneRange = _.$slider.find('.slick-slide');
            loadImages(cloneRange);
        } else
        if (_.currentSlide >= _.slideCount - _.options.slidesToShow) {
            cloneRange = _.$slider.find('.slick-cloned').slice(0, _.options.slidesToShow);
            loadImages(cloneRange);
        } else if (_.currentSlide === 0) {
            cloneRange = _.$slider.find('.slick-cloned').slice(_.options.slidesToShow * -1);
            loadImages(cloneRange);
        }

    };

    Slick.prototype.loadSlider = function() {

        var _ = this;

        _.setPosition();

        _.$slideTrack.css({
            opacity: 1
        });

        _.$slider.removeClass('slick-loading');

        _.initUI();

        if (_.options.lazyLoad === 'progressive') {
            _.progressiveLazyLoad();
        }

    };

    Slick.prototype.next = Slick.prototype.slickNext = function() {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'next'
            }
        });

    };

    Slick.prototype.orientationChange = function() {

        var _ = this;

        _.checkResponsive();
        _.setPosition();

    };

    Slick.prototype.pause = Slick.prototype.slickPause = function() {

        var _ = this;

        _.autoPlayClear();
        _.paused = true;

    };

    Slick.prototype.play = Slick.prototype.slickPlay = function() {

        var _ = this;

        _.autoPlay();
        _.options.autoplay = true;
        _.paused = false;
        _.focussed = false;
        _.interrupted = false;

    };

    Slick.prototype.postSlide = function(index) {

        var _ = this;

        if( !_.unslicked ) {

            _.$slider.trigger('afterChange', [_, index]);

            _.animating = false;

            _.setPosition();

            _.swipeLeft = null;

            if ( _.options.autoplay ) {
                _.autoPlay();
            }

            if (_.options.accessibility === true) {
                _.initADA();
            }

        }

    };

    Slick.prototype.prev = Slick.prototype.slickPrev = function() {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'previous'
            }
        });

    };

    Slick.prototype.preventDefault = function(event) {

        event.preventDefault();

    };

    Slick.prototype.progressiveLazyLoad = function( tryCount ) {

        tryCount = tryCount || 1;

        var _ = this,
            $imgsToLoad = $( 'img[data-lazy]', _.$slider ),
            image,
            imageSource,
            imageToLoad;

        if ( $imgsToLoad.length ) {

            image = $imgsToLoad.first();
            imageSource = image.attr('data-lazy');
            imageToLoad = document.createElement('img');

            imageToLoad.onload = function() {

                image
                    .attr( 'src', imageSource )
                    .removeAttr('data-lazy')
                    .removeClass('slick-loading');

                if ( _.options.adaptiveHeight === true ) {
                    _.setPosition();
                }

                _.$slider.trigger('lazyLoaded', [ _, image, imageSource ]);
                _.progressiveLazyLoad();

            };

            imageToLoad.onerror = function() {

                if ( tryCount < 3 ) {

                    /**
                     * try to load the image 3 times,
                     * leave a slight delay so we don't get
                     * servers blocking the request.
                     */
                    setTimeout( function() {
                        _.progressiveLazyLoad( tryCount + 1 );
                    }, 500 );

                } else {

                    image
                        .removeAttr( 'data-lazy' )
                        .removeClass( 'slick-loading' )
                        .addClass( 'slick-lazyload-error' );

                    _.$slider.trigger('lazyLoadError', [ _, image, imageSource ]);

                    _.progressiveLazyLoad();

                }

            };

            imageToLoad.src = imageSource;

        } else {

            _.$slider.trigger('allImagesLoaded', [ _ ]);

        }

    };

    Slick.prototype.refresh = function( initializing ) {

        var _ = this, currentSlide, lastVisibleIndex;

        lastVisibleIndex = _.slideCount - _.options.slidesToShow;

        // in non-infinite sliders, we don't want to go past the
        // last visible index.
        if( !_.options.infinite && ( _.currentSlide > lastVisibleIndex )) {
            _.currentSlide = lastVisibleIndex;
        }

        // if less slides than to show, go to start.
        if ( _.slideCount <= _.options.slidesToShow ) {
            _.currentSlide = 0;

        }

        currentSlide = _.currentSlide;

        _.destroy(true);

        $.extend(_, _.initials, { currentSlide: currentSlide });

        _.init();

        if( !initializing ) {

            _.changeSlide({
                data: {
                    message: 'index',
                    index: currentSlide
                }
            }, false);

        }

    };

    Slick.prototype.registerBreakpoints = function() {

        var _ = this, breakpoint, currentBreakpoint, l,
            responsiveSettings = _.options.responsive || null;

        if ( $.type(responsiveSettings) === 'array' && responsiveSettings.length ) {

            _.respondTo = _.options.respondTo || 'window';

            for ( breakpoint in responsiveSettings ) {

                l = _.breakpoints.length-1;
                currentBreakpoint = responsiveSettings[breakpoint].breakpoint;

                if (responsiveSettings.hasOwnProperty(breakpoint)) {

                    // loop through the breakpoints and cut out any existing
                    // ones with the same breakpoint number, we don't want dupes.
                    while( l >= 0 ) {
                        if( _.breakpoints[l] && _.breakpoints[l] === currentBreakpoint ) {
                            _.breakpoints.splice(l,1);
                        }
                        l--;
                    }

                    _.breakpoints.push(currentBreakpoint);
                    _.breakpointSettings[currentBreakpoint] = responsiveSettings[breakpoint].settings;

                }

            }

            _.breakpoints.sort(function(a, b) {
                return ( _.options.mobileFirst ) ? a-b : b-a;
            });

        }

    };

    Slick.prototype.reinit = function() {

        var _ = this;

        _.$slides =
            _.$slideTrack
                .children(_.options.slide)
                .addClass('slick-slide');

        _.slideCount = _.$slides.length;

        if (_.currentSlide >= _.slideCount && _.currentSlide !== 0) {
            _.currentSlide = _.currentSlide - _.options.slidesToScroll;
        }

        if (_.slideCount <= _.options.slidesToShow) {
            _.currentSlide = 0;
        }

        _.registerBreakpoints();

        _.setProps();
        _.setupInfinite();
        _.buildArrows();
        _.updateArrows();
        _.initArrowEvents();
        _.buildDots();
        _.updateDots();
        _.initDotEvents();
        _.cleanUpSlideEvents();
        _.initSlideEvents();

        _.checkResponsive(false, true);

        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().on('click.slick', _.selectHandler);
        }

        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);

        _.setPosition();
        _.focusHandler();

        _.paused = !_.options.autoplay;
        _.autoPlay();

        _.$slider.trigger('reInit', [_]);

    };

    Slick.prototype.resize = function() {

        var _ = this;

        if ($(window).width() !== _.windowWidth) {
            clearTimeout(_.windowDelay);
            _.windowDelay = window.setTimeout(function() {
                _.windowWidth = $(window).width();
                _.checkResponsive();
                if( !_.unslicked ) { _.setPosition(); }
            }, 50);
        }
    };

    Slick.prototype.removeSlide = Slick.prototype.slickRemove = function(index, removeBefore, removeAll) {

        var _ = this;

        if (typeof(index) === 'boolean') {
            removeBefore = index;
            index = removeBefore === true ? 0 : _.slideCount - 1;
        } else {
            index = removeBefore === true ? --index : index;
        }

        if (_.slideCount < 1 || index < 0 || index > _.slideCount - 1) {
            return false;
        }

        _.unload();

        if (removeAll === true) {
            _.$slideTrack.children().remove();
        } else {
            _.$slideTrack.children(this.options.slide).eq(index).remove();
        }

        _.$slides = _.$slideTrack.children(this.options.slide);

        _.$slideTrack.children(this.options.slide).detach();

        _.$slideTrack.append(_.$slides);

        _.$slidesCache = _.$slides;

        _.reinit();

    };

    Slick.prototype.setCSS = function(position) {

        var _ = this,
            positionProps = {},
            x, y;

        if (_.options.rtl === true) {
            position = -position;
        }
        x = _.positionProp == 'left' ? Math.ceil(position) + 'px' : '0px';
        y = _.positionProp == 'top' ? Math.ceil(position) + 'px' : '0px';

        positionProps[_.positionProp] = position;

        if (_.transformsEnabled === false) {
            _.$slideTrack.css(positionProps);
        } else {
            positionProps = {};
            if (_.cssTransitions === false) {
                positionProps[_.animType] = 'translate(' + x + ', ' + y + ')';
                _.$slideTrack.css(positionProps);
            } else {
                positionProps[_.animType] = 'translate3d(' + x + ', ' + y + ', 0px)';
                _.$slideTrack.css(positionProps);
            }
        }

    };

    Slick.prototype.setDimensions = function() {

        var _ = this;

        if (_.options.vertical === false) {
            if (_.options.centerMode === true) {
                _.$list.css({
                    padding: ('0px ' + _.options.centerPadding)
                });
            }
        } else {
            _.$list.height(_.$slides.first().outerHeight(true) * _.options.slidesToShow);
            if (_.options.centerMode === true) {
                _.$list.css({
                    padding: (_.options.centerPadding + ' 0px')
                });
            }
        }

        _.listWidth = _.$list.width();
        _.listHeight = _.$list.height();


        if (_.options.vertical === false && _.options.variableWidth === false) {
            _.slideWidth = Math.ceil(_.listWidth / _.options.slidesToShow);
            _.$slideTrack.width(Math.ceil((_.slideWidth * _.$slideTrack.children('.slick-slide').length)));

        } else if (_.options.variableWidth === true) {
            _.$slideTrack.width(5000 * _.slideCount);
        } else {
            _.slideWidth = Math.ceil(_.listWidth);
            _.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true) * _.$slideTrack.children('.slick-slide').length)));
        }

        var offset = _.$slides.first().outerWidth(true) - _.$slides.first().width();
        if (_.options.variableWidth === false) _.$slideTrack.children('.slick-slide').width(_.slideWidth - offset);

    };

    Slick.prototype.setFade = function() {

        var _ = this,
            targetLeft;

        _.$slides.each(function(index, element) {
            targetLeft = (_.slideWidth * index) * -1;
            if (_.options.rtl === true) {
                $(element).css({
                    position: 'relative',
                    right: targetLeft,
                    top: 0,
                    zIndex: _.options.zIndex - 2,
                    opacity: 0
                });
            } else {
                $(element).css({
                    position: 'relative',
                    left: targetLeft,
                    top: 0,
                    zIndex: _.options.zIndex - 2,
                    opacity: 0
                });
            }
        });

        _.$slides.eq(_.currentSlide).css({
            zIndex: _.options.zIndex - 1,
            opacity: 1
        });

    };

    Slick.prototype.setHeight = function() {

        var _ = this;

        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {
            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);
            _.$list.css('height', targetHeight);
        }

    };

    Slick.prototype.setOption =
    Slick.prototype.slickSetOption = function() {

        /**
         * accepts arguments in format of:
         *
         *  - for changing a single option's value:
         *     .slick("setOption", option, value, refresh )
         *
         *  - for changing a set of responsive options:
         *     .slick("setOption", 'responsive', [{}, ...], refresh )
         *
         *  - for updating multiple values at once (not responsive)
         *     .slick("setOption", { 'option': value, ... }, refresh )
         */

        var _ = this, l, item, option, value, refresh = false, type;

        if( $.type( arguments[0] ) === 'object' ) {

            option =  arguments[0];
            refresh = arguments[1];
            type = 'multiple';

        } else if ( $.type( arguments[0] ) === 'string' ) {

            option =  arguments[0];
            value = arguments[1];
            refresh = arguments[2];

            if ( arguments[0] === 'responsive' && $.type( arguments[1] ) === 'array' ) {

                type = 'responsive';

            } else if ( typeof arguments[1] !== 'undefined' ) {

                type = 'single';

            }

        }

        if ( type === 'single' ) {

            _.options[option] = value;


        } else if ( type === 'multiple' ) {

            $.each( option , function( opt, val ) {

                _.options[opt] = val;

            });


        } else if ( type === 'responsive' ) {

            for ( item in value ) {

                if( $.type( _.options.responsive ) !== 'array' ) {

                    _.options.responsive = [ value[item] ];

                } else {

                    l = _.options.responsive.length-1;

                    // loop through the responsive object and splice out duplicates.
                    while( l >= 0 ) {

                        if( _.options.responsive[l].breakpoint === value[item].breakpoint ) {

                            _.options.responsive.splice(l,1);

                        }

                        l--;

                    }

                    _.options.responsive.push( value[item] );

                }

            }

        }

        if ( refresh ) {

            _.unload();
            _.reinit();

        }

    };

    Slick.prototype.setPosition = function() {

        var _ = this;

        _.setDimensions();

        _.setHeight();

        if (_.options.fade === false) {
            _.setCSS(_.getLeft(_.currentSlide));
        } else {
            _.setFade();
        }

        _.$slider.trigger('setPosition', [_]);

    };

    Slick.prototype.setProps = function() {

        var _ = this,
            bodyStyle = document.body.style;

        _.positionProp = _.options.vertical === true ? 'top' : 'left';

        if (_.positionProp === 'top') {
            _.$slider.addClass('slick-vertical');
        } else {
            _.$slider.removeClass('slick-vertical');
        }

        if (bodyStyle.WebkitTransition !== undefined ||
            bodyStyle.MozTransition !== undefined ||
            bodyStyle.msTransition !== undefined) {
            if (_.options.useCSS === true) {
                _.cssTransitions = true;
            }
        }

        if ( _.options.fade ) {
            if ( typeof _.options.zIndex === 'number' ) {
                if( _.options.zIndex < 3 ) {
                    _.options.zIndex = 3;
                }
            } else {
                _.options.zIndex = _.defaults.zIndex;
            }
        }

        if (bodyStyle.OTransform !== undefined) {
            _.animType = 'OTransform';
            _.transformType = '-o-transform';
            _.transitionType = 'OTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.MozTransform !== undefined) {
            _.animType = 'MozTransform';
            _.transformType = '-moz-transform';
            _.transitionType = 'MozTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.MozPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.webkitTransform !== undefined) {
            _.animType = 'webkitTransform';
            _.transformType = '-webkit-transform';
            _.transitionType = 'webkitTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.msTransform !== undefined) {
            _.animType = 'msTransform';
            _.transformType = '-ms-transform';
            _.transitionType = 'msTransition';
            if (bodyStyle.msTransform === undefined) _.animType = false;
        }
        if (bodyStyle.transform !== undefined && _.animType !== false) {
            _.animType = 'transform';
            _.transformType = 'transform';
            _.transitionType = 'transition';
        }
        _.transformsEnabled = _.options.useTransform && (_.animType !== null && _.animType !== false);
    };


    Slick.prototype.setSlideClasses = function(index) {

        var _ = this,
            centerOffset, allSlides, indexOffset, remainder;

        allSlides = _.$slider
            .find('.slick-slide')
            .removeClass('slick-active slick-center slick-current')
            .attr('aria-hidden', 'true');

        _.$slides
            .eq(index)
            .addClass('slick-current');

        if (_.options.centerMode === true) {

            centerOffset = Math.floor(_.options.slidesToShow / 2);

            if (_.options.infinite === true) {

                if (index >= centerOffset && index <= (_.slideCount - 1) - centerOffset) {

                    _.$slides
                        .slice(index - centerOffset, index + centerOffset + 1)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                } else {

                    indexOffset = _.options.slidesToShow + index;
                    allSlides
                        .slice(indexOffset - centerOffset + 1, indexOffset + centerOffset + 2)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                }

                if (index === 0) {

                    allSlides
                        .eq(allSlides.length - 1 - _.options.slidesToShow)
                        .addClass('slick-center');

                } else if (index === _.slideCount - 1) {

                    allSlides
                        .eq(_.options.slidesToShow)
                        .addClass('slick-center');

                }

            }

            _.$slides
                .eq(index)
                .addClass('slick-center');

        } else {

            if (index >= 0 && index <= (_.slideCount - _.options.slidesToShow)) {

                _.$slides
                    .slice(index, index + _.options.slidesToShow)
                    .addClass('slick-active')
                    .attr('aria-hidden', 'false');

            } else if (allSlides.length <= _.options.slidesToShow) {

                allSlides
                    .addClass('slick-active')
                    .attr('aria-hidden', 'false');

            } else {

                remainder = _.slideCount % _.options.slidesToShow;
                indexOffset = _.options.infinite === true ? _.options.slidesToShow + index : index;

                if (_.options.slidesToShow == _.options.slidesToScroll && (_.slideCount - index) < _.options.slidesToShow) {

                    allSlides
                        .slice(indexOffset - (_.options.slidesToShow - remainder), indexOffset + remainder)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                } else {

                    allSlides
                        .slice(indexOffset, indexOffset + _.options.slidesToShow)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                }

            }

        }

        if (_.options.lazyLoad === 'ondemand') {
            _.lazyLoad();
        }

    };

    Slick.prototype.setupInfinite = function() {

        var _ = this,
            i, slideIndex, infiniteCount;

        if (_.options.fade === true) {
            _.options.centerMode = false;
        }

        if (_.options.infinite === true && _.options.fade === false) {

            slideIndex = null;

            if (_.slideCount > _.options.slidesToShow) {

                if (_.options.centerMode === true) {
                    infiniteCount = _.options.slidesToShow + 1;
                } else {
                    infiniteCount = _.options.slidesToShow;
                }

                for (i = _.slideCount; i > (_.slideCount -
                        infiniteCount); i -= 1) {
                    slideIndex = i - 1;
                    $(_.$slides[slideIndex]).clone(true).attr('id', '')
                        .attr('data-slick-index', slideIndex - _.slideCount)
                        .prependTo(_.$slideTrack).addClass('slick-cloned');
                }
                for (i = 0; i < infiniteCount; i += 1) {
                    slideIndex = i;
                    $(_.$slides[slideIndex]).clone(true).attr('id', '')
                        .attr('data-slick-index', slideIndex + _.slideCount)
                        .appendTo(_.$slideTrack).addClass('slick-cloned');
                }
                _.$slideTrack.find('.slick-cloned').find('[id]').each(function() {
                    $(this).attr('id', '');
                });

            }

        }

    };

    Slick.prototype.interrupt = function( toggle ) {

        var _ = this;

        if( !toggle ) {
            _.autoPlay();
        }
        _.interrupted = toggle;

    };

    Slick.prototype.selectHandler = function(event) {

        var _ = this;

        var targetElement =
            $(event.target).is('.slick-slide') ?
                $(event.target) :
                $(event.target).parents('.slick-slide');

        var index = parseInt(targetElement.attr('data-slick-index'));

        if (!index) index = 0;

        if (_.slideCount <= _.options.slidesToShow) {

            _.setSlideClasses(index);
            _.asNavFor(index);
            return;

        }

        _.slideHandler(index);

    };

    Slick.prototype.slideHandler = function(index, sync, dontAnimate) {

        var targetSlide, animSlide, oldSlide, slideLeft, targetLeft = null,
            _ = this, navTarget;

        sync = sync || false;

        if (_.animating === true && _.options.waitForAnimate === true) {
            return;
        }

        if (_.options.fade === true && _.currentSlide === index) {
            return;
        }

        if (_.slideCount <= _.options.slidesToShow) {
            return;
        }

        if (sync === false) {
            _.asNavFor(index);
        }

        targetSlide = index;
        targetLeft = _.getLeft(targetSlide);
        slideLeft = _.getLeft(_.currentSlide);

        _.currentLeft = _.swipeLeft === null ? slideLeft : _.swipeLeft;

        if (_.options.infinite === false && _.options.centerMode === false && (index < 0 || index > _.getDotCount() * _.options.slidesToScroll)) {
            if (_.options.fade === false) {
                targetSlide = _.currentSlide;
                if (dontAnimate !== true) {
                    _.animateSlide(slideLeft, function() {
                        _.postSlide(targetSlide);
                    });
                } else {
                    _.postSlide(targetSlide);
                }
            }
            return;
        } else if (_.options.infinite === false && _.options.centerMode === true && (index < 0 || index > (_.slideCount - _.options.slidesToScroll))) {
            if (_.options.fade === false) {
                targetSlide = _.currentSlide;
                if (dontAnimate !== true) {
                    _.animateSlide(slideLeft, function() {
                        _.postSlide(targetSlide);
                    });
                } else {
                    _.postSlide(targetSlide);
                }
            }
            return;
        }

        if ( _.options.autoplay ) {
            clearInterval(_.autoPlayTimer);
        }

        if (targetSlide < 0) {
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                animSlide = _.slideCount - (_.slideCount % _.options.slidesToScroll);
            } else {
                animSlide = _.slideCount + targetSlide;
            }
        } else if (targetSlide >= _.slideCount) {
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                animSlide = 0;
            } else {
                animSlide = targetSlide - _.slideCount;
            }
        } else {
            animSlide = targetSlide;
        }

        _.animating = true;

        _.$slider.trigger('beforeChange', [_, _.currentSlide, animSlide]);

        oldSlide = _.currentSlide;
        _.currentSlide = animSlide;

        _.setSlideClasses(_.currentSlide);

        if ( _.options.asNavFor ) {

            navTarget = _.getNavTarget();
            navTarget = navTarget.slick('getSlick');

            if ( navTarget.slideCount <= navTarget.options.slidesToShow ) {
                navTarget.setSlideClasses(_.currentSlide);
            }

        }

        _.updateDots();
        _.updateArrows();

        if (_.options.fade === true) {
            if (dontAnimate !== true) {

                _.fadeSlideOut(oldSlide);

                _.fadeSlide(animSlide, function() {
                    _.postSlide(animSlide);
                });

            } else {
                _.postSlide(animSlide);
            }
            _.animateHeight();
            return;
        }

        if (dontAnimate !== true) {
            _.animateSlide(targetLeft, function() {
                _.postSlide(animSlide);
            });
        } else {
            _.postSlide(animSlide);
        }

    };

    Slick.prototype.startLoad = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {

            _.$prevArrow.hide();
            _.$nextArrow.hide();

        }

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            _.$dots.hide();

        }

        _.$slider.addClass('slick-loading');

    };

    Slick.prototype.swipeDirection = function() {

        var xDist, yDist, r, swipeAngle, _ = this;

        xDist = _.touchObject.startX - _.touchObject.curX;
        yDist = _.touchObject.startY - _.touchObject.curY;
        r = Math.atan2(yDist, xDist);

        swipeAngle = Math.round(r * 180 / Math.PI);
        if (swipeAngle < 0) {
            swipeAngle = 360 - Math.abs(swipeAngle);
        }

        if ((swipeAngle <= 45) && (swipeAngle >= 0)) {
            return (_.options.rtl === false ? 'left' : 'right');
        }
        if ((swipeAngle <= 360) && (swipeAngle >= 315)) {
            return (_.options.rtl === false ? 'left' : 'right');
        }
        if ((swipeAngle >= 135) && (swipeAngle <= 225)) {
            return (_.options.rtl === false ? 'right' : 'left');
        }
        if (_.options.verticalSwiping === true) {
            if ((swipeAngle >= 35) && (swipeAngle <= 135)) {
                return 'down';
            } else {
                return 'up';
            }
        }

        return 'vertical';

    };

    Slick.prototype.swipeEnd = function(event) {

        var _ = this,
            slideCount,
            direction;

        _.dragging = false;
        _.interrupted = false;
        _.shouldClick = ( _.touchObject.swipeLength > 10 ) ? false : true;

        if ( _.touchObject.curX === undefined ) {
            return false;
        }

        if ( _.touchObject.edgeHit === true ) {
            _.$slider.trigger('edge', [_, _.swipeDirection() ]);
        }

        if ( _.touchObject.swipeLength >= _.touchObject.minSwipe ) {

            direction = _.swipeDirection();

            switch ( direction ) {

                case 'left':
                case 'down':

                    slideCount =
                        _.options.swipeToSlide ?
                            _.checkNavigable( _.currentSlide + _.getSlideCount() ) :
                            _.currentSlide + _.getSlideCount();

                    _.currentDirection = 0;

                    break;

                case 'right':
                case 'up':

                    slideCount =
                        _.options.swipeToSlide ?
                            _.checkNavigable( _.currentSlide - _.getSlideCount() ) :
                            _.currentSlide - _.getSlideCount();

                    _.currentDirection = 1;

                    break;

                default:


            }

            if( direction != 'vertical' ) {

                _.slideHandler( slideCount );
                _.touchObject = {};
                _.$slider.trigger('swipe', [_, direction ]);

            }

        } else {

            if ( _.touchObject.startX !== _.touchObject.curX ) {

                _.slideHandler( _.currentSlide );
                _.touchObject = {};

            }

        }

    };

    Slick.prototype.swipeHandler = function(event) {

        var _ = this;

        if ((_.options.swipe === false) || ('ontouchend' in document && _.options.swipe === false)) {
            return;
        } else if (_.options.draggable === false && event.type.indexOf('mouse') !== -1) {
            return;
        }

        _.touchObject.fingerCount = event.originalEvent && event.originalEvent.touches !== undefined ?
            event.originalEvent.touches.length : 1;

        _.touchObject.minSwipe = _.listWidth / _.options
            .touchThreshold;

        if (_.options.verticalSwiping === true) {
            _.touchObject.minSwipe = _.listHeight / _.options
                .touchThreshold;
        }

        switch (event.data.action) {

            case 'start':
                _.swipeStart(event);
                break;

            case 'move':
                _.swipeMove(event);
                break;

            case 'end':
                _.swipeEnd(event);
                break;

        }

    };

    Slick.prototype.swipeMove = function(event) {

        var _ = this,
            edgeWasHit = false,
            curLeft, swipeDirection, swipeLength, positionOffset, touches;

        touches = event.originalEvent !== undefined ? event.originalEvent.touches : null;

        if (!_.dragging || touches && touches.length !== 1) {
            return false;
        }

        curLeft = _.getLeft(_.currentSlide);

        _.touchObject.curX = touches !== undefined ? touches[0].pageX : event.clientX;
        _.touchObject.curY = touches !== undefined ? touches[0].pageY : event.clientY;

        _.touchObject.swipeLength = Math.round(Math.sqrt(
            Math.pow(_.touchObject.curX - _.touchObject.startX, 2)));

        if (_.options.verticalSwiping === true) {
            _.touchObject.swipeLength = Math.round(Math.sqrt(
                Math.pow(_.touchObject.curY - _.touchObject.startY, 2)));
        }

        swipeDirection = _.swipeDirection();

        if (swipeDirection === 'vertical') {
            return;
        }

        if (event.originalEvent !== undefined && _.touchObject.swipeLength > 4) {
            event.preventDefault();
        }

        positionOffset = (_.options.rtl === false ? 1 : -1) * (_.touchObject.curX > _.touchObject.startX ? 1 : -1);
        if (_.options.verticalSwiping === true) {
            positionOffset = _.touchObject.curY > _.touchObject.startY ? 1 : -1;
        }


        swipeLength = _.touchObject.swipeLength;

        _.touchObject.edgeHit = false;

        if (_.options.infinite === false) {
            if ((_.currentSlide === 0 && swipeDirection === 'right') || (_.currentSlide >= _.getDotCount() && swipeDirection === 'left')) {
                swipeLength = _.touchObject.swipeLength * _.options.edgeFriction;
                _.touchObject.edgeHit = true;
            }
        }

        if (_.options.vertical === false) {
            _.swipeLeft = curLeft + swipeLength * positionOffset;
        } else {
            _.swipeLeft = curLeft + (swipeLength * (_.$list.height() / _.listWidth)) * positionOffset;
        }
        if (_.options.verticalSwiping === true) {
            _.swipeLeft = curLeft + swipeLength * positionOffset;
        }

        if (_.options.fade === true || _.options.touchMove === false) {
            return false;
        }

        if (_.animating === true) {
            _.swipeLeft = null;
            return false;
        }

        _.setCSS(_.swipeLeft);

    };

    Slick.prototype.swipeStart = function(event) {

        var _ = this,
            touches;

        _.interrupted = true;

        if (_.touchObject.fingerCount !== 1 || _.slideCount <= _.options.slidesToShow) {
            _.touchObject = {};
            return false;
        }

        if (event.originalEvent !== undefined && event.originalEvent.touches !== undefined) {
            touches = event.originalEvent.touches[0];
        }

        _.touchObject.startX = _.touchObject.curX = touches !== undefined ? touches.pageX : event.clientX;
        _.touchObject.startY = _.touchObject.curY = touches !== undefined ? touches.pageY : event.clientY;

        _.dragging = true;

    };

    Slick.prototype.unfilterSlides = Slick.prototype.slickUnfilter = function() {

        var _ = this;

        if (_.$slidesCache !== null) {

            _.unload();

            _.$slideTrack.children(this.options.slide).detach();

            _.$slidesCache.appendTo(_.$slideTrack);

            _.reinit();

        }

    };

    Slick.prototype.unload = function() {

        var _ = this;

        $('.slick-cloned', _.$slider).remove();

        if (_.$dots) {
            _.$dots.remove();
        }

        if (_.$prevArrow && _.htmlExpr.test(_.options.prevArrow)) {
            _.$prevArrow.remove();
        }

        if (_.$nextArrow && _.htmlExpr.test(_.options.nextArrow)) {
            _.$nextArrow.remove();
        }

        _.$slides
            .removeClass('slick-slide slick-active slick-visible slick-current')
            .attr('aria-hidden', 'true')
            .css('width', '');

    };

    Slick.prototype.unslick = function(fromBreakpoint) {

        var _ = this;
        _.$slider.trigger('unslick', [_, fromBreakpoint]);
        _.destroy();

    };

    Slick.prototype.updateArrows = function() {

        var _ = this,
            centerOffset;

        centerOffset = Math.floor(_.options.slidesToShow / 2);

        if ( _.options.arrows === true &&
            _.slideCount > _.options.slidesToShow &&
            !_.options.infinite ) {

            _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');
            _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            if (_.currentSlide === 0) {

                _.$prevArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            } else if (_.currentSlide >= _.slideCount - _.options.slidesToShow && _.options.centerMode === false) {

                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            } else if (_.currentSlide >= _.slideCount - 1 && _.options.centerMode === true) {

                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            }

        }

    };

    Slick.prototype.updateDots = function() {

        var _ = this;

        if (_.$dots !== null) {

            _.$dots
                .find('li')
                .removeClass('slick-active')
                .attr('aria-hidden', 'true');

            _.$dots
                .find('li')
                .eq(Math.floor(_.currentSlide / _.options.slidesToScroll))
                .addClass('slick-active')
                .attr('aria-hidden', 'false');

        }

    };

    Slick.prototype.visibility = function() {

        var _ = this;

        if ( _.options.autoplay ) {

            if ( document[_.hidden] ) {

                _.interrupted = true;

            } else {

                _.interrupted = false;

            }

        }

    };

    $.fn.slick = function() {
        var _ = this,
            opt = arguments[0],
            args = Array.prototype.slice.call(arguments, 1),
            l = _.length,
            i,
            ret;
        for (i = 0; i < l; i++) {
            if (typeof opt == 'object' || typeof opt == 'undefined')
                _[i].slick = new Slick(_[i], opt);
            else
                ret = _[i].slick[opt].apply(_[i].slick, args);
            if (typeof ret != 'undefined') return ret;
        }
        return _;
    };

}));

});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/libs/jspdf.min.js

sms.addModule('assets/js/libs/jspdf.min.js', {"path":""}, (require,exports,module)=>{
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.jspdf=e()}(this,function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=(function(){function t(t){this.value=t}function e(e){function n(i,o){try{var a=e[i](o),s=a.value;s instanceof t?Promise.resolve(s.value).then(function(t){n("next",t)},function(t){n("throw",t)}):r(a.done?"return":"normal",a.value)}catch(t){r("throw",t)}}function r(t,e){switch(t){case"return":i.resolve({value:e,done:!0});break;case"throw":i.reject(e);break;default:i.resolve({value:e,done:!1})}(i=i.next)?n(i.key,i.arg):o=null}var i,o;this._invoke=function(t,e){return new Promise(function(r,a){var s={key:t,arg:e,resolve:r,reject:a,next:null};o?o=o.next=s:(i=o=s,n(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(e){function n(t){var n={};this.subscribe=function(t,e,r){if("function"!=typeof e)return!1;n.hasOwnProperty(t)||(n[t]={});var i=Math.random().toString(35);return n[t][i]=[e,!!r],i},this.unsubscribe=function(t){for(var e in n)if(n[e][t])return delete n[e][t],!0;return!1},this.publish=function(r){if(n.hasOwnProperty(r)){var i=Array.prototype.slice.call(arguments,1),o=[];for(var a in n[r]){var s=n[r][a];try{s[0].apply(t,i)}catch(t){e.console&&console.error("jsPDF PubSub Error",t.message,t)}s[1]&&o.push(a)}o.length&&o.forEach(this.unsubscribe)}}}function i(c,l,u,h){var f={};"object"===(void 0===c?"undefined":t(c))&&(c=(f=c).orientation,l=f.unit||l,u=f.format||u,h=f.compress||f.compressPdf||h),l=l||"mm",u=u||"a4",c=(""+(c||"P")).toLowerCase();(""+u).toLowerCase();var d,p,m,g,w,y,v,b,x,k=!!h&&"function"==typeof Uint8Array,_=f.textColor||"0 g",C=f.drawColor||"0 G",A=f.fontSize||16,S=f.lineHeight||1.15,q=f.lineWidth||.200025,T=2,P=!1,I=[],E={},O={},F=0,B=[],R=[],D=[],j=[],z=[],N=0,L=0,M=0,U={title:"",subject:"",author:"",keywords:"",creator:""},H={},W=new n(H),X=f.hotfixes||[],V=function(t){return t.toFixed(2)},G=function(t){return t.toFixed(3)},Y=function(t){return("0"+parseInt(t)).slice(-2)},J=function(t){P?B[g].push(t):(M+=t.length+1,j.push(t))},Q=function(){return T++,I[T]=M,J(T+" 0 obj"),T},K=function(t){J("stream"),J(t),J("endstream")},$=function(){var t,n,r,a,s,c,l,u,h,f=[];for(l=e.adler32cs||i.adler32cs,k&&void 0===l&&(k=!1),t=1;t<=F;t++){if(f.push(Q()),u=(w=D[t].width)*p,h=(y=D[t].height)*p,J("<</Type /Page"),J("/Parent 1 0 R"),J("/Resources 2 0 R"),J("/MediaBox [0 0 "+V(u)+" "+V(h)+"]"),W.publish("putPage",{pageNumber:t,page:B[t]}),J("/Contents "+(T+1)+" 0 R"),J(">>"),J("endobj"),n=B[t].join("\n"),Q(),k){for(r=[],a=n.length;a--;)r[a]=n.charCodeAt(a);c=l.from(n),(s=new o(6)).append(new Uint8Array(r)),n=s.flush(),(r=new Uint8Array(n.length+6)).set(new Uint8Array([120,156])),r.set(n,2),r.set(new Uint8Array([255&c,c>>8&255,c>>16&255,c>>24&255]),n.length+2),n=String.fromCharCode.apply(null,r),J("<</Length "+n.length+" /Filter [/FlateDecode]>>")}else J("<</Length "+n.length+">>");K(n),J("endobj")}I[1]=M,J("1 0 obj"),J("<</Type /Pages");var d="/Kids [";for(a=0;a<F;a++)d+=f[a]+" 0 R ";J(d+"]"),J("/Count "+F),J(">>"),J("endobj"),W.publish("postPutPages")},Z=function(t){t.objectNumber=Q(),J("<</BaseFont/"+t.PostScriptName+"/Type/Font"),"string"==typeof t.encoding&&J("/Encoding/"+t.encoding),J("/Subtype/Type1>>"),J("endobj")},tt=function(){for(var t in E)E.hasOwnProperty(t)&&Z(E[t])},et=function(){W.publish("putXobjectDict")},nt=function(){J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),J("/Font <<");for(var t in E)E.hasOwnProperty(t)&&J("/"+t+" "+E[t].objectNumber+" 0 R");J(">>"),J("/XObject <<"),et(),J(">>")},rt=function(){tt(),W.publish("putResources"),I[2]=M,J("2 0 obj"),J("<<"),nt(),J(">>"),J("endobj"),W.publish("postPutResources")},it=function(){W.publish("putAdditionalObjects");for(var t=0;t<z.length;t++){var e=z[t];I[e.objId]=M,J(e.objId+" 0 obj"),J(e.content),J("endobj")}T+=z.length,W.publish("postPutAdditionalObjects")},ot=function(t,e,n){O.hasOwnProperty(e)||(O[e]={}),O[e][n]=t},at=function(t,e,n,r){var i="F"+(Object.keys(E).length+1).toString(10),o=E[i]={id:i,PostScriptName:t,fontName:e,fontStyle:n,encoding:r,metadata:{}};return ot(i,e,n),W.publish("addFont",o),i},st=function(t,e){var n,r,i,o,a,s,c,l,u;if(e=e||{},i=e.sourceEncoding||"Unicode",a=e.outputEncoding,(e.autoencode||a)&&E[d].metadata&&E[d].metadata[i]&&E[d].metadata[i].encoding&&(o=E[d].metadata[i].encoding,!a&&E[d].encoding&&(a=E[d].encoding),!a&&o.codePages&&(a=o.codePages[0]),"string"==typeof a&&(a=o[a]),a)){for(c=!1,s=[],n=0,r=t.length;n<r;n++)(l=a[t.charCodeAt(n)])?s.push(String.fromCharCode(l)):s.push(t[n]),s[n].charCodeAt(0)>>8&&(c=!0);t=s.join("")}for(n=t.length;void 0===c&&0!==n;)t.charCodeAt(n-1)>>8&&(c=!0),n--;if(!c)return t;for(s=e.noBOM?[]:[254,255],n=0,r=t.length;n<r;n++){if(l=t.charCodeAt(n),(u=l>>8)>>8)throw new Error("Character at position "+n+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(u),s.push(l-(u<<8))}return String.fromCharCode.apply(void 0,s)},ct=function(t,e){return st(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},lt=function(){J("/Producer (jsPDF "+i.version+")");for(var t in U)U.hasOwnProperty(t)&&U[t]&&J("/"+t.substr(0,1).toUpperCase()+t.substr(1)+" ("+ct(U[t])+")");var e=new Date,n=e.getTimezoneOffset(),r=n<0?"+":"-",o=Math.floor(Math.abs(n/60)),a=Math.abs(n%60),s=[r,Y(o),"'",Y(a),"'"].join("");J(["/CreationDate (D:",e.getFullYear(),Y(e.getMonth()+1),Y(e.getDate()),Y(e.getHours()),Y(e.getMinutes()),Y(e.getSeconds()),s,")"].join(""))},ut=function(){switch(J("/Type /Catalog"),J("/Pages 1 0 R"),b||(b="fullwidth"),b){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var t=""+b;"%"===t.substr(t.length-1)&&(b=parseInt(b)/100),"number"==typeof b&&J("/OpenAction [3 0 R /XYZ null null "+V(b)+"]")}switch(x||(x="continuous"),x){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}v&&J("/PageMode /"+v),W.publish("putCatalog")},ht=function(){J("/Size "+(T+1)),J("/Root "+T+" 0 R"),J("/Info "+(T-1)+" 0 R")},ft=function(t,e){var n="string"==typeof e&&e.toLowerCase();if("string"==typeof t){var r=t.toLowerCase();s.hasOwnProperty(r)&&(t=s[r][0]/p,e=s[r][1]/p)}if(Array.isArray(t)&&(e=t[1],t=t[0]),n){switch(n.substr(0,1)){case"l":e>t&&(n="s");break;case"p":t>e&&(n="s")}"s"===n&&(m=t,t=e,e=m)}P=!0,B[++F]=[],D[F]={width:Number(t)||w,height:Number(e)||y},R[F]={},mt(F)},dt=function(){ft.apply(this,arguments),J(V(q*p)+" w"),J(C),0!==N&&J(N+" J"),0!==L&&J(L+" j"),W.publish("addPage",{pageNumber:F})},pt=function(t){t>0&&t<=F&&(B.splice(t,1),D.splice(t,1),g>--F&&(g=F),this.setPage(g))},mt=function(t){t>0&&t<=F&&(g=t,w=D[t].width,y=D[t].height)},gt=function(t,e){var n;switch(t=void 0!==t?t:E[d].fontName,e=void 0!==e?e:E[d].fontStyle,void 0!==t&&(t=t.toLowerCase()),t){case"sans-serif":case"verdana":case"arial":case"helvetica":t="helvetica";break;case"fixed":case"monospace":case"terminal":case"courier":t="courier";break;case"serif":case"cursive":case"fantasy":default:t="times"}try{n=O[t][e]}catch(t){}return n||null==(n=O.times[e])&&(n=O.times.normal),n},wt=function(){P=!1,T=2,M=0,j=[],I=[],z=[],W.publish("buildDocument"),J("%PDF-"+a),$(),it(),rt(),Q(),J("<<"),lt(),J(">>"),J("endobj"),Q(),J("<<"),ut(),J(">>"),J("endobj");var t,e=M,n="0000000000";for(J("xref"),J("0 "+(T+1)),J(n+" 65535 f "),t=1;t<=T;t++){var r=I[t];J("function"==typeof r?(n+I[t]()).slice(-10)+" 00000 n ":(n+I[t]).slice(-10)+" 00000 n ")}return J("trailer"),J("<<"),ht(),J(">>"),J("startxref"),J(""+e),J("%%EOF"),P=!0,j.join("\n")},yt=function(t){var e="S";return"F"===t?e="f":"FD"===t||"DF"===t?e="B":"f"!==t&&"f*"!==t&&"B"!==t&&"B*"!==t||(e=t),e},vt=function(){for(var t=wt(),e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n);e--;)r[e]=t.charCodeAt(e);return n},bt=function(){return new Blob([vt()],{type:"application/pdf"})},xt=function(t){return t.foo=function(){try{return t.apply(this,arguments)}catch(t){var n=t.stack||"";~n.indexOf(" at ")&&(n=n.split(" at ")[1]);var r="Error in function "+n.split("\n")[0].split("<")[0]+": "+t.message;if(!e.console)throw new Error(r);e.console.error(r,t),e.alert&&alert(r)}},t.foo.bar=t,t.foo}(function(t,n){var i="dataur"===(""+t).substr(0,6)?"data:application/pdf;base64,"+btoa(wt()):0;switch(t){case void 0:return wt();case"save":if(navigator.getUserMedia&&(void 0===e.URL||void 0===e.URL.createObjectURL))return H.output("dataurlnewwindow");r(bt(),n),"function"==typeof r.unload&&e.setTimeout&&setTimeout(r.unload,911);break;case"arraybuffer":return vt();case"blob":return bt();case"bloburi":case"bloburl":return e.URL&&e.URL.createObjectURL(bt())||void 0;case"datauristring":case"dataurlstring":return i;case"dataurlnewwindow":var o=e.open(i);if(o||"undefined"==typeof safari)return o;case"datauri":case"dataurl":return e.document.location.href=i;default:throw new Error('Output type "'+t+'" is not supported.')}}),kt=function(t){return!0===Array.isArray(X)&&X.indexOf(t)>-1};switch(l){case"pt":p=1;break;case"mm":p=72/25.4000508;break;case"cm":p=72/2.54000508;break;case"in":p=72;break;case"px":p=1==kt("px_scaling")?.75:96/72;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}H.internal={pdfEscape:ct,getStyle:yt,getFont:function(){return E[gt.apply(H,arguments)]},getFontSize:function(){return A},getLineHeight:function(){return A*S},write:function(t){J(1===arguments.length?t:Array.prototype.join.call(arguments," "))},getCoordinateString:function(t){return V(t*p)},getVerticalCoordinateString:function(t){return V((y-t)*p)},collections:{},newObject:Q,newAdditionalObject:function(){var t=2*B.length+1,e={objId:t+=z.length,content:""};return z.push(e),e},newObjectDeferred:function(){return T++,I[T]=function(){return M},T},newObjectDeferredBegin:function(t){I[t]=M},putStream:K,events:W,scaleFactor:p,pageSize:{get width(){return w},get height(){return y}},output:function(t,e){return xt(t,e)},getNumberOfPages:function(){return B.length-1},pages:B,out:J,f2:V,getPageInfo:function(t){return{objId:2*(t-1)+3,pageNumber:t,pageContext:R[t]}},getCurrentPageInfo:function(){return{objId:2*(g-1)+3,pageNumber:g,pageContext:R[g]}},getPDFVersion:function(){return a},hasHotfix:kt},H.addPage=function(){return dt.apply(this,arguments),this},H.setPage=function(){return mt.apply(this,arguments),this},H.insertPage=function(t){return this.addPage(),this.movePage(g,t),this},H.movePage=function(t,e){if(t>e){for(var n=B[t],r=D[t],i=R[t],o=t;o>e;o--)B[o]=B[o-1],D[o]=D[o-1],R[o]=R[o-1];B[e]=n,D[e]=r,R[e]=i,this.setPage(e)}else if(t<e){for(var n=B[t],r=D[t],i=R[t],o=t;o<e;o++)B[o]=B[o+1],D[o]=D[o+1],R[o]=R[o+1];B[e]=n,D[e]=r,R[e]=i,this.setPage(e)}return this},H.deletePage=function(){return pt.apply(this,arguments),this},H.setDisplayMode=function(t,e,n){if(b=t,x=e,v=n,-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(n))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+n+'" is not recognized.');return this},H.text=function(t,e,n,r,i,o){function a(t){return t=t.split("\t").join(Array(f.TabLen||9).join(" ")),ct(t,r)}"number"==typeof t&&(m=n,n=e,e=t,t=m),"string"==typeof t&&(t=t.match(/[\n\r]/)?t.split(/\r\n|\r|\n/g):[t]),"string"==typeof i&&(o=i,i=null),"string"==typeof r&&(o=r,r=null),"number"==typeof r&&(i=r,r=null);var s="",c="Td";if(i){i*=Math.PI/180;var l=Math.cos(i),u=Math.sin(i);s=[V(l),V(u),V(-1*u),V(l),""].join(" "),c="Tm"}"noBOM"in(r=r||{})||(r.noBOM=!0),"autoencode"in r||(r.autoencode=!0);var h="",g=this.internal.getCurrentPageInfo().pageContext;if(!0===r.stroke?!0!==g.lastTextWasStroke&&(h="1 Tr\n",g.lastTextWasStroke=!0):(g.lastTextWasStroke&&(h="0 Tr\n"),g.lastTextWasStroke=!1),void 0===this._runningPageHeight&&(this._runningPageHeight=0),"string"==typeof t)t=a(t);else{if("[object Array]"!==Object.prototype.toString.call(t))throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');for(var w=t.concat(),v=[],b=w.length;b--;)v.push(a(w.shift()));if(o){var x,k,C,q=A*S,T=t.map(function(t){return this.getStringUnitWidth(t)*A/p},this);if(C=Math.max.apply(Math,T),"center"===o)x=e-C/2,e-=T[0]/2;else{if("right"!==o)throw new Error('Unrecognized alignment option, use "center" or "right".');x=e-C,e-=T[0]}k=e,t=v[0];for(var P=1,b=v.length;P<b;P++){var I=C-T[P];"center"===o&&(I/=2),t+=") Tj\n"+(x-k+I)+" -"+q+" Td ("+v[P],k=x+I}}else t=v.join(") Tj\nT* (")}var E;return E=V((y-n)*p),J("BT\n/"+d+" "+A+" Tf\n"+A*S+" TL\n"+h+_+"\n"+s+V(e*p)+" "+E+" "+c+"\n("+t+") Tj\nET"),this},H.lstext=function(t,e,n,r){console.warn("jsPDF.lstext is deprecated");for(var i=0,o=t.length;i<o;i++,e+=r)this.text(t[i],e,n);return this},H.line=function(t,e,n,r){return this.lines([[n-t,r-e]],t,e)},H.clip=function(){J("W"),J("S")},H.clip_fixed=function(t){J("evenodd"===t?"W*":"W"),J("n")},H.lines=function(t,e,n,r,i,o){var a,s,c,l,u,h,f,d,g,w,v;for("number"==typeof t&&(m=n,n=e,e=t,t=m),r=r||[1,1],J(G(e*p)+" "+G((y-n)*p)+" m "),a=r[0],s=r[1],l=t.length,w=e,v=n,c=0;c<l;c++)2===(u=t[c]).length?(w=u[0]*a+w,v=u[1]*s+v,J(G(w*p)+" "+G((y-v)*p)+" l")):(h=u[0]*a+w,f=u[1]*s+v,d=u[2]*a+w,g=u[3]*s+v,w=u[4]*a+w,v=u[5]*s+v,J(G(h*p)+" "+G((y-f)*p)+" "+G(d*p)+" "+G((y-g)*p)+" "+G(w*p)+" "+G((y-v)*p)+" c"));return o&&J(" h"),null!==i&&J(yt(i)),this},H.rect=function(t,e,n,r,i){yt(i);return J([V(t*p),V((y-e)*p),V(n*p),V(-r*p),"re"].join(" ")),null!==i&&J(yt(i)),this},H.triangle=function(t,e,n,r,i,o,a){return this.lines([[n-t,r-e],[i-n,o-r],[t-i,e-o]],t,e,[1,1],a,!0),this},H.roundedRect=function(t,e,n,r,i,o,a){var s=4/3*(Math.SQRT2-1);return this.lines([[n-2*i,0],[i*s,0,i,o-o*s,i,o],[0,r-2*o],[0,o*s,-i*s,o,-i,o],[2*i-n,0],[-i*s,0,-i,-o*s,-i,-o],[0,2*o-r],[0,-o*s,i*s,-o,i,-o]],t+i,e,[1,1],a),this},H.ellipse=function(t,e,n,r,i){var o=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*r;return J([V((t+n)*p),V((y-e)*p),"m",V((t+n)*p),V((y-(e-a))*p),V((t+o)*p),V((y-(e-r))*p),V(t*p),V((y-(e-r))*p),"c"].join(" ")),J([V((t-o)*p),V((y-(e-r))*p),V((t-n)*p),V((y-(e-a))*p),V((t-n)*p),V((y-e)*p),"c"].join(" ")),J([V((t-n)*p),V((y-(e+a))*p),V((t-o)*p),V((y-(e+r))*p),V(t*p),V((y-(e+r))*p),"c"].join(" ")),J([V((t+o)*p),V((y-(e+r))*p),V((t+n)*p),V((y-(e+a))*p),V((t+n)*p),V((y-e)*p),"c"].join(" ")),null!==i&&J(yt(i)),this},H.circle=function(t,e,n,r){return this.ellipse(t,e,n,n,r)},H.setProperties=function(t){for(var e in U)U.hasOwnProperty(e)&&t[e]&&(U[e]=t[e]);return this},H.setFontSize=function(t){return A=t,this},H.setFont=function(t,e){return d=gt(t,e),this},H.setFontStyle=H.setFontType=function(t){return d=gt(void 0,t),this},H.getFontList=function(){var t,e,n,r={};for(t in O)if(O.hasOwnProperty(t)){r[t]=n=[];for(e in O[t])O[t].hasOwnProperty(e)&&n.push(e)}return r},H.addFont=function(t,e,n){at(t,e,n,"StandardEncoding")},H.setLineWidth=function(t){return J((t*p).toFixed(2)+" w"),this},H.setDrawColor=function(t,e,n,r){var i;return i=void 0===e||void 0===r&&t===e===n?"string"==typeof t?t+" G":V(t/255)+" G":void 0===r?"string"==typeof t?[t,e,n,"RG"].join(" "):[V(t/255),V(e/255),V(n/255),"RG"].join(" "):"string"==typeof t?[t,e,n,r,"K"].join(" "):[V(t),V(e),V(n),V(r),"K"].join(" "),J(i),this},H.setFillColor=function(e,n,r,i){var o;return void 0===n||void 0===i&&e===n===r?o="string"==typeof e?e+" g":V(e/255)+" g":void 0===i||"object"===(void 0===i?"undefined":t(i))?(o="string"==typeof e?[e,n,r,"rg"].join(" "):[V(e/255),V(n/255),V(r/255),"rg"].join(" "),i&&0===i.a&&(o=["255","255","255","rg"].join(" "))):o="string"==typeof e?[e,n,r,i,"k"].join(" "):[V(e),V(n),V(r),V(i),"k"].join(" "),J(o),this},H.setTextColor=function(t,e,n){if("string"==typeof t&&/^#[0-9A-Fa-f]{6}$/.test(t)){var r=parseInt(t.substr(1),16);t=r>>16&255,e=r>>8&255,n=255&r}return _=0===t&&0===e&&0===n||void 0===e?G(t/255)+" g":[G(t/255),G(e/255),G(n/255),"rg"].join(" "),this},H.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},H.setLineCap=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return N=e,J(e+" J"),this},H.setLineJoin=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return L=e,J(e+" j"),this},H.output=xt,H.save=function(t){H.output("save",t)};for(var _t in i.API)i.API.hasOwnProperty(_t)&&("events"===_t&&i.API.events.length?function(t,e){var n,r,i;for(i=e.length-1;-1!==i;i--)n=e[i][0],r=e[i][1],t.subscribe.apply(t,[n].concat("function"==typeof r?[r]:r))}(W,i.API.events):H[_t]=i.API[_t]);return function(){for(var t=[["Helvetica","helvetica","normal"],["Helvetica-Bold","helvetica","bold"],["Helvetica-Oblique","helvetica","italic"],["Helvetica-BoldOblique","helvetica","bolditalic"],["Courier","courier","normal"],["Courier-Bold","courier","bold"],["Courier-Oblique","courier","italic"],["Courier-BoldOblique","courier","bolditalic"],["Times-Roman","times","normal"],["Times-Bold","times","bold"],["Times-Italic","times","italic"],["Times-BoldItalic","times","bolditalic"],["ZapfDingbats","zapfdingbats"]],e=0,n=t.length;e<n;e++){var r=at(t[e][0],t[e][1],t[e][2],"StandardEncoding"),i=t[e][0].split("-");ot(r,i[0],i[1]||"")}W.publish("addFonts",{fonts:E,dictionary:O})}(),d="F1",dt(u,c),W.publish("initialized"),H}var a="1.3",s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};return i.API={events:[]},i.version="1.x-master","function"==typeof define&&define.amd?define("jsPDF",function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:e.jsPDF=i,i}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0));/**
 * jsPDF AcroForm Plugin
 * Copyright (c) 2016 Alexander Weidt, https://github.com/BiggA94
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
(window.AcroForm=function(t){var n=window.AcroForm;n.scale=function(t){return t*(r.internal.scaleFactor/1)},n.antiScale=function(t){return 1/r.internal.scaleFactor*t};var r={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null};e.API.acroformPlugin=r;var i=function(){for(var t in this.acroformPlugin.acroFormDictionaryRoot.Fields){var e=this.acroformPlugin.acroFormDictionaryRoot.Fields[t];e.hasAnnotation&&a.call(this,e)}},o=function(){if(this.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");this.acroformPlugin.acroFormDictionaryRoot=new n.AcroFormDictionary,this.acroformPlugin.internal=this.internal,this.acroformPlugin.acroFormDictionaryRoot._eventID=this.internal.events.subscribe("postPutResources",l),this.internal.events.subscribe("buildDocument",i),this.internal.events.subscribe("putCatalog",c),this.internal.events.subscribe("postPutPages",u)},a=function(t){var n={type:"reference",object:t};e.API.annotationPlugin.annotations[this.internal.getPageInfo(t.page).pageNumber].push(n)},s=function(t){this.acroformPlugin.printedOut&&(this.acroformPlugin.printedOut=!1,this.acroformPlugin.acroFormDictionaryRoot=null),this.acroformPlugin.acroFormDictionaryRoot||o.call(this),this.acroformPlugin.acroFormDictionaryRoot.Fields.push(t)},c=function(){void 0!==this.acroformPlugin.acroFormDictionaryRoot?this.internal.write("/AcroForm "+this.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R"):console.log("Root missing...")},l=function(){this.internal.events.unsubscribe(this.acroformPlugin.acroFormDictionaryRoot._eventID),delete this.acroformPlugin.acroFormDictionaryRoot._eventID,this.acroformPlugin.printedOut=!0},u=function(t){var e=!t;t||(this.internal.newObjectDeferredBegin(this.acroformPlugin.acroFormDictionaryRoot.objId),this.internal.out(this.acroformPlugin.acroFormDictionaryRoot.getString()));var t=t||this.acroformPlugin.acroFormDictionaryRoot.Kids;for(var r in t){var i=t[r],o=i.Rect;i.Rect&&(i.Rect=n.internal.calculateCoordinates.call(this,i.Rect)),this.internal.newObjectDeferredBegin(i.objId);var a="";if(a+=i.objId+" 0 obj\n",a+="<<\n"+i.getContent(),i.Rect=o,i.hasAppearanceStream&&!i.appearanceStreamContent){var s=n.internal.calculateAppearanceStream.call(this,i);a+="/AP << /N "+s+" >>\n",this.acroformPlugin.xForms.push(s)}if(i.appearanceStreamContent){a+="/AP << ";for(var c in i.appearanceStreamContent){var l=i.appearanceStreamContent[c];if(a+="/"+c+" ",a+="<< ",Object.keys(l).length>=1||Array.isArray(l))for(var r in l)"function"==typeof(u=l[r])&&(u=u.call(this,i)),a+="/"+r+" "+u+" ",this.acroformPlugin.xForms.indexOf(u)>=0||this.acroformPlugin.xForms.push(u);else{var u=l;"function"==typeof u&&(u=u.call(this,i)),a+="/"+r+" "+u+" \n",this.acroformPlugin.xForms.indexOf(u)>=0||this.acroformPlugin.xForms.push(u)}a+=" >>\n"}a+=">>\n"}a+=">>\nendobj\n",this.internal.out(a)}e&&h.call(this,this.acroformPlugin.xForms)},h=function(t){for(var e in t){var n=e,r=t[e];this.internal.newObjectDeferredBegin(r&&r.objId);var i="";i+=r?r.getString():"",this.internal.out(i),delete t[n]}};t.addField=function(t){return t instanceof n.TextField?d.call(this,t):t instanceof n.ChoiceField?p.call(this,t):t instanceof n.Button?f.call(this,t):t instanceof n.ChildClass?s.call(this,t):t&&s.call(this,t),t.page=this.acroformPlugin.internal.getCurrentPageInfo().pageNumber,this};var f=function(t){(t=t||new n.Field).FT="/Btn";var e=t.Ff||0;t.pushbutton&&(e=n.internal.setBitPosition(e,17),delete t.pushbutton),t.radio&&(e=n.internal.setBitPosition(e,16),delete t.radio),t.noToggleToOff&&(e=n.internal.setBitPosition(e,15)),t.Ff=e,s.call(this,t)},d=function(t){(t=t||new n.Field).FT="/Tx";var e=t.Ff||0;t.multiline&&(e|=4096),t.password&&(e|=8192),t.fileSelect&&(e|=1<<20),t.doNotSpellCheck&&(e|=1<<22),t.doNotScroll&&(e|=1<<23),t.Ff=t.Ff||e,s.call(this,t)},p=function(t){var e=t||new n.Field;e.FT="/Ch";var r=e.Ff||0;e.combo&&(r=n.internal.setBitPosition(r,18),delete e.combo),e.edit&&(r=n.internal.setBitPosition(r,19),delete e.edit),e.sort&&(r=n.internal.setBitPosition(r,20),delete e.sort),e.multiSelect&&this.internal.getPDFVersion()>=1.4&&(r=n.internal.setBitPosition(r,22),delete e.multiSelect),e.doNotSpellCheck&&this.internal.getPDFVersion()>=1.4&&(r=n.internal.setBitPosition(r,23),delete e.doNotSpellCheck),e.Ff=r,s.call(this,e)}})(e.API);var n=window.AcroForm;n.internal={},n.createFormXObject=function(t){var e=new n.FormXObject,r=n.Appearance.internal.getHeight(t)||0,i=n.Appearance.internal.getWidth(t)||0;return e.BBox=[0,0,i,r],e},n.Appearance={CheckBox:{createAppearanceStream:function(){return{N:{On:n.Appearance.CheckBox.YesNormal},D:{On:n.Appearance.CheckBox.YesPushDown,Off:n.Appearance.CheckBox.OffPushDown}}},createMK:function(){return"<< /CA (3)>>"},YesPushDown:function(t){var e=n.createFormXObject(t),r="";t.Q=1;var i=n.internal.calculateX(t,"3","ZapfDingbats",50);return r+="0.749023 g\n             0 0 "+n.Appearance.internal.getWidth(t)+" "+n.Appearance.internal.getHeight(t)+" re\n             f\n             BMC\n             q\n             0 0 1 rg\n             /F13 "+i.fontSize+" Tf 0 g\n             BT\n",r+=i.text,r+="ET\n             Q\n             EMC\n",e.stream=r,e},YesNormal:function(t){var e=n.createFormXObject(t),r="";t.Q=1;var i=n.internal.calculateX(t,"3","ZapfDingbats",.9*n.Appearance.internal.getHeight(t));return r+="1 g\n0 0 "+n.Appearance.internal.getWidth(t)+" "+n.Appearance.internal.getHeight(t)+" re\nf\nq\n0 0 1 rg\n0 0 "+(n.Appearance.internal.getWidth(t)-1)+" "+(n.Appearance.internal.getHeight(t)-1)+" re\nW\nn\n0 g\nBT\n/F13 "+i.fontSize+" Tf 0 g\n",r+=i.text,r+="ET\n             Q\n",e.stream=r,e},OffPushDown:function(t){var e=n.createFormXObject(t),r="";return r+="0.749023 g\n            0 0 "+n.Appearance.internal.getWidth(t)+" "+n.Appearance.internal.getHeight(t)+" re\n            f\n",e.stream=r,e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:n.Appearance.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=n.Appearance.RadioButton.Circle.YesNormal,e.D[t]=n.Appearance.RadioButton.Circle.YesPushDown,e},createMK:function(){return"<< /CA (l)>>"},YesNormal:function(t){var e=n.createFormXObject(t),r="",i=n.Appearance.internal.getWidth(t)<=n.Appearance.internal.getHeight(t)?n.Appearance.internal.getWidth(t)/4:n.Appearance.internal.getHeight(t)/4;i*=.9;var o=n.Appearance.internal.Bezier_C;return r+="q\n1 0 0 1 "+n.Appearance.internal.getWidth(t)/2+" "+n.Appearance.internal.getHeight(t)/2+" cm\n"+i+" 0 m\n"+i+" "+i*o+" "+i*o+" "+i+" 0 "+i+" c\n-"+i*o+" "+i+" -"+i+" "+i*o+" -"+i+" 0 c\n-"+i+" -"+i*o+" -"+i*o+" -"+i+" 0 -"+i+" c\n"+i*o+" -"+i+" "+i+" -"+i*o+" "+i+" 0 c\nf\nQ\n",e.stream=r,e},YesPushDown:function(t){var e=n.createFormXObject(t),r="",i=n.Appearance.internal.getWidth(t)<=n.Appearance.internal.getHeight(t)?n.Appearance.internal.getWidth(t)/4:n.Appearance.internal.getHeight(t)/4,o=2*(i*=.9),a=o*n.Appearance.internal.Bezier_C,s=i*n.Appearance.internal.Bezier_C;return r+="0.749023 g\n            q\n           1 0 0 1 "+n.Appearance.internal.getWidth(t)/2+" "+n.Appearance.internal.getHeight(t)/2+" cm\n"+o+" 0 m\n"+o+" "+a+" "+a+" "+o+" 0 "+o+" c\n-"+a+" "+o+" -"+o+" "+a+" -"+o+" 0 c\n-"+o+" -"+a+" -"+a+" -"+o+" 0 -"+o+" c\n"+a+" -"+o+" "+o+" -"+a+" "+o+" 0 c\n            f\n            Q\n            0 g\n            q\n            1 0 0 1 "+n.Appearance.internal.getWidth(t)/2+" "+n.Appearance.internal.getHeight(t)/2+" cm\n"+i+" 0 m\n"+i+" "+s+" "+s+" "+i+" 0 "+i+" c\n-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c\n-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c\n"+s+" -"+i+" "+i+" -"+s+" "+i+" 0 c\n            f\n            Q\n",e.stream=r,e},OffPushDown:function(t){var e=n.createFormXObject(t),r="",i=n.Appearance.internal.getWidth(t)<=n.Appearance.internal.getHeight(t)?n.Appearance.internal.getWidth(t)/4:n.Appearance.internal.getHeight(t)/4,o=2*(i*=.9),a=o*n.Appearance.internal.Bezier_C;return r+="0.749023 g\n            q\n 1 0 0 1 "+n.Appearance.internal.getWidth(t)/2+" "+n.Appearance.internal.getHeight(t)/2+" cm\n"+o+" 0 m\n"+o+" "+a+" "+a+" "+o+" 0 "+o+" c\n-"+a+" "+o+" -"+o+" "+a+" -"+o+" 0 c\n-"+o+" -"+a+" -"+a+" -"+o+" 0 -"+o+" c\n"+a+" -"+o+" "+o+" -"+a+" "+o+" 0 c\n            f\n            Q\n",e.stream=r,e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:n.Appearance.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=n.Appearance.RadioButton.Cross.YesNormal,e.D[t]=n.Appearance.RadioButton.Cross.YesPushDown,e},createMK:function(){return"<< /CA (8)>>"},YesNormal:function(t){var e=n.createFormXObject(t),r="",i=n.Appearance.internal.calculateCross(t);return r+="q\n            1 1 "+(n.Appearance.internal.getWidth(t)-2)+" "+(n.Appearance.internal.getHeight(t)-2)+" re\n            W\n            n\n            "+i.x1.x+" "+i.x1.y+" m\n            "+i.x2.x+" "+i.x2.y+" l\n            "+i.x4.x+" "+i.x4.y+" m\n            "+i.x3.x+" "+i.x3.y+" l\n            s\n            Q\n",e.stream=r,e},YesPushDown:function(t){var e=n.createFormXObject(t),r=n.Appearance.internal.calculateCross(t),i="";return i+="0.749023 g\n            0 0 "+n.Appearance.internal.getWidth(t)+" "+n.Appearance.internal.getHeight(t)+" re\n            f\n            q\n            1 1 "+(n.Appearance.internal.getWidth(t)-2)+" "+(n.Appearance.internal.getHeight(t)-2)+" re\n            W\n            n\n            "+r.x1.x+" "+r.x1.y+" m\n            "+r.x2.x+" "+r.x2.y+" l\n            "+r.x4.x+" "+r.x4.y+" m\n            "+r.x3.x+" "+r.x3.y+" l\n            s\n            Q\n",e.stream=i,e},OffPushDown:function(t){var e=n.createFormXObject(t),r="";return r+="0.749023 g\n            0 0 "+n.Appearance.internal.getWidth(t)+" "+n.Appearance.internal.getHeight(t)+" re\n            f\n",e.stream=r,e}}},createDefaultAppearanceStream:function(t){var e="";return e+="/Helv 0 Tf 0 g"}},n.Appearance.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=n.Appearance.internal.getWidth(t),r=n.Appearance.internal.getHeight(t),i=function(t,e){return t>e?e:t}(e,r);return{x1:{x:(e-i)/2,y:(r-i)/2+i},x2:{x:(e-i)/2+i,y:(r-i)/2},x3:{x:(e-i)/2,y:(r-i)/2},x4:{x:(e-i)/2+i,y:(r-i)/2+i}}}},n.Appearance.internal.getWidth=function(t){return t.Rect[2]},n.Appearance.internal.getHeight=function(t){return t.Rect[3]},n.internal.inherit=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},n.internal.arrayToPdfArray=function(t){if(Array.isArray(t)){var e=" [";for(var n in t)e+=t[n].toString(),e+=n<t.length-1?" ":"";return e+="]"}},n.internal.toPdfString=function(t){return 0!==(t=t||"").indexOf("(")&&(t="("+t),")"!=t.substring(t.length-1)&&(t+="("),t},n.PDFObject=function(){var t;Object.defineProperty(this,"objId",{get:function(){return t||(this.internal?t=this.internal.newObjectDeferred():e.API.acroformPlugin.internal&&(t=e.API.acroformPlugin.internal.newObjectDeferred())),t||console.log("Couldn't create Object ID"),t},configurable:!1})},n.PDFObject.prototype.toString=function(){return this.objId+" 0 R"},n.PDFObject.prototype.getString=function(){var t=this.objId+" 0 obj\n<<";return t+=this.getContent()+">>\n",this.stream&&(t+="stream\n",t+=this.stream,t+="endstream\n"),t+="endobj\n"},n.PDFObject.prototype.getContent=function(){var t="";return t+=function(t){var e="",r=Object.keys(t).filter(function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"_"!=t.substring(0,1)});for(var i in r){var o=r[i],a=t[o];a&&(Array.isArray(a)?e+="/"+o+" "+n.internal.arrayToPdfArray(a)+"\n":a instanceof n.PDFObject?e+="/"+o+" "+a.objId+" 0 R\n":e+="/"+o+" "+a+"\n")}return e}(this)},n.FormXObject=function(){n.PDFObject.call(this),this.Type="/XObject",this.Subtype="/Form",this.FormType=1,this.BBox,this.Matrix,this.Resources="2 0 R",this.PieceInfo;var t;Object.defineProperty(this,"Length",{enumerable:!0,get:function(){return void 0!==t?t.length:0}}),Object.defineProperty(this,"stream",{enumerable:!1,set:function(e){t=e},get:function(){return t||null}})},n.internal.inherit(n.FormXObject,n.PDFObject),n.AcroFormDictionary=function(){n.PDFObject.call(this);var t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!0,configurable:!0,get:function(){return t}}),this.DA},n.internal.inherit(n.AcroFormDictionary,n.PDFObject),n.Field=function(){n.PDFObject.call(this);var t;Object.defineProperty(this,"Rect",{enumerable:!0,configurable:!1,get:function(){if(t)return t},set:function(e){t=e}});var e="";Object.defineProperty(this,"FT",{enumerable:!0,set:function(t){e=t},get:function(){return e}});var r;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,set:function(t){r=t},get:function(){if(!r||r.length<1){if(this instanceof n.ChildClass)return;return"(FieldObject"+n.Field.FieldNum+++")"}return"("==r.substring(0,1)&&r.substring(r.length-1)?r:"("+r+")"}});var i;Object.defineProperty(this,"DA",{enumerable:!0,get:function(){if(i)return"("+i+")"},set:function(t){i=t}});var o;Object.defineProperty(this,"DV",{enumerable:!0,configurable:!0,get:function(){if(o)return o},set:function(t){o=t}}),Object.defineProperty(this,"Type",{enumerable:!0,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,get:function(){return this.hasAnnotation?"/Widget":null}}),this.BG,Object.defineProperty(this,"hasAnnotation",{enumerable:!1,get:function(){return!!(this.Rect||this.BC||this.BG)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(this,"page",{enumerable:!1,configurable:!0,writable:!0})},n.Field.FieldNum=0,n.internal.inherit(n.Field,n.PDFObject),n.ChoiceField=function(){n.Field.call(this),this.FT="/Ch",this.Opt=[],this.V="()",this.TI=0,this.combo=!1,Object.defineProperty(this,"edit",{enumerable:!0,set:function(t){1==t?(this._edit=!0,this.combo=!0):this._edit=!1},get:function(){return!!this._edit&&this._edit},configurable:!1}),this.hasAppearanceStream=!0,Object.defineProperty(this,"V",{get:function(){n.internal.toPdfString()}})},n.internal.inherit(n.ChoiceField,n.Field),window.ChoiceField=n.ChoiceField,n.ListBox=function(){n.ChoiceField.call(this)},n.internal.inherit(n.ListBox,n.ChoiceField),window.ListBox=n.ListBox,n.ComboBox=function(){n.ListBox.call(this),this.combo=!0},n.internal.inherit(n.ComboBox,n.ListBox),window.ComboBox=n.ComboBox,n.EditBox=function(){n.ComboBox.call(this),this.edit=!0},n.internal.inherit(n.EditBox,n.ComboBox),window.EditBox=n.EditBox,n.Button=function(){n.Field.call(this),this.FT="/Btn"},n.internal.inherit(n.Button,n.Field),window.Button=n.Button,n.PushButton=function(){n.Button.call(this),this.pushbutton=!0},n.internal.inherit(n.PushButton,n.Button),window.PushButton=n.PushButton,n.RadioButton=function(){n.Button.call(this),this.radio=!0;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,get:function(){if(t.length>0)return t}}),Object.defineProperty(this,"__Kids",{get:function(){return t}});var e;Object.defineProperty(this,"noToggleToOff",{enumerable:!1,get:function(){return e},set:function(t){e=t}})},n.internal.inherit(n.RadioButton,n.Button),window.RadioButton=n.RadioButton,n.ChildClass=function(t,e){n.Field.call(this),this.Parent=t,this._AppearanceType=n.Appearance.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(e),this.F=n.internal.setBitPosition(this.F,3,1),this.MK=this._AppearanceType.createMK(),this.AS="/Off",this._Name=e},n.internal.inherit(n.ChildClass,n.Field),n.RadioButton.prototype.setAppearance=function(t){if("createAppearanceStream"in t&&"createMK"in t)for(var e in this.__Kids){var n=this.__Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n._Name),n.MK=t.createMK()}else console.log("Couldn't assign Appearance to RadioButton. Appearance was Invalid!")},n.RadioButton.prototype.createOption=function(t){var r=this,i=new n.ChildClass(r,t);return this.__Kids.push(i),e.API.addField(i),i},n.CheckBox=function(){Button.call(this),this.appearanceStreamContent=n.Appearance.CheckBox.createAppearanceStream(),this.MK=n.Appearance.CheckBox.createMK(),this.AS="/On",this.V="/On"},n.internal.inherit(n.CheckBox,n.Button),window.CheckBox=n.CheckBox,n.TextField=function(){n.Field.call(this),this.DA=n.Appearance.createDefaultAppearanceStream(),this.F=4;var t;Object.defineProperty(this,"V",{get:function(){return t?"("+t+")":t},enumerable:!0,set:function(e){t=e}});var e;Object.defineProperty(this,"DV",{get:function(){return e?"("+e+")":e},enumerable:!0,set:function(t){e=t}});var r=!1;Object.defineProperty(this,"multiline",{enumerable:!1,get:function(){return r},set:function(t){r=t}});var i=!1;Object.defineProperty(this,"MaxLen",{enumerable:!0,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,get:function(){return this.V||this.DV}})},n.internal.inherit(n.TextField,n.Field),window.TextField=n.TextField,n.PasswordField=function(){TextField.call(this),Object.defineProperty(this,"password",{value:!0,enumerable:!1,configurable:!1,writable:!1})},n.internal.inherit(n.PasswordField,n.TextField),window.PasswordField=n.PasswordField,n.internal.calculateFontSpace=function(t,e,r){var r=r||"helvetica",i=n.internal.calculateFontSpace.canvas||(n.internal.calculateFontSpace.canvas=document.createElement("canvas"));(s=i.getContext("2d")).save();var o=e+" "+r;s.font=o;var a=s.measureText(t);s.fontcolor="black";var s=i.getContext("2d");return a.height=1.5*s.measureText("3").width,s.restore(),a},n.internal.calculateX=function(t,e,r,i){var i=i||12,r=r||"helvetica",o={text:"",fontSize:""},a=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" "),s=i,c=n.Appearance.internal.getHeight(t)||0;c=c<0?-c:c;var l=n.Appearance.internal.getWidth(t)||0;l=l<0?-l:l;s++;t:for(;;){var e="";s--;var u=n.internal.calculateFontSpace("3",s+"px",r).height,h=t.multiline?c-s:(c-u)/2,f=-2,d=h+=2,p=0,m=0,g=0;if(0==s){s=12,e="(...) Tj\n",e+="% Width of Text: "+n.internal.calculateFontSpace(e,"1px").width+", FieldWidth:"+l+"\n";break}g=n.internal.calculateFontSpace(a[0]+" ",s+"px",r).width;var w="",y=0;for(var v in a){w=" "==(w+=a[v]+" ").substr(w.length-1)?w.substr(0,w.length-1):w;var b=parseInt(v);g=n.internal.calculateFontSpace(w+" ",s+"px",r).width;var x=function(t,e,i){if(t+1<a.length){var o=e+" "+a[t+1];return n.internal.calculateFontSpace(o,i+"px",r).width<=l-4}return!1}(b,w,s),k=v>=a.length-1;if(!x||k){if(x||k){if(k)m=b;else if(t.multiline&&(u+2)*(y+2)+2>c)continue t}else{if(!t.multiline)continue t;if((u+2)*(y+2)+2>c)continue t;m=b}for(var _="",C=p;C<=m;C++)_+=a[C]+" ";switch(_=" "==_.substr(_.length-1)?_.substr(0,_.length-1):_,g=n.internal.calculateFontSpace(_,s+"px",r).width,t.Q){case 2:f=l-g-2;break;case 1:f=(l-g)/2;break;case 0:default:f=2}e+=f+" "+d+" Td\n",e+="("+_+") Tj\n",e+=-f+" 0 Td\n",d=-(s+2),g=0,p=m+1,y++,w=""}else w+=" "}break}return o.text=e,o.fontSize=s,o},n.internal.calculateAppearanceStream=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e="",r=t.V||t.DV,i=n.internal.calculateX(t,r);e+="/Tx BMC\nq\n/F1 "+i.fontSize+" Tf\n1 0 0 1 0 0 Tm\n",e+="BT\n",e+=i.text,e+="ET\n",e+="Q\nEMC\n";var o=new n.createFormXObject(t);return o.stream=e,o}},n.internal.calculateCoordinates=function(t,e,r,i){var o={};if(this.internal){var a=function(t){return t*this.internal.scaleFactor};Array.isArray(t)?(t[0]=n.scale(t[0]),t[1]=n.scale(t[1]),t[2]=n.scale(t[2]),t[3]=n.scale(t[3]),o.lowerLeft_X=t[0]||0,o.lowerLeft_Y=a.call(this,this.internal.pageSize.height)-t[3]-t[1]||0,o.upperRight_X=t[0]+t[2]||0,o.upperRight_Y=a.call(this,this.internal.pageSize.height)-t[1]||0):(t=n.scale(t),e=n.scale(e),r=n.scale(r),i=n.scale(i),o.lowerLeft_X=t||0,o.lowerLeft_Y=this.internal.pageSize.height-e||0,o.upperRight_X=t+r||0,o.upperRight_Y=this.internal.pageSize.height-e+i||0)}else Array.isArray(t)?(o.lowerLeft_X=t[0]||0,o.lowerLeft_Y=t[1]||0,o.upperRight_X=t[0]+t[2]||0,o.upperRight_Y=t[1]+t[3]||0):(o.lowerLeft_X=t||0,o.lowerLeft_Y=e||0,o.upperRight_X=t+r||0,o.upperRight_Y=e+i||0);return[o.lowerLeft_X,o.lowerLeft_Y,o.upperRight_X,o.upperRight_Y]},n.internal.calculateColor=function(t,e,n){var r=new Array(3);return r.r=0|t,r.g=0|e,r.b=0|n,r},n.internal.getBitPosition=function(t,e){var n=1;return n<<=e-1,(t=t||0)|n},n.internal.setBitPosition=function(t,e,n){t=t||0;var r=1;if(r<<=e-1,1==(n=n||1))t=t|r;else var t=t&~r;return t},e.API.addHTML=function(t,e,n,r,i){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof e&&(r=e,i=n),"function"==typeof r&&(i=r,r=null);var o=this.internal,a=o.scaleFactor,s=o.pageSize.width,c=o.pageSize.height;if(r=r||{},r.onrendered=function(t){e=parseInt(e)||0,n=parseInt(n)||0;var o=r.dim||{},l=o.h||0,u=o.w||Math.min(s,t.width/a)-e,h="JPEG";if(r.format&&(h=r.format),t.height>c&&r.pagesplit){var f=function(){for(var r=0;;){var o=document.createElement("canvas");o.width=Math.min(s*a,t.width),o.height=Math.min(c*a,t.height-r),o.getContext("2d").drawImage(t,0,r,t.width,o.height,0,0,o.width,o.height);var l=[o,e,r?0:n,o.width/a,o.height/a,h,null,"SLOW"];if(this.addImage.apply(this,l),(r+=o.height)>=t.height)break;this.addPage()}i(u,r,null,l)}.bind(this);if("CANVAS"===t.nodeName){var d=new Image;d.onload=f,d.src=t.toDataURL("image/png"),t=d}else f()}else{var p=Math.random().toString(35),m=[t,e,n,u,l,h,p,"SLOW"];this.addImage.apply(this,m),i(u,l,p,m)}}.bind(this),"undefined"!=typeof html2canvas&&!r.rstz)return html2canvas(t,r);if("undefined"!=typeof rasterizeHTML){var l="drawDocument";return"string"==typeof t&&(l=/^http/.test(t)?"drawURL":"drawHTML"),r.width=r.width||s*a,rasterizeHTML[l](t,void 0,r).then(function(t){r.onrendered(t.image)},function(t){i(null,t)})}return null},/** @preserve
 * jsPDF addImage plugin
 * Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/
 *               2013 Chris Dowling, https://github.com/gingerchris
 *               2013 Trinh Ho, https://github.com/ineedfat
 *               2013 Edwin Alejandro Perez, https://github.com/eaparango
 *               2013 Norah Smith, https://github.com/burnburnrocket
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 James Robb, https://github.com/jamesbrobb
 *
 * 
 */
function(e){var n=["jpeg","jpg","png"],r=function t(e){var n=this.internal.newObject(),r=this.internal.write,i=this.internal.putStream;if(e.n=n,r("<</Type /XObject"),r("/Subtype /Image"),r("/Width "+e.w),r("/Height "+e.h),e.cs===this.color_spaces.INDEXED?r("/ColorSpace [/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+("smask"in e?n+2:n+1)+" 0 R]"):(r("/ColorSpace /"+e.cs),e.cs===this.color_spaces.DEVICE_CMYK&&r("/Decode [1 0 1 0 1 0 1 0]")),r("/BitsPerComponent "+e.bpc),"f"in e&&r("/Filter /"+e.f),"dp"in e&&r("/DecodeParms <<"+e.dp+">>"),"trns"in e&&e.trns.constructor==Array){for(var o="",a=0,s=e.trns.length;a<s;a++)o+=e.trns[a]+" "+e.trns[a]+" ";r("/Mask ["+o+"]")}if("smask"in e&&r("/SMask "+(n+1)+" 0 R"),r("/Length "+e.data.length+">>"),i(e.data),r("endobj"),"smask"in e){var c="/Predictor "+e.p+" /Colors 1 /BitsPerComponent "+e.bpc+" /Columns "+e.w,l={w:e.w,h:e.h,cs:"DeviceGray",bpc:e.bpc,dp:c,data:e.smask};"f"in e&&(l.f=e.f),t.call(this,l)}e.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),r("<< /Length "+e.pal.length+">>"),i(this.arrayBufferToBinaryString(new Uint8Array(e.pal))),r("endobj"))},i=function(){var t=this.internal.collections.addImage_images;for(var e in t)r.call(this,t[e])},o=function(){var t,e=this.internal.collections.addImage_images,n=this.internal.write;for(var r in e)n("/I"+(t=e[r]).i,t.n,"0","R")},a=function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:e.image_compression.NONE},s=function(){var t=this.internal.collections.addImage_images;return t||(this.internal.collections.addImage_images=t={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o)),t},c=function(t){var e=0;return t&&(e=Object.keys?Object.keys(t).length:function(t){var e=0;for(var n in t)t.hasOwnProperty(n)&&e++;return e}(t)),e},l=function(t){return void 0===t||null===t},u=function(t){return"string"==typeof t&&e.sHashCode(t)},h=function(t){return-1===n.indexOf(t)},f=function(t){return"function"!=typeof e["process"+t.toUpperCase()]},d=function(e){return"object"===(void 0===e?"undefined":t(e))&&1===e.nodeType},p=function(e,n,r){if("IMG"===e.nodeName&&e.hasAttribute("src")){var i=""+e.getAttribute("src");if(!r&&0===i.indexOf("data:image/"))return i;!n&&/\.png(?:[?#].*)?$/i.test(i)&&(n="png")}if("CANVAS"===e.nodeName)var o=e;else{(o=document.createElement("canvas")).width=e.clientWidth||e.width,o.height=e.clientHeight||e.height;var a=o.getContext("2d");if(!a)throw"addImage requires canvas to be supported by browser.";if(r){var s,c,l,u,h,f,d,p,m=Math.PI/180;"object"===(void 0===r?"undefined":t(r))&&(s=r.x,c=r.y,l=r.bg,r=r.angle),p=r*m,u=Math.abs(Math.cos(p)),h=Math.abs(Math.sin(p)),f=o.width,d=o.height,o.width=d*h+f*u,o.height=d*u+f*h,isNaN(s)&&(s=o.width/2),isNaN(c)&&(c=o.height/2),a.clearRect(0,0,o.width,o.height),a.fillStyle=l||"white",a.fillRect(0,0,o.width,o.height),a.save(),a.translate(s,c),a.rotate(p),a.drawImage(e,-f/2,-d/2),a.rotate(-p),a.translate(-s,-c),a.restore()}else a.drawImage(e,0,0,o.width,o.height)}return o.toDataURL("png"==(""+n).toLowerCase()?"image/png":"image/jpeg")},m=function(t,e){var n;if(e)for(var r in e)if(t===e[r].alias){n=e[r];break}return n},g=function(t,e,n){return t||e||(t=-96,e=-96),t<0&&(t=-1*n.w*72/t/this.internal.scaleFactor),e<0&&(e=-1*n.h*72/e/this.internal.scaleFactor),0===t&&(t=e*n.w/n.h),0===e&&(e=t*n.h/n.w),[t,e]},w=function(t,e,n,r,i,o,a){var s=g.call(this,n,r,i),c=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;n=s[0],r=s[1],a[o]=i,this.internal.write("q",c(n),"0 0",c(r),c(t),l(e+r),"cm /I"+i.i,"Do Q")};e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},e.sHashCode=function(t){return Array.prototype.reduce&&t.split("").reduce(function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t},0)},e.isString=function(t){return"string"==typeof t},e.extractInfoFromBase64DataURI=function(t){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(t)},e.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},e.isArrayBuffer=function(t){return!!this.supportsArrayBuffer()&&t instanceof ArrayBuffer},e.isArrayBufferView=function(t){return!!this.supportsArrayBuffer()&&("undefined"!=typeof Uint32Array&&(t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array))},e.binaryStringToUint8Array=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n},e.arrayBufferToBinaryString=function(t){if("function"==typeof window.atob)return atob(this.arrayBufferToBase64(t));for(var e=this.isArrayBuffer(t)?t:new Uint8Array(t),n="",r=Math.round(e.byteLength/20480),i=0;i<r;i++)n+=String.fromCharCode.apply(null,e.slice(20480*i,20480*i+20480));return n},e.arrayBufferToBase64=function(t){for(var e,n,r,i,o="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=new Uint8Array(t),c=s.byteLength,l=c%3,u=c-l,h=0;h<u;h+=3)e=(258048&(i=s[h]<<16|s[h+1]<<8|s[h+2]))>>12,n=(4032&i)>>6,r=63&i,o+=a[(16515072&i)>>18]+a[e]+a[n]+a[r];return 1==l?(e=(3&(i=s[u]))<<4,o+=a[(252&i)>>2]+a[e]+"=="):2==l&&(e=(1008&(i=s[u]<<8|s[u+1]))>>4,n=(15&i)<<2,o+=a[(64512&i)>>10]+a[e]+a[n]+"="),o},e.createImageInfo=function(t,e,n,r,i,o,a,s,c,l,u,h,f){var d={alias:s,w:e,h:n,cs:r,bpc:i,i:a,data:t};return o&&(d.f=o),c&&(d.dp=c),l&&(d.trns=l),u&&(d.pal=u),h&&(d.smask=h),f&&(d.p=f),d},e.addImage=function(e,r,i,o,g,y,v,b,x){if("string"!=typeof r){var k=y;y=g,g=o,o=i,i=r,r=k}if("object"===(void 0===e?"undefined":t(e))&&!d(e)&&"imageData"in e){var _=e;e=_.imageData,r=_.format||r,i=_.x||i||0,o=_.y||o||0,g=_.w||g,y=_.h||y,v=_.alias||v,b=_.compression||b,x=_.rotation||_.angle||x}if(isNaN(i)||isNaN(o))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var C,A=s.call(this);if(!(C=m(e,A))){var S;if(d(e)&&(e=p(e,r,x)),l(v)&&(v=u(e)),!(C=m(v,A))){if(this.isString(e)){var q=this.extractInfoFromBase64DataURI(e);q?(r=q[2],e=atob(q[3])):137===e.charCodeAt(0)&&80===e.charCodeAt(1)&&78===e.charCodeAt(2)&&71===e.charCodeAt(3)&&(r="png")}if(r=(r||"JPEG").toLowerCase(),h(r))throw new Error("addImage currently only supports formats "+n+", not '"+r+"'");if(f(r))throw new Error("please ensure that the plugin for '"+r+"' support is added");if(this.supportsArrayBuffer()&&(e instanceof Uint8Array||(S=e,e=this.binaryStringToUint8Array(e))),!(C=this["process"+r.toUpperCase()](e,c(A),v,a(b),S)))throw new Error("An unkwown error occurred whilst processing the image")}}return w.call(this,i,o,g,y,C,C.i,A),this};var y=function(t){var e,n,r;if(255===!t.charCodeAt(0)||216===!t.charCodeAt(1)||255===!t.charCodeAt(2)||224===!t.charCodeAt(3)||!t.charCodeAt(6)==="J".charCodeAt(0)||!t.charCodeAt(7)==="F".charCodeAt(0)||!t.charCodeAt(8)==="I".charCodeAt(0)||!t.charCodeAt(9)==="F".charCodeAt(0)||0===!t.charCodeAt(10))throw new Error("getJpegSize requires a binary string jpeg file");for(var i=256*t.charCodeAt(4)+t.charCodeAt(5),o=4,a=t.length;o<a;){if(o+=i,255!==t.charCodeAt(o))throw new Error("getJpegSize could not find the size of the image");if(192===t.charCodeAt(o+1)||193===t.charCodeAt(o+1)||194===t.charCodeAt(o+1)||195===t.charCodeAt(o+1)||196===t.charCodeAt(o+1)||197===t.charCodeAt(o+1)||198===t.charCodeAt(o+1)||199===t.charCodeAt(o+1))return n=256*t.charCodeAt(o+5)+t.charCodeAt(o+6),e=256*t.charCodeAt(o+7)+t.charCodeAt(o+8),r=t.charCodeAt(o+9),[e,n,r];o+=2,i=256*t.charCodeAt(o)+t.charCodeAt(o+1)}},v=function(t){if(65496!==(t[0]<<8|t[1]))throw new Error("Supplied data is not a JPEG");for(var e,n,r,i,o=t.length,a=(t[4]<<8)+t[5],s=4;s<o;){if(s+=a,e=b(t,s),a=(e[2]<<8)+e[3],(192===e[1]||194===e[1])&&255===e[0]&&a>7)return e=b(t,s+5),n=(e[2]<<8)+e[3],r=(e[0]<<8)+e[1],i=e[4],{width:n,height:r,numcomponents:i};s+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")},b=function(t,e){return t.subarray(e,e+5)};e.processJPEG=function(t,e,n,r,i){var o,a=this.color_spaces.DEVICE_RGB,s=this.decode.DCT_DECODE;return this.isString(t)?(o=y(t),this.createImageInfo(t,o[0],o[1],1==o[3]?this.color_spaces.DEVICE_GRAY:a,8,s,e,n)):(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)?(o=v(t),t=i||this.arrayBufferToBinaryString(t),this.createImageInfo(t,o.width,o.height,1==o.numcomponents?this.color_spaces.DEVICE_GRAY:a,8,s,e,n)):null)},e.processJPG=function(){return this.processJPEG.apply(this,arguments)}}(e.API),/**
 * jsPDF Annotations PlugIn
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){var n={annotations:[],f2:function(t){return t.toFixed(2)},notEmpty:function(t){if(void 0!==t&&""!=t)return!0}};e.API.annotationPlugin=n,e.API.events.push(["addPage",function(t){this.annotationPlugin.annotations[t.pageNumber]=[]}]),t.events.push(["putPage",function(t){for(var e=this.annotationPlugin.annotations[t.pageNumber],r=!1,i=0;i<e.length&&!r;i++)switch((l=e[i]).type){case"link":if(n.notEmpty(l.options.url)||n.notEmpty(l.options.pageNumber)){r=!0;break}case"reference":case"text":case"freetext":r=!0}if(0!=r){this.internal.write("/Annots [");for(var o=this.annotationPlugin.f2,a=this.internal.scaleFactor,s=this.internal.pageSize.height,c=this.internal.getPageInfo(t.pageNumber),i=0;i<e.length;i++){var l=e[i];switch(l.type){case"reference":this.internal.write(" "+l.object.objId+" 0 R ");break;case"text":var u=this.internal.newAdditionalObject(),h=this.internal.newAdditionalObject(),f=l.title||"Note";w="<</Type /Annot /Subtype /Text "+(p="/Rect ["+o(l.bounds.x*a)+" "+o(s-(l.bounds.y+l.bounds.h)*a)+" "+o((l.bounds.x+l.bounds.w)*a)+" "+o((s-l.bounds.y)*a)+"] ")+"/Contents ("+l.contents+")",w+=" /Popup "+h.objId+" 0 R",w+=" /P "+c.objId+" 0 R",w+=" /T ("+f+") >>",u.content=w;var d=u.objId+" 0 R";w="<</Type /Annot /Subtype /Popup "+(p="/Rect ["+o((l.bounds.x+30)*a)+" "+o(s-(l.bounds.y+l.bounds.h)*a)+" "+o((l.bounds.x+l.bounds.w+30)*a)+" "+o((s-l.bounds.y)*a)+"] ")+" /Parent "+d,l.open&&(w+=" /Open true"),w+=" >>",h.content=w,this.internal.write(u.objId,"0 R",h.objId,"0 R");break;case"freetext":var p="/Rect ["+o(l.bounds.x*a)+" "+o((s-l.bounds.y)*a)+" "+o(l.bounds.x+l.bounds.w*a)+" "+o(s-(l.bounds.y+l.bounds.h)*a)+"] ",m=l.color||"#000000";w="<</Type /Annot /Subtype /FreeText "+p+"/Contents ("+l.contents+")",w+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+m+")",w+=" /Border [0 0 0]",w+=" >>",this.internal.write(w);break;case"link":if(l.options.name){var g=this.annotations._nameMap[l.options.name];l.options.pageNumber=g.page,l.options.top=g.y}else l.options.top||(l.options.top=0);var p="/Rect ["+o(l.x*a)+" "+o((s-l.y)*a)+" "+o((l.x+l.w)*a)+" "+o((s-(l.y+l.h))*a)+"] ",w="";if(l.options.url)w="<</Type /Annot /Subtype /Link "+p+"/Border [0 0 0] /A <</S /URI /URI ("+l.options.url+") >>";else if(l.options.pageNumber)switch(w="<</Type /Annot /Subtype /Link "+p+"/Border [0 0 0] /Dest ["+(t=this.internal.getPageInfo(l.options.pageNumber)).objId+" 0 R",l.options.magFactor=l.options.magFactor||"XYZ",l.options.magFactor){case"Fit":w+=" /Fit]";break;case"FitH":w+=" /FitH "+l.options.top+"]";break;case"FitV":l.options.left=l.options.left||0,w+=" /FitV "+l.options.left+"]";break;case"XYZ":default:var y=o((s-l.options.top)*a);l.options.left=l.options.left||0,void 0===l.options.zoom&&(l.options.zoom=0),w+=" /XYZ "+l.options.left+" "+y+" "+l.options.zoom+"]"}""!=w&&(w+=" >>",this.internal.write(w))}}this.internal.write("]")}}]),t.createAnnotation=function(t){switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push(t)}},t.link=function(t,e,n,r,i){this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({x:t,y:e,w:n,h:r,options:i,type:"link"})},t.textWithLink=function(t,e,n,r){var i=this.getTextWidth(t),o=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(t,e,n),n+=.2*o,this.link(e,n-o,i,o,r),i},t.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor},t.getLineHeight=function(){return this.internal.getLineHeight()}}(e.API),e.API.autoPrint=function(){var t;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+t+" 0 R")}),this},/**
 * jsPDF Canvas PlugIn
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){t.events.push(["initialized",function(){this.canvas.pdf=this}]),t.canvas={getContext:function(t){return this.pdf.context2d._canvas=this,this.pdf.context2d},style:{}},Object.defineProperty(t.canvas,"width",{get:function(){return this._width},set:function(t){this._width=t,this.getContext("2d").pageWrapX=t+1}}),Object.defineProperty(t.canvas,"height",{get:function(){return this._height},set:function(t){this._height=t,this.getContext("2d").pageWrapY=t+1}})}(e.API),/** ====================================================================
 * jsPDF Cell plugin
 * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
 *               2013 Eduardo Menezes de Morais, eduardo.morais@usp.br
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Hall, james@parall.ax
 *               2014 Diego Casorran, https://github.com/diegocr
 *
 * 
 * ====================================================================
 */
function(t){var e,n,r,i,o={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1,s=function(t,e,n,r,i){o={x:t,y:e,w:n,h:r,ln:i}},c=function(){return o},l={left:0,top:0,bottom:0};t.setHeaderFunction=function(t){i=t},t.getTextDimensions=function(t){e=this.internal.getFont().fontName,n=this.table_font_size||this.internal.getFontSize(),r=this.internal.getFont().fontStyle;var i,o;(o=document.createElement("font")).id="jsPDFCell";try{o.style.fontStyle=r}catch(t){o.style.fontWeight=r}o.style.fontName=e,o.style.fontSize=n+"pt";try{o.textContent=t}catch(e){o.innerText=t}return document.body.appendChild(o),i={w:(o.offsetWidth+1)*(19.049976/25.4),h:(o.offsetHeight+1)*(19.049976/25.4)},document.body.removeChild(o),i},t.cellAddPage=function(){var t=this.margins||l;this.addPage(),s(t.left,t.top,void 0,void 0),a+=1},t.cellInitialize=function(){o={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1},t.cell=function(t,e,n,r,i,o,a){var u=c(),h=!1;if(void 0!==u.ln)if(u.ln===o)t=u.x+u.w,e=u.y;else{var f=this.margins||l;u.y+u.h+r+13>=this.internal.pageSize.height-f.bottom&&(this.cellAddPage(),h=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(o,!0)),e=c().y+c().h,h&&(e=23)}if(void 0!==i[0])if(this.printingHeaderRow?this.rect(t,e,n,r,"FD"):this.rect(t,e,n,r),"right"===a){i instanceof Array||(i=[i]);for(var d=0;d<i.length;d++){var p=i[d],m=this.getStringUnitWidth(p)*this.internal.getFontSize();this.text(p,t+n-m-3,e+this.internal.getLineHeight()*(d+1))}}else this.text(i,t+3,e+this.internal.getLineHeight());return s(t,e,n,r,o),this},t.arrayMax=function(t,e){var n,r,i,o=t[0];for(n=0,r=t.length;n<r;n+=1)i=t[n],e?-1===e(o,i)&&(o=i):i>o&&(o=i);return o},t.table=function(e,n,r,i,s){if(!r)throw"No data for PDF table";var c,u,h,f,d,p,m,g,w,y,v=[],b=[],x={},k={},_=[],C=[],A=!1,S=!0,q=12,T=l;if(T.width=this.internal.pageSize.width,s&&(!0===s.autoSize&&(A=!0),!1===s.printHeaders&&(S=!1),s.fontSize&&(q=s.fontSize),s.css&&void 0!==s.css["font-size"]&&(q=16*s.css["font-size"]),s.margins&&(T=s.margins)),this.lnMod=0,o={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1,this.printHeaders=S,this.margins=T,this.setFontSize(q),this.table_font_size=q,void 0===i||null===i)v=Object.keys(r[0]);else if(i[0]&&"string"!=typeof i[0]){for(u=0,h=i.length;u<h;u+=1)c=i[u],v.push(c.name),b.push(c.prompt),k[c.name]=c.width*(19.049976/25.4)}else v=i;if(A)for(y=function(t){return t[c]},u=0,h=v.length;u<h;u+=1){for(x[c=v[u]]=r.map(y),_.push(this.getTextDimensions(b[u]||c).w),m=0,f=(p=x[c]).length;m<f;m+=1)d=p[m],_.push(this.getTextDimensions(d).w);k[c]=t.arrayMax(_),_=[]}if(S){P=this.calculateLineHeight(v,k,b.length?b:v);for(u=0,h=v.length;u<h;u+=1)c=v[u],C.push([e,n,k[c],P,String(b.length?b[u]:c)]);this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}for(u=0,h=r.length;u<h;u+=1){var P;for(g=r[u],P=this.calculateLineHeight(v,k,g),m=0,w=v.length;m<w;m+=1)c=v[m],this.cell(e,n,k[c],P,g[c],u+2,c.align)}return this.lastCellPos=o,this.table_x=e,this.table_y=n,this},t.calculateLineHeight=function(t,e,n){for(var r,i=0,o=0;o<t.length;o++){n[r=t[o]]=this.splitTextToSize(String(n[r]),e[r]-3);var a=this.internal.getLineHeight()*n[r].length+3;a>i&&(i=a)}return i},t.setTableHeaderRow=function(t){this.tableHeaderRow=t},t.printHeaderRow=function(t,e){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var n,r,o,c;if(this.printingHeaderRow=!0,void 0!==i){var l=i(this,a);s(l[0],l[1],l[2],l[3],-1)}this.setFontStyle("bold");var u=[];for(o=0,c=this.tableHeaderRow.length;o<c;o+=1)this.setFillColor(200,200,200),n=this.tableHeaderRow[o],e&&(this.margins.top=13,n[1]=this.margins&&this.margins.top||0,u.push(n)),r=[].concat(n),this.cell.apply(this,r.concat(t));u.length>0&&this.setTableHeaderRow(u),this.setFontStyle("normal"),this.printingHeaderRow=!1}}(e.API),/**
 * jsPDF Context2D PlugIn Copyright (c) 2014 Steven Spungin (TwelveTone LLC) steven@twelvetone.tv
 *
 * Licensed under the MIT License. http://opensource.org/licenses/mit-license
 */
function(t){function e(){this._isStrokeTransparent=!1,this._strokeOpacity=1,this.strokeStyle="#000000",this.fillStyle="#000000",this._isFillTransparent=!1,this._fillOpacity=1,this.font="12pt times",this.textBaseline="alphabetic",this.textAlign="start",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this._transform=[1,0,0,1,0,0],this.globalCompositeOperation="normal",this.globalAlpha=1,this._clip_path=[],this.ignoreClearRect=!1,this.copy=function(t){this._isStrokeTransparent=t._isStrokeTransparent,this._strokeOpacity=t._strokeOpacity,this.strokeStyle=t.strokeStyle,this._isFillTransparent=t._isFillTransparent,this._fillOpacity=t._fillOpacity,this.fillStyle=t.fillStyle,this.font=t.font,this.lineWidth=t.lineWidth,this.lineJoin=t.lineJoin,this.lineCap=t.lineCap,this.textBaseline=t.textBaseline,this.textAlign=t.textAlign,this._fontSize=t._fontSize,this._transform=t._transform.slice(0),this.globalCompositeOperation=t.globalCompositeOperation,this.globalAlpha=t.globalAlpha,this._clip_path=t._clip_path.slice(0),this.ignoreClearRect=t.ignoreClearRect}}t.events.push(["initialized",function(){this.context2d.pdf=this,this.context2d.internal.pdf=this,this.context2d.ctx=new e,this.context2d.ctxStack=[],this.context2d.path=[]}]),t.context2d={pageWrapXEnabled:!1,pageWrapYEnabled:!1,pageWrapX:9999999,pageWrapY:9999999,ctx:new e,f2:function(t){return t.toFixed(2)},fillRect:function(t,e,n,r){if(!this._isFillTransparent()){t=this._wrapX(t),e=this._wrapY(e);var i=this._matrix_map_rect(this.ctx._transform,{x:t,y:e,w:n,h:r});this.pdf.rect(i.x,i.y,i.w,i.h,"f")}},strokeRect:function(t,e,n,r){if(!this._isStrokeTransparent()){t=this._wrapX(t),e=this._wrapY(e);var i=this._matrix_map_rect(this.ctx._transform,{x:t,y:e,w:n,h:r});this.pdf.rect(i.x,i.y,i.w,i.h,"s")}},clearRect:function(t,e,n,r){if(!this.ctx.ignoreClearRect){t=this._wrapX(t),e=this._wrapY(e);var i=this._matrix_map_rect(this.ctx._transform,{x:t,y:e,w:n,h:r});this.save(),this.setFillStyle("#ffffff"),this.pdf.rect(i.x,i.y,i.w,i.h,"f"),this.restore()}},save:function(){this.ctx._fontSize=this.pdf.internal.getFontSize();var t=new e;t.copy(this.ctx),this.ctxStack.push(this.ctx),this.ctx=t},restore:function(){this.ctx=this.ctxStack.pop(),this.setFillStyle(this.ctx.fillStyle),this.setStrokeStyle(this.ctx.strokeStyle),this.setFont(this.ctx.font),this.pdf.setFontSize(this.ctx._fontSize),this.setLineCap(this.ctx.lineCap),this.setLineWidth(this.ctx.lineWidth),this.setLineJoin(this.ctx.lineJoin)},rect:function(t,e,n,r){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.lineTo(t,e),this.closePath()},beginPath:function(){this.path=[]},closePath:function(){this.path.push({type:"close"})},_getRGBA:function(t){var e,n,r,o;if(!t)return{r:0,g:0,b:0,a:0,style:t};if(this.internal.rxTransparent.test(t))e=0,n=0,r=0,o=0;else{var a=this.internal.rxRgb.exec(t);null!=a?(e=parseInt(a[1]),n=parseInt(a[2]),r=parseInt(a[3]),o=1):null!=(a=this.internal.rxRgba.exec(t))?(e=parseInt(a[1]),n=parseInt(a[2]),r=parseInt(a[3]),o=parseFloat(a[4])):(o=1,"#"!=t.charAt(0)&&((t=i.colorNameToHex(t))||(t="#000000")),4===t.length?(e=t.substring(1,2),e+=e,n=t.substring(2,3),n+=n,r=t.substring(3,4),r+=r):(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7)),e=parseInt(e,16),n=parseInt(n,16),r=parseInt(r,16))}return{r:e,g:n,b:r,a:o,style:t}},setFillStyle:function(t){var e=this._getRGBA(t);this.ctx.fillStyle=t,this.ctx._isFillTransparent=0===e.a,this.ctx._fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})},setStrokeStyle:function(t){var e=this._getRGBA(t);this.ctx.strokeStyle=e.style,this.ctx._isStrokeTransparent=0===e.a,this.ctx._strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):(e.a,this.pdf.setDrawColor(e.r,e.g,e.b))},fillText:function(t,e,n,r){if(!this._isFillTransparent()){e=this._wrapX(e),n=this._wrapY(n);var i=this._matrix_map_point(this.ctx._transform,[e,n]);e=i[0],n=i[1];var o=57.2958*this._matrix_rotation(this.ctx._transform);if(this.ctx._clip_path.length>0){var a;(a=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var s=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(null,!0),this.ctx._clip_path=this.path,this.path=s}var c=1;try{c=this._matrix_decompose(this._getTransform()).scale[0]}catch(t){console.warn(t)}if(c<.01)this.pdf.text(t,e,this._getBaseline(n),null,o);else{var l=this.pdf.internal.getFontSize();this.pdf.setFontSize(l*c),this.pdf.text(t,e,this._getBaseline(n),null,o),this.pdf.setFontSize(l)}this.ctx._clip_path.length>0&&a.push("Q")}},strokeText:function(t,e,n,r){if(!this._isStrokeTransparent()){e=this._wrapX(e),n=this._wrapY(n);var i=this._matrix_map_point(this.ctx._transform,[e,n]);e=i[0],n=i[1];var o=57.2958*this._matrix_rotation(this.ctx._transform);if(this.ctx._clip_path.length>0){var a;(a=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var s=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(null,!0),this.ctx._clip_path=this.path,this.path=s}var c=1;try{c=this._matrix_decompose(this._getTransform()).scale[0]}catch(t){console.warn(t)}if(1===c)this.pdf.text(t,e,this._getBaseline(n),{stroke:!0},o);else{var l=this.pdf.internal.getFontSize();this.pdf.setFontSize(l*c),this.pdf.text(t,e,this._getBaseline(n),{stroke:!0},o),this.pdf.setFontSize(l)}this.ctx._clip_path.length>0&&a.push("Q")}},setFont:function(t){this.ctx.font=t;var e=/\s*(\w+)\s+(\w+)\s+(\w+)\s+([\d\.]+)(px|pt|em)\s+(.*)?/;if(null!=(u=e.exec(t))){var n=u[1],r=u[3],i=u[4],o=u[5],a=u[6];i="px"===o?Math.floor(parseFloat(i)):"em"===o?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)),this.pdf.setFontSize(i),"bold"===r||"700"===r?this.pdf.setFontStyle("bold"):"italic"===n?this.pdf.setFontStyle("italic"):this.pdf.setFontStyle("normal");var s,c=(f=a).toLowerCase().split(/\s*,\s*/);s=-1!=c.indexOf("arial")?"Arial":-1!=c.indexOf("verdana")?"Verdana":-1!=c.indexOf("helvetica")?"Helvetica":-1!=c.indexOf("sans-serif")?"sans-serif":-1!=c.indexOf("fixed")?"Fixed":-1!=c.indexOf("monospace")?"Monospace":-1!=c.indexOf("terminal")?"Terminal":-1!=c.indexOf("courier")?"Courier":-1!=c.indexOf("times")?"Times":-1!=c.indexOf("cursive")?"Cursive":-1!=c.indexOf("fantasy")?"Fantasy":(c.indexOf("serif"),"Serif");var l;l="bold"===r?"bold":"normal",this.pdf.setFont(s,l)}else{var u=(e=/\s*(\d+)(pt|px|em)\s+([\w "]+)\s*([\w "]+)?/).exec(t);if(null!=u){var h=u[1],f=u[3];(l=u[4])||(l="normal"),h="em"===o?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(h)),this.pdf.setFontSize(h),this.pdf.setFont(f,l)}}},setTextBaseline:function(t){this.ctx.textBaseline=t},getTextBaseline:function(){return this.ctx.textBaseline},setTextAlign:function(t){this.ctx.textAlign=t},getTextAlign:function(){return this.ctx.textAlign},setLineWidth:function(t){this.ctx.lineWidth=t,this.pdf.setLineWidth(t)},setLineCap:function(t){this.ctx.lineCap=t,this.pdf.setLineCap(t)},setLineJoin:function(t){this.ctx.lineJoin=t,this.pdf.setLineJoin(t)},moveTo:function(t,e){t=this._wrapX(t),e=this._wrapY(e);var n=this._matrix_map_point(this.ctx._transform,[t,e]),r={type:"mt",x:t=n[0],y:e=n[1]};this.path.push(r)},_wrapX:function(t){return this.pageWrapXEnabled?t%this.pageWrapX:t},_wrapY:function(t){return this.pageWrapYEnabled?(this._gotoPage(this._page(t)),(t-this.lastBreak)%this.pageWrapY):t},transform:function(t,e,n,r,i,o){this.ctx._transform=[t,e,n,r,i,o]},setTransform:function(t,e,n,r,i,o){this.ctx._transform=[t,e,n,r,i,o]},_getTransform:function(){return this.ctx._transform},lastBreak:0,pageBreaks:[],_page:function(t){if(this.pageWrapYEnabled){this.lastBreak=0;for(var e=0,n=0,r=0;r<this.pageBreaks.length;r++)if(t>=this.pageBreaks[r]){e++,0===this.lastBreak&&n++;var i=this.pageBreaks[r]-this.lastBreak;this.lastBreak=this.pageBreaks[r],n+=o=Math.floor(i/this.pageWrapY)}if(0===this.lastBreak){var o=Math.floor(t/this.pageWrapY)+1;n+=o}return n+e}return this.pdf.internal.getCurrentPageInfo().pageNumber},_gotoPage:function(t){},lineTo:function(t,e){t=this._wrapX(t),e=this._wrapY(e);var n=this._matrix_map_point(this.ctx._transform,[t,e]),r={type:"lt",x:t=n[0],y:e=n[1]};this.path.push(r)},bezierCurveTo:function(t,e,n,r,i,o){t=this._wrapX(t),e=this._wrapY(e),n=this._wrapX(n),r=this._wrapY(r),i=this._wrapX(i),o=this._wrapY(o);var a;i=(a=this._matrix_map_point(this.ctx._transform,[i,o]))[0],o=a[1];var s={type:"bct",x1:t=(a=this._matrix_map_point(this.ctx._transform,[t,e]))[0],y1:e=a[1],x2:n=(a=this._matrix_map_point(this.ctx._transform,[n,r]))[0],y2:r=a[1],x:i,y:o};this.path.push(s)},quadraticCurveTo:function(t,e,n,r){t=this._wrapX(t),e=this._wrapY(e),n=this._wrapX(n),r=this._wrapY(r);var i;n=(i=this._matrix_map_point(this.ctx._transform,[n,r]))[0],r=i[1];var o={type:"qct",x1:t=(i=this._matrix_map_point(this.ctx._transform,[t,e]))[0],y1:e=i[1],x:n,y:r};this.path.push(o)},arc:function(t,e,n,r,i,o){if(t=this._wrapX(t),e=this._wrapY(e),!this._matrix_is_identity(this.ctx._transform)){var a=this._matrix_map_point(this.ctx._transform,[t,e]);t=a[0],e=a[1];var s=this._matrix_map_point(this.ctx._transform,[0,0]),c=this._matrix_map_point(this.ctx._transform,[0,n]);n=Math.sqrt(Math.pow(c[0]-s[0],2)+Math.pow(c[1]-s[1],2))}var l={type:"arc",x:t,y:e,radius:n,startAngle:r,endAngle:i,anticlockwise:o};this.path.push(l)},drawImage:function(t,e,n,r,i,o,a,s,c){void 0!==o&&(e=o,n=a,r=s,i=c),e=this._wrapX(e),n=this._wrapY(n);var l,u=this._matrix_map_rect(this.ctx._transform,{x:e,y:n,w:r,h:i}),h=(this._matrix_map_rect(this.ctx._transform,{x:o,y:a,w:s,h:c}),/data:image\/(\w+).*/i.exec(t));l=null!=h?h[1]:"png",this.pdf.addImage(t,l,u.x,u.y,u.w,u.h)},_matrix_multiply:function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],c=n*t[0]+r*t[2],l=i*t[0]+o*t[2],u=a*t[0]+s*t[2]+t[4];return r=n*t[1]+r*t[3],o=i*t[1]+o*t[3],s=a*t[1]+s*t[3]+t[5],n=c,i=l,a=u,[n,r,i,o,a,s]},_matrix_rotation:function(t){return Math.atan2(t[2],t[0])},_matrix_decompose:function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=Math.sqrt(e*e+n*n),a=(e/=o)*r+(n/=o)*i;r-=e*a,i-=n*a;var s=Math.sqrt(r*r+i*i);return r/=s,i/=s,a/=s,e*i<n*r&&(e=-e,n=-n,a=-a,o=-o),{scale:[o,0,0,s,0,0],translate:[1,0,0,1,t[4],t[5]],rotate:[e,n,-n,e,0,0],skew:[1,0,a,1,0,0]}},_matrix_map_point:function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],c=e[0],l=e[1];return[c*n+l*i+a,c*r+l*o+s]},_matrix_map_point_obj:function(t,e){var n=this._matrix_map_point(t,[e.x,e.y]);return{x:n[0],y:n[1]}},_matrix_map_rect:function(t,e){var n=this._matrix_map_point(t,[e.x,e.y]),r=this._matrix_map_point(t,[e.x+e.w,e.y+e.h]);return{x:n[0],y:n[1],w:r[0]-n[0],h:r[1]-n[1]}},_matrix_is_identity:function(t){return 1==t[0]&&(0==t[1]&&(0==t[2]&&(1==t[3]&&(0==t[4]&&0==t[5]))))},rotate:function(t){var e=[Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0];this.ctx._transform=this._matrix_multiply(this.ctx._transform,e)},scale:function(t,e){var n=[t,0,0,e,0,0];this.ctx._transform=this._matrix_multiply(this.ctx._transform,n)},translate:function(t,e){var n=[1,0,0,1,t,e];this.ctx._transform=this._matrix_multiply(this.ctx._transform,n)},stroke:function(){if(this.ctx._clip_path.length>0){var t;(t=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var e=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._stroke(!0),this.ctx._clip_path=this.path,this.path=e,this._stroke(!1),t.push("Q")}else this._stroke(!1)},_stroke:function(t){if(t||!this._isStrokeTransparent()){for(var e=[],n=this.path,r=0;r<n.length;r++){var i=n[r];switch(i.type){case"mt":e.push({start:i,deltas:[],abs:[]});break;case"lt":h=[i.x-n[r-1].x,i.y-n[r-1].y];e[e.length-1].deltas.push(h),e[e.length-1].abs.push(i);break;case"bct":h=[i.x1-n[r-1].x,i.y1-n[r-1].y,i.x2-n[r-1].x,i.y2-n[r-1].y,i.x-n[r-1].x,i.y-n[r-1].y];e[e.length-1].deltas.push(h);break;case"qct":var o=n[r-1].x+2/3*(i.x1-n[r-1].x),a=n[r-1].y+2/3*(i.y1-n[r-1].y),s=i.x+2/3*(i.x1-i.x),c=i.y+2/3*(i.y1-i.y),l=i.x,u=i.y,h=[o-n[r-1].x,a-n[r-1].y,s-n[r-1].x,c-n[r-1].y,l-n[r-1].x,u-n[r-1].y];e[e.length-1].deltas.push(h);break;case"arc":0==e.length&&e.push({start:{x:0,y:0},deltas:[],abs:[]}),e[e.length-1].arc=!0,e[e.length-1].abs.push(i)}}for(r=0;r<e.length;r++){var f;if(f=r==e.length-1?"s":null,e[r].arc)for(var d=e[r].abs,p=0;p<d.length;p++){var m=d[p],g=360*m.startAngle/(2*Math.PI),w=360*m.endAngle/(2*Math.PI),y=m.x,v=m.y;this.internal.arc2(this,y,v,m.radius,g,w,m.anticlockwise,f,t)}else{var y=e[r].start.x,v=e[r].start.y;t?(this.pdf.lines(e[r].deltas,y,v,null,null),this.pdf.clip_fixed()):this.pdf.lines(e[r].deltas,y,v,null,f)}}}},_isFillTransparent:function(){return this.ctx._isFillTransparent||0==this.globalAlpha},_isStrokeTransparent:function(){return this.ctx._isStrokeTransparent||0==this.globalAlpha},fill:function(t){if(this.ctx._clip_path.length>0){var e;(e=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage()).push("q");var n=this.path;this.path=this.ctx._clip_path,this.ctx._clip_path=[],this._fill(t,!0),this.ctx._clip_path=this.path,this.path=n,this._fill(t,!1),e.push("Q")}else this._fill(t,!1)},_fill:function(t,e){if(!this._isFillTransparent()){var r,i="function"==typeof this.pdf.internal.newObject2;r=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();var o=[],a=window.outIntercept;if(i)switch(this.ctx.globalCompositeOperation){case"normal":case"source-over":break;case"destination-in":case"destination-out":var s=this.pdf.internal.newStreamObject(),c=this.pdf.internal.newObject2();c.push("<</Type /ExtGState"),c.push("/SMask <</S /Alpha /G "+s.objId+" 0 R>>"),c.push(">>");d="MASK"+c.objId;this.pdf.internal.addGraphicsState(d,c.objId);var l="/"+d+" gs";r.splice(0,0,"q"),r.splice(1,0,l),r.push("Q"),window.outIntercept=s;break;default:var u="/"+this.pdf.internal.blendModeMap[this.ctx.globalCompositeOperation.toUpperCase()];u&&this.pdf.internal.out(u+" gs")}var h=this.ctx.globalAlpha;if(this.ctx._fillOpacity<1&&(h=this.ctx._fillOpacity),i){var f=this.pdf.internal.newObject2();f.push("<</Type /ExtGState"),f.push("/CA "+h),f.push("/ca "+h),f.push(">>");var d="GS_O_"+f.objId;this.pdf.internal.addGraphicsState(d,f.objId),this.pdf.internal.out("/"+d+" gs")}for(var p=this.path,m=0;m<p.length;m++){var g=p[m];switch(g.type){case"mt":o.push({start:g,deltas:[],abs:[]});break;case"lt":_=[g.x-p[m-1].x,g.y-p[m-1].y];o[o.length-1].deltas.push(_),o[o.length-1].abs.push(g);break;case"bct":_=[g.x1-p[m-1].x,g.y1-p[m-1].y,g.x2-p[m-1].x,g.y2-p[m-1].y,g.x-p[m-1].x,g.y-p[m-1].y];o[o.length-1].deltas.push(_);break;case"qct":var w=p[m-1].x+2/3*(g.x1-p[m-1].x),y=p[m-1].y+2/3*(g.y1-p[m-1].y),v=g.x+2/3*(g.x1-g.x),b=g.y+2/3*(g.y1-g.y),x=g.x,k=g.y,_=[w-p[m-1].x,y-p[m-1].y,v-p[m-1].x,b-p[m-1].y,x-p[m-1].x,k-p[m-1].y];o[o.length-1].deltas.push(_);break;case"arc":0===o.length&&o.push({deltas:[],abs:[]}),o[o.length-1].arc=!0,o[o.length-1].abs.push(g);break;case"close":o.push({close:!0})}}for(m=0;m<o.length;m++){var C;if(m==o.length-1?(C="f","evenodd"===t&&(C+="*")):C=null,o[m].close)this.pdf.internal.out("h"),this.pdf.internal.out("f");else if(o[m].arc){o[m].start&&this.internal.move2(this,o[m].start.x,o[m].start.y);for(var A=o[m].abs,S=0;S<A.length;S++){var q=A[S];if(void 0!==q.startAngle){var T=360*q.startAngle/(2*Math.PI),P=360*q.endAngle/(2*Math.PI),I=q.x,E=q.y;if(0===S&&this.internal.move2(this,I,E),this.internal.arc2(this,I,E,q.radius,T,P,q.anticlockwise,null,e),S===A.length-1&&o[m].start){var I=o[m].start.x,E=o[m].start.y;this.internal.line2(n,I,E)}}else this.internal.line2(n,q.x,q.y)}}else{var I=o[m].start.x,E=o[m].start.y;e?(this.pdf.lines(o[m].deltas,I,E,null,null),this.pdf.clip_fixed()):this.pdf.lines(o[m].deltas,I,E,null,C)}}window.outIntercept=a}},pushMask:function(){if("function"==typeof this.pdf.internal.newObject2){var t=this.pdf.internal.newStreamObject(),e=this.pdf.internal.newObject2();e.push("<</Type /ExtGState"),e.push("/SMask <</S /Alpha /G "+t.objId+" 0 R>>"),e.push(">>");var n="MASK"+e.objId;this.pdf.internal.addGraphicsState(n,e.objId);var r="/"+n+" gs";this.pdf.internal.out(r)}else console.log("jsPDF v2 not enabled")},clip:function(){if(this.ctx._clip_path.length>0)for(var t=0;t<this.path.length;t++)this.ctx._clip_path.push(this.path[t]);else this.ctx._clip_path=this.path;this.path=[]},measureText:function(t){var e=this.pdf;return{getWidth:function(){var n=e.internal.getFontSize(),r=e.getStringUnitWidth(t)*n/e.internal.scaleFactor;return r*=1.3333},get width(){return this.getWidth(t)}}},_getBaseline:function(t){var e=parseInt(this.pdf.internal.getFontSize()),n=.25*e;switch(this.ctx.textBaseline){case"bottom":return t-n;case"top":return t+e;case"hanging":return t+e-n;case"middle":return t+e/2-n;case"ideographic":return t;case"alphabetic":default:return t}}};var n=t.context2d;Object.defineProperty(n,"fillStyle",{set:function(t){this.setFillStyle(t)},get:function(){return this.ctx.fillStyle}}),Object.defineProperty(n,"strokeStyle",{set:function(t){this.setStrokeStyle(t)},get:function(){return this.ctx.strokeStyle}}),Object.defineProperty(n,"lineWidth",{set:function(t){this.setLineWidth(t)},get:function(){return this.ctx.lineWidth}}),Object.defineProperty(n,"lineCap",{set:function(t){this.setLineCap(t)},get:function(){return this.ctx.lineCap}}),Object.defineProperty(n,"lineJoin",{set:function(t){this.setLineJoin(t)},get:function(){return this.ctx.lineJoin}}),Object.defineProperty(n,"miterLimit",{set:function(t){this.ctx.miterLimit=t},get:function(){return this.ctx.miterLimit}}),Object.defineProperty(n,"textBaseline",{set:function(t){this.setTextBaseline(t)},get:function(){return this.getTextBaseline()}}),Object.defineProperty(n,"textAlign",{set:function(t){this.setTextAlign(t)},get:function(){return this.getTextAlign()}}),Object.defineProperty(n,"font",{set:function(t){this.setFont(t)},get:function(){return this.ctx.font}}),Object.defineProperty(n,"globalCompositeOperation",{set:function(t){this.ctx.globalCompositeOperation=t},get:function(){return this.ctx.globalCompositeOperation}}),Object.defineProperty(n,"globalAlpha",{set:function(t){this.ctx.globalAlpha=t},get:function(){return this.ctx.globalAlpha}}),Object.defineProperty(n,"ignoreClearRect",{set:function(t){this.ctx.ignoreClearRect=t},get:function(){return this.ctx.ignoreClearRect}}),n.internal={},n.internal.rxRgb=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,n.internal.rxRgba=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/,n.internal.rxTransparent=/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/,n.internal.arc=function(t,e,n,r,i,o,a,s){for(var c=this.pdf.internal.scaleFactor,l=this.pdf.internal.pageSize.height,u=this.pdf.internal.f2,h=i*(Math.PI/180),f=o*(Math.PI/180),d=this.createArc(r,h,f,a),p=0;p<d.length;p++){var m=d[p];0===p?this.pdf.internal.out([u((m.x1+e)*c),u((l-(m.y1+n))*c),"m",u((m.x2+e)*c),u((l-(m.y2+n))*c),u((m.x3+e)*c),u((l-(m.y3+n))*c),u((m.x4+e)*c),u((l-(m.y4+n))*c),"c"].join(" ")):this.pdf.internal.out([u((m.x2+e)*c),u((l-(m.y2+n))*c),u((m.x3+e)*c),u((l-(m.y3+n))*c),u((m.x4+e)*c),u((l-(m.y4+n))*c),"c"].join(" ")),t._lastPoint={x:e,y:n}}null!==s&&this.pdf.internal.out(this.pdf.internal.getStyle(s))},n.internal.arc2=function(t,e,n,r,i,o,a,s,c){var l=e,u=n;c?(this.arc(t,l,u,r,i,o,a,null),this.pdf.clip_fixed()):this.arc(t,l,u,r,i,o,a,s)},n.internal.move2=function(t,e,n){var r=this.pdf.internal.scaleFactor,i=this.pdf.internal.pageSize.height,o=this.pdf.internal.f2;this.pdf.internal.out([o(e*r),o((i-n)*r),"m"].join(" ")),t._lastPoint={x:e,y:n}},n.internal.line2=function(t,e,n){var r=this.pdf.internal.scaleFactor,i=this.pdf.internal.pageSize.height,o=this.pdf.internal.f2,a={x:e,y:n};this.pdf.internal.out([o(a.x*r),o((i-a.y)*r),"l"].join(" ")),t._lastPoint=a},n.internal.createArc=function(t,e,n,r){var i=2*Math.PI,o=Math.PI/2,a=e;for((a<i||a>i)&&(a%=i),a<0&&(a=i+a);e>n;)e-=i;var s=Math.abs(n-e);s<i&&r&&(s=i-s);for(var c=[],l=r?-1:1,u=a;s>1e-5;){var h=u+l*Math.min(s,o);c.push(this.createSmallArc(t,u,h)),s-=Math.abs(h-u),u=h}return c},n.internal.getCurrentPage=function(){return this.pdf.internal.pages[this.pdf.internal.getCurrentPageInfo().pageNumber]},n.internal.createSmallArc=function(t,e,n){var r=(n-e)/2,i=t*Math.cos(r),o=t*Math.sin(r),a=i,s=-o,c=a*a+s*s,l=c+a*i+s*o,u=4/3*(Math.sqrt(2*c*l)-l)/(a*o-s*i),h=a-u*s,f=s+u*a,d=h,p=-f,m=r+e,g=Math.cos(m),w=Math.sin(m);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:h*g-f*w,y2:h*w+f*g,x3:d*g-p*w,y3:d*w+p*g,x4:t*Math.cos(n),y4:t*Math.sin(n)}}}(e.API),/** @preserve
 * jsPDF fromHTML plugin. BETA stage. API subject to change. Needs browser
 * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Daniel Husar, https://github.com/danielhusar
 *               2014 Wolfgang Gassler, https://github.com/woolfg
 *               2014 Steven Spungin, https://github.com/flamenco
 *
 * 
 * ====================================================================
 */
function(e){var n,r,o,a,s,c,l,u,h,f,d,p,m,g,w,y,v,b,x,k;n=function(){function t(){}return function(e){return t.prototype=e,new t}}(),f=function(t){var e,n,r,i,o,a,s;for(n=0,r=t.length,e=void 0,i=!1,a=!1;!i&&n!==r;)(e=t[n]=t[n].trimLeft())&&(i=!0),n++;for(n=r-1;r&&!a&&-1!==n;)(e=t[n]=t[n].trimRight())&&(a=!0),n--;for(o=/\s+$/g,s=!0,n=0;n!==r;)"\u2028"!=t[n]&&(e=t[n].replace(/\s+/g," "),s&&(e=e.trimLeft()),e&&(s=o.test(e)),t[n]=e),n++;return t},p=function(t){var e,n,r;for(e=void 0,n=(r=t.split(",")).shift();!e&&n;)e=o[n.trim().toLowerCase()],n=r.shift();return e},m=function(t){(t="auto"===t?"0px":t).indexOf("em")>-1&&!isNaN(Number(t.replace("em","")))&&(t=18.719*Number(t.replace("em",""))+"px"),t.indexOf("pt")>-1&&!isNaN(Number(t.replace("pt","")))&&(t=1.333*Number(t.replace("pt",""))+"px");var e;return void 0,16,(e=g[t])?e:void 0!==(e={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:t}])?g[t]=e/16:(e=parseFloat(t))?g[t]=e/16:3===(e=t.match(/([\d\.]+)(px)/)).length?g[t]=parseFloat(e[1])/16:g[t]=1},h=function(t){var e,n,r;return r=function(e){var n;return n=function(t){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle?t.currentStyle:t.style}(t),function(t){return t=t.replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()}),n[t]}}(),e={},n=void 0,e["font-family"]=p(r("font-family"))||"times",e["font-style"]=a[r("font-style")]||"normal",e["text-align"]=s[r("text-align")]||"left","bold"===(n=c[r("font-weight")]||"normal")&&("normal"===e["font-style"]?e["font-style"]=n:e["font-style"]=n+e["font-style"]),e["font-size"]=m(r("font-size"))||1,e["line-height"]=m(r("line-height"))||1,e.display="inline"===r("display")?"inline":"block",n="block"===e.display,e["margin-top"]=n&&m(r("margin-top"))||0,e["margin-bottom"]=n&&m(r("margin-bottom"))||0,e["padding-top"]=n&&m(r("padding-top"))||0,e["padding-bottom"]=n&&m(r("padding-bottom"))||0,e["margin-left"]=n&&m(r("margin-left"))||0,e["margin-right"]=n&&m(r("margin-right"))||0,e["padding-left"]=n&&m(r("padding-left"))||0,e["padding-right"]=n&&m(r("padding-right"))||0,e["page-break-before"]=r("page-break-before")||"auto",e.float=l[r("cssFloat")]||"none",e.clear=u[r("clear")]||"none",e.color=r("color"),e},w=function(t,e,n){var r,i,o,a,s;if(o=!1,i=void 0,a=void 0,r=n["#"+t.id])if("function"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;if(r=n[t.nodeName],!o&&r)if("function"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;for(s=t.className?t.className.split(" "):[],i=0;i<s.length;i++)if(r=n["."+s[i]],!o&&r)if("function"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;return o},k=function(t,e){var n,r,i,o,a,s,c,l,u;for(n=[],r=[],i=0,u=t.rows[0].cells.length,c=t.clientWidth;i<u;)l=t.rows[0].cells[i],r[i]={name:l.textContent.toLowerCase().replace(/\s+/g,""),prompt:l.textContent.replace(/\r?\n/g,""),width:l.clientWidth/c*e.pdf.internal.pageSize.width},i++;for(i=1;i<t.rows.length;){for(s=t.rows[i],a={},o=0;o<s.cells.length;)a[r[o].name]=s.cells[o].textContent.replace(/\r?\n/g,""),o++;n.push(a),i++}return{rows:n,headers:r}};var _={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},C=1;r=function(e,i,o){var a,s,c,l,u,f,d,p;for(s=e.childNodes,a=void 0,(u="block"===(c=h(e)).display)&&(i.setBlockBoundary(),i.setBlockStyle(c)),l=0,f=s.length;l<f;){if("object"===(void 0===(a=s[l])?"undefined":t(a))){if(i.executeWatchFunctions(a),1===a.nodeType&&"HEADER"===a.nodeName){var m=a,g=i.pdf.margins_doc.top;i.pdf.internal.events.subscribe("addPage",function(t){i.y=g,r(m,i,o),i.pdf.margins_doc.top=i.y+10,i.y+=10},!1)}if(8===a.nodeType&&"#comment"===a.nodeName)~a.textContent.indexOf("ADD_PAGE")&&(i.pdf.addPage(),i.y=i.pdf.margins_doc.top);else if(1!==a.nodeType||_[a.nodeName])if(3===a.nodeType){var v=a.nodeValue;if(a.nodeValue&&"LI"===a.parentNode.nodeName)if("OL"===a.parentNode.parentNode.nodeName)v=C+++". "+v;else{var b=c["font-size"],x=(3-.75*b)*i.pdf.internal.scaleFactor,A=.75*b*i.pdf.internal.scaleFactor,S=1.74*b/i.pdf.internal.scaleFactor;p=function(t,e){this.pdf.circle(t+x,e+A,S,"FD")}}16&a.ownerDocument.body.compareDocumentPosition(a)&&i.addText(v,c)}else"string"==typeof a&&i.addText(a,c);else{var q;if("IMG"===a.nodeName){var T=a.getAttribute("src");q=y[i.pdf.sHashCode(T)||T]}if(q){i.pdf.internal.pageSize.height-i.pdf.margins_doc.bottom<i.y+a.height&&i.y>i.pdf.margins_doc.top&&(i.pdf.addPage(),i.y=i.pdf.margins_doc.top,i.executeWatchFunctions(a));var P=h(a),I=i.x,E=12/i.pdf.internal.scaleFactor,O=(P["margin-left"]+P["padding-left"])*E,F=(P["margin-right"]+P["padding-right"])*E,B=(P["margin-top"]+P["padding-top"])*E,R=(P["margin-bottom"]+P["padding-bottom"])*E;void 0!==P.float&&"right"===P.float?I+=i.settings.width-a.width-F:I+=O,i.pdf.addImage(q,I,i.y+B,a.width,a.height),q=void 0,"right"===P.float||"left"===P.float?(i.watchFunctions.push(function(t,e,n,r){return i.y>=e?(i.x+=t,i.settings.width+=n,!0):!!(r&&1===r.nodeType&&!_[r.nodeName]&&i.x+r.width>i.pdf.margins_doc.left+i.pdf.margins_doc.width)&&(i.x+=t,i.y=e,i.settings.width+=n,!0)}.bind(this,"left"===P.float?-a.width-O-F:0,i.y+a.height+B+R,a.width)),i.watchFunctions.push(function(t,e,n){return!(i.y<t&&e===i.pdf.internal.getNumberOfPages())||1===n.nodeType&&"both"===h(n).clear&&(i.y=t,!0)}.bind(this,i.y+a.height,i.pdf.internal.getNumberOfPages())),i.settings.width-=a.width+O+F,"left"===P.float&&(i.x+=a.width+O+F)):i.y+=a.height+B+R}else if("TABLE"===a.nodeName)d=k(a,i),i.y+=10,i.pdf.table(i.x,i.y,d.rows,d.headers,{autoSize:!1,printHeaders:o.printHeaders,margins:i.pdf.margins_doc,css:h(a)}),i.y=i.pdf.lastCellPos.y+i.pdf.lastCellPos.h+20;else if("OL"===a.nodeName||"UL"===a.nodeName)C=1,w(a,i,o)||r(a,i,o),i.y+=10;else if("LI"===a.nodeName){var D=i.x;i.x+=20/i.pdf.internal.scaleFactor,i.y+=3,w(a,i,o)||r(a,i,o),i.x=D}else"BR"===a.nodeName?(i.y+=c["font-size"]*i.pdf.internal.scaleFactor,i.addText("\u2028",n(c))):w(a,i,o)||r(a,i,o)}}l++}if(o.outY=i.y,u)return i.setBlockBoundary(p)},y={},v=function(t,e,n,r){function i(){e.pdf.internal.events.publish("imagesLoaded"),r(o)}for(var o,a=t.getElementsByTagName("img"),s=a.length,c=0;s--;)!function(t,n,r){if(t){var a=new Image;o=++c,a.crossOrigin="",a.onerror=a.onload=function(){if(a.complete&&(0===a.src.indexOf("data:image/")&&(a.width=n||a.width||0,a.height=r||a.height||0),a.width+a.height)){var o=e.pdf.sHashCode(t)||t;y[o]=y[o]||a}--c||i()},a.src=t}}(a[s].getAttribute("src"),a[s].width,a[s].height);return c||i()},b=function(t,e,n){var i=t.getElementsByTagName("footer");if(i.length>0){i=i[0];var o=e.pdf.internal.write,a=e.y;e.pdf.internal.write=function(){},r(i,e,n);var s=Math.ceil(e.y-a)+5;e.y=a,e.pdf.internal.write=o,e.pdf.margins_doc.bottom+=s;for(var c=function(t){var o=void 0!==t?t.pageNumber:1,a=e.y;e.y=e.pdf.internal.pageSize.height-e.pdf.margins_doc.bottom,e.pdf.margins_doc.bottom-=s;for(var c=i.getElementsByTagName("span"),l=0;l<c.length;++l)(" "+c[l].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")>-1&&(c[l].innerHTML=o),(" "+c[l].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&(c[l].innerHTML="###jsPDFVarTotalPages###");r(i,e,n),e.pdf.margins_doc.bottom+=s,e.y=a},l=i.getElementsByTagName("span"),u=0;u<l.length;++u)(" "+l[u].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&e.pdf.internal.events.subscribe("htmlRenderingFinished",e.pdf.putTotalPages.bind(e.pdf,"###jsPDFVarTotalPages###"),!0);e.pdf.internal.events.subscribe("addPage",c,!1),c(),_.FOOTER=1}},x=function(t,e,n,i,o,a){if(!e)return!1;"string"==typeof e||e.parentNode||(e=""+e.innerHTML),"string"==typeof e&&(e=function(t){var e,n,r,i;return r="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),i="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",n=document.createElement("div"),n.style.cssText=i,n.innerHTML='<iframe style="height:1px;width:1px" name="'+r+'" />',document.body.appendChild(n),(e=window.frames[r]).document.open(),e.document.writeln(t),e.document.close(),e.document.body}(e.replace(/<\/?script[^>]*?>/gi,"")));var s,c=new d(t,n,i,o);return v.call(this,e,c,o.elementHandlers,function(t){b(e,c,o.elementHandlers),r(e,c,o.elementHandlers),c.pdf.internal.events.publish("htmlRenderingFinished"),s=c.dispose(),"function"==typeof a?a(s):t&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),s||{x:c.x,y:c.y}},(d=function(t,e,n,r){return this.pdf=t,this.x=e,this.y=n,this.settings=r,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},d.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},d.prototype.executeWatchFunctions=function(t){var e=!1,n=[];if(this.watchFunctions.length>0){for(var r=0;r<this.watchFunctions.length;++r)!0===this.watchFunctions[r](t)?e=!0:n.push(this.watchFunctions[r]);this.watchFunctions=n}return e},d.prototype.splitFragmentsIntoLines=function(t,e){var r,i,o,a,s,c,l,u,h,f,d,p,m,g;for(12,f=this.pdf.internal.scaleFactor,a={},i=void 0,h=void 0,o=void 0,s=void 0,g=void 0,u=void 0,l=void 0,c=void 0,p=[d=[]],r=0,m=this.settings.width;t.length;)if(s=t.shift(),g=e.shift(),s)if(i=g["font-family"],h=g["font-style"],(o=a[i+h])||(o=this.pdf.internal.getFont(i,h).metadata.Unicode,a[i+h]=o),u={widths:o.widths,kerning:o.kerning,fontSize:12*g["font-size"],textIndent:r},l=this.pdf.getStringUnitWidth(s,u)*u.fontSize/f,"\u2028"==s)d=[],p.push(d);else if(r+l>m){for(c=this.pdf.splitTextToSize(s,m,u),d.push([c.shift(),g]);c.length;)d=[[c.shift(),g]],p.push(d);r=this.pdf.getStringUnitWidth(d[0][0],u)*u.fontSize/f}else d.push([s,g]),r+=l;if(void 0!==g["text-align"]&&("center"===g["text-align"]||"right"===g["text-align"]||"justify"===g["text-align"]))for(var w=0;w<p.length;++w){var y=this.pdf.getStringUnitWidth(p[w][0][0],u)*u.fontSize/f;w>0&&(p[w][0][1]=n(p[w][0][1]));var v=m-y;if("right"===g["text-align"])p[w][0][1]["margin-left"]=v;else if("center"===g["text-align"])p[w][0][1]["margin-left"]=v/2;else if("justify"===g["text-align"]){var b=p[w][0][0].split(" ").length-1;p[w][0][1]["word-spacing"]=v/b,w===p.length-1&&(p[w][0][1]["word-spacing"]=0)}}return p},d.prototype.RenderTextFragment=function(t,e){var n,r;r=0,this.pdf.internal.pageSize.height-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),e.color,"Td"),r=Math.max(r,e["line-height"],e["font-size"]),this.pdf.internal.write(0,(-12*r).toFixed(2),"Td")),n=this.pdf.internal.getFont(e["font-family"],e["font-style"]);var i=this.getPdfColor(e.color);i!==this.lastTextColor&&(this.pdf.internal.write(i),this.lastTextColor=i),void 0!==e["word-spacing"]&&e["word-spacing"]>0&&this.pdf.internal.write(e["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+n.id,(12*e["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(t)+") Tj"),void 0!==e["word-spacing"]&&this.pdf.internal.write(0,"Tw")},d.prototype.getPdfColor=function(t){var e,n,r,o=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(t);if(null!=o?(e=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3])):("#"!=t.charAt(0)&&((t=i.colorNameToHex(t))||(t="#000000")),e=t.substring(1,3),e=parseInt(e,16),n=t.substring(3,5),n=parseInt(n,16),r=t.substring(5,7),r=parseInt(r,16)),"string"==typeof e&&/^#[0-9A-Fa-f]{6}$/.test(e)){var a=parseInt(e.substr(1),16);e=a>>16&255,n=a>>8&255,r=255&a}var s=this.f3;return 0===e&&0===n&&0===r||void 0===n?s(e/255)+" g":[s(e/255),s(n/255),s(r/255),"rg"].join(" ")},d.prototype.f3=function(t){return t.toFixed(3)},d.prototype.renderParagraph=function(t){var e,n,r,i,o,a,s,c,l,u,h,d,p;if(r=f(this.paragraph.text),d=this.paragraph.style,e=this.paragraph.blockstyle,this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:e},r.join("").trim()){s=this.splitFragmentsIntoLines(r,d),a=void 0,c=void 0,12,n=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,h=(Math.max((e["margin-top"]||0)-this.priorMarginBottom,0)+(e["padding-top"]||0))*n,u=((e["margin-bottom"]||0)+(e["padding-bottom"]||0))*n,this.priorMarginBottom=e["margin-bottom"]||0,"always"===e["page-break-before"]&&(this.pdf.addPage(),this.y=0,h=((e["margin-top"]||0)+(e["padding-top"]||0))*n),l=this.pdf.internal.write,i=void 0,o=void 0,this.y+=h,l("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var m=0;s.length;){for(c=0,i=0,o=(a=s.shift()).length;i!==o;)a[i][0].trim()&&(c=Math.max(c,a[i][1]["line-height"],a[i][1]["font-size"]),p=7*a[i][1]["font-size"]),i++;var g=0,w=0;for(void 0!==a[0][1]["margin-left"]&&a[0][1]["margin-left"]>0&&(g=(w=this.pdf.internal.getCoordinateString(a[0][1]["margin-left"]))-m,m=w),l(g+Math.max(e["margin-left"]||0,0)*n,(-12*c).toFixed(2),"Td"),i=0,o=a.length;i!==o;)a[i][0]&&this.RenderTextFragment(a[i][0],a[i][1]),i++;if(this.y+=c*n,this.executeWatchFunctions(a[0][1])&&s.length>0){var y=[],v=[];s.forEach(function(t){for(var e=0,n=t.length;e!==n;)t[e][0]&&(y.push(t[e][0]+" "),v.push(t[e][1])),++e}),s=this.splitFragmentsIntoLines(f(y),v),l("ET","Q"),l("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return t&&"function"==typeof t&&t.call(this,this.x-9,this.y-p/2),l("ET","Q"),this.y+=u}},d.prototype.setBlockBoundary=function(t){return this.renderParagraph(t)},d.prototype.setBlockStyle=function(t){return this.paragraph.blockstyle=t},d.prototype.addText=function(t,e){return this.paragraph.text.push(t),this.paragraph.style.push(e)},o={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},c={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},a={normal:"normal",italic:"italic",oblique:"italic"},s={left:"left",right:"right",center:"center",justify:"justify"},l={none:"none",right:"right",left:"left"},u={none:"none",both:"both"},g={normal:1},e.fromHTML=function(t,e,n,r,i,o){return this.margins_doc=o||{top:0,bottom:0},r||(r={}),r.elementHandlers||(r.elementHandlers={}),x(this,t,isNaN(e)?4:e,isNaN(n)?4:n,r,i)}}(e.API),/** ==================================================================== 
 * jsPDF JavaScript plugin
 * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
 * 
 * 
 * ====================================================================
 */
function(t){var n,r,i;e.API.addJS=function(t){return i=t,this.internal.events.subscribe("postPutResources",function(t){n=this.internal.newObject(),this.internal.write("<< /Names [(EmbeddedJS) "+(n+1)+" 0 R] >>","endobj"),r=this.internal.newObject(),this.internal.write("<< /S /JavaScript /JS (",i,") >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==n&&void 0!==r&&this.internal.write("/Names <</JavaScript "+n+" 0 R>>")}),this}}(),/**
 * jsPDF Outline PlugIn
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){t.events.push(["postPutResources",function(){var t=this,e=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=t.outline.render().split(/\r\n/),r=0;r<n.length;r++){var i=n[r],o=e.exec(i);if(null!=o){var a=o[1];t.internal.newObjectDeferredBegin(a)}t.internal.write(i)}if(this.outline.createNamedDestinations){for(var s=this.internal.pages.length,c=[],r=0;r<s;r++){var l=t.internal.newObject();c.push(l);var u=t.internal.getPageInfo(r+1);t.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=t.internal.newObject();t.internal.write("<< /Names [ ");for(r=0;r<c.length;r++)t.internal.write("(page_"+(r+1)+")"+c[r]+" 0 R");t.internal.write(" ] >>","endobj");t.internal.newObject();t.internal.write("<< /Dests "+h+" 0 R"),t.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+namesOid+" 0 R"))}]),t.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(t,e,n){var r={title:e,options:n,children:[]};return null==t&&(t=this.root),t.children.push(r),r},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var n=0;n<e.children.length;n++)this.genIds_r(e.children[n])},t.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),t.children.length>0&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},t.outline.renderItems=function(e){for(i=0;i<e.children.length;i++){o=e.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(e)),i>0&&this.line("/Prev "+this.makeRef(e.children[i-1])),i<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var n=this.count=this.count_r({count:0},o);if(n>0&&this.line("/Count "+n),o.options&&o.options.pageNumber){var r=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+r.objId+" 0 R /XYZ 0 "+this.ctx.pdf.internal.pageSize.height+" 0]")}this.objEnd()}for(var i=0;i<e.children.length;i++){var o=e.children[i];this.renderItems(o)}},t.outline.line=function(t){this.ctx.val+=t+"\r\n"},t.outline.makeRef=function(t){return t.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(t){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(t,e){for(var n=0;n<e.children.length;n++)t.count++,this.count_r(t,e.children[n]);return t.count}}])}(e.API),/**@preserve
 *  ====================================================================
 * jsPDF PNG PlugIn
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * 
 * ====================================================================
 */
function(t){var e=function(){return"function"!=typeof PNG||"function"!=typeof s},n=function(e){return e!==t.image_compression.NONE&&r()},r=function(){var t="function"==typeof o;if(!t)throw new Error("requires deflate.js for compression");return t},i=function(e,n,r,i){var s=5,u=f;switch(i){case t.image_compression.FAST:s=3,u=h;break;case t.image_compression.MEDIUM:s=6,u=d;break;case t.image_compression.SLOW:s=9,u=p}e=l(e,n,r,u);var m=new Uint8Array(a(s)),g=c(e),w=new o(s),y=w.append(e),v=w.flush(),b=m.length+y.length+v.length,x=new Uint8Array(b+4);return x.set(m),x.set(y,m.length),x.set(v,m.length+y.length),x[b++]=g>>>24&255,x[b++]=g>>>16&255,x[b++]=g>>>8&255,x[b++]=255&g,t.arrayBufferToBinaryString(x)},a=function(t,e){var n=Math.LOG2E*Math.log(32768)-8<<4|8,r=n<<8;return r|=Math.min(3,(e-1&255)>>1)<<6,r|=0,r+=31-r%31,[n,255&r]},c=function(t,e){for(var n,r=1,i=0,o=t.length,a=0;o>0;){o-=n=o>e?e:o;do{i+=r+=t[a++]}while(--n);r%=65521,i%=65521}return(i<<16|r)>>>0},l=function(t,e,n,r){for(var i,o,a,s=t.length/e,c=new Uint8Array(t.length+s),l=g(),u=0;u<s;u++){if(a=u*e,i=t.subarray(a,a+e),r)c.set(r(i,n,o),a+u);else{for(var h=0,f=l.length,d=[];h<f;h++)d[h]=l[h](i,n,o);var p=w(d.concat());c.set(d[p],a+u)}o=i}return c},u=function(t,e,n){var r=Array.apply([],t);return r.unshift(0),r},h=function(t,e,n){var r,i=[],o=0,a=t.length;for(i[0]=1;o<a;o++)r=t[o-e]||0,i[o+1]=t[o]-r+256&255;return i},f=function(t,e,n){var r,i=[],o=0,a=t.length;for(i[0]=2;o<a;o++)r=n&&n[o]||0,i[o+1]=t[o]-r+256&255;return i},d=function(t,e,n){var r,i,o=[],a=0,s=t.length;for(o[0]=3;a<s;a++)r=t[a-e]||0,i=n&&n[a]||0,o[a+1]=t[a]+256-(r+i>>>1)&255;return o},p=function(t,e,n){var r,i,o,a,s=[],c=0,l=t.length;for(s[0]=4;c<l;c++)r=t[c-e]||0,i=n&&n[c]||0,o=n&&n[c-e]||0,a=m(r,i,o),s[c+1]=t[c]-a+256&255;return s},m=function(t,e,n){var r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),a=Math.abs(r-n);return i<=o&&i<=a?t:o<=a?e:n},g=function(){return[u,h,f,d,p]},w=function(t){for(var e,n,r,i=0,o=t.length;i<o;)((e=y(t[i].slice(1)))<n||!n)&&(n=e,r=i),i++;return r},y=function(t){for(var e=0,n=t.length,r=0;e<n;)r+=Math.abs(t[e++]);return r},v=function(e){var n;switch(e){case t.image_compression.FAST:n=11;break;case t.image_compression.MEDIUM:n=13;break;case t.image_compression.SLOW:n=14;break;default:n=12}return n};t.processPNG=function(t,r,o,a,s){var c,l,u,h,f,d,p=this.color_spaces.DEVICE_RGB,m=this.decode.FLATE_DECODE,g=8;if(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)){if(e())throw new Error("PNG support requires png.js and zlib.js");if(c=new PNG(t),t=c.imgData,g=c.bits,p=c.colorSpace,h=c.colors,-1!==[4,6].indexOf(c.colorType)){if(8===c.bits)for(var w,y=(I=32==c.pixelBitlength?new Uint32Array(c.decodePixels().buffer):16==c.pixelBitlength?new Uint16Array(c.decodePixels().buffer):new Uint8Array(c.decodePixels().buffer)).length,b=new Uint8Array(y*c.colors),x=new Uint8Array(y),k=c.pixelBitlength-c.bits,_=0,C=0;_<y;_++){for(A=I[_],w=0;w<k;)b[C++]=A>>>w&255,w+=c.bits;x[_]=A>>>w&255}if(16===c.bits){for(var A,y=(I=new Uint32Array(c.decodePixels().buffer)).length,b=new Uint8Array(y*(32/c.pixelBitlength)*c.colors),x=new Uint8Array(y*(32/c.pixelBitlength)),S=c.colors>1,_=0,C=0,q=0;_<y;)A=I[_++],b[C++]=A>>>0&255,S&&(b[C++]=A>>>16&255,A=I[_++],b[C++]=A>>>0&255),x[q++]=A>>>16&255;g=8}n(a)?(t=i(b,c.width*c.colors,c.colors,a),d=i(x,c.width,1,a)):(t=b,d=x,m=null)}if(3===c.colorType&&(p=this.color_spaces.INDEXED,f=c.palette,c.transparency.indexed)){for(var T=c.transparency.indexed,P=0,_=0,y=T.length;_<y;++_)P+=T[_];if((P/=255)===y-1&&-1!==T.indexOf(0))u=[T.indexOf(0)];else if(P!==y){for(var I=c.decodePixels(),x=new Uint8Array(I.length),_=0,y=I.length;_<y;_++)x[_]=T[I[_]];d=i(x,c.width,1)}}var E=v(a);return l=m===this.decode.FLATE_DECODE?"/Predictor "+E+" /Colors "+h+" /BitsPerComponent "+g+" /Columns "+c.width:"/Colors "+h+" /BitsPerComponent "+g+" /Columns "+c.width,(this.isArrayBuffer(t)||this.isArrayBufferView(t))&&(t=this.arrayBufferToBinaryString(t)),(d&&this.isArrayBuffer(d)||this.isArrayBufferView(d))&&(d=this.arrayBufferToBinaryString(d)),this.createImageInfo(t,c.width,c.height,p,g,m,r,o,l,u,f,d,E)}throw new Error("Unsupported PNG image data, try using JPEG instead.")}}(e.API),e.API.autoPrint=function(){var t;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+t+" 0 R")}),this},/** @preserve
 * jsPDF split_text_to_size plugin - MIT license.
 * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
 *               2014 Diego Casorran, https://github.com/diegocr
 */
function(t){var e=t.getCharWidthsArray=function(t,e){e||(e={});var n,r,i,o=e.widths?e.widths:this.internal.getFont().metadata.Unicode.widths,a=o.fof?o.fof:1,s=e.kerning?e.kerning:this.internal.getFont().metadata.Unicode.kerning,c=s.fof?s.fof:1,l=0,u=o[0]||a,h=[];for(n=0,r=t.length;n<r;n++)i=t.charCodeAt(n),h.push((o[i]||u)/a+(s[i]&&s[i][l]||0)/c),l=i;return h},n=function(t){for(var e=t.length,n=0;e;)n+=t[--e];return n},r=t.getStringUnitWidth=function(t,r){return n(e.call(this,t,r))},i=function(t,e,n,r){for(var i=[],o=0,a=t.length,s=0;o!==a&&s+e[o]<n;)s+=e[o],o++;i.push(t.slice(0,o));var c=o;for(s=0;o!==a;)s+e[o]>r&&(i.push(t.slice(c,o)),s=0,c=o),s+=e[o],o++;return c!==o&&i.push(t.slice(c,o)),i},o=function(t,o,a){a||(a={});var s,c,l,u,h,f,d=[],p=[d],m=a.textIndent||0,g=0,w=0,y=t.split(" "),v=e(" ",a)[0];if(f=-1===a.lineIndent?y[0].length+2:a.lineIndent||0){var b=Array(f).join(" "),x=[];y.map(function(t){(t=t.split(/\s*\n/)).length>1?x=x.concat(t.map(function(t,e){return(e&&t.length?"\n":"")+t})):x.push(t[0])}),y=x,f=r(b,a)}for(l=0,u=y.length;l<u;l++){var k=0;if(s=y[l],f&&"\n"==s[0]&&(s=s.substr(1),k=1),c=e(s,a),w=n(c),m+g+w>o||k){if(w>o){for(h=i(s,c,o-(m+g),o),d.push(h.shift()),d=[h.pop()];h.length;)p.push([h.shift()]);w=n(c.slice(s.length-d[0].length))}else d=[s];p.push(d),m=w+f,g=v}else d.push(s),m+=g+w,g=v}if(f)_=function(t,e){return(e?b:"")+t.join(" ")};else var _=function(t){return t.join(" ")};return p.map(_)};t.splitTextToSize=function(t,e,n){n||(n={});var r,i=n.fontSize||this.internal.getFontSize(),a=function(t){var e={0:1},n={};if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var r=this.internal.getFont(t.fontName,t.fontStyle);return r.metadata.Unicode?{widths:r.metadata.Unicode.widths||e,kerning:r.metadata.Unicode.kerning||n}:{widths:e,kerning:n}}.call(this,n);r=Array.isArray(t)?t:t.split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var c,l,u=[];for(c=0,l=r.length;c<l;c++)u=u.concat(o(r[c],s,a));return u}}(e.API),/** @preserve 
jsPDF standard_fonts_metrics plugin
Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
MIT license.
*/
function(t){var e=function(t){for(var e={},n=0;n<"klmnopqrstuvwxyz".length;n++)e["klmnopqrstuvwxyz"[n]]="0123456789abcdef"[n];var r,i,o,a,s={},c=1,l=s,u=[],h="",f="",d=t.length-1;for(n=1;n!=d;)a=t[n],n+=1,"'"==a?r?(o=r.join(""),r=void 0):r=[]:r?r.push(a):"{"==a?(u.push([l,o]),l={},o=void 0):"}"==a?((i=u.pop())[0][i[1]]=l,o=void 0,l=i[0]):"-"==a?c=-1:void 0===o?e.hasOwnProperty(a)?(h+=e[a],o=parseInt(h,16)*c,c=1,h=""):h+=a:e.hasOwnProperty(a)?(f+=e[a],l[o]=parseInt(f,16)*c,c=1,o=void 0,f=""):f+=a;return s},n={codePages:["WinAnsiEncoding"],WinAnsiEncoding:e("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},r={Unicode:{Courier:n,"Courier-Bold":n,"Courier-BoldOblique":n,"Courier-Oblique":n,Helvetica:n,"Helvetica-Bold":n,"Helvetica-BoldOblique":n,"Helvetica-Oblique":n,"Times-Roman":n,"Times-Bold":n,"Times-BoldItalic":n,"Times-Italic":n}},i={Unicode:{"Courier-Oblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":e("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":e("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":e("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":e("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(t){var e,n,o;(e=i.Unicode[t.PostScriptName])&&((n=t.metadata.Unicode?t.metadata.Unicode:t.metadata.Unicode={}).widths=e.widths,n.kerning=e.kerning),(o=r.Unicode[t.PostScriptName])&&((n=t.metadata.Unicode?t.metadata.Unicode:t.metadata.Unicode={}).encoding=o,o.codePages&&o.codePages.length&&(t.encoding=o.codePages[0]))}])}(e.API),e.API.addSVG=function(t,e,n,r,i){function o(t,e){var n=e.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(e.createTextNode(t)),e.getElementsByTagName("head")[0].appendChild(n)}if(void 0===e||void 0===n)throw new Error("addSVG needs values for 'x' and 'y'");var a=function(t,e){var n=(e.contentWindow||e.contentDocument).document;return n.write(t),n.close(),n.getElementsByTagName("svg")[0]}(t,function(t){var e=t.createElement("iframe");return o(".jsPDF_sillysvg_iframe {display:none;position:absolute;}",t),e.name="childframe",e.setAttribute("width",0),e.setAttribute("height",0),e.setAttribute("frameborder","0"),e.setAttribute("scrolling","no"),e.setAttribute("seamless","seamless"),e.setAttribute("class","jsPDF_sillysvg_iframe"),t.body.appendChild(e),e}(document)),s=[1,1],c=parseFloat(a.getAttribute("width")),l=parseFloat(a.getAttribute("height"));c&&l&&(r&&i?s=[r/c,i/l]:r?s=[r/c,r/c]:i&&(s=[i/l,i/l]));var u,h,f,d,p=a.childNodes;for(u=0,h=p.length;u<h;u++)(f=p[u]).tagName&&"PATH"===f.tagName.toUpperCase()&&((d=function(t){for(var e=parseFloat(t[1]),n=parseFloat(t[2]),r=[],i=3,o=t.length;i<o;)"c"===t[i]?(r.push([parseFloat(t[i+1]),parseFloat(t[i+2]),parseFloat(t[i+3]),parseFloat(t[i+4]),parseFloat(t[i+5]),parseFloat(t[i+6])]),i+=7):"l"===t[i]?(r.push([parseFloat(t[i+1]),parseFloat(t[i+2])]),i+=3):i+=1;return[e,n,r]}(f.getAttribute("d").split(" ")))[0]=d[0]*s[0]+e,d[1]=d[1]*s[1]+n,this.lines.call(this,d[2],d[0],d[1],s));return this},e.API.putTotalPages=function(t){for(var e=new RegExp(t,"g"),n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(e,this.internal.getNumberOfPages());return this},/** ==================================================================== 
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 * 
 * 
 * ====================================================================
 */
function(t){var n="",r="",i="";e.API.addMetadata=function(t,e){return r=e||"http://jspdf.default.namespaceuri/",n=t,this.internal.events.subscribe("postPutResources",function(){if(n){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+r+'"><jspdf:metadata>',e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(t)),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),l=o.length+a.length+s.length+e.length+c.length;i=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(e+o+a+s+c),this.internal.write("endstream"),this.internal.write("endobj")}else i=""}),this.internal.events.subscribe("putCatalog",function(){i&&this.internal.write("/Metadata "+i+" 0 R")}),this}}(),function(t){if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(t){}var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},r=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},i=n.prototype,o=r.prototype,a=t.FileReaderSync,s=function(t){this.code=this[this.name=t]},c="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),l=c.length,u=t.URL||t.webkitURL||t,h=u.createObjectURL,f=u.revokeObjectURL,d=u,p=t.btoa,m=t.atob,g=t.ArrayBuffer,w=t.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(r.fake=o.fake=!0;l--;)s.prototype[c[l]]=l+1;return u.createObjectURL||(d=t.URL=function(t){var e,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=t,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(e=t.match(y),n.origin=e&&e[1])),n}),d.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof r?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):p?e+";base64,"+p(t.data):e+","+encodeURIComponent(t.data)):h?h.call(u,t):void 0},d.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&f&&f.call(u,t)},i.append=function(t){var n=this.data;if(w&&(t instanceof g||t instanceof w)){for(var i="",o=new w(t),c=0,l=o.length;c<l;c++)i+=String.fromCharCode(o[c]);n.push(i)}else if("Blob"===e(t)||"File"===e(t)){if(!a)throw new s("NOT_READABLE_ERR");var u=new a;n.push(u.readAsBinaryString(t))}else t instanceof r?"base64"===t.encoding&&m?n.push(m(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},i.getBlob=function(t){return arguments.length||(t=null),new r(this.data.join(""),t,"raw")},i.toString=function(){return"[object BlobBuilder]"},o.slice=function(t,e,n){var i=arguments.length;return i<3&&(n=null),new r(this.data.slice(t,i>1?e:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(t);t.Blob=function(t,n){var r=n?n.type||"":"",i=new e;if(t)for(var o=0,a=t.length;o<a;o++)Uint8Array&&t[o]instanceof Uint8Array?i.append(t[o].buffer):i.append(t[o]);var s=i.getBlob(r);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var n=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=n(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content||void 0);var r=r||function(t){if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=function(){return t.URL||t.webkitURL||t},n=t.document.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,i=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},o=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},c=function(t){setTimeout(function(){"string"==typeof t?e().revokeObjectURL(t):t.remove()},4e4)},l=function(t,e,n){for(var r=(e=[].concat(e)).length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(t){s(t)}}},u=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},h=function(s,h,f){f||(s=u(s));var d,p=this,m="application/octet-stream"===s.type,g=function(){l(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,r)return d=e().createObjectURL(s),void setTimeout(function(){n.href=d,n.download=h,i(n),g(),c(d),p.readyState=p.DONE});!function(){if((a||m&&o)&&t.FileReader){var n=new FileReader;return n.onloadend=function(){var e=a?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,g()},n.readAsDataURL(s),void(p.readyState=p.INIT)}d||(d=e().createObjectURL(s)),m?t.location.href=d:t.open(d,"_blank")||(t.location.href=d),p.readyState=p.DONE,g(),c(d)}()},f=h.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=u(t)),navigator.msSaveOrOpenBlob(t,e)}:(f.abort=function(){},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,function(t,e,n){return new h(t,e||t.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=r:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return r}),function(t,e){"object"==typeof module?module.exports=e():"function"==typeof define?define(e):t.adler32cs=e()}(e,function(){var t="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,e=null,n=function(){if(!t)return function(){return!1};try{var n={};"function"==typeof n.Buffer&&(e=n.Buffer)}catch(t){}return function(t){return t instanceof ArrayBuffer||null!==e&&t instanceof e}}(),r=null!==e?function(t){return new e(t,"utf8").toString("binary")}:function(t){return unescape(encodeURIComponent(t))},i=function(t,e){for(var n=65535&t,r=t>>>16,i=0,o=e.length;i<o;i++)r=(r+(n=(n+(255&e.charCodeAt(i)))%65521))%65521;return(r<<16|n)>>>0},o=function(t,e){for(var n=65535&t,r=t>>>16,i=0,o=e.length;i<o;i++)r=(r+(n=(n+e[i])%65521))%65521;return(r<<16|n)>>>0},a={},s=a.Adler32=function(){var e=function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(t=null==t?1:+t))throw new Error("First arguments needs to be a finite number.");this.checksum=t>>>0},a=e.prototype={};return a.constructor=e,e.from=function(t){return t.prototype=a,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");this.checksum=i(1,t.toString())}),e.fromUtf8=function(t){return t.prototype=a,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");var n=r(t.toString());this.checksum=i(1,n)}),t&&(e.fromBuffer=function(t){return t.prototype=a,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!n(t))throw new Error("First argument needs to be ArrayBuffer.");var r=new Uint8Array(t);return this.checksum=o(1,r)})),a.update=function(t){if(null==t)throw new Error("First argument needs to be a string.");return t=t.toString(),this.checksum=i(this.checksum,t)},a.updateUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=r(t.toString());return this.checksum=i(this.checksum,e)},t&&(a.updateBuffer=function(t){if(!n(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=o(this.checksum,e)}),a.clone=function(){return new s(this.checksum)},e}();return a.from=function(t){if(null==t)throw new Error("First argument needs to be a string.");return i(1,t.toString())},a.fromUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=r(t.toString());return i(1,e)},t&&(a.fromBuffer=function(t){if(!n(t))throw new Error("First argument need to be ArrayBuffer.");var e=new Uint8Array(t);return o(1,e)}),a});/**
 * CssColors
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
var i={};i._colorsTable={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},i.colorNameToHex=function(t){return t=t.toLowerCase(),void 0!==this._colorsTable[t]&&this._colorsTable[t]};/*
 Deflate.js - https://github.com/gildas-lormeau/zip.js
 Copyright (c) 2013 Gildas Lormeau. All rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:

 1. Redistributions of source code must retain the above copyright notice,
 this list of conditions and the following disclaimer.

 2. Redistributions in binary form must reproduce the above copyright 
 notice, this list of conditions and the following disclaimer in 
 the documentation and/or other materials provided with the distribution.

 3. The names of the authors may not be used to endorse or promote products
 derived from this software without specific prior written permission.

 THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
 INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
 INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
 INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
 OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
var o=function(t){function e(){function t(t){var e,n,i,o,a,c,l=r.dyn_tree,u=r.stat_desc.static_tree,h=r.stat_desc.extra_bits,d=r.stat_desc.extra_base,p=r.stat_desc.max_length,m=0;for(o=0;o<=s;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,e=t.heap_max+1;e<f;e++)(o=l[2*l[2*(n=t.heap[e])+1]+1]+1)>p&&(o=p,m++),l[2*n+1]=o,n>r.max_code||(t.bl_count[o]++,a=0,n>=d&&(a=h[n-d]),c=l[2*n],t.opt_len+=c*(o+a),u&&(t.static_len+=c*(u[2*n+1]+a)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(n=t.bl_count[o];0!==n;)(i=t.heap[--e])>r.max_code||(l[2*i+1]!=o&&(t.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),n--)}}function e(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function n(t,n,r){var i,o,a,c=[],l=0;for(i=1;i<=s;i++)c[i]=l=l+r[i-1]<<1;for(o=0;o<=n;o++)0!==(a=t[2*o+1])&&(t[2*o]=e(c[a]++,a))}var r=this;r.build_tree=function(e){var i,o,a,s=r.dyn_tree,c=r.stat_desc.static_tree,l=r.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=f,i=0;i<l;i++)0!==s[2*i]?(e.heap[++e.heap_len]=u=i,e.depth[i]=0):s[2*i+1]=0;for(;e.heap_len<2;)s[2*(a=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[a]=0,e.opt_len--,c&&(e.static_len-=c[2*a+1]);for(r.max_code=u,i=Math.floor(e.heap_len/2);i>=1;i--)e.pqdownheap(s,i);a=l;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],e.pqdownheap(s,1),o=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=o,s[2*a]=s[2*i]+s[2*o],e.depth[a]=Math.max(e.depth[i],e.depth[o])+1,s[2*i+1]=s[2*o+1]=a,e.heap[1]=a++,e.pqdownheap(s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],t(e),n(s,r.max_code,e.bl_count)}}function n(t,e,n,r,i){var o=this;o.static_tree=t,o.extra_bits=e,o.extra_base=n,o.elems=r,o.max_length=i}function r(t,e,n,r,i){var o=this;o.good_length=t,o.max_lazy=e,o.nice_length=n,o.max_chain=r,o.func=i}function i(t,e,n,r){var i=t[2*e],o=t[2*n];return i<o||i==o&&r[e]<=r[n]}function o(){function t(){var t;for(Pt=2*At,Et[Ft-1]=0,t=0;t<Ft-1;t++)Et[t]=0;Vt=z[Gt].max_lazy,Jt=z[Gt].good_length,Qt=z[Gt].nice_length,Xt=z[Gt].max_chain,Mt=0,jt=0,Ht=0,zt=Wt=$-1,Lt=0,Ot=0}function r(){var t;for(t=0;t<h;t++)Kt[2*t]=0;for(t=0;t<c;t++)$t[2*t]=0;for(t=0;t<l;t++)Zt[2*t]=0;Kt[2*d]=1,te.opt_len=te.static_len=0,ae=ce=0}function o(){ee.dyn_tree=Kt,ee.stat_desc=n.static_l_desc,ne.dyn_tree=$t,ne.stat_desc=n.static_d_desc,re.dyn_tree=Zt,re.stat_desc=n.static_bl_desc,ue=0,he=0,le=8,r()}function a(t,e){var n,r,i=-1,o=t[1],a=0,s=7,c=4;for(0===o&&(s=138,c=3),t[2*(e+1)+1]=65535,n=0;n<=e;n++)r=o,o=t[2*(n+1)+1],++a<s&&r==o||(a<c?Zt[2*r]+=a:0!==r?(r!=i&&Zt[2*r]++,Zt[2*p]++):a<=10?Zt[2*m]++:Zt[2*g]++,a=0,i=r,0===o?(s=138,c=3):r==o?(s=6,c=3):(s=7,c=4))}function s(){var t;for(a(Kt,ee.max_code),a($t,ne.max_code),re.build_tree(te),t=l-1;t>=3&&0===Zt[2*e.bl_order[t]+1];t--);return te.opt_len+=3*(t+1)+5+5+4,t}function f(t){te.pending_buf[te.pending++]=t}function O(t){f(255&t),f(t>>>8&255)}function et(t){f(t>>8&255),f(255&t)}function nt(t,e){var n,r=e;he>w-r?(O(ue|=(n=t)<<he&65535),ue=n>>>w-he,he+=r-w):(ue|=t<<he&65535,he+=r)}function rt(t,e){var n=2*t;nt(65535&e[n],65535&e[n+1])}function it(t,e){var n,r,i=-1,o=t[1],a=0,s=7,c=4;for(0===o&&(s=138,c=3),n=0;n<=e;n++)if(r=o,o=t[2*(n+1)+1],!(++a<s&&r==o)){if(a<c)do{rt(r,Zt)}while(0!=--a);else 0!==r?(r!=i&&(rt(r,Zt),a--),rt(p,Zt),nt(a-3,2)):a<=10?(rt(m,Zt),nt(a-3,3)):(rt(g,Zt),nt(a-11,7));a=0,i=r,0===o?(s=138,c=3):r==o?(s=6,c=3):(s=7,c=4)}}function ot(t,n,r){var i;for(nt(t-257,5),nt(n-1,5),nt(r-4,4),i=0;i<r;i++)nt(Zt[2*e.bl_order[i]+1],3);it(Kt,t-1),it($t,n-1)}function at(){16==he?(O(ue),ue=0,he=0):he>=8&&(f(255&ue),ue>>>=8,he-=8)}function st(){nt(Q<<1,3),rt(d,n.static_ltree),at(),1+le+10-he<9&&(nt(Q<<1,3),rt(d,n.static_ltree),at()),le=7}function ct(t,n){var r,i,o;if(te.pending_buf[se+2*ae]=t>>>8&255,te.pending_buf[se+2*ae+1]=255&t,te.pending_buf[ie+ae]=255&n,ae++,0===t?Kt[2*n]++:(ce++,t--,Kt[2*(e._length_code[n]+u+1)]++,$t[2*e.d_code(t)]++),0==(8191&ae)&&Gt>2){for(r=8*ae,i=Mt-jt,o=0;o<c;o++)r+=$t[2*o]*(5+e.extra_dbits[o]);if(r>>>=3,ce<Math.floor(ae/2)&&r<Math.floor(i/2))return!0}return ae==oe-1}function lt(t,n){var r,i,o,a,s=0;if(0!==ae)do{r=te.pending_buf[se+2*s]<<8&65280|255&te.pending_buf[se+2*s+1],i=255&te.pending_buf[ie+s],s++,0===r?rt(i,t):(rt((o=e._length_code[i])+u+1,t),0!==(a=e.extra_lbits[o])&&nt(i-=e.base_length[o],a),r--,rt(o=e.d_code(r),n),0!==(a=e.extra_dbits[o])&&nt(r-=e.base_dist[o],a))}while(s<ae);rt(d,t),le=t[2*d+1]}function ut(){he>8?O(ue):he>0&&f(255&ue),ue=0,he=0}function ht(t,e,n){ut(),le=8,n&&(O(e),O(~e)),te.pending_buf.set(Tt.subarray(t,t+e),te.pending),te.pending+=e}function ft(t,e,n){nt((J<<1)+(n?1:0),3),ht(t,e,!0)}function dt(t,e,i){var o,a,c=0;Gt>0?(ee.build_tree(te),ne.build_tree(te),c=s(),o=te.opt_len+3+7>>>3,(a=te.static_len+3+7>>>3)<=o&&(o=a)):o=a=e+5,e+4<=o&&-1!=t?ft(t,e,i):a==o?(nt((Q<<1)+(i?1:0),3),lt(n.static_ltree,n.static_dtree)):(nt((K<<1)+(i?1:0),3),ot(ee.max_code+1,ne.max_code+1,c+1),lt(Kt,$t)),r(),i&&ut()}function pt(t){dt(jt>=0?jt:-1,Mt-jt,t),jt=Mt,xt.flush_pending()}function mt(){var t,e,n,r;do{if(0===(r=Pt-Ht-Mt)&&0===Mt&&0===Ht)r=At;else if(-1==r)r--;else if(Mt>=At+At-tt){Tt.set(Tt.subarray(At,At+At),0),Ut-=At,Mt-=At,jt-=At,n=t=Ft;do{e=65535&Et[--n],Et[n]=e>=At?e-At:0}while(0!=--t);n=t=At;do{e=65535&It[--n],It[n]=e>=At?e-At:0}while(0!=--t);r+=At}if(0===xt.avail_in)return;t=xt.read_buf(Tt,Mt+Ht,r),(Ht+=t)>=$&&(Ot=255&Tt[Mt],Ot=(Ot<<Dt^255&Tt[Mt+1])&Rt)}while(Ht<tt&&0!==xt.avail_in)}function gt(t){var e,n=65535;for(n>_t-5&&(n=_t-5);;){if(Ht<=1){if(mt(),0===Ht&&t==k)return L;if(0===Ht)break}if(Mt+=Ht,Ht=0,e=jt+n,(0===Mt||Mt>=e)&&(Ht=Mt-e,Mt=e,pt(!1),0===xt.avail_out))return L;if(Mt-jt>=At-tt&&(pt(!1),0===xt.avail_out))return L}return pt(t==A),0===xt.avail_out?t==A?U:L:t==A?H:M}function wt(t){var e,n,r=Xt,i=Mt,o=Wt,a=Mt>At-tt?Mt-(At-tt):0,s=Qt,c=qt,l=Mt+Z,u=Tt[i+o-1],h=Tt[i+o];Wt>=Jt&&(r>>=2),s>Ht&&(s=Ht);do{if(e=t,Tt[e+o]==h&&Tt[e+o-1]==u&&Tt[e]==Tt[i]&&Tt[++e]==Tt[i+1]){i+=2,e++;do{}while(Tt[++i]==Tt[++e]&&Tt[++i]==Tt[++e]&&Tt[++i]==Tt[++e]&&Tt[++i]==Tt[++e]&&Tt[++i]==Tt[++e]&&Tt[++i]==Tt[++e]&&Tt[++i]==Tt[++e]&&Tt[++i]==Tt[++e]&&i<l);if(n=Z-(l-i),i=l-Z,n>o){if(Ut=t,o=n,n>=s)break;u=Tt[i+o-1],h=Tt[i+o]}}}while((t=65535&It[t&c])>a&&0!=--r);return o<=Ht?o:Ht}function yt(t){for(var e,n=0;;){if(Ht<tt){if(mt(),Ht<tt&&t==k)return L;if(0===Ht)break}if(Ht>=$&&(Ot=(Ot<<Dt^255&Tt[Mt+($-1)])&Rt,n=65535&Et[Ot],It[Mt&qt]=Et[Ot],Et[Ot]=Mt),0!==n&&(Mt-n&65535)<=At-tt&&Yt!=b&&(zt=wt(n)),zt>=$)if(e=ct(Mt-Ut,zt-$),Ht-=zt,zt<=Vt&&Ht>=$){zt--;do{Ot=(Ot<<Dt^255&Tt[++Mt+($-1)])&Rt,n=65535&Et[Ot],It[Mt&qt]=Et[Ot],Et[Ot]=Mt}while(0!=--zt);Mt++}else Mt+=zt,zt=0,Ot=255&Tt[Mt],Ot=(Ot<<Dt^255&Tt[Mt+1])&Rt;else e=ct(0,255&Tt[Mt]),Ht--,Mt++;if(e&&(pt(!1),0===xt.avail_out))return L}return pt(t==A),0===xt.avail_out?t==A?U:L:t==A?H:M}function vt(t){for(var e,n,r=0;;){if(Ht<tt){if(mt(),Ht<tt&&t==k)return L;if(0===Ht)break}if(Ht>=$&&(Ot=(Ot<<Dt^255&Tt[Mt+($-1)])&Rt,r=65535&Et[Ot],It[Mt&qt]=Et[Ot],Et[Ot]=Mt),Wt=zt,Nt=Ut,zt=$-1,0!==r&&Wt<Vt&&(Mt-r&65535)<=At-tt&&(Yt!=b&&(zt=wt(r)),zt<=5&&(Yt==v||zt==$&&Mt-Ut>4096)&&(zt=$-1)),Wt>=$&&zt<=Wt){n=Mt+Ht-$,e=ct(Mt-1-Nt,Wt-$),Ht-=Wt-1,Wt-=2;do{++Mt<=n&&(Ot=(Ot<<Dt^255&Tt[Mt+($-1)])&Rt,r=65535&Et[Ot],It[Mt&qt]=Et[Ot],Et[Ot]=Mt)}while(0!=--Wt);if(Lt=0,zt=$-1,Mt++,e&&(pt(!1),0===xt.avail_out))return L}else if(0!==Lt){if((e=ct(0,255&Tt[Mt-1]))&&pt(!1),Mt++,Ht--,0===xt.avail_out)return L}else Lt=1,Mt++,Ht--}return 0!==Lt&&(e=ct(0,255&Tt[Mt-1]),Lt=0),pt(t==A),0===xt.avail_out?t==A?U:L:t==A?H:M}function bt(e){return e.total_in=e.total_out=0,e.msg=null,te.pending=0,te.pending_out=0,kt=V,Ct=k,o(),t(),S}var xt,kt,_t,Ct,At,St,qt,Tt,Pt,It,Et,Ot,Ft,Bt,Rt,Dt,jt,zt,Nt,Lt,Mt,Ut,Ht,Wt,Xt,Vt,Gt,Yt,Jt,Qt,Kt,$t,Zt,te=this,ee=new e,ne=new e,re=new e;te.depth=[];var ie,oe,ae,se,ce,le,ue,he;te.bl_count=[],te.heap=[],Kt=[],$t=[],Zt=[],te.pqdownheap=function(t,e){for(var n=te.heap,r=n[e],o=e<<1;o<=te.heap_len&&(o<te.heap_len&&i(t,n[o+1],n[o],te.depth)&&o++,!i(t,r,n[o],te.depth));)n[e]=n[o],e=o,o<<=1;n[e]=r},te.deflateInit=function(t,e,n,r,i,o){return r||(r=Y),i||(i=B),o||(o=x),t.msg=null,e==y&&(e=6),i<1||i>F||r!=Y||n<9||n>15||e<0||e>9||o<0||o>b?P:(t.dstate=te,St=n,At=1<<St,qt=At-1,Bt=i+7,Ft=1<<Bt,Rt=Ft-1,Dt=Math.floor((Bt+$-1)/$),Tt=new Uint8Array(2*At),It=[],Et=[],oe=1<<i+6,te.pending_buf=new Uint8Array(4*oe),_t=4*oe,se=Math.floor(oe/2),ie=3*oe,Gt=e,Yt=o,bt(t))},te.deflateEnd=function(){return kt!=X&&kt!=V&&kt!=G?P:(te.pending_buf=null,Et=null,It=null,Tt=null,te.dstate=null,kt==V?I:S)},te.deflateParams=function(t,e,n){var r=S;return e==y&&(e=6),e<0||e>9||n<0||n>b?P:(z[Gt].func!=z[e].func&&0!==t.total_in&&(r=t.deflate(_)),Gt!=e&&(Vt=z[Gt=e].max_lazy,Jt=z[Gt].good_length,Qt=z[Gt].nice_length,Xt=z[Gt].max_chain),Yt=n,r)},te.deflateSetDictionary=function(t,e,n){var r,i=n,o=0;if(!e||kt!=X)return P;if(i<$)return S;for(i>At-tt&&(o=n-(i=At-tt)),Tt.set(e.subarray(o,o+i),0),Mt=i,jt=i,Ot=255&Tt[0],Ot=(Ot<<Dt^255&Tt[1])&Rt,r=0;r<=i-$;r++)Ot=(Ot<<Dt^255&Tt[r+($-1)])&Rt,It[r&qt]=Et[Ot],Et[Ot]=r;return S},te.deflate=function(t,e){var n,r,i,o,a;if(e>A||e<0)return P;if(!t.next_out||!t.next_in&&0!==t.avail_in||kt==G&&e!=A)return t.msg=N[T-P],P;if(0===t.avail_out)return t.msg=N[T-E],E;if(xt=t,o=Ct,Ct=e,kt==X&&(r=Y+(St-8<<4)<<8,(i=(Gt-1&255)>>1)>3&&(i=3),r|=i<<6,0!==Mt&&(r|=W),kt=V,et(r+=31-r%31)),0!==te.pending){if(xt.flush_pending(),0===xt.avail_out)return Ct=-1,S}else if(0===xt.avail_in&&e<=o&&e!=A)return xt.msg=N[T-E],E;if(kt==G&&0!==xt.avail_in)return t.msg=N[T-E],E;if(0!==xt.avail_in||0!==Ht||e!=k&&kt!=G){switch(a=-1,z[Gt].func){case R:a=gt(e);break;case D:a=yt(e);break;case j:a=vt(e)}if(a!=U&&a!=H||(kt=G),a==L||a==U)return 0===xt.avail_out&&(Ct=-1),S;if(a==M){if(e==_)st();else if(ft(0,0,!1),e==C)for(n=0;n<Ft;n++)Et[n]=0;if(xt.flush_pending(),0===xt.avail_out)return Ct=-1,S}}return e!=A?S:q}}function a(){var t=this;t.next_in_index=0,t.next_out_index=0,t.avail_in=0,t.total_in=0,t.avail_out=0,t.total_out=0}var s=15,c=30,l=19,u=256,h=u+1+29,f=2*h+1,d=256,p=16,m=17,g=18,w=16,y=-1,v=1,b=2,x=0,k=0,_=1,C=3,A=4,S=0,q=1,T=2,P=-2,I=-3,E=-5,O=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];e._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],e.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],e.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],e.d_code=function(t){return t<256?O[t]:O[256+(t>>>7)]},e.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],e.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],e.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],e.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],n.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],n.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],n.static_l_desc=new n(n.static_ltree,e.extra_lbits,u+1,h,s),n.static_d_desc=new n(n.static_dtree,e.extra_dbits,0,c,s),n.static_bl_desc=new n(null,e.extra_blbits,0,l,7);var F=9,B=8,R=0,D=1,j=2,z=[new r(0,0,0,0,R),new r(4,4,8,4,D),new r(4,5,16,8,D),new r(4,6,32,32,D),new r(4,4,16,16,j),new r(8,16,32,32,j),new r(8,16,128,128,j),new r(8,32,128,256,j),new r(32,128,258,1024,j),new r(32,258,258,4096,j)],N=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],L=0,M=1,U=2,H=3,W=32,X=42,V=113,G=666,Y=8,J=0,Q=1,K=2,$=3,Z=258,tt=Z+$+1;return a.prototype={deflateInit:function(t,e){var n=this;return n.dstate=new o,e||(e=s),n.dstate.deflateInit(n,t,e)},deflate:function(t){var e=this;return e.dstate?e.dstate.deflate(e,t):P},deflateEnd:function(){var t=this;if(!t.dstate)return P;var e=t.dstate.deflateEnd();return t.dstate=null,e},deflateParams:function(t,e){var n=this;return n.dstate?n.dstate.deflateParams(n,t,e):P},deflateSetDictionary:function(t,e){var n=this;return n.dstate?n.dstate.deflateSetDictionary(n,t,e):P},read_buf:function(t,e,n){var r=this,i=r.avail_in;return i>n&&(i=n),0===i?0:(r.avail_in-=i,t.set(r.next_in.subarray(r.next_in_index,r.next_in_index+i),e),r.next_in_index+=i,r.total_in+=i,i)},flush_pending:function(){var t=this,e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,0===t.dstate.pending&&(t.dstate.pending_out=0))}},function(t){var e=this,n=new a,r=k,i=new Uint8Array(512);void 0===t&&(t=y),n.deflateInit(t),n.next_out=i,e.append=function(t,e){var o,a=[],s=0,c=0,l=0;if(t.length){n.next_in_index=0,n.next_in=t,n.avail_in=t.length;do{if(n.next_out_index=0,n.avail_out=512,n.deflate(r)!=S)throw"deflating: "+n.msg;n.next_out_index&&(512==n.next_out_index?a.push(new Uint8Array(i)):a.push(new Uint8Array(i.subarray(0,n.next_out_index)))),l+=n.next_out_index,e&&n.next_in_index>0&&n.next_in_index!=s&&(e(n.next_in_index),s=n.next_in_index)}while(n.avail_in>0||0===n.avail_out);return o=new Uint8Array(l),a.forEach(function(t){o.set(t,c),c+=t.length}),o}},e.flush=function(){var t,e,r=[],o=0,a=0;do{if(n.next_out_index=0,n.avail_out=512,(t=n.deflate(A))!=q&&t!=S)throw"deflating: "+n.msg;512-n.avail_out>0&&r.push(new Uint8Array(i.subarray(0,n.next_out_index))),a+=n.next_out_index}while(n.avail_in>0||0===n.avail_out);return n.deflateEnd(),e=new Uint8Array(a),r.forEach(function(t){e.set(t,o),o+=t.length}),e}}}();/*
  html2canvas 0.5.0-beta3 <http://html2canvas.hertzen.com>
  Copyright (c) 2016 Niklas von Hertzen

  Released under  License
*/
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.html2canvas=t()}}(function(){return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return i(n||t)},u,u.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){(function(t){!function(r){function i(t){throw RangeError(E[t])}function o(t,e){for(var n=t.length;n--;)t[n]=e(t[n]);return t}function a(t,e){return o(t.split(I),e).join(".")}function s(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function c(t){return o(t,function(t){var e="";return t>65535&&(e+=B((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=B(t)}).join("")}function l(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:b}function u(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function h(t,e,n){var r=0;for(t=n?F(t/C):t>>1,t+=F(t/e);t>O*k>>1;r+=b)t=F(t/O);return F(r+(O+1)*t/(t+_))}function f(t){var e,n,r,o,a,s,u,f,d,p,m=[],g=t.length,w=0,y=S,_=A;for((n=t.lastIndexOf(q))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&i("not-basic"),m.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<g;){for(a=w,s=1,u=b;o>=g&&i("invalid-input"),((f=l(t.charCodeAt(o++)))>=b||f>F((v-w)/s))&&i("overflow"),w+=f*s,d=u<=_?x:u>=_+k?k:u-_,!(f<d);u+=b)s>F(v/(p=b-d))&&i("overflow"),s*=p;_=h(w-a,e=m.length+1,0==a),F(w/e)>v-y&&i("overflow"),y+=F(w/e),w%=e,m.splice(w++,0,y)}return c(m)}function d(t){var e,n,r,o,a,c,l,f,d,p,m,g,w,y,_,C=[];for(g=(t=s(t)).length,e=S,n=0,a=A,c=0;c<g;++c)(m=t[c])<128&&C.push(B(m));for(r=o=C.length,o&&C.push(q);r<g;){for(l=v,c=0;c<g;++c)(m=t[c])>=e&&m<l&&(l=m);for(l-e>F((v-n)/(w=r+1))&&i("overflow"),n+=(l-e)*w,e=l,c=0;c<g;++c)if((m=t[c])<e&&++n>v&&i("overflow"),m==e){for(f=n,d=b;p=d<=a?x:d>=a+k?k:d-a,!(f<p);d+=b)_=f-p,y=b-p,C.push(B(u(p+_%y,0))),f=F(_/y);C.push(B(u(f,0))),a=h(n,w,r==o),n=0,++r}++n,++e}return C.join("")}var p="object"==typeof n&&n,m="object"==typeof e&&e&&e.exports==p&&e,g="object"==typeof t&&t;g.global!==g&&g.window!==g||(r=g);var w,y,v=2147483647,b=36,x=1,k=26,_=38,C=700,A=72,S=128,q="-",T=/^xn--/,P=/[^ -~]/,I=/\x2E|\u3002|\uFF0E|\uFF61/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=b-x,F=Math.floor,B=String.fromCharCode;if(w={version:"1.2.4",ucs2:{decode:s,encode:c},decode:f,encode:d,toASCII:function(t){return a(t,function(t){return P.test(t)?"xn--"+d(t):t})},toUnicode:function(t){return a(t,function(t){return T.test(t)?f(t.slice(4).toLowerCase()):t})}},p&&!p.nodeType)if(m)m.exports=w;else for(y in w)w.hasOwnProperty(y)&&(p[y]=w[y]);else r.punycode=w}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){function r(t,e,n){!t.defaultView||e===t.defaultView.pageXOffset&&n===t.defaultView.pageYOffset||t.defaultView.scrollTo(e,n)}function i(t,e){try{e&&(e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t.getContext("2d").getImageData(0,0,t.width,t.height),0,0))}catch(e){s("Unable to copy canvas content from",t,e)}}function o(t,e){for(var n=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),r=t.firstChild;r;)!0!==e&&1===r.nodeType&&"SCRIPT"===r.nodeName||n.appendChild(o(r,e)),r=r.nextSibling;return 1===t.nodeType&&(n._scrollTop=t.scrollTop,n._scrollLeft=t.scrollLeft,"CANVAS"===t.nodeName?i(t,n):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(n.value=t.value)),n}function a(t){if(1===t.nodeType){t.scrollTop=t._scrollTop,t.scrollLeft=t._scrollLeft;for(var e=t.firstChild;e;)a(e),e=e.nextSibling}}var s=t("./log");e.exports=function(t,e,n,i,s,c,l){var u=o(t.documentElement,s.javascriptEnabled),h=e.createElement("iframe");return h.className="html2canvas-container",h.style.visibility="hidden",h.style.position="fixed",h.style.left="-10000px",h.style.top="0px",h.style.border="0",h.width=n,h.height=i,h.scrolling="no",e.body.appendChild(h),new Promise(function(e){var n=h.contentWindow.document;h.contentWindow.onload=h.onload=function(){var t=setInterval(function(){n.body.childNodes.length>0&&(a(n.documentElement),clearInterval(t),"view"===s.type&&(h.contentWindow.scrollTo(c,l),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||h.contentWindow.scrollY===l&&h.contentWindow.scrollX===c||(n.documentElement.style.top=-l+"px",n.documentElement.style.left=-c+"px",n.documentElement.style.position="absolute")),e(h))},50)},n.open(),n.write("<!DOCTYPE html><html></html>"),r(t,c,l),n.replaceChild(n.adoptNode(u),n.documentElement),n.close()})}},{"./log":13}],3:[function(t,e,n){function r(t){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(t)||this.namedColor(t)||this.rgb(t)||this.rgba(t)||this.hex6(t)||this.hex3(t)}r.prototype.darken=function(t){var e=1-t;return new r([Math.round(this.r*e),Math.round(this.g*e),Math.round(this.b*e),this.a])},r.prototype.isTransparent=function(){return 0===this.a},r.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},r.prototype.fromArray=function(t){return Array.isArray(t)&&(this.r=Math.min(t[0],255),this.g=Math.min(t[1],255),this.b=Math.min(t[2],255),t.length>3&&(this.a=t[3])),Array.isArray(t)};var i=/^#([a-f0-9]{3})$/i;r.prototype.hex3=function(t){var e=null;return null!==(e=t.match(i))&&(this.r=parseInt(e[1][0]+e[1][0],16),this.g=parseInt(e[1][1]+e[1][1],16),this.b=parseInt(e[1][2]+e[1][2],16)),null!==e};var o=/^#([a-f0-9]{6})$/i;r.prototype.hex6=function(t){var e=null;return null!==(e=t.match(o))&&(this.r=parseInt(e[1].substring(0,2),16),this.g=parseInt(e[1].substring(2,4),16),this.b=parseInt(e[1].substring(4,6),16)),null!==e};var a=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;r.prototype.rgb=function(t){var e=null;return null!==(e=t.match(a))&&(this.r=Number(e[1]),this.g=Number(e[2]),this.b=Number(e[3])),null!==e};var s=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;r.prototype.rgba=function(t){var e=null;return null!==(e=t.match(s))&&(this.r=Number(e[1]),this.g=Number(e[2]),this.b=Number(e[3]),this.a=Number(e[4])),null!==e},r.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},r.prototype.namedColor=function(t){t=t.toLowerCase();var e=c[t];if(e)this.r=e[0],this.g=e[1],this.b=e[2];else if("transparent"===t)return this.r=this.g=this.b=this.a=0,!0;return!!e},r.prototype.isColor=!0;var c={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};e.exports=r},{}],4:[function(t,e,n){function r(t,e){var n=k++;if((e=e||{}).logging&&(g.options.logging=!0,g.options.start=Date.now()),e.async=void 0===e.async||e.async,e.allowTaint=void 0!==e.allowTaint&&e.allowTaint,e.removeContainer=void 0===e.removeContainer||e.removeContainer,e.javascriptEnabled=void 0!==e.javascriptEnabled&&e.javascriptEnabled,e.imageTimeout=void 0===e.imageTimeout?1e4:e.imageTimeout,e.renderer="function"==typeof e.renderer?e.renderer:f,e.strict=!!e.strict,"string"==typeof t){if("string"!=typeof e.proxy)return Promise.reject("Proxy must be used when rendering url");var r=null!=e.width?e.width:window.innerWidth,a=null!=e.height?e.height:window.innerHeight;return v(u(t),e.proxy,document,r,a,e).then(function(t){return o(t.contentWindow.document.documentElement,t,e,r,a)})}var s=(void 0===t?[document.documentElement]:t.length?t:[t])[0];return s.setAttribute(x+n,n),i(s.ownerDocument,e,s.ownerDocument.defaultView.innerWidth,s.ownerDocument.defaultView.innerHeight,n).then(function(t){return"function"==typeof e.onrendered&&(g("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),e.onrendered(t)),t})}function i(t,e,n,r,i){return y(t,t,n,r,e,t.defaultView.pageXOffset,t.defaultView.pageYOffset).then(function(a){g("Document cloned");var s=x+i,c="["+s+"='"+i+"']";t.querySelector(c).removeAttribute(s);var l=a.contentWindow,u=l.document.querySelector(c);return("function"==typeof e.onclone?Promise.resolve(e.onclone(l.document)):Promise.resolve(!0)).then(function(){return o(u,a,e,n,r)})})}function o(t,e,n,r,i){var o=e.contentWindow,u=new h(o.document),f=new d(n,u),m=b(t),w="view"===n.type?r:c(o.document),y="view"===n.type?i:l(o.document),v=new n.renderer(w,y,f,n,document);return new p(t,v,u,f,n).ready.then(function(){g("Finished rendering");var r;return r="view"===n.type?s(v.canvas,{width:v.canvas.width,height:v.canvas.height,top:0,left:0,x:0,y:0}):t===o.document.body||t===o.document.documentElement||null!=n.canvas?v.canvas:s(v.canvas,{width:null!=n.width?n.width:m.width,height:null!=n.height?n.height:m.height,top:m.top,left:m.left,x:0,y:0}),a(e,n),r})}function a(t,e){e.removeContainer&&(t.parentNode.removeChild(t),g("Cleaned up container"))}function s(t,e){var n=document.createElement("canvas"),r=Math.min(t.width-1,Math.max(0,e.left)),i=Math.min(t.width,Math.max(1,e.left+e.width)),o=Math.min(t.height-1,Math.max(0,e.top)),a=Math.min(t.height,Math.max(1,e.top+e.height));n.width=e.width,n.height=e.height;var s=i-r,c=a-o;return g("Cropping canvas at:","left:",e.left,"top:",e.top,"width:",s,"height:",c),g("Resulting crop with width",e.width,"and height",e.height,"with x",r,"and y",o),n.getContext("2d").drawImage(t,r,o,s,c,e.x,e.y,s,c),n}function c(t){return Math.max(Math.max(t.body.scrollWidth,t.documentElement.scrollWidth),Math.max(t.body.offsetWidth,t.documentElement.offsetWidth),Math.max(t.body.clientWidth,t.documentElement.clientWidth))}function l(t){return Math.max(Math.max(t.body.scrollHeight,t.documentElement.scrollHeight),Math.max(t.body.offsetHeight,t.documentElement.offsetHeight),Math.max(t.body.clientHeight,t.documentElement.clientHeight))}function u(t){var e=document.createElement("a");return e.href=t,e.href=e.href,e}var h=t("./support"),f=t("./renderers/canvas"),d=t("./imageloader"),p=t("./nodeparser"),m=t("./nodecontainer"),g=t("./log"),w=t("./utils"),y=t("./clone"),v=t("./proxy").loadUrlDocument,b=w.getBounds,x="data-html2canvas-node",k=0;r.CanvasRenderer=f,r.NodeContainer=m,r.log=g,r.utils=w;var _="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:r;e.exports=_},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(t,e,n){function r(t){if(this.src=t,i("DummyImageContainer for",t),!this.promise||!this.image){i("Initiating DummyImageContainer"),r.prototype.image=new Image;var e=this.image;r.prototype.promise=new Promise(function(t,n){e.onload=t,e.onerror=n,e.src=o(),!0===e.complete&&t(e)})}}var i=t("./log"),o=t("./utils").smallImage;e.exports=r},{"./log":13,"./utils":26}],6:[function(t,e,n){var r=t("./utils").smallImage;e.exports=function(t,e){var n,i,o=document.createElement("div"),a=document.createElement("img"),s=document.createElement("span");o.style.visibility="hidden",o.style.fontFamily=t,o.style.fontSize=e,o.style.margin=0,o.style.padding=0,document.body.appendChild(o),a.src=r(),a.width=1,a.height=1,a.style.margin=0,a.style.padding=0,a.style.verticalAlign="baseline",s.style.fontFamily=t,s.style.fontSize=e,s.style.margin=0,s.style.padding=0,s.appendChild(document.createTextNode("Hidden Text")),o.appendChild(s),o.appendChild(a),n=a.offsetTop-s.offsetTop+1,o.removeChild(s),o.appendChild(document.createTextNode("Hidden Text")),o.style.lineHeight="normal",a.style.verticalAlign="super",i=a.offsetTop-o.offsetTop+1,document.body.removeChild(o),this.baseline=n,this.lineWidth=1,this.middle=i}},{"./utils":26}],7:[function(t,e,n){function r(){this.data={}}var i=t("./font");r.prototype.getMetrics=function(t,e){return void 0===this.data[t+"-"+e]&&(this.data[t+"-"+e]=new i(t,e)),this.data[t+"-"+e]},e.exports=r},{"./font":6}],8:[function(t,e,n){function r(e,n,r){this.image=null,this.src=e;var o=this,a=i(e);this.promise=(n?new Promise(function(t){"about:blank"===e.contentWindow.document.URL||null==e.contentWindow.document.documentElement?e.contentWindow.onload=e.onload=function(){t(e)}:t(e)}):this.proxyLoad(r.proxy,a,r)).then(function(e){return t("./core")(e.contentWindow.document.documentElement,{type:"view",width:e.width,height:e.height,proxy:r.proxy,javascriptEnabled:r.javascriptEnabled,removeContainer:r.removeContainer,allowTaint:r.allowTaint,imageTimeout:r.imageTimeout/2})}).then(function(t){return o.image=t})}var i=t("./utils").getBounds,o=t("./proxy").loadUrlDocument;r.prototype.proxyLoad=function(t,e,n){var r=this.src;return o(r.src,t,r.ownerDocument,e.width,e.height,n)},e.exports=r},{"./core":4,"./proxy":16,"./utils":26}],9:[function(t,e,n){function r(t){this.src=t.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}r.TYPES={LINEAR:1,RADIAL:2},r.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,e.exports=r},{}],10:[function(t,e,n){e.exports=function(t,e){this.src=t,this.image=new Image;var n=this;this.tainted=null,this.promise=new Promise(function(r,i){n.image.onload=r,n.image.onerror=i,e&&(n.image.crossOrigin="anonymous"),n.image.src=t,!0===n.image.complete&&r(n.image)})}},{}],11:[function(t,e,n){function r(t,e){this.link=null,this.options=t,this.support=e,this.origin=this.getOrigin(window.location.href)}var i=t("./log"),o=t("./imagecontainer"),a=t("./dummyimagecontainer"),s=t("./proxyimagecontainer"),c=t("./framecontainer"),l=t("./svgcontainer"),u=t("./svgnodecontainer"),h=t("./lineargradientcontainer"),f=t("./webkitgradientcontainer"),d=t("./utils").bind;r.prototype.findImages=function(t){var e=[];return t.reduce(function(t,e){switch(e.node.nodeName){case"IMG":return t.concat([{args:[e.node.src],method:"url"}]);case"svg":case"IFRAME":return t.concat([{args:[e.node],method:e.node.nodeName}])}return t},[]).forEach(this.addImage(e,this.loadImage),this),e},r.prototype.findBackgroundImage=function(t,e){return e.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(t,this.loadImage),this),t},r.prototype.addImage=function(t,e){return function(n){n.args.forEach(function(r){this.imageExists(t,r)||(t.splice(0,0,e.call(this,n)),i("Added image #"+t.length,"string"==typeof r?r.substring(0,100):r))},this)}},r.prototype.hasImageBackground=function(t){return"none"!==t.method},r.prototype.loadImage=function(t){if("url"===t.method){var e=t.args[0];return!this.isSVG(e)||this.support.svg||this.options.allowTaint?e.match(/data:image\/.*;base64,/i)?new o(e.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(e)||!0===this.options.allowTaint||this.isSVG(e)?new o(e,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new o(e,!0):this.options.proxy?new s(e,this.options.proxy):new a(e):new l(e)}return"linear-gradient"===t.method?new h(t):"gradient"===t.method?new f(t):"svg"===t.method?new u(t.args[0],this.support.svg):"IFRAME"===t.method?new c(t.args[0],this.isSameOrigin(t.args[0].src),this.options):new a(t)},r.prototype.isSVG=function(t){return"svg"===t.substring(t.length-3).toLowerCase()||l.prototype.isInline(t)},r.prototype.imageExists=function(t,e){return t.some(function(t){return t.src===e})},r.prototype.isSameOrigin=function(t){return this.getOrigin(t)===this.origin},r.prototype.getOrigin=function(t){var e=this.link||(this.link=document.createElement("a"));return e.href=t,e.href=e.href,e.protocol+e.hostname+e.port},r.prototype.getPromise=function(t){return this.timeout(t,this.options.imageTimeout).catch(function(){return new a(t.src).promise.then(function(e){t.image=e})})},r.prototype.get=function(t){var e=null;return this.images.some(function(n){return(e=n).src===t})?e:null},r.prototype.fetch=function(t){return this.images=t.reduce(d(this.findBackgroundImage,this),this.findImages(t)),this.images.forEach(function(t,e){t.promise.then(function(){i("Succesfully loaded image #"+(e+1),t)},function(n){i("Failed loading image #"+(e+1),t,n)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),i("Finished searching images"),this},r.prototype.timeout=function(t,e){var n,r=Promise.race([t.promise,new Promise(function(r,o){n=setTimeout(function(){i("Timed out loading image",t),o(t)},e)})]).then(function(t){return clearTimeout(n),t});return r.catch(function(){clearTimeout(n)}),r},e.exports=r},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(t,e,n){function r(t){i.apply(this,arguments),this.type=i.TYPES.LINEAR;var e=r.REGEXP_DIRECTION.test(t.args[0])||!i.REGEXP_COLORSTOP.test(t.args[0]);e?t.args[0].split(/\s+/).reverse().forEach(function(t,e){switch(t){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var n=this.y0,r=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=r,this.y1=n;break;case"center":break;default:var i=.01*parseFloat(t,10);if(isNaN(i))break;0===e?(this.y0=i,this.y1=1-this.y0):(this.x0=i,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=t.args.slice(e?1:0).map(function(t){var e=t.match(i.REGEXP_COLORSTOP),n=+e[2],r=0===n?"%":e[3];return{color:new o(e[1]),stop:"%"===r?n/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(t,e){null===t.stop&&this.colorStops.slice(e).some(function(n,r){return null!==n.stop&&(t.stop=(n.stop-this.colorStops[e-1].stop)/(r+1)+this.colorStops[e-1].stop,!0)},this)},this)}var i=t("./gradientcontainer"),o=t("./color");r.prototype=Object.create(i.prototype),r.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,e.exports=r},{"./color":3,"./gradientcontainer":9}],13:[function(t,e,n){var r=function(){r.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-r.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};r.options={logging:!1},e.exports=r},{}],14:[function(t,e,n){function r(t,e){this.node=t,this.parent=e,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function i(t){var e=t.options[t.selectedIndex||0];return e?e.text||"":""}function o(t){if(t&&"matrix"===t[1])return t[2].split(",").map(function(t){return parseFloat(t.trim())});if(t&&"matrix3d"===t[1]){var e=t[2].split(",").map(function(t){return parseFloat(t.trim())});return[e[0],e[1],e[4],e[5],e[12],e[13]]}}function a(t){return-1!==t.toString().indexOf("%")}function s(t){return t.replace("px","")}function c(t){return parseFloat(t)}var l=t("./color"),u=t("./utils"),h=u.getBounds,f=u.parseBackgrounds,d=u.offsetBounds;r.prototype.cloneTo=function(t){t.visible=this.visible,t.borders=this.borders,t.bounds=this.bounds,t.clip=this.clip,t.backgroundClip=this.backgroundClip,t.computedStyles=this.computedStyles,t.styles=this.styles,t.backgroundImages=this.backgroundImages,t.opacity=this.opacity},r.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},r.prototype.assignStack=function(t){this.stack=t,t.children.push(this)},r.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},r.prototype.css=function(t){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[t]||(this.styles[t]=this.computedStyles[t])},r.prototype.prefixedCss=function(t){var e=["webkit","moz","ms","o"],n=this.css(t);return void 0===n&&e.some(function(e){return void 0!==(n=this.css(e+t.substr(0,1).toUpperCase()+t.substr(1)))},this),void 0===n?null:n},r.prototype.computedStyle=function(t){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,t)},r.prototype.cssInt=function(t){var e=parseInt(this.css(t),10);return isNaN(e)?0:e},r.prototype.color=function(t){return this.colors[t]||(this.colors[t]=new l(this.css(t)))},r.prototype.cssFloat=function(t){var e=parseFloat(this.css(t));return isNaN(e)?0:e},r.prototype.fontWeight=function(){var t=this.css("fontWeight");switch(parseInt(t,10)){case 401:t="bold";break;case 400:t="normal"}return t},r.prototype.parseClip=function(){var t=this.css("clip").match(this.CLIP);return t?{top:parseInt(t[1],10),right:parseInt(t[2],10),bottom:parseInt(t[3],10),left:parseInt(t[4],10)}:null},r.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=f(this.css("backgroundImage")))},r.prototype.cssList=function(t,e){var n=(this.css(t)||"").split(",");return n=n[e||0]||n[0]||"auto",1===(n=n.trim().split(" ")).length&&(n=[n[0],a(n[0])?"auto":n[0]]),n},r.prototype.parseBackgroundSize=function(t,e,n){var r,i,o=this.cssList("backgroundSize",n);if(a(o[0]))r=t.width*parseFloat(o[0])/100;else{if(/contain|cover/.test(o[0])){var s=t.width/t.height,c=e.width/e.height;return s<c^"contain"===o[0]?{width:t.height*c,height:t.height}:{width:t.width,height:t.width/c}}r=parseInt(o[0],10)}return i="auto"===o[0]&&"auto"===o[1]?e.height:"auto"===o[1]?r/e.width*e.height:a(o[1])?t.height*parseFloat(o[1])/100:parseInt(o[1],10),"auto"===o[0]&&(r=i/e.height*e.width),{width:r,height:i}},r.prototype.parseBackgroundPosition=function(t,e,n,r){var i,o,s=this.cssList("backgroundPosition",n);return i=a(s[0])?(t.width-(r||e).width)*(parseFloat(s[0])/100):parseInt(s[0],10),o="auto"===s[1]?i/e.width*e.height:a(s[1])?(t.height-(r||e).height)*parseFloat(s[1])/100:parseInt(s[1],10),"auto"===s[0]&&(i=o/e.height*e.width),{left:i,top:o}},r.prototype.parseBackgroundRepeat=function(t){return this.cssList("backgroundRepeat",t)[0]},r.prototype.parseTextShadows=function(){var t=this.css("textShadow"),e=[];if(t&&"none"!==t)for(var n=t.match(this.TEXT_SHADOW_PROPERTY),r=0;n&&r<n.length;r++){var i=n[r].match(this.TEXT_SHADOW_VALUES);e.push({color:new l(i[0]),offsetX:i[1]?parseFloat(i[1].replace("px","")):0,offsetY:i[2]?parseFloat(i[2].replace("px","")):0,blur:i[3]?i[3].replace("px",""):0})}return e},r.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var t=this.parseBounds(),e=this.prefixedCss("transformOrigin").split(" ").map(s).map(c);e[0]+=t.left,e[1]+=t.top,this.transformData={origin:e,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},r.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var t=this.prefixedCss("transform"),e=t?o(t.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=e||[1,0,0,1,0,0]}return this.transformMatrix},r.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?d(this.node):h(this.node))},r.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},r.prototype.getValue=function(){var t=this.node.value||"";return"SELECT"===this.node.tagName?t=i(this.node):"password"===this.node.type&&(t=Array(t.length+1).join("•")),0===t.length?this.node.placeholder||"":t},r.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,r.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,r.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,r.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,e.exports=r},{"./color":3,"./utils":26}],15:[function(t,e,n){function r(t,e,n,r,i){L("Starting NodeParser"),this.renderer=e,this.options=i,this.range=null,this.support=n,this.renderQueue=[],this.stack=new G(!0,1,t.ownerDocument,null);var o=new U(t,null);if(i.background&&e.rectangle(0,0,e.width,e.height,new V(i.background)),t===t.ownerDocument.documentElement){var a=new U(o.color("backgroundColor").isTransparent()?t.ownerDocument.body:t.ownerDocument.documentElement,null);e.rectangle(0,0,e.width,e.height,a.color("backgroundColor"))}o.visibile=o.isElementVisible(),this.createPseudoHideStyles(t.ownerDocument),this.disableAnimations(t.ownerDocument),this.nodes=R([o].concat(this.getChildren(o)).filter(function(t){return t.visible=t.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new X,L("Fetched nodes, total:",this.nodes.length),L("Calculate overflow clips"),this.calculateOverflowClips(),L("Start fetching images"),this.images=r.fetch(this.nodes.filter(q)),this.ready=this.images.ready.then(J(function(){return L("Images loaded, starting parsing"),L("Creating stacking contexts"),this.createStackingContexts(),L("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),L("Render queue created with "+this.renderQueue.length+" items"),new Promise(J(function(t){i.async?"function"==typeof i.async?i.async.call(this,this.renderQueue,t):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,t)):t():(this.renderQueue.forEach(this.paint,this),t())},this))},this))}function i(t){return t.parent&&t.parent.clip.length}function o(t){return t.replace(/(\-[a-z])/g,function(t){return t.toUpperCase().replace("-","")})}function a(){}function s(t,e,n,r){return t.map(function(i,o){if(i.width>0){var a=e.left,s=e.top,c=e.width,l=e.height-t[2].width;switch(o){case 0:l=t[0].width,i.args=h({c1:[a,s],c2:[a+c,s],c3:[a+c-t[1].width,s+l],c4:[a+t[3].width,s+l]},r[0],r[1],n.topLeftOuter,n.topLeftInner,n.topRightOuter,n.topRightInner);break;case 1:a=e.left+e.width-t[1].width,c=t[1].width,i.args=h({c1:[a+c,s],c2:[a+c,s+l+t[2].width],c3:[a,s+l],c4:[a,s+t[0].width]},r[1],r[2],n.topRightOuter,n.topRightInner,n.bottomRightOuter,n.bottomRightInner);break;case 2:s=s+e.height-t[2].width,l=t[2].width,i.args=h({c1:[a+c,s+l],c2:[a,s+l],c3:[a+t[3].width,s],c4:[a+c-t[3].width,s]},r[2],r[3],n.bottomRightOuter,n.bottomRightInner,n.bottomLeftOuter,n.bottomLeftInner);break;case 3:c=t[3].width,i.args=h({c1:[a,s+l+t[2].width],c2:[a,s],c3:[a+c,s+t[0].width],c4:[a+c,s+l]},r[3],r[0],n.bottomLeftOuter,n.bottomLeftInner,n.topLeftOuter,n.topLeftInner)}}return i})}function c(t,e,n,r){var i=(Math.sqrt(2)-1)/3*4,o=n*i,a=r*i,s=t+n,c=e+r;return{topLeft:u({x:t,y:c},{x:t,y:c-a},{x:s-o,y:e},{x:s,y:e}),topRight:u({x:t,y:e},{x:t+o,y:e},{x:s,y:c-a},{x:s,y:c}),bottomRight:u({x:s,y:e},{x:s,y:e+a},{x:t+o,y:c},{x:t,y:c}),bottomLeft:u({x:s,y:c},{x:s-o,y:c},{x:t,y:e+a},{x:t,y:e})}}function l(t,e,n){var r=t.left,i=t.top,o=t.width,a=t.height,s=e[0][0]<o/2?e[0][0]:o/2,l=e[0][1]<a/2?e[0][1]:a/2,u=e[1][0]<o/2?e[1][0]:o/2,h=e[1][1]<a/2?e[1][1]:a/2,f=e[2][0]<o/2?e[2][0]:o/2,d=e[2][1]<a/2?e[2][1]:a/2,p=e[3][0]<o/2?e[3][0]:o/2,m=e[3][1]<a/2?e[3][1]:a/2,g=o-u,w=a-d,y=o-f,v=a-m;return{topLeftOuter:c(r,i,s,l).topLeft.subdivide(.5),topLeftInner:c(r+n[3].width,i+n[0].width,Math.max(0,s-n[3].width),Math.max(0,l-n[0].width)).topLeft.subdivide(.5),topRightOuter:c(r+g,i,u,h).topRight.subdivide(.5),topRightInner:c(r+Math.min(g,o+n[3].width),i+n[0].width,g>o+n[3].width?0:u-n[3].width,h-n[0].width).topRight.subdivide(.5),bottomRightOuter:c(r+y,i+w,f,d).bottomRight.subdivide(.5),bottomRightInner:c(r+Math.min(y,o-n[3].width),i+Math.min(w,a+n[0].width),Math.max(0,f-n[1].width),d-n[2].width).bottomRight.subdivide(.5),bottomLeftOuter:c(r,i+v,p,m).bottomLeft.subdivide(.5),bottomLeftInner:c(r+n[3].width,i+v,Math.max(0,p-n[3].width),m-n[2].width).bottomLeft.subdivide(.5)}}function u(t,e,n,r){var i=function(t,e,n){return{x:t.x+(e.x-t.x)*n,y:t.y+(e.y-t.y)*n}};return{start:t,startControl:e,endControl:n,end:r,subdivide:function(o){var a=i(t,e,o),s=i(e,n,o),c=i(n,r,o),l=i(a,s,o),h=i(s,c,o),f=i(l,h,o);return[u(t,a,l,f),u(f,h,c,r)]},curveTo:function(t){t.push(["bezierCurve",e.x,e.y,n.x,n.y,r.x,r.y])},curveToReversed:function(r){r.push(["bezierCurve",n.x,n.y,e.x,e.y,t.x,t.y])}}}function h(t,e,n,r,i,o,a){var s=[];return e[0]>0||e[1]>0?(s.push(["line",r[1].start.x,r[1].start.y]),r[1].curveTo(s)):s.push(["line",t.c1[0],t.c1[1]]),n[0]>0||n[1]>0?(s.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(s),s.push(["line",a[0].end.x,a[0].end.y]),a[0].curveToReversed(s)):(s.push(["line",t.c2[0],t.c2[1]]),s.push(["line",t.c3[0],t.c3[1]])),e[0]>0||e[1]>0?(s.push(["line",i[1].end.x,i[1].end.y]),i[1].curveToReversed(s)):s.push(["line",t.c4[0],t.c4[1]]),s}function f(t,e,n,r,i,o,a){e[0]>0||e[1]>0?(t.push(["line",r[0].start.x,r[0].start.y]),r[0].curveTo(t),r[1].curveTo(t)):t.push(["line",o,a]),(n[0]>0||n[1]>0)&&t.push(["line",i[0].start.x,i[0].start.y])}function d(t){return t.cssInt("zIndex")<0}function p(t){return t.cssInt("zIndex")>0}function m(t){return 0===t.cssInt("zIndex")}function g(t){return-1!==["inline","inline-block","inline-table"].indexOf(t.css("display"))}function w(t){return t instanceof G}function y(t){return t.node.data.trim().length>0}function v(t){return/^(normal|none|0px)$/.test(t.parent.css("letterSpacing"))}function b(t){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(e){var n=t.css("border"+e+"Radius").split(" ");return n.length<=1&&(n[1]=n[0]),n.map(O)})}function x(t){return t.nodeType===Node.TEXT_NODE||t.nodeType===Node.ELEMENT_NODE}function k(t){var e=t.css("position");return"auto"!==(-1!==["absolute","relative","fixed"].indexOf(e)?t.css("zIndex"):"auto")}function _(t){return"static"!==t.css("position")}function C(t){return"none"!==t.css("float")}function A(t){return-1!==["inline-block","inline-table"].indexOf(t.css("display"))}function S(t){var e=this;return function(){return!t.apply(e,arguments)}}function q(t){return t.node.nodeType===Node.ELEMENT_NODE}function T(t){return!0===t.isPseudoElement}function P(t){return t.node.nodeType===Node.TEXT_NODE}function I(t){return function(e,n){return e.cssInt("zIndex")+t.indexOf(e)/t.length-(n.cssInt("zIndex")+t.indexOf(n)/t.length)}}function E(t){return t.getOpacity()<1}function O(t){return parseInt(t,10)}function F(t){return t.width}function B(t){return t.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(t.node.nodeName)}function R(t){return[].concat.apply([],t)}function D(t){var e=t.substr(0,1);return e===t.substr(t.length-1)&&e.match(/'|"/)?t.substr(1,t.length-2):t}function j(t){for(var e,n=[],r=0,i=!1;t.length;)z(t[r])===i?((e=t.splice(0,r)).length&&n.push(M.ucs2.encode(e)),i=!i,r=0):r++,r>=t.length&&(e=t.splice(0,r)).length&&n.push(M.ucs2.encode(e));return n}function z(t){return-1!==[32,13,10,9,45].indexOf(t)}function N(t){return/[^\u0000-\u00ff]/.test(t)}var L=t("./log"),M=t("punycode"),U=t("./nodecontainer"),H=t("./textcontainer"),W=t("./pseudoelementcontainer"),X=t("./fontmetrics"),V=t("./color"),G=t("./stackingcontext"),Y=t("./utils"),J=Y.bind,Q=Y.getBounds,K=Y.parseBackgrounds,$=Y.offsetBounds;r.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(t){if(q(t)){T(t)&&t.appendToDOM(),t.borders=this.parseBorders(t);var e="hidden"===t.css("overflow")?[t.borders.clip]:[],n=t.parseClip();n&&-1!==["absolute","fixed"].indexOf(t.css("position"))&&e.push([["rect",t.bounds.left+n.left,t.bounds.top+n.top,n.right-n.left,n.bottom-n.top]]),t.clip=i(t)?t.parent.clip.concat(e):e,t.backgroundClip="hidden"!==t.css("overflow")?t.clip.concat([t.borders.clip]):t.clip,T(t)&&t.cleanDOM()}else P(t)&&(t.clip=i(t)?t.parent.clip:[]);T(t)||(t.bounds=null)},this)},r.prototype.asyncRenderer=function(t,e,n){n=n||Date.now(),this.paint(t[this.renderIndex++]),t.length===this.renderIndex?e():n+20>Date.now()?this.asyncRenderer(t,e,n):setTimeout(J(function(){this.asyncRenderer(t,e)},this),0)},r.prototype.createPseudoHideStyles=function(t){this.createStyles(t,"."+W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},r.prototype.disableAnimations=function(t){this.createStyles(t,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},r.prototype.createStyles=function(t,e){var n=t.createElement("style");n.innerHTML=e,t.body.appendChild(n)},r.prototype.getPseudoElements=function(t){var e=[[t]];if(t.node.nodeType===Node.ELEMENT_NODE){var n=this.getPseudoElement(t,":before"),r=this.getPseudoElement(t,":after");n&&e.push(n),r&&e.push(r)}return R(e)},r.prototype.getPseudoElement=function(t,e){var n=t.computedStyle(e);if(!n||!n.content||"none"===n.content||"-moz-alt-content"===n.content||"none"===n.display)return null;for(var r=D(n.content),i="url"===r.substr(0,3),a=document.createElement(i?"img":"html2canvaspseudoelement"),s=new W(a,t,e),c=n.length-1;c>=0;c--){var l=o(n.item(c));a.style[l]=n[l]}if(a.className=W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,i)return a.src=K(r)[0].args[0],[s];var u=document.createTextNode(r);return a.appendChild(u),[s,new H(u,s)]},r.prototype.getChildren=function(t){return R([].filter.call(t.node.childNodes,x).map(function(e){var n=[e.nodeType===Node.TEXT_NODE?new H(e,t):new U(e,t)].filter(B);return e.nodeType===Node.ELEMENT_NODE&&n.length&&"TEXTAREA"!==e.tagName?n[0].isElementVisible()?n.concat(this.getChildren(n[0])):[]:n},this))},r.prototype.newStackingContext=function(t,e){var n=new G(e,t.getOpacity(),t.node,t.parent);t.cloneTo(n),(e?n.getParentStack(this):n.parent.stack).contexts.push(n),t.stack=n},r.prototype.createStackingContexts=function(){this.nodes.forEach(function(t){q(t)&&(this.isRootElement(t)||E(t)||k(t)||this.isBodyWithTransparentRoot(t)||t.hasTransform())?this.newStackingContext(t,!0):q(t)&&(_(t)&&m(t)||A(t)||C(t))?this.newStackingContext(t,!1):t.assignStack(t.parent.stack)},this)},r.prototype.isBodyWithTransparentRoot=function(t){return"BODY"===t.node.nodeName&&t.parent.color("backgroundColor").isTransparent()},r.prototype.isRootElement=function(t){return null===t.parent},r.prototype.sortStackingContexts=function(t){t.contexts.sort(I(t.contexts.slice(0))),t.contexts.forEach(this.sortStackingContexts,this)},r.prototype.parseTextBounds=function(t){return function(e,n,r){if("none"!==t.parent.css("textDecoration").substr(0,4)||0!==e.trim().length){if(this.support.rangeBounds&&!t.parent.hasTransform()){var i=r.slice(0,n).join("").length;return this.getRangeBounds(t.node,i,e.length)}if(t.node&&"string"==typeof t.node.data){var o=t.node.splitText(e.length),a=this.getWrapperBounds(t.node,t.parent.hasTransform());return t.node=o,a}}else this.support.rangeBounds&&!t.parent.hasTransform()||(t.node=t.node.splitText(e.length));return{}}},r.prototype.getWrapperBounds=function(t,e){var n=t.ownerDocument.createElement("html2canvaswrapper"),r=t.parentNode,i=t.cloneNode(!0);n.appendChild(t.cloneNode(!0)),r.replaceChild(n,t);var o=e?$(n):Q(n);return r.replaceChild(i,n),o},r.prototype.getRangeBounds=function(t,e,n){var r=this.range||(this.range=t.ownerDocument.createRange());return r.setStart(t,e),r.setEnd(t,e+n),r.getBoundingClientRect()},r.prototype.parse=function(t){var e=t.contexts.filter(d),n=t.children.filter(q),r=n.filter(S(C)),i=r.filter(S(_)).filter(S(g)),o=n.filter(S(_)).filter(C),s=r.filter(S(_)).filter(g),c=t.contexts.concat(r.filter(_)).filter(m),l=t.children.filter(P).filter(y),u=t.contexts.filter(p);e.concat(i).concat(o).concat(s).concat(c).concat(l).concat(u).forEach(function(t){this.renderQueue.push(t),w(t)&&(this.parse(t),this.renderQueue.push(new a))},this)},r.prototype.paint=function(t){try{t instanceof a?this.renderer.ctx.restore():P(t)?(T(t.parent)&&t.parent.appendToDOM(),this.paintText(t),T(t.parent)&&t.parent.cleanDOM()):this.paintNode(t)}catch(t){if(L(t),this.options.strict)throw t}},r.prototype.paintNode=function(t){w(t)&&(this.renderer.setOpacity(t.opacity),this.renderer.ctx.save(),t.hasTransform()&&this.renderer.setTransform(t.parseTransform())),"INPUT"===t.node.nodeName&&"checkbox"===t.node.type?this.paintCheckbox(t):"INPUT"===t.node.nodeName&&"radio"===t.node.type?this.paintRadio(t):this.paintElement(t)},r.prototype.paintElement=function(t){var e=t.parseBounds();this.renderer.clip(t.backgroundClip,function(){this.renderer.renderBackground(t,e,t.borders.borders.map(F))},this),this.renderer.clip(t.clip,function(){this.renderer.renderBorders(t.borders.borders)},this),this.renderer.clip(t.backgroundClip,function(){switch(t.node.nodeName){case"svg":case"IFRAME":var n=this.images.get(t.node);n?this.renderer.renderImage(t,e,t.borders,n):L("Error loading <"+t.node.nodeName+">",t.node);break;case"IMG":var r=this.images.get(t.node.src);r?this.renderer.renderImage(t,e,t.borders,r):L("Error loading <img>",t.node.src);break;case"CANVAS":this.renderer.renderImage(t,e,t.borders,{image:t.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(t)}},this)},r.prototype.paintCheckbox=function(t){var e=t.parseBounds(),n=Math.min(e.width,e.height),r={width:n-1,height:n-1,top:e.top,left:e.left},i=[3,3],o=[i,i,i,i],a=[1,1,1,1].map(function(t){return{color:new V("#A5A5A5"),width:t}}),c=l(r,o,a);this.renderer.clip(t.backgroundClip,function(){this.renderer.rectangle(r.left+1,r.top+1,r.width-2,r.height-2,new V("#DEDEDE")),this.renderer.renderBorders(s(a,r,c,o)),t.node.checked&&(this.renderer.font(new V("#424242"),"normal","normal","bold",n-3+"px","arial"),this.renderer.text("✔",r.left+n/6,r.top+n-1))},this)},r.prototype.paintRadio=function(t){var e=t.parseBounds(),n=Math.min(e.width,e.height)-2;this.renderer.clip(t.backgroundClip,function(){this.renderer.circleStroke(e.left+1,e.top+1,n,new V("#DEDEDE"),1,new V("#A5A5A5")),t.node.checked&&this.renderer.circle(Math.ceil(e.left+n/4)+1,Math.ceil(e.top+n/4)+1,Math.floor(n/2),new V("#424242"))},this)},r.prototype.paintFormValue=function(t){var e=t.getValue();if(e.length>0){var n=t.node.ownerDocument,r=n.createElement("html2canvaswrapper");["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"].forEach(function(e){try{r.style[e]=t.css(e)}catch(t){L("html2canvas: Parse: Exception caught in renderFormValue: "+t.message)}});var i=t.parseBounds();r.style.position="fixed",r.style.left=i.left+"px",r.style.top=i.top+"px",r.textContent=e,n.body.appendChild(r),this.paintText(new H(r.firstChild,t)),n.body.removeChild(r)}},r.prototype.paintText=function(t){t.applyTextTransform();var e=M.ucs2.decode(t.node.data),n=this.options.letterRendering&&!v(t)||N(t.node.data)?e.map(function(t){return M.ucs2.encode([t])}):j(e),r=t.parent.fontWeight(),i=t.parent.css("fontSize"),o=t.parent.css("fontFamily"),a=t.parent.parseTextShadows();this.renderer.font(t.parent.color("color"),t.parent.css("fontStyle"),t.parent.css("fontVariant"),r,i,o),a.length?this.renderer.fontShadow(a[0].color,a[0].offsetX,a[0].offsetY,a[0].blur):this.renderer.clearShadow(),this.renderer.clip(t.parent.clip,function(){n.map(this.parseTextBounds(t),this).forEach(function(e,r){e&&(this.renderer.text(n[r],e.left,e.bottom),this.renderTextDecoration(t.parent,e,this.fontMetrics.getMetrics(o,i)))},this)},this)},r.prototype.renderTextDecoration=function(t,e,n){switch(t.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(e.left,Math.round(e.top+n.baseline+n.lineWidth),e.width,1,t.color("color"));break;case"overline":this.renderer.rectangle(e.left,Math.round(e.top),e.width,1,t.color("color"));break;case"line-through":this.renderer.rectangle(e.left,Math.ceil(e.top+n.middle+n.lineWidth),e.width,1,t.color("color"))}};var Z={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};r.prototype.parseBorders=function(t){var e=t.parseBounds(),n=b(t),r=["Top","Right","Bottom","Left"].map(function(e,n){var r=t.css("border"+e+"Style"),i=t.color("border"+e+"Color");"inset"===r&&i.isBlack()&&(i=new V([255,255,255,i.a]));var o=Z[r]?Z[r][n]:null;return{width:t.cssInt("border"+e+"Width"),color:o?i[o[0]](o[1]):i,args:null}}),i=l(e,n,r);return{clip:this.parseBackgroundClip(t,i,r,n,e),borders:s(r,e,i,n)}},r.prototype.parseBackgroundClip=function(t,e,n,r,i){var o=[];switch(t.css("backgroundClip")){case"content-box":case"padding-box":f(o,r[0],r[1],e.topLeftInner,e.topRightInner,i.left+n[3].width,i.top+n[0].width),f(o,r[1],r[2],e.topRightInner,e.bottomRightInner,i.left+i.width-n[1].width,i.top+n[0].width),f(o,r[2],r[3],e.bottomRightInner,e.bottomLeftInner,i.left+i.width-n[1].width,i.top+i.height-n[2].width),f(o,r[3],r[0],e.bottomLeftInner,e.topLeftInner,i.left+n[3].width,i.top+i.height-n[2].width);break;default:f(o,r[0],r[1],e.topLeftOuter,e.topRightOuter,i.left,i.top),f(o,r[1],r[2],e.topRightOuter,e.bottomRightOuter,i.left+i.width,i.top),f(o,r[2],r[3],e.bottomRightOuter,e.bottomLeftOuter,i.left+i.width,i.top+i.height),f(o,r[3],r[0],e.bottomLeftOuter,e.topLeftOuter,i.left,i.top+i.height)}return o},e.exports=r},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(t,e,n){function r(t,e,n){var r="withCredentials"in new XMLHttpRequest;if(!e)return Promise.reject("No proxy configured");var s=o(r),l=a(e,t,s);return r?c(l):i(n,l,s).then(function(t){return f(t.content)})}function i(t,e,n){return new Promise(function(r,i){var o=t.createElement("script"),a=function(){delete window.html2canvas.proxy[n],t.body.removeChild(o)};window.html2canvas.proxy[n]=function(t){a(),r(t)},o.src=e,o.onerror=function(t){a(),i(t)},t.body.appendChild(o)})}function o(t){return t?"":"html2canvas_"+Date.now()+"_"+ ++d+"_"+Math.round(1e5*Math.random())}function a(t,e,n){return t+"?url="+encodeURIComponent(e)+(n.length?"&callback=html2canvas.proxy."+n:"")}function s(t){return function(e){var n,r=new DOMParser;try{n=r.parseFromString(e,"text/html")}catch(t){u("DOMParser not supported, falling back to createHTMLDocument"),n=document.implementation.createHTMLDocument("");try{n.open(),n.write(e),n.close()}catch(t){u("createHTMLDocument write not supported, falling back to document.body.innerHTML"),n.body.innerHTML=e}}var i=n.querySelector("base");if(!i||!i.href.host){var o=n.createElement("base");o.href=t,n.head.insertBefore(o,n.head.firstChild)}return n}}var c=t("./xhr"),l=t("./utils"),u=t("./log"),h=t("./clone"),f=l.decode64,d=0;n.Proxy=r,n.ProxyURL=function(t,e,n){var r="crossOrigin"in new Image,s=o(r),c=a(e,t,s);return r?Promise.resolve(c):i(n,c,s).then(function(t){return"data:"+t.type+";base64,"+t.content})},n.loadUrlDocument=function(t,e,n,i,o,a){return new r(t,e,window.document).then(s(t)).then(function(t){return h(t,n,i,o,a,0,0)})}},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(t,e,n){var r=t("./proxy").ProxyURL;e.exports=function(t,e){var n=document.createElement("a");n.href=t,t=n.href,this.src=t,this.image=new Image;var i=this;this.promise=new Promise(function(n,o){i.image.crossOrigin="Anonymous",i.image.onload=n,i.image.onerror=o,new r(t,e,document).then(function(t){i.image.src=t}).catch(o)})}},{"./proxy":16}],18:[function(t,e,n){function r(t,e,n){i.call(this,t,e),this.isPseudoElement=!0,this.before=":before"===n}var i=t("./nodecontainer");r.prototype.cloneTo=function(t){r.prototype.cloneTo.call(this,t),t.isPseudoElement=!0,t.before=this.before},(r.prototype=Object.create(i.prototype)).appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},r.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},r.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},r.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",r.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",e.exports=r},{"./nodecontainer":14}],19:[function(t,e,n){function r(t,e,n,r,i){this.width=t,this.height=e,this.images=n,this.options=r,this.document=i}var i=t("./log");r.prototype.renderImage=function(t,e,n,r){var i=t.cssInt("paddingLeft"),o=t.cssInt("paddingTop"),a=t.cssInt("paddingRight"),s=t.cssInt("paddingBottom"),c=n.borders,l=e.width-(c[1].width+c[3].width+i+a),u=e.height-(c[0].width+c[2].width+o+s);this.drawImage(r,0,0,r.image.width||l,r.image.height||u,e.left+i+c[3].width,e.top+o+c[0].width,l,u)},r.prototype.renderBackground=function(t,e,n){e.height>0&&e.width>0&&(this.renderBackgroundColor(t,e),this.renderBackgroundImage(t,e,n))},r.prototype.renderBackgroundColor=function(t,e){var n=t.color("backgroundColor");n.isTransparent()||this.rectangle(e.left,e.top,e.width,e.height,n)},r.prototype.renderBorders=function(t){t.forEach(this.renderBorder,this)},r.prototype.renderBorder=function(t){t.color.isTransparent()||null===t.args||this.drawShape(t.args,t.color)},r.prototype.renderBackgroundImage=function(t,e,n){t.parseBackgroundImages().reverse().forEach(function(r,o,a){switch(r.method){case"url":var s=this.images.get(r.args[0]);s?this.renderBackgroundRepeating(t,e,s,a.length-(o+1),n):i("Error loading background-image",r.args[0]);break;case"linear-gradient":case"gradient":var c=this.images.get(r.value);c?this.renderBackgroundGradient(c,e,n):i("Error loading background-image",r.args[0]);break;case"none":break;default:i("Unknown background-image type",r.args[0])}},this)},r.prototype.renderBackgroundRepeating=function(t,e,n,r,i){var o=t.parseBackgroundSize(e,n.image,r),a=t.parseBackgroundPosition(e,n.image,r,o);switch(t.parseBackgroundRepeat(r)){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(n,a,o,e,e.left+i[3],e.top+a.top+i[0],99999,o.height,i);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(n,a,o,e,e.left+a.left+i[3],e.top+i[0],o.width,99999,i);break;case"no-repeat":this.backgroundRepeatShape(n,a,o,e,e.left+a.left+i[3],e.top+a.top+i[0],o.width,o.height,i);break;default:this.renderBackgroundRepeat(n,a,o,{top:e.top,left:e.left},i[3],i[0])}},e.exports=r},{"./log":13}],20:[function(t,e,n){function r(t,e){o.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=t,this.canvas.height=e),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},s("Initialized CanvasRenderer with size",t,"x",e)}function i(t){return t.length>0}var o=t("../renderer"),a=t("../lineargradientcontainer"),s=t("../log");(r.prototype=Object.create(o.prototype)).setFillStyle=function(t){return this.ctx.fillStyle="object"==typeof t&&t.isColor?t.toString():t,this.ctx},r.prototype.rectangle=function(t,e,n,r,i){this.setFillStyle(i).fillRect(t,e,n,r)},r.prototype.circle=function(t,e,n,r){this.setFillStyle(r),this.ctx.beginPath(),this.ctx.arc(t+n/2,e+n/2,n/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},r.prototype.circleStroke=function(t,e,n,r,i,o){this.circle(t,e,n,r),this.ctx.strokeStyle=o.toString(),this.ctx.stroke()},r.prototype.drawShape=function(t,e){this.shape(t),this.setFillStyle(e).fill()},r.prototype.taints=function(t){if(null===t.tainted){this.taintCtx.drawImage(t.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),t.tainted=!1}catch(e){this.taintCtx=document.createElement("canvas").getContext("2d"),t.tainted=!0}}return t.tainted},r.prototype.drawImage=function(t,e,n,r,i,o,a,s,c){this.taints(t)&&!this.options.allowTaint||this.ctx.drawImage(t.image,e,n,r,i,o,a,s,c)},r.prototype.clip=function(t,e,n){this.ctx.save(),t.filter(i).forEach(function(t){this.shape(t).clip()},this),e.call(n),this.ctx.restore()},r.prototype.shape=function(t){return this.ctx.beginPath(),t.forEach(function(t,e){"rect"===t[0]?this.ctx.rect.apply(this.ctx,t.slice(1)):this.ctx[0===e?"moveTo":t[0]+"To"].apply(this.ctx,t.slice(1))},this),this.ctx.closePath(),this.ctx},r.prototype.font=function(t,e,n,r,i,o){this.setFillStyle(t).font=[e,n,r,i,o].join(" ").split(",")[0]},r.prototype.fontShadow=function(t,e,n,r){this.setVariable("shadowColor",t.toString()).setVariable("shadowOffsetY",e).setVariable("shadowOffsetX",n).setVariable("shadowBlur",r)},r.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},r.prototype.setOpacity=function(t){this.ctx.globalAlpha=t},r.prototype.setTransform=function(t){this.ctx.translate(t.origin[0],t.origin[1]),this.ctx.transform.apply(this.ctx,t.matrix),this.ctx.translate(-t.origin[0],-t.origin[1])},r.prototype.setVariable=function(t,e){return this.variables[t]!==e&&(this.variables[t]=this.ctx[t]=e),this},r.prototype.text=function(t,e,n){this.ctx.fillText(t,e,n)},r.prototype.backgroundRepeatShape=function(t,e,n,r,i,o,a,s,c){var l=[["line",Math.round(i),Math.round(o)],["line",Math.round(i+a),Math.round(o)],["line",Math.round(i+a),Math.round(s+o)],["line",Math.round(i),Math.round(s+o)]];this.clip([l],function(){this.renderBackgroundRepeat(t,e,n,r,c[3],c[0])},this)},r.prototype.renderBackgroundRepeat=function(t,e,n,r,i,o){var a=Math.round(r.left+e.left+i),s=Math.round(r.top+e.top+o);this.setFillStyle(this.ctx.createPattern(this.resizeImage(t,n),"repeat")),this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},r.prototype.renderBackgroundGradient=function(t,e){if(t instanceof a){var n=this.ctx.createLinearGradient(e.left+e.width*t.x0,e.top+e.height*t.y0,e.left+e.width*t.x1,e.top+e.height*t.y1);t.colorStops.forEach(function(t){n.addColorStop(t.stop,t.color.toString())}),this.rectangle(e.left,e.top,e.width,e.height,n)}},r.prototype.resizeImage=function(t,e){var n=t.image;if(n.width===e.width&&n.height===e.height)return n;var r=document.createElement("canvas");return r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(n,0,0,n.width,n.height,0,0,e.width,e.height),r},e.exports=r},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(t,e,n){function r(t,e,n,r){i.call(this,n,r),this.ownStacking=t,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*e}var i=t("./nodecontainer");(r.prototype=Object.create(i.prototype)).getParentStack=function(t){var e=this.parent?this.parent.stack:null;return e?e.ownStacking?e:e.getParentStack(t):t.stack},e.exports=r},{"./nodecontainer":14}],22:[function(t,e,n){function r(t){this.rangeBounds=this.testRangeBounds(t),this.cors=this.testCORS(),this.svg=this.testSVG()}r.prototype.testRangeBounds=function(t){var e,n,r=!1;return t.createRange&&(e=t.createRange()).getBoundingClientRect&&((n=t.createElement("boundtest")).style.height="123px",n.style.display="block",t.body.appendChild(n),e.selectNode(n),123===e.getBoundingClientRect().height&&(r=!0),t.body.removeChild(n)),r},r.prototype.testCORS=function(){return void 0!==(new Image).crossOrigin},r.prototype.testSVG=function(){var t=new Image,e=document.createElement("canvas"),n=e.getContext("2d");t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),e.toDataURL()}catch(t){return!1}return!0},e.exports=r},{}],23:[function(t,e,n){function r(t){this.src=t,this.image=null;var e=this;this.promise=this.hasFabric().then(function(){return e.isInline(t)?Promise.resolve(e.inlineFormatting(t)):i(t)}).then(function(t){return new Promise(function(n){window.html2canvas.svg.fabric.loadSVGFromString(t,e.createCanvas.call(e,n))})})}var i=t("./xhr"),o=t("./utils").decode64;r.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},r.prototype.inlineFormatting=function(t){return/^data:image\/svg\+xml;base64,/.test(t)?this.decode64(this.removeContentType(t)):this.removeContentType(t)},r.prototype.removeContentType=function(t){return t.replace(/^data:image\/svg\+xml(;base64)?,/,"")},r.prototype.isInline=function(t){return/^data:image\/svg\+xml/i.test(t)},r.prototype.createCanvas=function(t){var e=this;return function(n,r){var i=new window.html2canvas.svg.fabric.StaticCanvas("c");e.image=i.lowerCanvasEl,i.setWidth(r.width).setHeight(r.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(n,r)).renderAll(),t(i.lowerCanvasEl)}},r.prototype.decode64=function(t){return"function"==typeof window.atob?window.atob(t):o(t)},e.exports=r},{"./utils":26,"./xhr":28}],24:[function(t,e,n){function r(t,e){this.src=t,this.image=null;var n=this;this.promise=e?new Promise(function(e,r){n.image=new Image,n.image.onload=e,n.image.onerror=r,n.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(t),!0===n.image.complete&&e(n.image)}):this.hasFabric().then(function(){return new Promise(function(e){window.html2canvas.svg.fabric.parseSVGDocument(t,n.createCanvas.call(n,e))})})}var i=t("./svgcontainer");r.prototype=Object.create(i.prototype),e.exports=r},{"./svgcontainer":23}],25:[function(t,e,n){function r(t,e){o.call(this,t,e)}function i(t,e,n){if(t.length>0)return e+n.toUpperCase()}var o=t("./nodecontainer");(r.prototype=Object.create(o.prototype)).applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},r.prototype.transform=function(t){var e=this.node.data;switch(t){case"lowercase":return e.toLowerCase();case"capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,i);case"uppercase":return e.toUpperCase();default:return e}},e.exports=r},{"./nodecontainer":14}],26:[function(t,e,n){n.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},n.bind=function(t,e){return function(){return t.apply(e,arguments)}},/*
 * base64-arraybuffer
 * https://github.com/niklasvh/base64-arraybuffer
 *
 * Copyright (c) 2012 Niklas von Hertzen
 * Licensed under the MIT license.
 */
n.decode64=function(t){var e,n,r,i,o,a,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=t.length,u="";for(e=0;e<l;e+=4)o=c.indexOf(t[e])<<2|(n=c.indexOf(t[e+1]))>>4,a=(15&n)<<4|(r=c.indexOf(t[e+2]))>>2,s=(3&r)<<6|(i=c.indexOf(t[e+3])),u+=64===r?String.fromCharCode(o):64===i||-1===i?String.fromCharCode(o,a):String.fromCharCode(o,a,s);return u},n.getBounds=function(t){if(t.getBoundingClientRect){var e=t.getBoundingClientRect(),n=null==t.offsetWidth?e.width:t.offsetWidth;return{top:e.top,bottom:e.bottom||e.top+e.height,right:e.left+n,left:e.left,width:n,height:null==t.offsetHeight?e.height:t.offsetHeight}}return{}},n.offsetBounds=function(t){var e=t.offsetParent?n.offsetBounds(t.offsetParent):{top:0,left:0};return{top:t.offsetTop+e.top,bottom:t.offsetTop+t.offsetHeight+e.top,right:t.offsetLeft+e.left+t.offsetWidth,left:t.offsetLeft+e.left,width:t.offsetWidth,height:t.offsetHeight}},n.parseBackgrounds=function(t){var e,n,r,i,o,a,s,c=[],l=0,u=0,h=function(){e&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&s.push(n),"-"===e.substr(0,1)&&(i=e.indexOf("-",1)+1)>0&&(r=e.substr(0,i),e=e.substr(i)),c.push({prefix:r,method:e.toLowerCase(),value:o,args:s,image:null})),s=[],e=r=n=o=""};return s=[],e=r=n=o="",t.split("").forEach(function(t){if(!(0===l&&" \r\n\t".indexOf(t)>-1)){switch(t){case'"':a?a===t&&(a=null):a=t;break;case"(":if(a)break;if(0===l)return l=1,void(o+=t);u++;break;case")":if(a)break;if(1===l){if(0===u)return l=0,o+=t,void h();u--}break;case",":if(a)break;if(0===l)return void h();if(1===l&&0===u&&!e.match(/^url$/i))return s.push(n),n="",void(o+=t)}o+=t,0===l?e+=t:n+=t}}),h(),c}},{}],27:[function(t,e,n){function r(t){i.apply(this,arguments),this.type="linear"===t.args[0]?i.TYPES.LINEAR:i.TYPES.RADIAL}var i=t("./gradientcontainer");r.prototype=Object.create(i.prototype),e.exports=r},{"./gradientcontainer":9}],28:[function(t,e,n){e.exports=function(t){return new Promise(function(e,n){var r=new XMLHttpRequest;r.open("GET",t),r.onload=function(){200===r.status?e(r.responseText):n(new Error(r.statusText))},r.onerror=function(){n(new Error("Network Error"))},r.send()})}},{}]},{},[4])(4)}),/*
# PNG.js
# Copyright (c) 2011 Devon Govett
# MIT LICENSE
# 
# 
*/
function(t){var e;e=function(){function e(t){var e,n,r,i,o,a,s,c,l,u,h,f,d,p,m;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(e=this.readUInt32(),u=function(){var t,e;for(e=[],s=t=0;t<4;s=++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),i=this.readUInt16()||100,a.delay=1e3*o/i,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===u&&(this.pos+=4,e-=4),t=(null!=a?a.data:void 0)||this.imgData,s=d=0;0<=e?d<e:d>e;s=0<=e?++d:--d)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((h=r-this.transparency.indexed.length)>0)for(s=p=0;0<=h?p<h:p>h;s=0<=h?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":c=(f=this.read(e)).indexOf(0),l=String.fromCharCode.apply(String,f.slice(0,c)),this.text[l]=String.fromCharCode.apply(String,f.slice(c+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(m=this.colorType)||6===m,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}var n,r,i;e.load=function(t,n,r){var i;return"function"==typeof n&&(r=n),(i=new XMLHttpRequest).open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){var t,o;return t=new Uint8Array(i.response||i.mozResponseArrayBuffer),o=new e(t),"function"==typeof(null!=n?n.getContext:void 0)&&o.render(n),"function"==typeof r?r(o):void 0},i.send(null)},e.prototype.read=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;0<=t?++e:--e)n.push(this.data[this.pos++]);return n},e.prototype.readUInt32=function(){var t,e,n,r;return t=this.data[this.pos++]<<24,e=this.data[this.pos++]<<16,n=this.data[this.pos++]<<8,r=this.data[this.pos++],t|e|n|r},e.prototype.readUInt16=function(){var t,e;return t=this.data[this.pos++]<<8,e=this.data[this.pos++],t|e},e.prototype.decodePixels=function(t){var e,n,r,i,o,a,c,l,u,h,f,d,p,m,g,w,y,v,b,x,k,_,C;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);for(t=(t=new s(t)).getBytes(),w=(d=this.pixelBitlength/8)*this.width,p=new Uint8Array(w*this.height),a=t.length,g=0,m=0,n=0;m<a;){switch(t[m++]){case 0:for(i=b=0;b<w;i=b+=1)p[n++]=t[m++];break;case 1:for(i=x=0;x<w;i=x+=1)e=t[m++],o=i<d?0:p[n-d],p[n++]=(e+o)%256;break;case 2:for(i=k=0;k<w;i=k+=1)e=t[m++],r=(i-i%d)/d,y=g&&p[(g-1)*w+r*d+i%d],p[n++]=(y+e)%256;break;case 3:for(i=_=0;_<w;i=_+=1)e=t[m++],r=(i-i%d)/d,o=i<d?0:p[n-d],y=g&&p[(g-1)*w+r*d+i%d],p[n++]=(e+Math.floor((o+y)/2))%256;break;case 4:for(i=C=0;C<w;i=C+=1)e=t[m++],r=(i-i%d)/d,o=i<d?0:p[n-d],0===g?y=v=0:(y=p[(g-1)*w+r*d+i%d],v=r&&p[(g-1)*w+(r-1)*d+i%d]),c=o+y-v,l=Math.abs(c-o),h=Math.abs(c-y),f=Math.abs(c-v),u=l<=h&&l<=f?o:h<=f?y:v,p[n++]=(e+u)%256;break;default:throw new Error("Invalid filter algorithm: "+t[m-1])}g++}return p},e.prototype.decodePalette=function(){var t,e,n,r,i,o,a,s,c;for(n=this.palette,o=this.transparency.indexed||[],i=new Uint8Array((o.length||0)+n.length),r=0,t=0,e=a=0,s=n.length;a<s;e=a+=3)i[r++]=n[e],i[r++]=n[e+1],i[r++]=n[e+2],i[r++]=null!=(c=o[t++])?c:255;return i},e.prototype.copyToImageData=function(t,e){var n,r,i,o,a,s,c,l,u,h,f;if(r=this.colors,u=null,n=this.hasAlphaChannel,this.palette.length&&(u=null!=(f=this._decodedPalette)?f:this._decodedPalette=this.decodePalette(),r=4,n=!0),i=t.data||t,l=i.length,a=u||e,o=s=0,1===r)for(;o<l;)c=u?4*e[o/4]:s,h=a[c++],i[o++]=h,i[o++]=h,i[o++]=h,i[o++]=n?a[c++]:255,s=c;else for(;o<l;)c=u?4*e[o/4]:s,i[o++]=a[c++],i[o++]=a[c++],i[o++]=a[c++],i[o++]=n?a[c++]:255,s=c},e.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};try{r=t.document.createElement("canvas"),i=r.getContext("2d")}catch(t){return-1}return n=function(t){var e;return i.width=t.width,i.height=t.height,i.clearRect(0,0,t.width,t.height),i.putImageData(t,0,0),e=new Image,e.src=r.toDataURL(),e},e.prototype.decodeFrames=function(t){var e,r,i,o,a,s,c,l;if(this.animation){for(l=[],r=a=0,s=(c=this.animation.frames).length;a<s;r=++a)e=c[r],i=t.createImageData(e.width,e.height),o=this.decodePixels(new Uint8Array(e.data)),this.copyToImageData(i,o),e.imageData=i,l.push(e.image=n(i));return l}},e.prototype.renderFrame=function(t,e){var n,r,i;return r=this.animation.frames,n=r[e],i=r[e-1],0===e&&t.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?t.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&t.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&t.clearRect(n.xOffset,n.yOffset,n.width,n.height),t.drawImage(n.image,n.xOffset,n.yOffset)},e.prototype.animate=function(t){var e,n,r,i,o,a,s=this;return n=0,a=this.animation,i=a.numFrames,r=a.frames,o=a.numPlays,(e=function(){var a,c;if(a=n++%i,c=r[a],s.renderFrame(t,a),i>1&&n/i<o)return s.animation._timeout=setTimeout(e,c.delay)})()},e.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},e.prototype.render=function(t){var e,n;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(n=e.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),e.putImageData(n,0,0))},e}(),t.PNG=e}("undefined"!=typeof window&&window||void 0);/*
 * Extracted from pdf.js
 * https://github.com/andreasgal/pdf.js
 *
 * Copyright (c) 2011 Mozilla Foundation
 *
 * Contributors: Andreas Gal <gal@mozilla.com>
 *               Chris G Jones <cjones@mozilla.com>
 *               Shaon Barman <shaon.barman@gmail.com>
 *               Vivien Nicolas <21@vingtetun.org>
 *               Justin D'Arcangelo <justindarc@gmail.com>
 *               Yury Delendik
 *
 * 
 */
var a=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(t){var e=this.buffer,n=e?e.byteLength:0;if(t<n)return e;for(var r=512;r<t;)r<<=1;for(var i=new Uint8Array(r),o=0;o<n;++o)i[o]=e[o];return this.buffer=i},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var e=this.pos;if(t){this.ensureBuffer(e+t);for(r=e+t;!this.eof&&this.bufferLength<r;)this.readBlock();var n=this.bufferLength;r>n&&(r=n)}else{for(;!this.eof;)this.readBlock();var r=this.bufferLength}return this.pos=r,this.buffer.subarray(e,r)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,e,n){for(var r=t+e;this.bufferLength<=r&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,e,n)},skip:function(t){t||(t=1),this.pos+=t},reset:function(){this.pos=0}},t}(),s=function(){function t(t){throw new Error(t)}function e(e){var n=0,r=e[n++],i=e[n++];-1!=r&&-1!=i||t("Invalid header in flate stream"),8!=(15&r)&&t("Unknown compression method in flate stream"),((r<<8)+i)%31!=0&&t("Bad FCHECK in flate stream"),32&i&&t("FDICT bit set in flate stream"),this.bytes=e,this.bytesPos=n,this.codeSize=0,this.codeBuf=0,a.call(this)}if("undefined"!=typeof Uint32Array){var n=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),r=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),i=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),o=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],s=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return e.prototype=Object.create(a.prototype),e.prototype.getBits=function(e){for(var n,r=this.codeSize,i=this.codeBuf,o=this.bytes,a=this.bytesPos;r<e;)void 0===(n=o[a++])&&t("Bad encoding in flate stream"),i|=n<<r,r+=8;return n=i&(1<<e)-1,this.codeBuf=i>>e,this.codeSize=r-=e,this.bytesPos=a,n},e.prototype.getCode=function(e){for(var n=e[0],r=e[1],i=this.codeSize,o=this.codeBuf,a=this.bytes,s=this.bytesPos;i<r;){var c;void 0===(c=a[s++])&&t("Bad encoding in flate stream"),o|=c<<i,i+=8}var l=n[o&(1<<r)-1],u=l>>16,h=65535&l;return(0==i||i<u||0==u)&&t("Bad encoding in flate stream"),this.codeBuf=o>>u,this.codeSize=i-u,this.bytesPos=s,h},e.prototype.generateHuffmanTable=function(t){for(var e=t.length,n=0,r=0;r<e;++r)t[r]>n&&(n=t[r]);for(var i=1<<n,o=new Uint32Array(i),a=1,s=0,c=2;a<=n;++a,s<<=1,c<<=1)for(var l=0;l<e;++l)if(t[l]==a){for(var u=0,h=s,r=0;r<a;++r)u=u<<1|1&h,h>>=1;for(r=u;r<i;r+=c)o[r]=a<<16|l;++s}return[o,n]},e.prototype.readBlock=function(){function e(t,e,n,r,i){for(var o=t.getBits(n)+r;o-- >0;)e[p++]=i}var a=this.getBits(3);if(1&a&&(this.eof=!0),0!=(a>>=1)){var c,l;if(1==a)c=o,l=s;else if(2==a){for(var u=this.getBits(5)+257,h=this.getBits(5)+1,f=this.getBits(4)+4,d=Array(n.length),p=0;p<f;)d[n[p++]]=this.getBits(3);for(var m=this.generateHuffmanTable(d),g=0,p=0,w=u+h,y=new Array(w);p<w;){var v=this.getCode(m);16==v?e(this,y,2,3,g):17==v?e(this,y,3,3,g=0):18==v?e(this,y,7,11,g=0):y[p++]=g=v}c=this.generateHuffmanTable(y.slice(0,u)),l=this.generateHuffmanTable(y.slice(u,w))}else t("Unknown block type in flate stream");for(var b=(O=this.buffer)?O.length:0,x=this.bufferLength;;){var k=this.getCode(c);if(k<256)x+1>=b&&(b=(O=this.ensureBuffer(x+1)).length),O[x++]=k;else{if(256==k)return void(this.bufferLength=x);var _=(k=r[k-=257])>>16;_>0&&(_=this.getBits(_));g=(65535&k)+_;k=this.getCode(l),(_=(k=i[k])>>16)>0&&(_=this.getBits(_));var C=(65535&k)+_;x+g>=b&&(b=(O=this.ensureBuffer(x+g)).length);for(var A=0;A<g;++A,++x)O[x]=O[x-C]}}}else{var S,q=this.bytes,T=this.bytesPos;void 0===(S=q[T++])&&t("Bad block header in flate stream");var P=S;void 0===(S=q[T++])&&t("Bad block header in flate stream"),P|=S<<8,void 0===(S=q[T++])&&t("Bad block header in flate stream");var I=S;void 0===(S=q[T++])&&t("Bad block header in flate stream"),(I|=S<<8)!=(65535&~P)&&t("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var E=this.bufferLength,O=this.ensureBuffer(E+P),F=E+P;this.bufferLength=F;for(var B=E;B<F;++B){if(void 0===(S=q[T++])){this.eof=!0;break}O[B]=S}this.bytesPos=T}},e}}();return function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===t.btoa&&(t.btoa=function(t){var n,r,i,o,a,s=0,c=0,l="",u=[];if(!t)return t;do{n=(a=t.charCodeAt(s++)<<16|t.charCodeAt(s++)<<8|t.charCodeAt(s++))>>18&63,r=a>>12&63,i=a>>6&63,o=63&a,u[c++]=e.charAt(n)+e.charAt(r)+e.charAt(i)+e.charAt(o)}while(s<t.length);l=u.join("");var h=t.length%3;return(h?l.slice(0,h-3):l)+"===".slice(h||3)}),void 0===t.atob&&(t.atob=function(t){var n,r,i,o,a,s,c=0,l=0,u=[];if(!t)return t;t+="";do{n=(s=e.indexOf(t.charAt(c++))<<18|e.indexOf(t.charAt(c++))<<12|(o=e.indexOf(t.charAt(c++)))<<6|(a=e.indexOf(t.charAt(c++))))>>16&255,r=s>>8&255,i=255&s,u[l++]=64==o?String.fromCharCode(n):64==a?String.fromCharCode(n,r):String.fromCharCode(n,r,i)}while(c<t.length);return u.join("")}),Array.prototype.map||(Array.prototype.map=function(t){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;for(var e=Object(this),n=e.length>>>0,r=new Array(n),i=arguments.length>1?arguments[1]:void 0,o=0;o<n;o++)o in e&&(r[o]=t.call(i,e[o],o,e));return r}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;for(var n=Object(this),r=n.length>>>0,i=0;i<r;i++)i in n&&t.call(e,n[i],i,n)}),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError;var o,a,s=[];for(o in i)t.call(i,o)&&s.push(o);if(e)for(a=0;a<r;a++)t.call(i,n[a])&&s.push(n[a]);return s}}()),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0),e});
});



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/addresses/AddressForm.vue:script


      sms.vComponent('assets/js/components/addresses/AddressForm.vue', {"name":"CpAddressForm","path":"assets/js/components/addresses/AddressForm.vue"}, (require,exports,module)=>{
        
const { states } = require('../../resources/states.js')

module.exports = {
  data: function () {
    return {
      states: states
    }
  },
  props: {
    address: {
      type: Object,
      required: true,
      twoWay: true
    },
    addressType: {
      type: String,
      default: 'address'
    },
    validationErrors: {
      default () {
        return {}
      }
    },
    hideNameField: {
      type: Boolean,
      default () {
        return false
      }
    }
  },
  computed: {},
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpSelect: require('../../cp-components-common/inputs/CpSelect.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"address-form\">\n    <cp-input v-if=\"!hideNameField\"\n      label=\"Name\"\n      type=\"text\"\n      :error=\"validationErrors[ addressType + '.name' ]\"\n      :value.sync=\"address.name\"></cp-input>\n    <cp-input\n      label=\"Address line 1\"\n      type=\"text\"\n      :error=\"validationErrors[ addressType + '.address_1' ]\"\n      :value.sync=\"address.address_1\"></cp-input>\n    <cp-input\n      label=\"Address line 2\"\n      type=\"text\"\n      :error=\"validationErrors[ addressType + '.address_2' ]\"\n      :value.sync=\"address.address_2\"></cp-input>\n    <cp-input\n      label=\"City\"\n      type=\"text\"\n      :error=\"validationErrors[ addressType + '.city' ]\"\n      :value.sync=\"address.city\"></cp-input>\n    <cp-select\n      label=\"State\"\n      type=\"text\"\n      :options=\"states\"\n      :key-value=\"{ name: 'name' , value: 'value' }\"\n      :error=\"validationErrors[ addressType + '.state' ]\"\n      :value.sync=\"address.state\"></cp-select>\n    <cp-input\n      label=\"Zip\"\n      type=\"text\"\n      :error=\"validationErrors[ addressType + '.zip' ]\"\n      :value.sync=\"address.zip\"></cp-input>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/announcements/announcement-index.vue:script

sms.vComponent('assets/js/components/announcements/announcement-index.vue', { name: 'CpAnnouncementIndex', routing: { name: 'site.CpAnnouncementIndex', meta: { title: 'Announcements' }, path: 'announcements', props: true } }, (require, exports, module)=>{

const Announcements = require('../../resources/announcements.js')
const Auth = require('auth')
const moment = require('moment')

module.exports = {
  data: function () {
    return {
      Auth: Auth,
      loading: false,
      announcements: [],
      announcementId: null,
      selectedAnnouncement: {},
      showConfirm: false,
      announcementModal: {
        edit: false,
        create: false,
        view: false
      },
      pagination: {},
      indexRequest: {
        search_term: null,
        column: 'created_at',
        order: 'DESC',
        page: 1,
        per_page: 15
      }
    }
  },
  mounted: function () {
    this.getAnnouncements()
  },
  methods: {
    openModal () {
      this.announcementModal.create = true
    },
    confirmAndDelete (id) {
      this.announcementId = id
      this.showConfirm = true
    },
    getAnnouncements: function () {
      this.loading = true
      this.indexRequest.page = this.pagination.current_page
      Announcements.index(this.indexRequest)
        .then((response) => {
          if (!response.error) {
            this.pagination = response
            this.announcements = response.data
            this.loading = false
            return response
          }
        })
    },
    viewAnnouncements: function (announcement) {
      this.announcementModal.view = true
      this.selectedAnnouncement = announcement
    },
    showAnnouncements: function (announcement) {
      if (Auth.hasAnyRole('Superadmin', 'Admin')) {
        this.announcementModal.edit = true
        this.selectedAnnouncement = announcement
      } else {
        window.location = '/announcements/' + announcement.url
      }
    },
    deleteAnnouncement: function (announcement) {
      Announcements.delete(announcement.id)
        .then((response) => {
          if (response.error) {
            this.$toast(response.messages, { dismiss: false, error: true })
            return
          }
          this.getAnnouncements()
          this.$toast('Successfully deleted.', { dismiss: false })
          this.modalShow = false
        })
    }
  },
  events: {
    'search_term': function (term) {
      this.indexRequest.search_term = term
      this.pagination.current_page = 1
      this.getAnnouncements()
    }
  },
  components: {
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue'),
    CpAnnouncementForm: require('./CpAnnouncementForm.vue'),
    CpAnnouncementShow: require('./CpAnnouncementShow.vue'),
    CpConfirm: require('../../cp-components-common/CpConfirm.vue'),
    CpEditor: require('../../cp-components-common/inputs/CpEditor.vue')
  }
}

;module.exports.template = "\n    <div>\n        <div class=\"annoucenment-wrapper\">\n            <div class=\"space-between\">\n                <div>\n                    <button v-show=\"Auth.hasAnyRole('Superadmin', 'Admin')\" @click=\"openModal()\" class=\"cp-button-link\">Create</button>\n                </div>\n            </div>\n            <cp-table-controls\n            :date-picker=\"false\"\n            :index-request=\"indexRequest\"\n            :search-place-holder=\"'Search' + '\\x20' + $getGlobal('title_announcement').value\"\n            :resource-info=\"pagination\"\n            :get-records=\"getAnnouncements\"></cp-table-controls>\n            <table class=\"cp-table-standard desktop\">\n                <thead>\n                    <tr>\n                        <th><!-- Edit --></th>\n                        <th>Title</th>\n                        <th>Description</th>\n                        <th>Last Updated</th>\n                        <th>Created</th>\n                        <th><!-- Delete --></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr v-for=\"announcement in announcements\">\n                        <td v-if=\"Auth.hasAnyRole('Superadmin','Admin')\"><a @click=\"showAnnouncements(announcement)\"><i class=\"mdi mdi-pencil\"></i></a></td>\n                        <td v-else></td>\n                        <td><a @click=\"viewAnnouncements(announcement)\">{{announcement.title}}</a></td>\n                        <td>{{announcement.description}}</td>\n                        <td>{{announcement.updated_at | cpStandardDate }}</td>\n                        <td>{{announcement.created_at | cpStandardDate }}</td>\n                        <td v-if=\"Auth.hasAnyRole('Superadmin','Admin')\"><i class=\"mdi mdi-close pointer\" @click=\"confirmAndDelete(announcement.id)\"></i></td>\n                        <td v-else></td>\n                    </tr>\n                </tbody>\n            </table>\n            <section class=\"cp-table-mobile\">\n                <div  v-for=\"announcement in announcements\">\n                    <div v-if=\"Auth.hasAnyRole('Superadmin','Admin')\"><span></span><span><a @click=\"showAnnouncements(announcement)\"><i class=\"mdi mdi-pencil\"></i></a></span></div>\n                    <div v-else-if><span></span><span></span></div>\n                    <div><span>Title: </span><span><a @click=\"viewAnnouncements(announcement)\">{{announcement.title}}</a></span></div>\n                    <div><span>Description: </span><span>{{announcement.description}}</span></div>\n                    <div><span>Last Updated: </span><span>{{announcement.updated_at | cpStandardDate }}</span></div>\n                    <div><span>Created: </span><span>{{announcement.created_at | cpStandardDate }}</span></div>\n                    <div v-if=\"Auth.hasAnyRole('Superadmin','Admin')\"><span></span><span><i class=\"mdi mdi-close pointer\" @click=\"confirmAndDelete(announcement.id)\"></i></span></div>\n                    <div v-else-if><span></span><span></span></div>\n                </div>\n            </section>\n            <cp-confirm\n            :message=\"'Are you sure you want to delete this announcement?'\"\n            v-model=\"showConfirm\"\n            :show=\"showConfirm\"\n            :callback=\"deleteAnnouncement\"\n            :params=\"{id:announcementId}\"></cp-confirm>\n            <div class=\"align-center\">\n                <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n                <cp-pagination :pagination=\"pagination\" :callback=\"getAnnouncements\" :offset=\"2\"></cp-pagination>\n            </div>\n        </div>\n        <!-- EDIT MODAL -->\n        <transition name='modal'>\n            <section class=\"cp-modal-standard\" v-if=\"announcementModal.edit\">\n                <div class=\"cp-modal-body\">\n                    <h2>Edit</h2>\n                    <cp-announcement-form :announcement=\"selectedAnnouncement\" :modal-show=\"announcementModal.edit\" :edit=\"true\" @close=\"announcementModal.edit = false\"></cp-announcement-form>\n                </div>\n            </section>\n        </transition>\n        <!-- CREATE MODAL -->\n        <transition name='modal'>\n            <section class=\"cp-modal-standard\" v-if=\"announcementModal.create\">\n                <div class=\"cp-modal-body\">\n                    <h2>Create</h2>\n                    <cp-announcement-form :call-back=\"getAnnouncements\" :modal-show=\"announcementModal.create\" :edit=\"false\" @close=\"announcementModal.create = false\"></cp-announcement-form>\n                </div>\n            </section>\n        </transition>\n          <!-- Show MODAL -->\n        <transition name='modal'>\n            <section class=\"cp-modal-standard\" v-if=\"announcementModal.view\">\n                <div class=\"cp-modal-body\">\n                    <cp-announcement-show :announcement=\"selectedAnnouncement\" :modal-show=\"announcementModal.view\" @close=\"announcementModal.view = false\"></cp-announcement-show>\n                </div>\n            </section>\n        </transition>\n    </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/addresses/CpAddressBox.vue:script


      sms.vComponent('assets/js/components/addresses/CpAddressBox.vue', {"name":"CpAddressBox","path":"assets/js/components/addresses/CpAddressBox.vue"}, (require,exports,module)=>{
        
const Addresses = require('../../resources/addresses.js')

module.exports = {
  data: function () {
    return {
      address: {},
      editAddress: false
    }
  },
  props: {
    addressLabel: {
      type: String,
      required: true
    },
    addressableType: {
      type: String,
      required: true
    },
    headingTitle: {
      type: String
    },
    addressableId: {
      type: Number // if unused it defaults to auth user on backend
    },
    addressModel: {
      type: Object,
      default () {
        return {}
      }
    }
  },
  computed: {},
  mounted: function () {
    this.getAddress()
  },
  methods: {
    getAddress: function () {
      this.address.label = this.addressLabel
      this.address.addressable_type = this.addressableType
      if (this.addressableId !== undefined) {
        this.address.addressable_id = this.addressableId
      }
      Addresses.show(this.address)
          .then((response) => {
            if (response.error && response.code === 404) {
              this.editAddress = true
            }

            this.address = response
          })
    },
    createAddress: function () {
      this.address.label = this.addressLabel
      this.address.addressable_type = this.addressableType
      if (this.addressableId !== undefined) {
        this.address.addressable_id = this.addressableId
      }
      Addresses.create(this.address)
        .then((response) => {
          if (response.error) {
            return
          }
          this.getAddress()
          this.editAddress = false
        })
    }
  },
  components: {
    'CpAddressForm': require('./CpAddressForm.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"cp-box-standard\">\n        <div class=\"cp-box-heading\">\n            <h5>{{ headingTitle }}</h5>\n            <button type=\"button\" name=\"button\" class=\"cp-box-heading-button\" @click=\"editAddress = true\" v-if=\"!editAddress\"><i class=\"mdi mdi-pencil\"></i></button>\n            <button type=\"button\" name=\"button\" class=\"cp-box-heading-button save\" @click=\"createAddress()\" v-if=\"editAddress\"><i class=\"mdi mdi-floppy\"></i></button>\n        </div>\n        <div class=\"cp-box-body address-display\" v-if=\"!editAddress\">\n            <div v-if=\"address.address_1\">\n                <h4>{{ address.name }}</h4>\n                <span>{{ address.address_1 }}</span>\n                <span>{{ address.address_2 }}</span>\n                <span>{{ address.city }}, {{ address.state }}</span>\n                <span>{{ address.zip }}</span>\n                <span></span>\n            </div>\n            <span v-else>No address found.</span>\n        </div>\n        <div class=\"cp-box-body\"  v-if=\"editAddress\">\n            <cp-address-form :address=\"address\"></cp-address-form>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/announcements/CpAnnouncementForm.vue:script


      sms.vComponent('assets/js/components/announcements/CpAnnouncementForm.vue', {"name":"CpAnnouncementForm","path":"assets/js/components/announcements/CpAnnouncementForm.vue"}, (require,exports,module)=>{
        
const Announcements = require('../../resources/announcements.js')
const Auth = require('auth')

module.exports = {
  data () {
    return {
      errorMessages: {}
    }
  },
  props: {
    announcement: {
      type: Object,
      default: function () {
        return {
          title: '',
          body: '',
          description: '' }
      }
    },
    edit: {
      type: Boolean,
      default: false
    },
    modalShow: {
      default: false
    },
    callBack: {
      type: Function,
      required: false
    }
  },
  moundted: function () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
  },
  methods: {
    createOrUpdate: function () {
      if (this.edit) {
        this.updateAnnouncement()
      } else {
        this.createAnnouncement()
      }
    },
    updateAnnouncement: function () {
      Announcements.update(this.announcement.id, this.announcement)
        .then((response) => {
          if (response.error) {
            this.errorMessages = response.message
            return
          }
          this.$toast('Successfully updated.', { dismiss: false })
          this.$emit('close')
        })
    },
    createAnnouncement: function () {
      Announcements.create(this.announcement)
        .then((response) => {
          if (response.error) {
            this.errorMessages = response.message
            return
          }
          this.callBack()
          this.$toast('Successfully created.', { dismiss: false })
          this.$emit('close')
        })
    }
  },
  components: {
    CpEditor: require('../../cp-components-common/inputs/CpEditor.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"announcement-form-wrapper\">\n        <div class=\"cp-form-standard\">\n            <div>\n                <label>Title</label>\n                <input\n                :class=\"{ error: errorMessages.title }\"\n                type=\"text\"\n                v-model=\"announcement.title\">\n                <span v-show=\"errorMessages.title\" class=\"cp-warning-message\">{{ errorMessages.title }}</span>\n            </div>\n            <div class=\"editor-wrapper\" :class=\"{ error: errorMessages.body }\">\n                <label for=\"\">Body</label>\n                <cp-editor v-model=\"announcement.body\"></cp-editor>\n                <span v-show=\"errorMessages.body\" class=\"cp-warning-message\">{{ errorMessages.body }}</span>\n            </div>\n            <br />\n            <label>Description</label>\n            <small>(optional)</small>\n            <textarea\n            :class=\"{ error: errorMessages.description }\"\n            class=\"announcement-field smaller-field\"\n            v-model=\"announcement.description\"></textarea>\n            <span v-show=\"errorMessages.description\" class=\"cp-warning-message\">{{ errorMessages.description }}</span>\n        </div>\n        <div class=\"submit-button\">\n            <button class=\"cp-button-standard\" @click=\"$emit('close')\">Cancel</button>\n            <button class=\"cp-button-standard\" @click=\"createOrUpdate()\">Submit</button>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/addresses/CpAddressForm.vue:script


      sms.vComponent('assets/js/components/addresses/CpAddressForm.vue', {"name":"CpAddressForm","path":"assets/js/components/addresses/CpAddressForm.vue"}, (require,exports,module)=>{
        
const { states } = require('../../resources/states.js')

module.exports = {
  data: function () {
    return {
      states: states,
      defaultValidationFields: ['name', 'address_1', 'city', 'state', 'zip'],
      errors: {}
    }
  },
  props: {
    address: {
      type: Object,
      default () {
        return {
          name: null,
          address_1: null,
          address_2: null,
          city: null,
          state: null,
          zip: null
        }
      }
    },
    addressType: {
      type: String,
      default: 'address'
    },
    validationErrors: {
      default () {
        return {}
      }
    },
    hideNameField: {
      type: Boolean,
      default () {
        return false
      }
    },
    disabled: {
      type: Boolean,
      default () {
        return false
      }
    }
  },
  methods: {
    getAddress () {
      let address = {
        line_1: this.address.address_1,
        line_2: this.address.address_2,
        city: this.address.city,
        state: this.address.state,
        zip: this.address.zip
      }
      if (this.address.name) {
        address.name = this.address.name
      }
      return address
    },
    setAddress(address) {
      if (address) {
        this.address.name = address.name
        this.address.address_1 = address.line_1
        this.address.address_2 = address.line_2
        this.address.city = address.city
        this.address.state = address.state
        this.address.zip = address.zip
      }
    },
    validate (requiredFields) {
      if (!requiredFields) {
        requiredFields = this.defaultValidationFields
      }
      let errors = {}
      requiredFields.forEach((field) => {
        if (!this.address[field]) {
          errors[this.addressType + '.' + field] = ['required']
        }
      })
      if (Object.keys(errors).length > 0) {
        this.validationErrors = errors
        return false
      } else {
        this.validationErrors = {};
      }
      return true
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpSelect: require('../../cp-components-common/inputs/CpSelect.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"cp-form-standard\">\n      <cp-input v-if=\"!hideNameField\"\n      label=\"Name\"\n      type=\"text\"\n      :disabled=\"disabled\"\n      :error=\"validationErrors[ addressType + '.name' ]\"\n      v-model=\"address.name\"></cp-input>\n      <cp-input\n      label=\"Address line 1\"\n      type=\"text\"\n      :disabled=\"disabled\"\n      :error=\"validationErrors[ addressType + '.address_1' ]\"\n      v-model=\"address.address_1\"></cp-input>\n      <cp-input\n      label=\"Address line 2\"\n      type=\"text\"\n      :disabled=\"disabled\"\n      :error=\"validationErrors[ addressType + '.address_2' ]\"\n      v-model=\"address.address_2\"></cp-input>\n      <cp-input\n      label=\"City\"\n      type=\"text\"\n      :disabled=\"disabled\"\n      :error=\"validationErrors[ addressType + '.city' ]\"\n      v-model=\"address.city\"></cp-input>\n      <div class=\"form-specific-wrapper\">\n        <cp-select\n        label=\"State\"\n        type=\"text\"\n        :disabled=\"disabled\"\n        :options=\"states\"\n        :key-value=\"{ name: 'name' , value: 'value' }\"\n        :error=\"validationErrors[ addressType + '.state' ]\"\n        v-model=\"address.state\"></cp-select>\n        <cp-input\n        label=\"Zip\"\n        type=\"text\"\n        :disabled=\"disabled\"\n        :error=\"validationErrors[ addressType + '.zip' ]\"\n        v-model=\"address.zip\"></cp-input>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/authentication/CpLoginAsTypeahead.vue:script


      sms.vComponent('assets/js/components/authentication/CpLoginAsTypeahead.vue', {"name":"CpLoginAsTypeahead","path":"assets/js/components/authentication/CpLoginAsTypeahead.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')

module.exports = {
  methods: {
    loginAs (rep) {
      Auth.loginAs(rep.id).then(res => {
        if (res.error) {
          this.errorMessages = res.message
          return this.$toast(res.message, { error: true, dismiss: false })
        }
        this.$events.$emit('login-as-change')
        this.$router.go()
      })
    }
  },
  components: {
    CpRepSearchTypeahead: require('../../cp-components-common/inputs/CpRepSearchTypeahead.vue')
  }
}
;
        module.exports.template = "\n  <cp-rep-search-typeahead @rep-selected=\"loginAs\" label=\"Sign in as: \"></cp-rep-search-typeahead>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/authentication/CpLoginAs.vue:script


      sms.vComponent('assets/js/components/authentication/CpLoginAs.vue', {"name":"CpLoginAs","path":"assets/js/components/authentication/CpLoginAs.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')

module.exports = {
  data: function () {
    return {
    }
  },
  mounted: function () {
  },
  methods: {
    loginAs () {
      Auth.loginAs(Auth.getClaims().actualUserId)
        .then((response) => {
          if (response.error) {
            this.errorMessages = response.message
            return this.$toast(response.message, { error: true, dismiss: false })
          }
          Jwt.setToken(response.jwtToken)
          window.location = '/dashboard'
        })
    }
  },
  props: ['session'],
  components: {}
}
;
        module.exports.template = "\n  <button class=\"logout-as list-group-item\" @click=\"loginAs()\">\n          <i class=\"mdi mdi-chevron-left\"></i>\n          Return to Admin</button>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/authentication/CpLogin.vue:script


      sms.vComponent('assets/js/components/authentication/CpLogin.vue', {"name":"CpLogin","path":"assets/js/components/authentication/CpLogin.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')

module.exports = {
  data () {
    return {
      authRequest: {
        email: '',
        password: '',
        cp_redirect: null
      },
      loginSettings: {
        rep_facebook_login: {
          show: false
        }
      }
    }
  },
  mounted () {
    this.getLoginSettings()
  },
  methods: {
    authenticate: function () {
      var redirect = window.cpHelpers.getParameterByName('cp_redirect')
      this.authRequest.cp_redirect = redirect
      Auth.login(this.authRequest).then((response) => {
        if (response.error) {
          const message = response.code === 403 ? 'Invalid credentials' : response.message[0]
          return this.$toast(message, { error: true })
        }
        Jwt.setToken(response.cp_token)
        if (redirect) {
          var token = response.cp_token
          redirect = decodeURIComponent(redirect)
          var tokenPrefix = redirect.includes('?') ? '&' : '?'
          var redirectUrl = redirect + tokenPrefix + 'cp_token=' + token
          window.location = redirectUrl
          return
        }
        const isAdmin = Auth.hasAnyRole('Admin', 'Superadmin')
        if (isAdmin || (response.activeSubscription && response.termsAccepted)) {
          window.location = '/dashboard'
          return
        } else {
          window.location = '/my-settings'
          return
        }
      })
    },
    getLoginSettings: function () {
      Auth.getLoginSettings()
          .then((response) => {
            if (response.error) {
              return this.$toast(response.message, {error: true})
            } else {
              this.loginSettings = response
            }
          })
    }
  }
}
;
        module.exports.template = "\n  <div class=\"cp-wrapper\">\n    <div class=\"login-wrapper\">\n      <form @submit.prevent>\n        <h2 class=\"no-top medium\">Sign in</h2>\n        <cp-input type=\"text\" placeholder=\"Email Address\" v-model=\"authRequest.email\"></cp-input>\n        <cp-input type=\"password\" placeholder=\"Password\" v-model=\"authRequest.password\"></cp-input>\n        <button class='cp-button-standard login-btn' @click=\"authenticate()\">Sign in</button>\n        <a class=\"cp-button-link login-btn fb-login\" v-if=\"loginSettings.rep_facebook_login.show\" :href=\"$getGlobal('facebook_oauth_url').value\"><i class=\"mdi mdi-facebook\"></i>Sign in with Facebook</a>\n        <p class=\"password-forgot\"><a href=\"/password/remind\">Forgot Password?</a></p>\n      </form>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/announcements/CpAnnouncementShow.vue:script


      sms.vComponent('assets/js/components/announcements/CpAnnouncementShow.vue', {"name":"CpAnnouncementShow","path":"assets/js/components/announcements/CpAnnouncementShow.vue"}, (require,exports,module)=>{
        

module.exports = {
  props: {
    announcement: {
      type: Object,
      default: function () {
        return {
          title: '',
          body: '',
          description: '',
          created_at: ''
        }
      }
    },
    modalShow: {
      default: false
    }
  }
}
;
        module.exports.template = "\n<div class=\"announcement-form-wrapper\">\n  <div>\n    <h1>{{ announcement.title }}</h1>\n    <p>{{ announcement.created_at | cpStandardDate }}</p>\n    <p v-if=\"announcement.description\"><em>{{ announcement.description }}</em></p>\n    <p v-html=\"announcement.body\"></p>\n  </div>\n  <div class=\"submit-button\">\n      <button class=\"cp-button-standard\" @click=\"$emit('close')\">Close</button>\n  </div>\n</div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/authentication/CpPasswordReset.vue:script

sms.vComponent('assets/js/components/authentication/CpPasswordReset.vue', {name:'CpPasswordReset', routing: { name: 'public.CpPasswordReset', meta: { noauth: true}, path: '/password/reset/:token', props: true} }, (require, exports, module)=>{

const Auth = require('auth')

module.exports = {
  data () {
    return {
      email: false,
      request: {
        token: this.token
      }
    }
  },
  props: {
    token: {
      default () {
        return this.$pathParameterName()
      }
    }
  },
  mounted () {
  },
  methods: {
    resetPassword () {
      Auth.resetPassword(this.request)
        .then((response) => {
          if (!response.error) {
            this.$toast(response.message, { dismiss: true })
            window.location = '/dashboard'
          } else {
            this.$toast(response.message['password'][0], { dismiss: true, error: true })
          }
        })
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue')
  }
}

;module.exports.template = "\n    <div class=\"cp-password-reset-wrapper\">\n      <div class=\"cp-form-inverse\">\n        <cp-input v-model=\"request.email\" type=\"email\" placeholder=\"E-Mail Address\"></cp-input>\n        <cp-input v-model=\"request.password\" type=\"password\" placeholder=\"New Password\"></cp-input>\n        <cp-input v-model=\"request.password_confirmation\" type=\"password\" placeholder=\"Verify Password\"></cp-input>\n        <button style=\"width:100%;\" class=\"cp-button-standard \" type=\"button\" name=\"button\" @click=\"resetPassword()\">Create New Password</button>\n      </div>\n    </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/authentication/CpSendPasswordReset.vue:script

sms.vComponent('assets/js/components/authentication/CpSendPasswordReset.vue', {name:'CpSendPassword', routing: { name: 'public.CpSendPassword', meta: { noauth: true}, path: '/password-reset-send'} }, (require, exports, module)=>{

const Auth = require('auth')

module.exports = {
  data () {
    return {
      request: {
        email: ''
      }
    }
  },
  mounted () {
  },
  methods: {
    sendResetLink () {
      Auth.sendResetLink(this.request)
        .then((response) => {
          if (!response.error) {
            this.request.email = ''
            this.$toast(response.message, { dismiss: true })
          }
        })
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue')
  }
}

;module.exports.template = "\n    <div class=\"cp-password-reset-wrapper\">\n      <div class=\"cp-form-inverse\">\n        <cp-input v-model=\"request.email\" placeholder=\"Enter your email here...\"></cp-input>\n        <button style=\"width:100%;\" class=\"cp-button-standard \" type=\"button\" name=\"button\" @click=\"sendResetLink()\">Send Reset Password Link</button>\n      </div>\n    </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/autoship/CpAutoshipCheckout.vue:script


      sms.vComponent('assets/js/components/autoship/CpAutoshipCheckout.vue', {"name":"CpAutoshipCheckout","path":"assets/js/components/autoship/CpAutoshipCheckout.vue"}, (require,exports,module)=>{
        
const Step = require('../../libraries/step.js')
const Checkout = require('../../resources/CheckoutAPIv0.js')
const Autoship = require('../../resources/AutoshipAPIv0.js')
const Tax = require('../../resources/TaxesAPIv0.js')
const moment = require('moment')
const Address = require('../../resources/addresses.js')

module.exports = {
  name: 'CpAutoshipCheckout',
  routing: [
    {
      name: 'site.CpAutoshipCheckout',
      path: 'autoship/:cartPid',
      meta: {
        title: ''
      },
      props: true
    }
  ],
  props: {
    cartProp: {
      type: Object,
      default: null
    },
    cartPid: {
      type: String
    }
  },
  data () {
    return {
      cart: {},
      steps: Step,
      processing: false,
      order: {},
      sellerAddress: {}
    }
  },
  mounted () {
    var self = this
    document.addEventListener("visibilitychange", function() {
      if (document.visibilityState === 'visible' && !self.steps.get('summary')) {
        self.getCart()
        if (self.steps.get('payment')) {
          self.steps.skipTo('info')
        }
      }
    })
    if (this.cartProp !== null) {
      this.cart = this.cartProp
      this.getTotals()
    } else {
      this.getCart()
    }
    this.getSellerAddress()
    // initilize number steps in this checkout form
    let newSteps = {
      plan: true,
      info: false,
      payment: false,
      summary: false
    }
    this.steps.init(newSteps, 300)
  },
  methods: {
    getSellerAddress () {
      let request = {
        addressable_id: 1,
        addressable_type: 'App\\Models\\User',
        label: 'Business'
      }
      Address.show(request)
        .then((response) => {
          if (response.error) {
            this.$toast("Seller's Business Address Not Set. Please contact seller.", { error: true, dismiss: false })
            return
          }
          this.sellerAddress = response
        })
    },
    getCart () {
      Checkout.getCart({'expands': ['lines']}, this.cartPid)
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, { error: true, dismiss: false })
            return
          }
          this.cart = response
          this.$refs.userInfoForm.pullBuyer(this.cart.buyer_pid)
          this.countItems()
        })
    },
    countItems() {
      this.cart.total_quantity = 0
      for (i = 0; i < this.cart.lines.length; i++) {
        this.cart.total_quantity += this.cart.lines[i].quantity
      }
      if (this.$refs.autoshipPlan.plans) {
        this.$refs.autoshipPlan.getPlans()
      }
    },
    getTotals () {
      let currentDiscount = this.$refs.autoshipPlan.selectedPlan.current_discount
      this.cart.subtotal = 0
      this.cart.discount = 0
      this.cart.tax = 0
      this.cart.shipping = 0
      this.cart.total = 0
      this.cart.total_quantity = 0
      for (i = 0; i < this.cart.lines.length; i++) {
        this.cart.total_quantity += this.cart.lines[i].quantity
        this.cart.subtotal += this.cart.lines[i].quantity * this.cart.lines[i].price
        for (x = 0; x < this.cart.lines[i].items.length; x++) {
          if (this.cart.lines[i].items[x].premium_shipping_cost) {
            this.cart.shipping += this.cart.lines[i].items[x].premium_shipping_cost
          }
        }
      }
      this.cart.total = this.cart.subtotal
      if (currentDiscount) {
        this.cart.discount = Math.round(currentDiscount * this.cart.subtotal) / 100 
        this.cart.total -= this.cart.discount
      }
      this.getShippingRate()
    },
    getShippingRate () {
      let request = {
        seller_pid: this.cart.seller_pid,
        type: 'wholesale',
        amount: (this.cart.subtotal - this.cart.discount)
      }
      Checkout.getShippingRate(request)
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, { error: true, dismiss: false })
            return
          }
          this.cart.shipping += parseFloat(response.amount)
          this.cart.total += this.cart.shipping
          this.getTax()
      })
    },
    getTax () {
      if (this.$getGlobal('tax_exempt_wholesale').show) {
          this.$refs.confirmAutoship.cart = this.cart
          this.steps.skipTo('payment')
          return
      }
      let lineItems = []
      for (i = 0; i < this.cart.lines.length; i++) {
        lineItems.push({
          'quantity': this.cart.lines[i].quantity,
          'subtotal': this.cart.lines[i].price * this.cart.lines[i].quantity,
          'tax_code': this.cart.lines[i].tax_class
        })
      }
      lineItems.push({
        'quantity': 1,
        'subtotal': this.cart.shipping,
        'type': 'shipping'
      })
      let request = {
        'to_address': this.$refs.userInfoForm.buyer.shipping_address,
        'from_address': this.sellerAddress,
        'line_items': lineItems,
        'merchant_id': 'default',
        'type': 'sale',
        'estimate': true
      }
      Tax.getQuote(request)
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, { error: true, dismiss: false })
            return
          }
          this.cart.tax += response.tax
          this.cart.total += this.cart.tax
          this.$refs.confirmAutoship.cart = this.cart
          this.steps.skipTo('payment')
      })
    },
    validateInfo () {
      if (!this.$refs.userInfoForm.validate()) {
        this.processing = false
        return
      }
      if (!(this.cart.lines.length > 0)) {
        this.$toast('cart is empty', { error: true, dismiss: false })
        return
      }
      this.getTotals()
    },
    process () {
      this.processing = true
      let request = {
        buyer_first_name: this.$refs.userInfoForm.buyer.first_name,
        buyer_last_name: this.$refs.userInfoForm.buyer.last_name,
        cart_pid: this.cart.pid,
        plan_pid: this.$refs.autoshipPlan.selectedPlan.pid,
        next_billing_at: moment.utc().format('YYYY-MM-DD HH:mm:ss')
      }
      Autoship.createSubscription(request)
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, { error: true, dismiss: false })
            this.processing = false
            return
          }
          this.order = {
            pid: response.pid,
            lines: response.lines,
            total_discount: response.discount,
            subtotal_price: response.subtotal,
            total_shipping: this.cart.shipping,
            total_tax: this.cart.tax,
            total_price: response.subtotal + response.discount + this.cart.shipping + this.cart.tax
          }
          this.steps.skipTo('summary')
      }) 
    }
  }
}
;
        module.exports.template = "\n  <div class=\"\">\n    <cp-cart-button\n      :cartPid=\"cartPid\">\n    </cp-cart-button>\n    <div class=\"checkout-autoship-wrapper cp-panel-standard\">\n      <section class=\"cp-steps-circle\">\n        <div :class=\"{ 'active-step': steps.get('plan') }\"><span>1</span> Select Plan</div>\n        <div :class=\"{ 'active-step': steps.get('info') }\"><span>2</span> Confirm Information</div>\n        <div :class=\"{ 'active-step': steps.get('payment') }\"><span>3</span> Confirm Your Subscription</div>\n        <div :class=\"{ 'active-step': steps.get('summary') }\"><span>4</span> Subscription Summary</div>\n      </section>\n      <br>\n      <br>\n      <div v-show=\"steps.get('info')\" style=\"text-align:center\">\n        <a class=\"cp-button-standard\" href=\"/my-settings\" target=\"_blank\">Click to Change Info</a>\n      </div>\n\n    <cp-autoship-plans\n      :itemQuantity=\"cart.total_quantity\"\n      :steps=\"steps\"\n      ref=\"autoshipPlan\"\n      v-show=\"steps.get('plan')\">\n    </cp-autoship-plans>\n      <cp-autoship-info\n        ref=\"userInfoForm\"\n        :buyerPid=\"cart.buyer_pid\"\n        v-show=\"steps.get('info')\">\n      </cp-autoship-info>\n      <div class=\"payment-info-section\">\n        <cp-autoship-confirm\n          ref=\"confirmAutoship\"\n          v-show=\"steps.get('payment')\">\n        </cp-autoship-confirm>\n      </div>\n      <cp-purchase-summary\n        ref=\"summary\"\n        v-show=\"steps.get('summary')\"\n        :order=\"order\"\n        :message=\"'Thank you for enrolling in '+ $getGlobal('autoship_display_name').value +'! Your order will processed within the next 24 hours.'\">\n      </cp-purchase-summary>\n      <section class=\"checkout-controls\">\n        <div v-if=\"steps.get('info')\">\n          <button\n            class=\"cp-button-standard checkout-back-button\"\n            @click=\"steps.skipTo('plan')\">Back</button>\n          <button\n          class=\"cp-button-standard\"\n          :disabled=\"processing\"\n          @click=\"validateInfo()\">Next</button>\n        </div>\n        <div v-else-if=\"steps.get('payment')\">\n          <button\n            class=\"cp-button-standard checkout-back-button\"\n            :disabled=\"processing\"\n            @click=\"steps.skipTo('info')\">Back</button>\n          <button\n            class=\"cp-button-standard\"\n            :disabled=\"processing\"\n            @click=\"process()\">{{ processing ? 'Processing' : 'Place ' + $getGlobal('autoship_display_name').value }}</button>\n        </div>\n      </section>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/autoship/CpAutoshipPlans.vue:script


      sms.vComponent('assets/js/components/autoship/CpAutoshipPlans.vue', {"name":"CpAutoshipPlans","path":"assets/js/components/autoship/CpAutoshipPlans.vue"}, (require,exports,module)=>{
        
const Autoship = require('../../resources/AutoshipAPIv0.js')

module.exports = {
  mounted () {
    this.getPlans()
  },
  data () {
    return {
      plans: [],
      selectedPlan: {
        percent_discount: 0
      }
    }
  },
  props: {
    itemQuantity: {
      type: Number,
      default: 0
    },
    steps: {
    }
  },
  watch: {

  },
  methods: {
    getPlans () {
      Autoship.getPlans({visibilities: ['Wholesale']})// TODO make this check the cart or a prop?
        .then((response) => {
          this.plans = response.data
          this.calculateDiscounts(this.itemQuantity)
        })
    },
    calculateDiscounts (itemQuantity) {
        /*
          * Go through each plan's discounts to figure out what the current discount will be
          * and figure what the next discount will be with how many items to qualify for it.
          */
        for (planIndex = 0; planIndex < this.plans.length; planIndex++) {
          for (discountIndex = 0; discountIndex < this.plans[planIndex].discounts.length; discountIndex++) {
            if (itemQuantity >= this.plans[planIndex].discounts[discountIndex].min_quantity) {
              this.plans[planIndex].current_discount = this.plans[planIndex].discounts[discountIndex].percent
              if (this.plans[planIndex].discounts[discountIndex + 1] !== undefined) {
                this.plans[planIndex].next_discount = this.plans[planIndex].discounts[discountIndex + 1].percent
                this.plans[planIndex].next_to_qualify = this.plans[planIndex].discounts[discountIndex + 1].min_quantity - this.itemQuantity
              } else {
                this.plans[planIndex].next_discount = 0
                this.plans[planIndex].next_to_qualify = 0
              }
            } else if (discountIndex === 0) {
                this.plans[planIndex].next_discount = this.plans[planIndex].discounts[discountIndex].percent
                this.plans[planIndex].next_to_qualify = this.plans[planIndex].discounts[discountIndex].min_quantity - this.itemQuantity
            }
          }
        }
        return this.plans
    },
    selectPlan (plan) {
      this.selectedPlan = plan
      this.steps.skipTo('info')
    }
  },
  filters: {
    frequency (plan) {
      if (plan.frequency === 1) {
        if (plan.duration === 'Days') {
          return 'Daily'
        }
        return plan.duration.replace('s', 'ly')
      }
      return 'Every ' + plan.frequency + ' ' + plan.duration
    }
  }
}
;
        module.exports.template = "\n  <section class=\"autoship-plans-wrapper\">\n  <br/>\n  <div class=\"plan-wrapper\">\n  <h2 v-if=\"plans.length < 0\">No plans are available.</h2>\n  <ul v-else>\n    <li v-for=\"plan in plans\" :key=\"plan.id\" @click=\"selectPlan(plan)\">\n      <div class=\"frequency\">\n        {{plan | frequency}}\n      </div>\n      <div v-if=\"plan.current_discount > 0\">\n        {{plan.current_discount}}% discount\n      </div>\n      <div class=\"title\" v-if=\"plan.title !== null\">\n        {{plan.title}}\n      </div>\n      <p v-if=\"plan.description !== null\">\n        {{plan.description}}\n      </p>\n      <div class=\"select-plan\">\n        <div class=\"qualify\" v-if=\"plan.next_to_qualify > 0\">\n          Add {{plan.next_to_qualify}} more item<span v-if=\"plan.next_to_qualify > 1\">s</span> to your cart to get a {{plan.next_discount}}% discount\n        </div>\n        <button class=\"cp-button-standard\" @click=\"selectPlan()\">Select</button>\n      </div>\n    </li>\n  </ul>\n</div>\n  </section>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/autoship/CpAutoshipSubscriptions.vue:script


      sms.vComponent('assets/js/components/autoship/CpAutoshipSubscriptions.vue', {"name":"CpAutoshipSubscriptions","path":"assets/js/components/autoship/CpAutoshipSubscriptions.vue"}, (require,exports,module)=>{
        
const Autoship = require('../../resources/AutoshipAPIv0.js')
const Auth = require('auth')
const moment = require('moment')
const Users = require('../../resources/UsersAPIv0.js')

module.exports = {
  routing: [
    { name: 'site.CpAutoshipSubscriptions', meta: {title: ''}, path: '/inventory/autoship' }
  ],
  data: function () {
    return {
      user_pid: null,
      creditCard: {},
      loading: false,
      showId: null,
      subscriptions: [],
      pagination: {},
      indexRequest: {
        show_disabled: true,
        search_term: null,
        sort_by: 'next_billing_at',
        page: 1,
        per_page: 15
      }
    }
  },
  mounted () {
    this.user_pid = Auth.getAuthPid()
    this.indexRequest.buyer_pid = this.user_pid
    this.getSubscriptions()
    this.getCardToken()
  },
  filters: {
    frequency (subscription) {
      if (subscription.frequency == 1) {
        if (subscription.duration === 'Days') {
          return 'Daily'
        }
        return subscription.duration.replace('s', 'ly')
      }
      return subscription.frequency + ' ' + subscription.duration
    }
  },
  methods: {
    getCardToken () {
      Users.getCardToken(this.user_pid)
        .then((response) => {
          if (!response.error) {
            this.creditCard = response
          }
        })
    },
    setOpen (index) {
      if (index === this.showId) {
        this.showId = null
      } else {
        this.showId = index
      }
    },
    getSubscriptions () {
      this.loading = true
      Autoship.getSubscriptions(this.indexRequest)
        .then((response) => {
          this.loading = false
          this.pagination = response
          this.subscriptions = response.data
        })
    }
  }
}
;
        module.exports.template = "\n    <div class=\"autoship-subscriptions-wrapper\">\n      <div v-if=\"!loading\">\n            <cp-table-controls\n            :date-picker=\"false\"\n            :search-box=\"false\"\n            :index-request=\"indexRequest\"\n            :search-place-holder=\"'Search Subscriptions'\"\n            :resource-info=\"pagination\"\n            :get-records=\"getSubscriptions\"></cp-table-controls>\n      <span class=\"accordion-headers\">\n        <h3>Frequency</h3>\n        <h3>Next Order Date</h3>\n        <h3>Canceled</h3>\n      </span>\n        <div class=\"cp-accordion\" v-for=\"(subscription, index) in subscriptions\" :key=\"index\">\n            <div class=\"cp-accordion-head\" @click=\"setOpen(index)\">\n                <div class=\"col\"> {{subscription | frequency}}</div>\n                <div class=\"col\"> {{subscription.next_billing_at | cpStandardDate}}</div>\n                <div class=\"col\">\n                    <span v-if=\"subscription.disabled_at\">{{subscription.disabled_at | cpStandardDate}}</span><span v-else></span>\n                    <span class=\"arrow\" v-if=\"showId !== index\"><i class=\"mdi mdi-chevron-down\"></i></span>\n                    <span class=\"arrow\" v-if=\"showId === index\"><i class=\"mdi mdi-chevron-up\"></i></span>\n                </div>\n            </div>\n          <cp-autoship-subscription-details v-if=\"showId === index\" @disabled=\"getSubscriptions()\" :subscription=\"subscription\" :card-token=\"creditCard\"></cp-autoship-subscription-details>\n        </div>\n      </div>\n            <div class=\"align-center\">\n                <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n                <cp-pagination :pagination=\"pagination\" :callback=\"getSubscriptions\" :offset=\"2\"></cp-pagination>\n            </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/autoship/CpAutoshipInfo.vue:script


      sms.vComponent('assets/js/components/autoship/CpAutoshipInfo.vue', {"name":"CpAutoshipInfo","path":"assets/js/components/autoship/CpAutoshipInfo.vue"}, (require,exports,module)=>{
        
const Users = require('../../resources/UserApiv0.js')

module.exports = {
  data () {
    return {
      buyer: {},
      cardToken: {},
      sameAsBilling: false,
      validationErrors: {}
    }
  },
  mounted () {
  },
  filters: {
    expiration (expiration) {
        expiration = expiration.split('')
        expiration.splice(2, 0, '/')
        expiration = expiration.join('')
        return expiration
    }
  },
  props: {
  },
  methods: {
    pullBuyer (buyerPid) {
      Users.get(buyerPid, {addresses: true})
        .then((response) => {
          if (!response.error) {
            this.buyer = response
            this.pullCardToken()
          }
      })
    },
    pullCardToken() {
      Users.getCardToken(this.buyer.pid)
        .then((response) => {
          if (!response.error) {
            this.cardToken = response
          }
      })
    },
    validate () {
      if (!this.buyer.first_name) {
        this.$toast('first name required', { error: true, dismiss: false })
        return false
      }
      if (!this.buyer.last_name) {
        this.$toast('last name required', { error: true, dismiss: false })
        return false
      }
      if (!this.buyer.email) {
        this.$toast('email required', { error: true, dismiss: false })
        return false
      }
      let addressFields = ['line_1', 'city', 'state', 'zip']
      addressFields.forEach((field) => {
        if (!this.buyer.shipping_address[field]) {
          this.$toast('billing address ' + field + ' required', { error: true, dismiss: false })
          return false
        }
      })
      if (!this.cardToken.card_digits) {
        this.$toast('Card information not on file. Please Click to Change Info.', { error: true, dismiss: false })
        return false
      }
      return true
    },
  }
}
;
        module.exports.template = "\n  <section class=\"autoship-information-section cp-form-inverse\">\n    <div class=\"col custom-info\">\n      <h3>Information</h3>\n      <div>\n        {{buyer.first_name}} {{buyer.last_name}}\n      </div>\n      <div>\n        {{buyer.email}}\n      </div>\n    </div>\n    <div class=\"col\">\n      <h3>Shipping Address</h3>\n      <div v-if=\"buyer.shipping_address\">\n        <div>\n          {{buyer.shipping_address.name}}\n        </div>\n        <div>\n          {{buyer.shipping_address.line_1}}\n        </div>\n        <div v-if=\"buyer.shipping_address.line_2\">\n          {{buyer.shipping_address.line_2}}\n        </div>\n        <div>\n          {{buyer.shipping_address.city}} \n          {{buyer.shipping_address.state}} \n          {{buyer.shipping_address.zip}} \n        </div>\n      </div>\n    </div>\n    <div class=\"col\">\n      <h3>Credit Card</h3>\n      <div v-if=\"cardToken.card_digits\">\n        <div class=\"bold\">Payment Method</div>\n        <div>{{cardToken.card_type}} ending in {{cardToken.card_digits.slice(-4)}}</div>\n        <div class=\"bold\">Expiration</div>\n        <div>{{cardToken.expiration | expiration}}</div>\n      </div>\n    </div>\n  </section>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/autoship/CpAutoshipSubscriptionDetails.vue:script


      sms.vComponent('assets/js/components/autoship/CpAutoshipSubscriptionDetails.vue', {"name":"CpAutoshipSubscriptionDetails","path":"assets/js/components/autoship/CpAutoshipSubscriptionDetails.vue"}, (require,exports,module)=>{
        
const Autoship = require('../../resources/AutoshipAPIv0.js')
const Auth = require('auth')

module.exports = {
  data: () => ({
    Auth: Auth,
    subscriptionId: null,
    showConfirm: false,
    user_id: null
  }),
  filters: {
    expiration (expiration) {
        expiration = expiration.split('')
        expiration.splice(2, 0, '/')
        expiration = expiration.join('')
        return expiration
    }
  },
  props: ['subscription', 'cardToken', 'callback'],
  mounted () {
  },
  methods: {
    confirmAndDisable (id) {
      this.subscriptionId = id
      this.showConfirm = true
    },
    disableSubscription () {
      Autoship.disableSubscription(this.subscription.id)
        .then((response) => {
            if (response.error) {
                this.$toast(response.message, {dismiss: false, error: true})
            } else {
                this.$toast('Subscription successfully canceled.', {dismiss: false})
                this.$emit('disabled')
            }
        })
    }
  }
}
;
        module.exports.template = "\n    <div class=\"autoship-details-wrapper\">\n        <div>\n        <h3>ID: {{subscription.id}}</h3>\n        <table class=\"cp-table-standard\">\n            <thead>\n                <tr>\n                <th>Image</th>\n                <th>Product</th>\n                <th>Variant</th>\n                <th>Option</th>\n                <th>Quantity</th>\n                <th>Price</th>\n                </tr>\n            </thead>\n            <tbody v-for=\"(line, index) in subscription.lines\" :key=\"index\">\n                <tr v-for=\"(item, index) in line.items\" :key=\"index\">\n                    <td> <img :src=\"item.img_url\" alt=\"\"></td>\n                    <td> {{item.product_name}}</td>\n                    <td> {{item.variant_name}}</td>\n                    <td> {{item.option}}</td>\n                    <td> {{line.quantity}}</td>\n                    <td> {{line.price | currency}}</td>\n                </tr>\n            </tbody>\n        </table>\n        <div class=\"subscription-price\">\n            <span>\n                <table v-if=\"cardToken.card_type\" class=\"cp-table-inverse\">\n                    <thead>\n                        <th>Payment Method</th>\n                        <th>Expiration</th>\n                    </thead>\n                    <tr>\n                        <td>{{cardToken.card_type}} ending in {{cardToken.card_digits.slice(-4)}}</td>\n                        <td>{{cardToken.expiration | expiration}}</td>\n                    </tr>\n                </table>\n            <a v-else-if=\"Auth.hasAnyRole('Rep')\" class=\"cp-button-standard\" href=\"/my-settings\"> Add Payment Method</a>\n            <span v-else>Credit Card not on file</span>\n            </span>\n            <table class=\"cp-table-inverse autoship-totals\">\n                <tr><td>Subtotal: </td><td>{{subscription.subtotal | currency}}</td></tr>\n                <tr><td>Discount: </td><td>{{subscription.discount | currency}} ({{subscription.percent_discount}}%)</td></tr>\n                <tr><td>Tax:</td><td> TBD</td></tr>\n                <tr><td>Shipping:</td><td> TBD</td></tr>\n                <tr><td>Total:</td><td> {{(subscription.subtotal - subscription.discount) | currency}}</td></tr>\n            </table>\n        </div>\n        <cp-confirm\n            :message=\"'Are you sure you want to cancel this ' + $getGlobal('autoship_display_name').value +'?'\"\n            v-model=\"showConfirm\"\n            :show=\"showConfirm\"\n            :callback=\"disableSubscription\"\n            :config-options=\"{ buttonTextOne: 'Yes', buttonTextTwo: 'No'}\"\n            :params=\"{id:subscriptionId}\"></cp-confirm>\n        <div v-if=\"Auth.hasAnyRole('Rep')\" class=\"align-center disable-button\">\n            <button v-if=\"!subscription.disabled_at\" class=\"cp-button-standard\" @click=\"confirmAndDisable(subscription.id)\">Cancel {{ $getGlobal('autoship_display_name').value }}</button>\n            <span v-else>Canceled on {{subscription.disabled_at | cpStandardDate }}</span>\n        </div>\n    </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/autoship/CpAutoshipPlanForm.vue:script


      sms.vComponent('assets/js/components/autoship/CpAutoshipPlanForm.vue', {"name":"CpAutoshipPlanForm","path":"assets/js/components/autoship/CpAutoshipPlanForm.vue"}, (require,exports,module)=>{
        
const Autoship = require('../../resources/AutoshipAPIv0.js')
const Moment = require('moment-timezone')

module.exports = {
  data () {
    return {
      validationErrors: {},
      creatingPlan: false,
      discount: {
      },
      durations: [
        { name: 'Days' },
        { name: 'Weeks' },
        { name: 'Months' },
        { name: 'Quarters' },
        { name: 'Years' }
      ]
    }
  },
  props: {
    plan: {
      default () {
        return {}
      }
    },
    edit: {
      type: Boolean
    }
  },
  mounted () {
    this.fixVisibility()
  },
  methods: {
    fixVisibility () {
      if (this.plan.title) {
        for (let k = 0; k < this.plan.visibilities.length; k++) {
          delete this.plan.visibilities[k].deleted_at
        }
      }
    },
    addDiscount () {
      if (this.discount.percent !== undefined && this.discount.min_quantity !== undefined && this.discount) {
        if (this.plan.discounts) {
          this.plan.discounts.push(this.discount)
        } else {
          this.plan.discounts = this.discount
        }
        this.discount = {}
      } else {
        this.$toast('Please Enter a percent and Quantity', { dismiss: false })
      }
    },
    deleteDiscount (discount, index) {
      this.plan.discounts.splice(index, 1)
    },
    createOrUpdate () {
      if (this.edit) {
        this.updatePlan()
      } else {
        this.createPlan()
      }
    },
    createPlan () {
      this.creatingPlan = true
      Autoship.createPlan(this.plan)
        .then((response) => {
          if (response.error) {
            this.validationErrors = response
            this.$toast(response.message, { dismiss: false })
          } else {
            this.$toast('Plan Created', { dismiss: false })
            this.plan = response
          }
          this.creatingPlan = false
          this.$emit('add-plan', response)
        })
    },
    updatePlan () {
      Autoship.updatePlan(this.plan, this.plan.id)
        .then((response) => {
          if (response.error) {
            this.validationErrors = response
            this.$toast(response.message, { dismiss: false })
          } else {
            this.$toast('Plan Updated', { dismiss: false })
            this.plan = response
          }
        })
    }
  }

}
;
        module.exports.template = "\n  <div class=\"plan-wrapper\">\n    <div class=\"cp-form-standard\">\n      <div>\n          <cp-input\n          label=\"Plan Name\"\n          type=\"text\"\n          :placeholder=\"'Name Here'\"\n          :error=\"validationErrors['name']\"\n          v-model=\"plan.title\"></cp-input>\n          <cp-text-area\n            label=\"Description\"\n            type=\"text\"\n            :placeholder=\"'Description Here'\"\n            :error=\"validationErrors['description']\"\n            v-model=\"plan.description\"></cp-text-area>\n          <div class=\"discounts-wrapper\">\n            <cp-select\n              label=\"Duration\"\n              placeholder=\"Select a Duration\"\n              type=\"text\"\n              :options=\"durations\"\n              :key-value=\"{ name: 'name' , value: 'name' }\"\n              :error=\"validationErrors.duration\"\n              v-model=\"plan.duration\"></cp-select>\n            <cp-input\n              label=\"Frequency\"\n              type=\"number\"\n              :placeholder=\"1\"\n              :error=\"validationErrors['frequency']\"\n              v-model=\"plan.frequency\"></cp-input>\n          </div>\n        <cp-toggle label=\"Enable Plan\" class=\"enable-switch\" v-model=\"plan.enabled\"></cp-toggle>\n        <cp-visibility-assignment-beta\n        :selected-visibilities=\"plan.visibilities\"\n        :validation-errors=\"validationErrors\"\n        @selected-visibilities=\"function (val) { plan.visibilities = val } \"></cp-visibility-assignment-beta>\n          <div class=\"discounts-wrapper\">\n            <cp-input\n              label=\"Discount Amount (%)\"\n              type=\"text\"\n              :placeholder=\"3.5\"\n              :error=\"validationErrors['discount_percent']\"\n              v-model=\"discount.percent\"></cp-input>\n            <cp-input\n              label=\"Item Count Needed for Discount\"\n              type=\"number\"\n              :placeholder=\"1\"\n              :error=\"validationErrors['discount_quantity']\"\n              v-model=\"discount.min_quantity\"></cp-input>\n          </div>\n              <button class=\"cp-button-standard\" @click=\"addDiscount()\">Add Discount</button>\n          <div>\n            <h1 v-if=\"plan.discounts.length > 0\">Discounts</h1>\n            <span class=\"discounts-loop\" v-for=\"(discount, index) in plan.discounts\" :key=\"index\">\n              <cp-input label=\"Discount Percent\" v-model=\"discount.percent\"></cp-input>\n              <cp-input label=\"Discount Minimum Quantity\" v-model=\"discount.min_quantity\"></cp-input>\n              <i class=\"mdi mdi-close x\" @click=\"deleteDiscount(discount, index)\" role=\"button\"></i>\n            </span>\n          </div>\n\n      </div>\n    </div>\n    <div class=\"submit-button\">\n      <button class=\"cp-button-standard\" @click=\"$emit('close')\">Cancel</button>\n      <button class=\"cp-button-standard\" @click=\"createOrUpdate()\" :disabled=\"creatingPlan\">Submit</button>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/autoship/CpAutoshipSubscriptionsIndex.vue:script


      sms.vComponent('assets/js/components/autoship/CpAutoshipSubscriptionsIndex.vue', {"name":"CpAutoshipSubscriptionsIndex","path":"assets/js/components/autoship/CpAutoshipSubscriptionsIndex.vue"}, (require,exports,module)=>{
        
const Autoship = require('../../resources/AutoshipAPIv0.js')
const Auth = require('auth')
const Users = require('../../resources/UsersAPIv0.js')
const moment = require('moment')

module.exports = {
  routing: [
    { name: 'site.CpAutoshipSubscriptionsIndex', meta: { title: 'Subscriptions' }, path: 'autoship/subscriptions' }
  ],
  data () {
    return {
      Auth: Auth,
      moment: moment,
      Vue: Vue,
      cardToken: {},
      selectedSubscription: {},
      showSubscription: false,
      showDisable: false,
      showRenew: false,
      title: 'Subscriptions',
      loading: true,
      reports: {},
      indexRequest: {
        expands: ['last_attempt'],
        filter: 'All',
        per_page: 15,
        search_term: '',
        sort_by: 'created_at',
        page: 1
      },
      pagination: {
        per_page: 15
      },
      tableColumns: [
        { header: 'Details', field: 'pid', sortable: false },
        { header: 'Buyer First Name', field: 'buyer_first_name', sortable: true },
        { header: 'Buyer Last Name', field: 'buyer_last_name', sortable: true },
        { header: 'Frequency', field: 'frequency' },
        { header: 'Total', field: 'subtotal', filter: 'currency' },
        { header: 'Created At', field: 'created_at', filter: 'cpStandardDate', sortable: true },
        { header: 'Next Billing At', field: 'next_billing_at', filter: 'cpStandardDate', sortable: true },
        { header: 'Canceled At', field: 'disabled_at', sortable: true }
      ]
    }
  },
  filters: {
    frequency (row) {
      if (row.frequency == 1) {
        if (row.duration === 'Days') {
          return 'Daily'
        }
        return row.duration.replace('s', 'ly')
      }
      return row.frequency + ' ' + row.duration
    }
  },
  mounted: function () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
    this.getReports()
  },
  methods: {
    getCardToken (buyerPid) {
      Users.getCardToken(buyerPid)
        .then((response) => {
          if (!response.error) {
            this.cardToken = response
          } else {
            this.cardToken = {}
          }
        })
    },
    getReports () {
      if (this.indexRequest.filter === 'Renewing Soon') {
        this.indexRequest.filter = 'renewing_soon'
      } else if (this.indexRequest.filter === 'Canceled') {
        this.indexRequest.filter = 'disabled'
      } else {
        this.indexRequest.filter = this.indexRequest.filter.toLowerCase()
      }
      if (this.indexRequest.filter === 'failed') {
        this.tableColumns.push({
          header: 'Failure Description', field: 'last_attempt_description'
        })
        this.tableColumns.splice(9, 1)
      } else {
        this.tableColumns.splice(8, 1)
      }
      this.indexRequest.page = this.pagination.current_page
      Autoship.getSubscriptions(this.indexRequest)
        .then((response) => {
          this.loading = false
          if (!response.error) {
            this.reports = response.data
            response.per_page = parseInt(response.per_page)
            this.pagination = response
          } else {
            this.$toast(response.message, { dismiss: false })
          }
        })
    },
    disableSubscription (subscripition) {
      Autoship.disableSubscription(subscripition.id)
        .then((response) => {
          this.loading = false
          if (!response.error) {
            this.$toast('successfully canceled', { dismiss: false })
            this.getReports()
          } else {
            this.$toast(response.message, { dismiss: false, error: true })
          }
          this.getReports()
        })
    },
    renewSubscription (subscripition) {
      Autoship.processSubscription(subscripition.id)
        .then((response) => {
          this.loading = false
          if (!response.error) {
            this.$toast('successfully renewed', { dismiss: false })
            this.getReports()
          } else {
            this.$toast('renew failed', { dismiss: false, error: true })
          }
          this.getReports()
        })
    }
  }
}
;
        module.exports.template = "\n    <div class=\"Autoship-subscriptions-index-wrapper\">\n        <cp-tabs\n        :items=\"[\n        { name: 'All', active: true },\n        { name: 'Active', active: false },\n        { name: 'Failed', active: false },\n        { name: 'Renewing Soon', active: false },\n        { name: 'Canceled', active: false },\n        ]\"\n        :callback=\"getReports\"\n        v-model=\"indexRequest.filter\">\n\n        </cp-tabs>\n        <cp-data-table\n        v-if=\"!loading\"\n            :table-data=\"reports\"\n            :table-columns=\"tableColumns\"\n            :pagination=\"pagination\"\n            :recall-data=\"getReports\"\n            :request-params=\"indexRequest\"\n            :options=\"{\n                tableControls: true,\n            }\">\n            <template slot=\"pid\" slot-scope=\"{row}\">\n              <span class='cp-button-standard' @click=\"showSubscription=true; selectedSubscription = row; getCardToken(row.buyer_pid)\">show</span>\n            </template>\n            <template slot=\"frequency\" slot-scope=\"{row}\">\n              <span>{{ row | frequency }}</span>\n            </template>\n            <template slot=\"price\" slot-scope=\"{row}\">\n              <span>{{row.subtotal - row.discount | currency}}</span>\n            </template>\n            <template slot=\"next_billing_at\" slot-scope=\"{row}\">\n              <div>{{row.next_billing_at | cpStandardDate }}</div>\n              <div class=\"cp-button-standard renew\" v-if=\"moment().utc().isAfter(moment(row.next_billing_at).utc()) && row.disabled_at === null\" @click=\"showRenew = true; selectedSubscription = row\">renew</div>\n            </template>\n            <template slot=\"disabled_at\" slot-scope=\"{row}\">\n              <span v-if=\"row.disabled_at\"> {{row.disabled_at | cpStandardDate}}</span>\n              <span class=\"cp-button-standard\" v-else @click=\"showDisable = true; selectedSubscription = row\">cancel</span>\n            </template>\n        </cp-data-table>\n        <!--  MODAL -->\n          <transition>\n            <section class=\"cp-modal-standard\" v-if=\"Vue.options.components.CpAutoshipSubscriptionDetails && showSubscription\" :subscription=\"selectedSubscription && showSubscription\" @click=\"showSubscription = false\">\n              <div class=\"cp-modal-body\">\n                <cp-autoship-subscription-details :subscription=\"selectedSubscription\" :cardToken=\"cardToken\"></cp-autoship-subscription-details>\n              </div>\n            </section>\n          </transition>\n        <cp-confirm\n            :message=\"'Are you sure you want to cancel this ' + $getGlobal('autoship_display_name').value +'?'\"\n            v-model=\"showDisable\"\n            :show=\"showDisable\"\n            :callback=\"disableSubscription\"\n            :config-options=\"{ buttonTextOne: 'Yes', buttonTextTwo: 'No'}\"\n            :params=\"selectedSubscription\"></cp-confirm>\n        <cp-confirm\n            :message=\"'Are you sure you want to manually renew this ' + $getGlobal('autoship_display_name').value +'?'\"\n            v-model=\"showRenew\"\n            :show=\"showRenew\"\n            :callback=\"renewSubscription\"\n            :config-options=\"{ buttonTextOne: 'Yes', buttonTextTwo: 'No'}\"\n            :params=\"selectedSubscription\"></cp-confirm>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/autoship/CpMySubscription.vue:script


      sms.vComponent('assets/js/components/autoship/CpMySubscription.vue', {"name":"CpMySubscription","path":"assets/js/components/autoship/CpMySubscription.vue"}, (require,exports,module)=>{
        
const Autoship = require('../../resources/AutoshipAPIv0.js')
const Auth = require('auth')
const moment = require('moment')
const Users = require('../../resources/UsersAPIv0.js')

module.exports = {
  routing: [
    { name: 'site.CpMySubscription', meta: {title: 'My Subscriptions', nosubscription: true, type: 'self'}, path: '/my-subscriptions'},
    { name: 'site.CpAutoshipCustomerSubscriptions', meta: {title: 'Customer Subscriptions', type: 'customers'}, path: '/customer-subscriptions' }
  ],
  data: function () {
    return {
      user_pid: null,
      creditCard: {},
      loading: false,
      showId: null,
      displayType: 'self',
      detailsRoute: '/my-subscriptions/',
      subscriptions: [],
      tabs: [
        { name: 'Active', active: true },
        { name: 'Cancelled' }
      ],
      pagination: {},
      indexRequest: {
        search_term: null,
        show_disabled: false,
        sort_by: 'next_billing_at',
        page: 1,
        per_page: 15
      }
    }
  },
  created () {
    this.displayType = this.$route.meta.type
    this.user_pid = Auth.getAuthPid()
    switch (this.displayType) {
      case 'self':
        this.indexRequest.buyer_pid = this.user_pid
        this.getCardToken()
        this.detailsRoute = '/my-subscriptions/'
        break;
      case 'customers':
        this.indexRequest.seller_pid = this.user_pid
        this.detailsRoute = '/customer-subscriptions/'
    }
    this.getSubscriptions()
  },
  methods: {
    getCardToken () {
      Users.getCardToken(this.user_pid)
        .then((response) => {
          if (!response.error) {
            this.creditCard = response
          }
        })
    },
    changeTab (value) {
      switch (value) {
        case 'All':
        default:
          delete this.indexRequest.filter
          this.indexRequest.show_disabled = true
        case 'Active':
          delete this.indexRequest.filter
          this.indexRequest.show_disabled = false
          break;
        case 'Cancelled':
          this.indexRequest.filter = 'disabled'
          this.indexRequest.show_disabled = true
      }
      this.getSubscriptions()
    },
    getSubscriptions () {
      this.loading = true
      Autoship.getSubscriptions(this.indexRequest)
        .then((response) => {
          this.loading = false
          this.pagination = response
          this.subscriptions = response.data
          this.calculateQuantities()
        })
    },
    calculateQuantities () {
      this.subscriptions.forEach((s) => {
        s.item_count = 0
        s.lines.forEach((l) => {
          if (l.bundle_id) {
            l.items.forEach((i) => { s.item_count += (i.quantity * l.quantity) })
          } else {
            s.item_count += l.quantity
          }
        })
      })
    }
  },
  filters: {
    frequency (subscription) {
      if (subscription.frequency === 1) {
        return '1 ' + subscription.duration.replace('s', '')
      }
      return subscription.frequency + ' ' + subscription.duration
    }
  }
}
;
        module.exports.template = "\n  <div id=\"my-subscription-wrapper\">\n    <cp-tabs :items=\"tabs\" :callback=\"changeTab\"></cp-tabs>\n    <div v-if=\"!loading\">\n      <cp-table-controls\n        :date-picker=\"false\"\n        :search-box=\"false\"\n        :index-request=\"indexRequest\"\n        :search-place-holder=\"'Search Subscriptions'\"\n        :resource-info=\"pagination\"\n        :get-records=\"getSubscriptions\">\n      </cp-table-controls>\n      <div class=\"item-list item-list-container\">\n        <div class=\"list-header item-container\">\n          <div class=\"cp-clickable\" @click=\"updateSort('id')\">\n            <div class=\"column-name\">Subscription ID<i v-show=\"indexRequest.sort_by.includes('id')\" :class=\"['mdi', '', indexRequest.sort_by.indexOf('-') == 0 ? 'mdi-sort-descending' : 'mdi-sort-ascending']\"></i></div>\n          </div>\n          <div class=\"schedule-container\">\n            <div class=\"cp-clickable\" @click=\"updateSort('next_billing_at')\">\n              <div class=\"column-name\">Next Order Date<i v-show=\"indexRequest.sort_by.includes('next_billing_at')\" :class=\"['mdi', '', indexRequest.sort_by.indexOf('-') == 0 ? 'mdi-sort-descending' : 'mdi-sort-ascending']\"></i></div>\n            </div>\n            <div class=\"column-name\">Frequency</div>\n          </div>\n          <div class=\"column-name\">Buyer Name</div>\n          <div class=\"column-name\">Items</div>\n          <div class=\"column-name\">Amount</div>\n          <div class=\"column-name\" v-if=\"displayType === 'self'\">Credit Card</div>\n        </div>\n        <div v-for=\"(subscription, index) in subscriptions\" v-if=\"!loading\" class=\"item-container\">\n          <div>\n            <a :href=\"detailsRoute + subscription.id\"\n              class=\"attribute\"\n              data-name=\"Subscription ID\">{{ subscription.id }}</a>\n          </div>\n          <div class=\"schedule-container\">\n            <div class=\"attribute\" data-name=\"Next Order Date\">{{ subscription.next_billing_at | cpStandardDate }}</div>\n            <div class=\"attribute\" data-name=\"Frequency\">{{ subscription | frequency }}</div>\n          </div>\n          <div class=\"attribute\" data-name=\"Buyer Name\">{{ subscription.buyer_first_name }} {{ subscription.buyer_last_name }}</div>\n          <div class=\"attribute\" data-name=\"Items\">{{ subscription.item_count }}</div>\n          <div class=\"attribute\" data-name=\"Amount\">{{ subscription.subtotal | currency }}</div>\n          <div class=\"attribute\" data-name=\"Credit Card\" v-if=\"displayType === 'self'\">{{ creditCard.card_digits }}</div>\n        </div>\n      </div>\n    </div>\n    <div class=\"align-center\">\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        <cp-pagination :pagination=\"pagination\" :callback=\"getSubscriptions\" :offset=\"2\"></cp-pagination>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/categories/CpCategoryForm.vue:script


      sms.vComponent('assets/js/components/categories/CpCategoryForm.vue', {"name":"CpCategoryForm","path":"assets/js/components/categories/CpCategoryForm.vue"}, (require,exports,module)=>{
        
const Category = require('../../resources/categories.js')
const Dropzone = require('dropzone')
const Media = require('../../resources/media.js')
Dropzone.autoDiscover = false

module.exports = {
  data: () => ({
    newChild: {},
    validationErrors: {},
    proccessing: false
  }),
  props: {
    category: {
      type: Object,
      default: function () {
        return {
          name: '',
          children: [],
          media: [{
            id: null
          }] }
      }
    },
    edit: {
      type: Boolean,
      default: false
    }
  },
  mounted () {
    this.uploadDropzone()
  },
  methods: {
    CreateOrUpdate: function () {
      if (this.edit) {
        this.updateCategory()
      } else {
        this.createCategory()
      }
    },
    updateCategory: function () {
      this.proccessing = true
      let formObject

      if (this.category.media.length !== 0) {
        formObject = {
          'id': this.category.id,
          'name': this.category.name,
          'file': this.category.media[0].id,
          'show_on_store': this.category.show_on_store
        }
      } else {
        formObject = {
          id: this.category.id,
          name: this.category.name,
          show_on_store: this.category.show_on_store
        }
      }
      Category.editCategoryPut(formObject)
        .then((response) => {
          if (response.error) {
            this.validationErrors = response.message
            this.$toast(response.message, {error: true})
            return
          }
          this.proccessing = false
          this.$toast('Successfully updated', { dismiss: false })
          this.$emit('update-category', this.category)
        })
    },
    createCategory: function () {
      this.proccessing = true
      this.validationErrors = {}
      let formObject

      if (this.newChild.name) {
        formObject = {
          name: this.newChild.name,
          parent_id: this.category.id
        }
      } else if (this.category.media.length !== 0) {
        formObject = {
          'id': this.category.id,
          'name': this.category.name,
          'file': this.category.media[0].id,
          'show_on_store': this.category.show_on_store
        }
      } else if (this.parent_id === undefined || this.parent_id === null) {
        formObject = {
          name: this.category.name,
          show_on_store: this.category.show_on_store,
          parent_id: null,
          file: this.category.media[0].id
        }
        this.category.children = []
      } else {
        formObject = {
          name: this.newChild.name,
          show_on_store: this.category.show_on_store,
          parent_id: this.category.parent_id,
          file: this.category.media[0].id
        }
      }
      Category.categoryCreate(formObject)
        .then((response) => {
          if (response.error) {
            this.validationErrors = response.message
            this.$toast(response.message, {error: true})
          } else {
            if (this.newChild.name) {
              this.proccessing = false
              this.category.children.push(response)
              this.newChild.name = ''
              return
            }
            this.proccessing = false
            this.$toast('Successfully created.', {dismiss: false})
            this.$emit('update-category', response)
          }
        })
    },
    deleteCategory: function (category) {
      Category.deleteCategory(category.id)
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, { error: true })
          } else {
            for (var i = 0; i < this.category.children.length; i++) {
              if (this.category.children[i].id === category.id) {
                this.category.children.splice([i], 1)
              }
            }
            this.$toast('Category Deleted.', { dismiss: false })
          }
        })
    },
    uploadDropzone () {
      var $this = this
      var uploadZoneConfig = Media.dropzoneConfig()
      uploadZoneConfig.maxFiles = 1
      uploadZoneConfig.success = function (file, response) {
        $this.category.media[0] = response
        $this.$toast('File successfully uploaded.')
      }
      uploadZoneConfig.error = function (file, response) {
        $this.$toast('There was an error uploading your image. Try again or contact support.', { error: true })
      }
      uploadZoneConfig.removedfile = function (file, response) {
        var _ref
        if (file.previewElement) {
          if ((_ref = file.previewElement) != null) {
            _ref.parentNode.removeChild(file.previewElement)
          }
        }
        for (var i = 0; i < $this.category.media.length; ++i) {
          if ($this.category.media[i] === file.imageId) {
            $this.category.media.splice(i, 1)
          }
        }
        return $this.uploadZone._updateMaxFilesReachedClass()
      }
      this.uploadZone = new Dropzone('#drop-zone-media', uploadZoneConfig)
    }
  },
  components: {
    'CpDropzone': require('../../cp-components-common/CpDropzone.vue'),
    CpPhotos: require('../../cp-components-common/temp-dependencies/CpPhotos.vue'),
    CpInput: require('../../cp-components-common/inputs/CpInput.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"category-create-edit\">\n    <img v-if=\"category.media && category.media[0]\" style=\"max-width: 50%\" :src=\"category.media[0].url_xs\" alt=\"\">\n    <div id=\"dropzone\">\n      <label>Add New Image</label>\n        <form action=\"/upload-media\" method=\"POST\" class=\"dropzone\" id=\"drop-zone-media\">\n            <cp-input v-if=\"category.media && category.media[0]\" type=\"hidden\" name=\"media[]\" v-model=\"category.media[0]\"></cp-input>\n        </form>\n    </div>\n    <form class=\"cp-form-standard\" v-if=\"category\">\n      <div>\n        <label>Category Name</label>\n        <cp-input :class=\"{ error: validationErrors.name }\" type=\"text\" v-model=\"category.name\"></cp-input>\n        <span v-show=\"validationErrors.name\" class=\"cp-warning-message\">{{ validationErrors.name}}</span>\n      </div>\n      <div class=\"category-checkbox\">\n        <label>Show Category On Store:</label>\n        <input type=\"checkbox\"  v-model=\"category.show_on_store\">\n      </div>\n      <button v-if=\"!edit\" class=\"cp-button-standard\" type=\"button\" name=\"button\"  :disabled=\"proccessing\" @click=\"CreateOrUpdate\">Create Category</button>\n      <button v-if=\"edit\" class=\"cp-button-standard\" type=\"button\" name=\"button\"  :disabled=\"proccessing\" @click=\"CreateOrUpdate\">Update Category</button>\n      <div class=\"cp-box-standard subcategory\">\n      <div class=\"inactive-overlay\" v-show=\"!edit\"></div>\n        <label>Add Subcategory</label>\n        <cp-input type=\"text\" v-model=\"newChild.name\"></cp-input>\n        <button class=\"cp-button-standard\" :disabled=\"proccessing\" type=\"button\" name=\"button\" @click=\"createCategory()\">Add</button>\n      <div>\n      <label>Subcategory Name</label>\n        <span v-for=\"(child, index) in category.children\">\n          <div class=\"subcategory-input-wrapper\">\n          <cp-input type=\"text\" v-model=\"child.name\"></cp-input>\n          <i class=\"mdi mdi-close x\" @click=\"deleteCategory(child, index)\" role=\"button\"></i>\n        </div>\n        </span>\n      </div>\n    </div>\n    </form>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/cart/CpCartButton.vue:script


      sms.vComponent('assets/js/components/cart/CpCartButton.vue', {"name":"CpCartButton","path":"assets/js/components/cart/CpCartButton.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
    }
  },
  props: {
    cartPid: {
      type: String,
      required: true
    }
  },
  methods: {
    goToCart () {
      this.$router.push({path: '/carts/' + this.cartPid})
    }
  },
  components: {
  }
}
;
        module.exports.template = "\n  <div class=\"cart-wrapper\">\n    <button class=\"cp-button-standard\" @click=\"goToCart()\"><i class=\"mdi mdi-cart\"></i></button>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/checkout/CpInformationForm.vue:script


      sms.vComponent('assets/js/components/checkout/CpInformationForm.vue', {"name":"CpInformationForm","path":"assets/js/components/checkout/CpInformationForm.vue"}, (require,exports,module)=>{
        
const Address = require('../../resources/addresses.js')
module.exports = {
  data () {
    return {
      sameAsBilling: false,
      selfPickup: false,
      validationErrors: {},
      oldAddress: {}
    }
  },
  props: {
    customerInfo: {
      default () {
        return {
          user: {
            first_name: null,
            last_name: null,
            email: null
          }
        }
      }
    },
    checkoutType: {
      defalut: null
    },
  },
  watch: {
    sameAsBilling: 'onSameAsClick'
  },
  methods: {
    onSameAsClick () {
      if (this.sameAsBilling) {
        this.$refs.shippingAddressForm.setAddress(this.$refs.billingAddressForm.getAddress())
      }
    },
    getCustomer () {
      return this.customerInfo.user
    },
    setCustomer (customer) {
      this.customerInfo.user = customer
    },
    getAddresses () {
      let addresses = {
        billingAddress: this.$refs.billingAddressForm.getAddress(),
        shippingAddress: this.$refs.shippingAddressForm.getAddress(),
        sameAsBilling: this.sameAsBilling
      }
      return addresses
    },
    setBillingAddress (address) {
      this.$refs.billingAddressForm.setAddress(address)
    },
    setShippingAddress (address) {
      this.$refs.shippingAddressForm.setAddress(address)
    },
    useSelfPickup () {
      if (this.selfPickup) {
        this.oldAddress = this.$refs.shippingAddressForm.getAddress()
        Address.show({addressable_id: 1, label: 'Business', addressable_type: 'App\\Models\\User'})
          .then((response) => {
            if (!response.error) {
              let address = {
                line_1: response.address_1,
                line_2: response.address_2,
                city: response.city,
                state: response.state,
                zip: response.zip
              }
              this.setShippingAddress(address)
            }
        })
      } else {
        this.setShippingAddress(this.oldAddress)
      }
    },
    validate () {
      let valid = true
      let errors = {}
      if (!this.customerInfo.user.first_name) {
        errors['first_name'] = ['required']
        valid = false
      }
      if (!this.customerInfo.user.last_name) {
        errors['last_name'] = ['required']
        valid = false
      }
      if (!this.customerInfo.user.email) {
        errors['email'] = ['required']
        valid = false
      }
      if (Object.keys(errors).length > 0) {
        this.validationErrors = errors
      } else {
        this.validationErrors = {};
      }
      let addressFields = ['address_1', 'city', 'state', 'zip']
      if (!this.$refs.billingAddressForm.validate(addressFields) |
          (!this.sameAsBilling && !this.$refs.shippingAddressForm.validate(addressFields))) {
        valid = false
      }
      return valid
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpSelect: require('../../cp-components-common/inputs/CpSelect.vue'),
    CpAddressForm: require('../addresses/CpAddressForm.vue')
  }
}
;
        module.exports.template = "\n  <section class=\"checkout-information-section cp-form-inverse\">\n    <div class=\"col custom-info\">\n      <h3>Information</h3>\n      <cp-input\n        label=\"First Name\"\n        type=\"text\"\n        :error=\"validationErrors['first_name']\"\n        :value=\"customerInfo.user.first_name\"\n        v-model=\"customerInfo.user.first_name\"></cp-input>\n      <cp-input\n        label=\"Last Name\"\n        type=\"text\"\n        :error=\"validationErrors['last_name']\"\n        :value=\"customerInfo.user.last_name\"\n        v-model=\"customerInfo.user.last_name\"></cp-input>\n      <cp-input\n        label=\"Email\"\n        type=\"email\"\n        :error=\"validationErrors['email']\"\n        :value=\"customerInfo.user.email\"\n        v-model=\"customerInfo.user.email\"></cp-input>\n        <div v-if=\"$getGlobal('self_pickup_wholesale').show && checkoutType === 'wholesale'\"><input class=\"self-pickup\" type=\"checkbox\" name=\"self-pickup\" v-model=\"selfPickup\" @change=\"useSelfPickup\"><label for=\"self-pickup\">Pick Up From {{ $getGlobal('company_name').value }}</label></div>\n    </div>\n    <div class=\"col\">\n      <h3>Billing Address</h3>\n      <cp-address-form\n        ref=\"billingAddressForm\"\n        address-type=\"billing_address\"\n        :hide-name-field=\"true\"></cp-address-form>\n    </div>\n    <div class=\"col\">\n      <h3>Shipping Address</h3>\n      <cp-address-form\n        ref=\"shippingAddressForm\"\n        address-type=\"shipping_address\"\n        :disabled=\"sameAsBilling || selfPickup\"\n        :hide-name-field=\"true\"></cp-address-form>\n        <input class=\"same-as-billing\" type=\"checkbox\" name=\"same-as-billing\" v-model=\"sameAsBilling\" :disabled=\"selfPickup\"><label for=\"same-as-billing\">Same as billing address.</label>\n    </div>\n  </section>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/categories/categories-index.vue:script

sms.vComponent('assets/js/components/categories/categories-index.vue', { name: 'CpCategories', routing: { name: 'site.CpCategories', meta: { title: 'Categories' }, path: 'category', parent: 'site', props: true } }, (require, exports, module)=>{

const Category = require('../../resources/categories.js')

module.exports = {
  data: () => ({
    edit: false,
    pendingDelete: {},
    showConfirm: false,
    selectedCategory: {
      name: '',
      show_on_store: false,
      children: [],
      media: [{
        id: null
      }] },
    emptyCategory: {
      name: '',
      children: [],
      media: [{
        id: null
      }],
      show_on_store: false
    },
    editCategory: {},
    categoryModal: false,
    loading: false,
    categories: [],
    indexRequest: {
      search_term: null,
      column: 'created_at',
      order: 'DESC',
      page: 1,
      per_page: 15
    }
  }),
  mounted () {
    this.getCategories()
  },
  methods: {
    updateCategory: function (update) {
      if (update.level === undefined) {
        this.selectedCategory.media[0] = update
        this.edit = true
        return
      } else {
        if (!update.children) {
          update.children = []
        }
        this.edit = true
        this.selectedCategory = update
        this.categories.push(update)
      }
    },
    showCategory: function (category) {
      this.edit = true
      this.categoryModal = true
      this.selectedCategory = category
    },
    getCategories: function () {
      this.loading = true
      Category.categoriesGet()
        .then((response) => {
          if (!response.error) {
            this.categories = response
            this.loading = false
          }
        })
    },
    deleteCategory: function (category) {
      Category.deleteCategory(category.id)
      .then((response) => {
        if (response.error) {
          this.$toast(response.message, { error: true })
          return
        } else {
          this.getCategories()
          this.pendingDelete = {}
          this.$toast('Category Deleted.', { dismiss: false })
        }
      })
    }
  },
  components: {
    CpSearchBox: require('../../cp-components-common/inputs/CpSearchBox.vue'),
    CpCategoryForm: require('./CpCategoryForm.vue'),
    CpConfirm: require('../../cp-components-common/CpConfirm.vue')
  }
}


;module.exports.template = "\n  <div class=\"all-categories-wrapper\">\n    <div class=\"category-button\"><button class=\"cp-button-standard\" @click=\"categoryModal = true\">Add Category</button></div>\n    <table class=\"cp-table-standard desktop\">\n      <thead>\n          <tr>\n              <th>Image</th>\n              <th>Category</th>\n              <th>Subcategory</th>\n              <th><!-- Delete --></th>\n          </tr>\n        </thead>\n          <tbody>\n              <tr v-for=\"category in categories\" v-if=\"!loading\">\n                  <td v-if=\"category.media && category.media[0]\"><a @click=\"showCategory(category)\"><img :src=\"category.media[0].url_xxs\"></a></td>\n                  <td v-else></td>\n                  <td><a @click=\"showCategory(category)\">{{category.name}}</a></td>\n                  <td>\n                    <ul style=\"padding: 0;\">\n                      <li v-for=\"sub in category.children\" class=\"no-bullets\"><div class=\"sub-list-box\"> {{sub.name}} </div></li>\n                    </ul>\n                  </td>\n                  <td><i class=\"mdi mdi-close pointer\" @click=\"showConfirm = true; pendingDelete = category\"></i></td>\n              </tr>\n          </tbody>\n    </table>\n    <section  class=\"cp-table-mobile\">\n      <div v-for=\"category in categories\" v-if=\"!loading\">\n        <div v-if=\"category.media && category.media[0]\"><span>Image: </span><span><img :src=\"category.media[0].url_xxs\"></span></div>\n        <div><span>Category: </span><span>{{category.name}}</span></div>\n        <div><span>Subcategory: </span>\n          <span>\n            <ul style=\"padding: 0;\">\n              <li v-for=\"sub in category.children\" class=\"no-bullets\"><div class=\"sub-list-box\"> {{sub.name}} </div></li>\n            </ul>\n          </span>\n        </div>\n        <div><span></span><span><a @click=\"showCategory(category)\"><i class=\"mdi mdi-pencil\"></i></a></span></div>\n        <div><span></span><span><i class=\"mdi mdi-cross pointer\" @click=\"showConfirm = true; pendingDelete = category.id\"></i></span></div>\n      </div>\n    </section>\n    <!-- Edit Modal -->\n    <transition name=\"modal\" v-show=\"!loading\">\n    <section class=\"cp-modal-standard\" v-if=\"categoryModal\">\n      <div class=\"cp-modal-body\">\n        <i class=\"mdi mdi-close x\" @click=\"categoryModal = false; edit = false; selectedCategory = JSON.parse(JSON.stringify(emptyCategory))\" role=\"button\"></i>\n        <h2 v-if=\"this.edit\">Edit Category</h2>\n        <h2 v-if=\"!this.edit\">Create Category</h2>\n        <cp-category-form :category=\"selectedCategory\" @update-category=\"updateCategory\" :edit=\"edit\"></cp-category-form>\n        <button class=\"cp-button-standard categories-modal-close-button\" @click=\"categoryModal = false; edit = false; selectedCategory = JSON.parse(JSON.stringify(emptyCategory))\" type=\"button\" name=\"button\">Close</button>\n      </div>\n    </section>\n  </transition>\n  <cp-confirm\n  :show=\"showConfirm\"\n  :message=\"'Are you sure you want to delete this category?'\"\n  v-model=\"showConfirm\"\n  :callback=\"deleteCategory\"\n  :params=\"pendingDelete\"></cp-confirm>\n        <div class=\"align-center\">\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        </div>\n  </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/CpCommissionEngineDashboard.vue:script


      sms.vComponent('CpCommissionEngineDashboard', {"path":"assets/js/components/commission-engine/CpCommissionEngineDashboard.vue"}, (require,exports,module)=>{
        
    const commission = require('../../resources/CommissionEngineAPIv0.js')
    const Auth = require('auth')
    const Moment = require('moment')
    module.exports = {
      routing: [{
        name: 'site.CpCommissionEngineDashboard',
        path: '/commission-engine/dashboard',
        meta: {
          title: 'Commission Engine'
        }
      }],
      data () {
        return {
          layout: [],
          layoutIds: [],
          dynamicProps: {
            myStatsLevelOne: {},
            myStats: {},
            layout: [],
            userInfor: {},
            batchid: '',
            leadershipBonus: null,
            mentorBonus: [],
            myfaststartbonus: [],
            levelbonus: [],
            retailBonus: {},
            mydsvperlevel: [],
            mylegs: []
          },
          Auth: Auth,
          userid: null,
          loading: 0,
          repCommissions: [],
          batches: [],
          selectedBatch: null
        }
      },
      created () {
        this.userid = Auth.getAuthId()
        this.dynamicProps.userid = this.userid.toString()
        this.getDashboardSettings()
      },
      methods: {
        getBatch () {
          this.loading++
          let request = {
            command: 'querybatches',
            systemid: '1',
            orderdir: 'desc',
            offset: '0',
            orderby: 'id',
            userid: this.userid.toString(),
            limit: '100'
          }
          commission.runCommand(request).then(response => {
            this.loading--
            if (response.success) {
              this.batches = response.batches
              this.batches.forEach(e => {
                e.formatedstartdate = Moment(e.startdate).format('MMMM YYYY')
              })
              this.dynamicProps.batchid = this.batches[0].id
              this.selectedBatch = this.batches[0]
              this.dynamicProps.batches = this.batches
              this.updateDashboard()
            } else {
              // TODO do something?
            }
          })
        },
        getDashboardSettings () {
          this.loading++
          commission.runCommand({
            command: 'settingsget',
            systemid: '1',
            varname: 'affiliatehome'
          }).then(response => {
            this.loading--
            if (response.success) {
              let json = JSON.parse(response.settings[0].value)
              this.layout = json.layout
              for (let k = 0; k < this.layout.length; k++) {
                this.layoutIds.push(this.layout[k].i)
                this.layout[k].cleanedName = this.setName(this.layout[k].i)
              }
              this.dynamicProps.layout = this.layout
              this.getBatch()
            } else {
              this.dynamicProps.layout = null
            }
          })
        },
        myStatsLevelOne () {
          this.loading++
          commission.runCommand({
            command: 'mystatslvl1',
            systemid: '1',
            userid: this.userid.toString(),
            orderdir: 'asc',
            offset: '0',
            limit: '100',
            orderby: 'id'
          }).then(response => {
            this.loading--
            if (response.success) {
              for (let index = 0; index < response.userstatslvl1.length; index++) {
                if (this.dynamicProps.batchid == response.userstatslvl1[index].batchid) {
                  this.dynamicProps.myStatsLevelOne = response.userstatslvl1[index]
                }
              }
            } else {
              this.dynamicProps.myStatsLevelOne = {}
            }
          })
        },
        myStats () {
          this.loading++
          commission.runCommand({
            command: 'mystats',
            systemid: '1',
            userid: this.userid.toString(),
            orderdir: 'asc',
            offset: '0',
            limit: '100',
            orderby: 'id'
          }).then(response => {
            this.loading--
            if (response.success) {
              for (let index = 0; index < response.userstats.length; index++) {
                if (this.dynamicProps.batchid == response.userstats[index].batchid) {
                  this.dynamicProps.myStats = response.userstats[index]
                }
              }
            } else {
              this.dynamicProps.myStats = {}
            }
          })
        },
        myTitle () {
          this.loading++
          commission.runCommand({
            command: 'mytitle',
            systemid: '1',
            userid: this.userid.toString(),
            orderdir: 'asc',
            offset: '0',
            limit: '100',
            orderby: 'id',
            batchid: this.dynamicProps.batchid
          }).then(response => {
            this.loading--
            if (response.success) {
              this.dynamicProps.myTitle = response.mytitle
            } else {
              this.dynamicProps.myTitle = null
            }
          })
        },
        myLegs () {
          if (!this.layoutIds.includes('18')) {
            return
          }
          this.loading++
          commission.runCommand({
            command: 'mylegs',
            systemid: '1',
            userid: this.userid.toString(),
            orderdir: 'asc',
            offset: '0',
            limit: '100',
            orderby: 'id',
            batchid: this.dynamicProps.batchid
          }).then(response => {
            this.loading--
            if (response.success) {
              this.dynamicProps.mylegs = response.mylegs
            } else {
              this.dynamicProps.mylegs = []
            }
          })
        },
        levelBonus () {
          if (this.selectedBatch == null || !this.layoutIds.includes('22')) {
            return
          }
          this.loading++
          commission.runCommand({
            command: 'mygensalesvolume',
            systemid: '1',
            commrulegroup: '1',
            userid: this.userid.toString(),
            orderdir: 'asc',
            offset: '0',
            limit: '100',
            orderby: 'id',
            startdate: this.selectedBatch.startdate,
            enddate: this.selectedBatch.enddate,
            batchid: this.dynamicProps.batchid
          }).then(response => {
            this.loading--
            if (response.success) {
              this.dynamicProps.levelbonus = response.mygensalesvolume
            } else {
              this.dynamicProps.levelbonus = []
            }
          })
        },
        retailBonus () {
          if (this.selectedBatch == null || !this.layoutIds.includes('21')) {
            return
          }
          this.loading++
          commission.runCommand({
            command: 'mygensalesvolume',
            systemid: '1',
            commrulegroup: '-1',
            userid: this.userid.toString(),
            orderdir: 'asc',
            offset: '0',
            limit: '100',
            orderby: 'id',
            startdate: this.selectedBatch.startdate,
            enddate: this.selectedBatch.enddate,
            batchid: this.dynamicProps.batchid
          }).then(response => {
            this.loading--
            if (response.mygensalesvolume && response.mygensalesvolume.length > 0) {
              this.dynamicProps.retailBonus = response.mygensalesvolume[0]
            } else {
              this.dynamicProps.retailBonus = {amount: 0}
            }
          })
        },
        leadershipBonus () {
          if (!this.layoutIds.includes('23')) {
            return
          }
          this.loading++
          commission.runCommand({
            command: 'mygensalesvolume',
            systemid: '1',
            commrulegroup: '2',
            userid: this.userid.toString(),
            orderdir: 'asc',
            offset: '0',
            limit: '100',
            orderby: 'id',
            startdate: this.selectedBatch.startdate,
            enddate: this.selectedBatch.enddate,
            batchid: this.dynamicProps.batchid
          }).then(response => {
            this.loading--
            if (response.mygensalesvolume) {
              let total = 0.00
              response.mygensalesvolume.forEach((r) => { total += parseFloat(r.amount) })
              this.dynamicProps.leadershipBonus = total
            } else {
              this.dynamicProps.leadershipBonus = 0.00
            }
          })
        },
        myDSVPerLevel () {
          if (this.selectedBatch == null || !this.layoutIds.includes('17')) {
            return
          }
          this.loading++
          commission.runCommand({
            command: 'mydsvperlevel',
            systemid: '1',
            userid: this.userid.toString(),
            orderdir: 'asc',
            offset: '0',
            limit: '100',
            orderby: 'id',
            startdate: this.selectedBatch.startdate,
            enddate: this.selectedBatch.enddate,
            batchid: this.dynamicProps.batchid
          }).then(response => {
            this.loading--
            if (response.mydsvperlevel) {
              this.dynamicProps.mydsvperlevel = response.mydsvperlevel
            } else {
              this.dynamicProps.mydsvperlevel = []
            }
          })
        },
        myFastStartBonus () {
          if (!this.layoutIds.includes('24')) {
            return
          }
          this.loading++
          commission.runCommand({
            command: 'myfaststartbonus',
            systemid: '1',
            userid: this.userid.toString(),
            orderdir: 'asc',
            offset: '0',
            limit: '100',
            orderby: 'id',
            batchid: this.dynamicProps.batchid
          }).then(response => {
            this.loading--
            if (response.success) {
              this.dynamicProps.myfaststartbonus = response.myfaststartbonus[0]
            } else {
              this.dynamicProps.myfaststartbonus = {}
            }
          })
        },
        mentorBonus () {
          if (!this.layoutIds.includes('26')) {
            return
          }
          this.loading++
          commission.runCommand({
            command: 'mygensalesvolume',
            systemid: '1',
            commrulegroup: '3',
            userid: this.userid.toString(),
            orderdir: 'asc',
            offset: '0',
            limit: '100',
            orderby: 'id',
            batchid: this.dynamicProps.batchid
          }).then(response => {
            this.loading--
            if (response.mygensalesvolume) {
              this.dynamicProps.mentorBonus = response.mygensalesvolume
            } else {
              this.dynamicProps.mentorBonus = []
            }
          })
        },
        updateDashboard (batchId) {
          this.batches.forEach((b) => { if (b.id == batchId) { this.selectedBatch = b}})
          this.myTitle()
          this.myStatsLevelOne()
          this.myStats()
          this.myLegs()
          this.levelBonus()
          this.myDSVPerLevel()
          this.myFastStartBonus()
          this.leadershipBonus()
          this.retailBonus()
          this.mentorBonus()
        },
        setName (nameId) {
          switch (parseInt(nameId)) {
            case 1:
              return this.cleanName('My Personal Volume')
            case 2:
              return this.cleanName('Personally Sponsored Qualified')
            case 3:
              return this.cleanName('Site Sales') // Inventory Type ID Defined //
            case 4:
              return this.cleanName('My Team Volume')
            case 5:
              return this.cleanName('Level One Mentors') // Rank defined";
            case 6:
              return this.cleanName('Career Title')
            case 7:
              return this.cleanName('Enterprise Volume')
            case 8:
              return this.cleanName('Rank Name Legs') // Rank and generation defined //
            case 9:
              return this.cleanName('Current Title')
            case 10:
              return this.cleanName('Ringbomb Enterprise Volume')
            case 11:
              return this.cleanName('Personal Volume Retail')
            case 12:
              return this.cleanName('Team Volume Retail')
            case 13:
              return this.cleanName('Personal Item Count')
            case 14:
              return this.cleanName('Team Item Count')
            case 15:
              return this.cleanName('Affiliate Sales')
            case 16:
              return this.cleanName('Team Volume Wholesale')
            case 17:
              return this.cleanName('Downline Sales Volume') // mydsvperlevel
            case 18:
              return this.cleanName('My Legs') // mylegs
            case 19:
              return this.cleanName('My Legs Max') // mylegsmax
            case 20:
              return this.cleanName('Enterprise Volume Retail')
            case 21:
              return this.cleanName('Retail Bonus')
            case 22:
              return this.cleanName('Level Bonus')
            case 23:
              return this.cleanName('Leadership Bonus')
            case 24:
              return this.cleanName('Fast Start Bonus')
            case 25:
              return this.cleanName('Sponsor Bonus')
            case 26:
              return this.cleanName('Mentor Bonus')
            default:
              return 'unknown'
          }
        },
        cleanName (name) {
          name = name.toLowerCase().replace(/\s/g, '-')
          return name
        }
      }
    }
;
        module.exports.template = "\n    <div class=\"CpCommissionEngineDashboardWrapper\">\n      <cp-select-2\n        v-if=\"batches.length > 0\"\n        :disabled=\"loading > 0\"\n        :options=\"batches\"\n        :key-value=\"{name: 'formatedstartdate', value: 'id'}\"\n        v-model=\"dynamicProps.batchid\"\n        @input=\"updateDashboard\"></cp-select-2>\n      <div class=\"cp-grid-standard\">\n        <div v-for=\"(item, index) in layout\" :key=\"index\" class=\"cp-cell-3\" v-if=\"item.enabled !== false\">\n          <component v-if=\"!loading\" :is=\"item.cleanedName\" v-bind=\"dynamicProps\" :title=\"item.name\" :userid=\"userid\"></component>\n        </div>\n      </div>\n        <div class=\"align-center\">\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading > 0\">\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/autoship/CpPlanIndex.vue:script


      sms.vComponent('assets/js/components/autoship/CpPlanIndex.vue', {"name":"CpPlanIndex","path":"assets/js/components/autoship/CpPlanIndex.vue"}, (require,exports,module)=>{
        
const Autoship = require('../../resources/AutoshipAPIv0.js')
const Auth = require('auth')

module.exports = {
  routing: [
    { name: 'site.CpPlanIndex', path: '/autoship', meta: { title: '' } }
  ],
  data () {
    return {
      Auth,
      planModal: false,
      edit: false,
      showConfirm: false,
      planId: null,
      selectedPlan: {
        discounts: [],
        duration: 'Select a Duration',
        disable: true
      },
      indexRequest: {
        expands: ['visibilities'],
        show_disabled: 1
      },
      tableColumns: [
        { header: '', field: 'view' },
        { header: 'Title', field: 'title' },
        { header: 'Frequency', field: 'frequency' },
        { header: 'Discounts', field: 'discounts' },
        { header: 'Visable To', field: 'visibilities' },
        { header: '', field: 'delete' }
      ],
      plans: [],
      pagination: {
        per_page: 100
      }
    }
  },
  props: {},
  mounted () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
    this.getPlans()
  },
  filters: {
    frequency (row) {
      if (row.frequency == 1) {
        if (row.duration === 'Days') {
          return 'Daily'
        }
        return row.duration.replace('s', 'ly')
      }
      return row.frequency + ' ' + row.duration
    }
  },
  methods: {
    getPlans () {
      if (this.indexRequest.column) {
        if (this.indexRequest.order === 'asc') {
          this.indexRequest.sort_by = this.indexRequest.column
        } else {
          this.indexRequest.sort_by = '-' + this.indexRequest.column
        }
      }
      Autoship.getPlans(this.indexRequest)
        .then((response) => {
          this.plans = response.data
          this.pagination = response
        })
    },
    addPlan (plan) {
      this.plans.push(plan)
      this.planModal = false
      this.getPlans()
    },
    deletePlan () {
      Autoship.deletePlan(this.planId)
        .then((response) => {
          this.getPlans()
        })
    },
    undoDelete () {
      this.showConfirm = false
    },
    clearModal () {
      this.planModal = false
      this.selectedPlan = {
        discounts: [],
        duration: 'Select a Duration',
        disable: true
      }
    },
    confirmAndDelete (id) {
      this.planId = id
      this.showConfirm = true
    }
  }
}
;
        module.exports.template = "\n  <div class=\"plan-index\">\n    <button class=\"cp-button-standard\" @click=\"planModal = true, edit = false\">New Plan</button>\n    <cp-data-table\n        :table-data=\"plans\"\n        :table-columns=\"tableColumns\"\n        :pagination=\"pagination\"\n        :recall-data=\"getPlans\"\n        :request-params=\"indexRequest\"\n        :options=\"{\n            tableControls: true,\n            datePicker: false,\n        }\">\n        <span slot=\"view\" slot-scope=\"{row}\"><button @click=\"selectedPlan = row; planModal = true; edit = true\" class=\"cp-button-standard\">View</button></span>\n        <span slot=\"title\" slot-scope=\"{row}\">{{row.title}}</span>\n        <span slot=\"frequency\" slot-scope=\"{row}\">{{ row | frequency }} </span>\n    <template slot=\"discounts\" slot-scope=\"{row}\">\n        <table class=\"cp-table-inverse discount-table\">\n            <tr>\n              <td>Minimum Item Quantity</td>\n              <td>Discount</td>\n            </tr>\n            <tr v-for=\"(discount, index) in row.discounts\" :key=\"index\">\n              <td>{{discount.min_quantity}}</td>\n              <td>{{discount.percent}}%</td>\n            </tr>\n        </table>\n    </template>\n    <template slot=\"delete\" slot-scope=\"{row}\">\n      <i v-if=\"Auth.hasAnyRole('Superadmin','Admin')\" class=\"mdi mdi-close pointer\" @click=\"confirmAndDelete(row.id)\"></i>\n    </template>\n      <template slot=\"visibilities\" slot-scope=\"{row}\">\n        <ul v-for=\"(visibilitie, index) in row.visibilities\" :key=\"index\">\n          <li v-if=\"visibilitie.name === 'Rep'\">{{$getGlobal('title_rep').value}}</li>\n          <li v-else >{{visibilitie.name}}</li>\n        </ul>\n      </template>\n    </cp-data-table>\n    <cp-dialog :open=\"planModal\" @close=\"clearModal()\">\n      <h2 slot=\"header\">\n        {{ edit && planModal ? 'Edit' : 'Create' }}\n      </h2>\n      <template slot=\"content\">\n        <cp-autoship-plan-form v-if=\"planModal\" :plan=\"selectedPlan\" @close=\"clearModal\" @add-plan=\"addPlan\" :edit=\"edit\"></cp-autoship-plan-form>\n      </template>\n    </cp-dialog>\n       <cp-confirm\n        :message=\"'Are you sure you want to delete this plan? This can\\'t be undone.'\"\n        v-model=\"showConfirm\"\n        :show=\"showConfirm\"\n        :callback=\"deletePlan\"\n        :onCancelled=\"undoDelete\"\n        :params=\"{id:planId}\"></cp-confirm>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/checkout/CpCheckout.vue:script


      sms.vComponent('assets/js/components/checkout/CpCheckout.vue', {"name":"CpCheckout","path":"assets/js/components/checkout/CpCheckout.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')
const Step = require('../../libraries/step.js')
const Checkout = require('../../resources/CheckoutAPIv0.js')
const Users = require('../../resources/UserApiv0.js')

module.exports = {
  name: 'CpCheckout',
  routing: [
    {
      name: 'site.CpCheckout',
      path: 'checkouts/:checkoutPid',
      meta: {
        title: 'Checkout'
      },
      props: true
    }
  ],
  props: {
    checkoutPid: {
      type: String,
      required: true
    },
    checkoutProp: {
      default () {
        return null
      }
    },
    buyerProp: {
      default () {
        return null
      }
    }
  },
  data () {
    return {
      steps: Step,
      pageError: null,
      processing: false,
      checkout: {},
      checkoutType: null,
      buyer: null,
      order: {}
    }
  },
  mounted () {
    if (!this.checkoutProp) {
      this.pullCheckout()
    } else {
      this.setCheckout(JSON.parse(JSON.stringify(this.checkoutProp)))
      this.updateAddresses()
    }
    if (this.buyerProp) {
      this.buyer = JSON.parse(JSON.stringify(this.buyerProp))
      this.$refs.userInfoForm.setCustomer(this.buyer)
    }
    // initilize number steps in this checkout form
    let newSteps = {
      info: true,
      payment: false,
      summary: false,
      error: false
    }
    this.steps.init(newSteps, 300)
  },
  methods: {
    pullBuyer () {
      if (this.checkout && this.checkout.buyer_pid) {
        Users.get(this.checkout.buyer_pid, {addresses: true})
          .then((response) => {
            if (!response.error) {
              this.buyer = response
              this.$refs.userInfoForm.setCustomer(this.buyer)
            }
        })
      }
    },
    setCheckout (checkout) {
      this.checkout = checkout
      this.checkoutType = checkout.type
      this.$refs.makePaymentForm.setCheckout(checkout)
    },
    navigateToCart () {
      this.$router.push({
        path: '/carts/' + this.checkout.cart_pid
      })
    },
    pullCheckout () {
      Checkout.get(this.checkoutPid).then((response) => {
        if (response.error) {
          if (response.code == 404) {
            this.pageError = 'Checkout missing'
          } else {
            this.pageError = response.message.message
          }
          this.steps.skipTo('error')
          return;
        }
        this.setCheckout(response)
        this.updateAddresses()
        this.pullBuyer()
      })
    },
    setProcessing(processing) {
      this.processing = processing
    },
    validateInfo () {
      this.processing = true
      if (!this.$refs.userInfoForm.validate()) {
        this.processing = false
        return
      }
      let addresses = this.$refs.userInfoForm.getAddresses()
      let requestBody = {
        billing_address: addresses.billingAddress,
        shipping_address: addresses.shippingAddress,
        self_pickup: this.$refs.userInfoForm.selfPickup
      }
      // TODO compare addresses before posting update
      Checkout.update(requestBody, this.checkout.pid)
        .then((response) => {
          this.processing = false
          if (response.error) {
            this.$toast((response.message ? response.message : 'Unexpected error. Please try again later.'), { error: true })
            return;
          }
          this.setCheckout(response)
          this.steps.skipTo('payment')
        })
    },
    updateAddresses () {
      if (this.checkout.billing_address) {
        this.$refs.userInfoForm.setBillingAddress(this.checkout.billing_address)
      }
      if (this.checkout.shipping_address) {
        this.$refs.userInfoForm.setShippingAddress(this.checkout.shipping_address)
      }
    },
    process () {
      this.processing = true
      if (!this.$refs.makePaymentForm.validate()) {
        this.processing = false
        return
      }

      let request = {
        source: (this.checkout.type === 'wholesale' ? 'Inventory Purchase' : 'Web'),
        payment: this.$refs.makePaymentForm.getPayment(),
        buyer: this.buyer,
        partial_reserve: true
      }

      Checkout.process(request, this.checkout.pid)
        .then((response) => {
          if (response.error) {
            let message = null
            if (response.code == 422) {
              if (response.message.result_code) {
                message = response.message.message
                switch (response.message.result_code) {
                  case 3:
                    this.pageError = message + "\nPlease try again later."
                    this.steps.skipTo('error')
                    break;
                  case 4:
                    window.alert('Some products were not available. Checkout updated to have remaining products and price.')
                    this.setCheckout(response.message.checkout)
                    break;
                  case 5:
                    // message should be set to the transaction result already
                    break;
                  case 6:
                    this.steps.skipTo('info')
                    break;
                  case 8:
                    window.alert('Coupon already used. Checkout updated to remove coupon.')
                    this.setCheckout(response.message.checkout)
                    break;
                  default:
                    // Unexpected code, ignore for now
                }
              }
            } else {
              message = response.message
            }
            if (!message) {
              message = 'Unexpected error please try again later'
            }
            this.$toast(message, { error: true })
            this.processing = false
            return
          }
          this.order = response.order
          this.steps.skipTo('summary')
        })
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpSelect: require('../../cp-components-common/inputs/CpSelect.vue'),
    CpInformationForm: require('../checkout/CpInformationForm.vue'),
    CpMakePayment: require('../checkout/CpMakePayment.vue'),
    CpCartButton: require('../cart/CpCartButton.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"\">\n    <cp-cart-button\n      :cartPid=\"checkout.cart_pid\"\n      v-if=\"checkout.cart_pid\">\n    </cp-cart-button>\n    <div class=\"checkout-wrapper cp-panel-standard\">\n      <section class=\"cp-steps-circle\">\n        <div :class=\"{ 'active-step': steps.get('info') }\"><span>1</span> Fill in your information</div>\n        <div :class=\"{ 'active-step': steps.get('payment') }\"><span>2</span> Confirm your order & Payment</div>\n        <div :class=\"{'active-step': steps.get('summary') }\"><span>3</span> Order Summary</div>\n      </section>\n      <br>\n      <br>\n\n      <p v-if=\"steps.get('error')\"><strong class=\"errorText\">{{ pageError }}</strong></p>\n      <cp-information-form\n        ref=\"userInfoForm\"\n        :checkoutType=\"checkoutType\"\n        v-show=\"steps.get('info')\"></cp-information-form>\n\n      <div class=\"payment-info-section\" v-show=\"steps.get('payment')\">\n        <cp-make-payment ref=\"makePaymentForm\"\n          :checkout=\"checkout\"\n          :processing=\"processing\"\n          @set-processing=\"setProcessing\"\n          @set-checkout=\"setCheckout\">\n        </cp-make-payment>\n      </div>\n\n      <cp-purchase-summary\n        v-show=\"steps.get('summary')\"\n        :order=\"order\">\n      </cp-purchase-summary>\n\n      <section class=\"checkout-controls\">\n        <div v-if=\"steps.get('info')\">\n          <button\n          class=\"cp-button-standard\"\n          :disabled=\"!checkout || processing\"\n          @click=\"validateInfo()\">Next</button>\n        </div>\n        <div v-else-if=\"steps.get('payment')\">\n          <button\n            class=\"cp-button-standard checkout-next-button\"\n            :disabled=\"processing\"\n            @click=\"process()\">{{ processing ? 'Processing' : 'Place Order' }}</button>\n        </div>\n        <div v-if=\"steps.get('payment')\">\n          <button\n            class=\"cp-button-standard checkout-back-button\"\n            :disabled=\"processing\"\n            @click=\"steps.skipTo('info')\">Back</button>\n        </div>\n      </section>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/CpCommissionEngineMyTeamContacts.vue:script


      sms.vComponent('CpCommissionEngineMyTeamContacts', {"path":"assets/js/components/commission-engine/CpCommissionEngineMyTeamContacts.vue"}, (require,exports,module)=>{
        
const config = require('env').commissionBuild
const commission = require('../../resources/CommissionEngineAPIv0.js')
const cePaginate = require('cepaginate')
const Auth = require('auth')

module.exports = {
  routing: [{
    name: 'site.CpCommissionEngineMyTeamContacts',
    path: '/commission-engine/my-team-contacts',
    meta: {
      title: 'My Team Contacts'
    }
  }],
  data () {
    return {
      indexRequest: {
        order: 'DESC',
        column: 'id',
        per_page: 15,
        search_term: '',
        page: 1,
        command: 'mydownstatsfull',
        systemid: '1',
        orderdir: 'asc',
        offset: '0',
        orderby: 'id',
        userid: '',
        batchid: '',
        limit: '15'
      },
      userid: '',
      pagination: {
        current_page: 1
      },
      tableColumns: [
        { header: 'Designer', field: 'designer', sortable: false },
        { header: 'Advisor', field: 'advisor', sortable: false },
        { header: 'Level', field: 'level', sortable: true },
        { header: 'Career Title', field: 'carrertitle', sortable: false },
        { header: 'Date Last Earned', field: 'udatelastearned', filter: 'cpStandardDate', sortable: true },
        { header: 'Enrollment Date', field: 'usignupdate', filter: 'cpStandardDate', sortable: true },
        { header: 'Phone', field: 'ucell', filter: 'phone', sortable: true },
        { header: 'Email', field: 'uemail', sortable: true }
      ],
      team: [],
      loading: false
    }
  },
  mounted () {
    this.userid = Auth.getAuthId().toString()
    this.indexRequest.userid = this.userid
    // console.log(config.toString().localeCompare('MCOM')===0)
    if (config.toString().localeCompare('MCOM')!==0) {
      this.getBatch()
    } else {
      commission.mcommDownline(this.userid)
    }
  },
  methods: 
  {
    getBatch () {
      this.loading = true
      let request = {
        command: 'querybatches',
        systemid: '1',
        orderdir: 'desc',
        offset: '0',
        orderby: 'id',
        userid: this.userid,
        limit: '15'
      }
      commission.runCommand(request).then(response => {
        this.indexRequest.batchid = response.batches[0].id
        this.getTeam()
      })
    },
    getTeam () {
      if (this.indexRequest.current_page) {
        this.indexRequest.current_page = this.indexRequest.current_page.toString()
      }
      this.indexRequest.search = this.indexRequest.search_term
      this.loading = true
      this.indexRequest.orderby = this.indexRequest.column
      this.indexRequest.orderdir = this.indexRequest.order
      this.indexRequest.offset = this.indexRequest.limit * (this.pagination.current_page - 1)
      if (this.indexRequest.per_page) {
        this.indexRequest.limit = this.indexRequest.per_page.toString()
        this.indexRequest.per_page = this.indexRequest.per_page.toString()
      }
      if (this.indexRequest.page) {
        let num = this.indexRequest.page
        let offset = this.indexRequest.offset
        this.indexRequest.offset = offset.toString()
        this.indexRequest.page = num.toString()
      }
      commission.runCommand(this.indexRequest).then(response => {
        this.loading = false
        if (response.errors) {
          this.pagination.last_page = 0
          this.pagination.current_page = 0
          return this.$toast(response.errors.detail, { error: true, dismiss: false })
        }
        this.pagination.limit = this.indexRequest.limit
        this.pagination = cePaginate.paginate(this.pagination, response)
        this.team = response.userstatsfull
        response.total = response.count
      })
    }
  }
}
;
        module.exports.template = "\n    <div class=\"CpCommissionEngineMyTeamContactsWrapper\">\n      <cp-data-table\n            :table-data=\"team\"\n            :table-columns=\"tableColumns\"\n            :pagination=\"pagination\"\n            :recall-data=\"getTeam\"\n            :request-params=\"indexRequest\"\n            :options=\"{\n                searchBox: false,\n                tableControls: true,\n                datePicker: false,\n            }\">\n              <span slot=\"designer\" slot-scope=\"{row}\">{{row.ufirstname}} {{row.ulastname}} ({{row.userid}})</span>\n              <span slot=\"advisor\" slot-scope=\"{row}\">{{row.afirstname}}  {{row.alastname}} ({{row.auserid}})</span>\n              <template slot=\"udatelastearned\" slot-scope=\"{row}\">\n                <span v-if=\"row.udatelastearned === ''\" >N/A</span>\n                <span v-else>{{row.udatelastearned}}</span>\n              </template>\n            </cp-data-table>\n             <div class=\"align-center\">\n                <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n            </div>\n\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/CpCommisionEngineDownLineReport.vue:script


      sms.vComponent('CpCommissionEngineDownLineReport', {"path":"assets/js/components/commission-engine/CpCommisionEngineDownLineReport.vue"}, (require,exports,module)=>{
        
    const Commission = require('../../resources/CommissionEngineAPIv0.js')
    const CePaginate = require('cepaginate')
    const Moment = require('moment')
    const Auth = require('auth')
    const _ = require('lodash')

    module.exports = {
      routing: [
        {
          name: 'site.CpCommisionEngineDownLineReport',
          path: '/commission-engine/downline-report',
          meta: {
            title: 'Downline Report'
          }
        }
      ],
      data () {
        return {
          Auth: Auth,
          isloading: true,
          currentUser: Auth.getClaims().fullName,
          userid: Auth.getAuthId().toString(),
          downlineReport: [],
          batches: [],
          query: {},
          isEmptyQuery: false,
          tableColumns: [
            { header: 'User', field: 'ufirstname', sortable: true },
            { header: 'Advisor', field: 'sfirstname', sortable: true },
            { header: 'Sponsor', field: 'afirstname', sortable: true },
            { header: 'Enroll Date', field: 'usignupdate', sortable: true },
            { header: 'Level', field: 'level', sortable: true },
            { header: 'Career Title', field: 'carrertitle', sortable: true },
            { header: 'Current Title', field: 'currenttitle', sortable: true },
            { header: 'Personal Volume', field: 'mywholesalesales', sortable: true },
            { header: 'P.S.Q.', field: 'psq', sortable: true },
            { header: 'Team Volume', field: 'teamwholesalesales', sortable: true },
            { header: 'Enterprise volume', field: 'groupwholesalesales', sortable: true }

          ],
          indexBatch: {
            command: 'querybatches',
            systemid: '1',
            orderby: 'id',
            userid: this.userid,
            orderdir: 'desc',
            offset: '0',
            limit: '100'
          },
          indexRequest: {
            start_date: Moment().subtract(10, 'days').format('YYYY-MM-DD'),
            end_date: Moment().format('YYYY-MM-DD'),
            order: 'asc',
            column: 'id',
            limit: '15',
            per_page: 15,
            search_term: '',
            page: 1,
            command: 'mydownstatsfull',
            systemid: '1',
            orderdir: 'asc',
            offset: '0',
            orderby: 'id',
            userid: this.userid,
            batchid: ''
          },
          dates: {
            start_date: Moment().subtract(10, 'days').format('YYYY-MM-DD'),
            end_date: Moment().format('YYYY-MM-DD')
          },
          pagination: {
            current_page: 1
          }
        }
      },
      mounted () {
        this.indexRequest.userid = this.userid
        // gives you a true of false value to render 'go back' button
        this.isEmptyQuery = !_.isEmpty(this.$route.query)
        this.query = this.$route.query
        // checks if query, then sets data, makes call
        if (!_.isEmpty(this.query)) {
          this.currentUser = this.query.name
          this.indexRequest.userid = this.query.user_id
          this.indexBatch.userid = this.query.user_id
          this.getBatches()
        } else {
          this.getBatches()
        }
      },
      methods: {
        goBack () {
          this.$router.go(-1)
        },
        getBatches () {
          Commission.runCommand(this.indexBatch)
            .then(res => {
              this.batches = res.batches
              // Parses date and adds formatting
              this.batches.forEach(e => {
                e.startdate = Moment(e.startdate).format('MMMM YYYY')
              })
              // Sets latest batch recieved to be default batch id
              this.indexRequest.batchid = this.batches[0].id
              this.getDownlineReport()
            })
        },
        getDownlineReport () {
          this.isloading = true
          // reformatting index-request for commission engine
          this.indexRequest.orderdir = this.indexRequest.order
          this.indexRequest.orderby = this.indexRequest.column
          this.indexRequest.offset = this.indexRequest.limit * (this.pagination.current_page - 1)
          this.indexRequest.limit = this.indexRequest.per_page.toString()
          this.indexRequest.per_page = this.indexRequest.per_page.toString()
          if (this.indexRequest.page) {
            let num = this.indexRequest.page
            let offset = this.indexRequest.offset
            this.indexRequest.offset = offset.toString()
            this.indexRequest.page = num.toString()
          }
          Commission.runCommand(this.indexRequest)
            .then(res => {
              if (!res.errors) {
                this.pagination.limit = this.indexRequest.limit
                this.pagination = CePaginate.paginate(this.pagination, res)
                this.downlineReport = res.userstatsfull
                this.isloading = false
              } else {
                this.isloading = false
                this.downlineReport = []
                this.pagination.last_page = 0
                this.pagination.current_page = 0
                this.$toast(res.errors.detail, {error: true})
              }
            })
        }
      }
    }
;
        module.exports.template = "\n    <div class='commission-engine-downline-report'>\n      <div class=\"custom-table-navigation\">\n        <div class=\"user\">\n        <button v-show=\"isEmptyQuery\" class=\"cp-button-standard\" @click=\"goBack()\"><i class=\"mdi mdi-chevron-left\"></i></button>\n        <h3> {{ currentUser }}'s Downline Report</h3>\n        </div>\n        <div class=\"navigation\">\n        <cp-select-2\n        :options=\"batches\"\n        :key-value=\"{name: 'startdate', value: 'id'}\"\n        v-model=\"indexRequest.batchid\"></cp-select-2><button class=\"cp-button-standard\" @click=\"getDownlineReport()\"><i class=\"mdi mdi-refresh\"></i></button>\n        </div>\n      </div>\n        <cp-data-table\n        :table-columns=\"tableColumns\"\n        :table-data=\"downlineReport\"\n        :recall-data=\"getDownlineReport\"\n        :request-params=\"indexRequest\"\n        :pagination=\"pagination\"\n        :loading=\"isloading\"\n        :options=\"{\n          searchBox: false,\n          tableControls: true,\n          datePicker: false,\n          dateRange: dates\n          }\">\n        <template  slot=\"ufirstname\" slot-scope=\"{row}\">\n          <router-link v-if=\"row.resellercount > 0\" :to=\"{ path: `/commission-engine/downline-report`, query: { 'user_id': row.userid, 'name': row.ufirstname} }\"> {{row.ufirstname }} {{row.ulastname }}</router-link>\n          <span v-else> {{ row.ufirstname }} {{ row.ulastname }} </span>\n        </template>\n        <template  slot=\"sfirstname\" slot-scope=\"{row}\">\n          <span> {{ row.sfirstname }} {{row.slastname }} </span>\n        </template>\n        <template  slot=\"afirstname\" slot-scope=\"{row}\">\n          <span> {{ row.afirstname }} {{ row.alastname}} </span>\n        </template>\n        <template  slot=\"mywholesalesales\" slot-scope=\"{row}\">\n          <span> {{ row.mywholesalesales | currency }} </span>\n        </template>\n        <template  slot=\"teamwholesalesales\" slot-scope=\"{row}\">\n          <span> {{ parseFloat(row.teamwholesalesales) + parseFloat(row.mywholesalesales) | currency }} </span>\n        </template>\n        <template  slot=\"groupwholesalesales\" slot-scope=\"{row}\">\n          <span> {{  row.groupwholesalesales | currency }} </span>\n        </template>\n        </cp-data-table>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/CpCommissionEngineTreeView.vue:script


      sms.vComponent('CpCommissionEngineTreeView', {"path":"assets/js/components/commission-engine/CpCommissionEngineTreeView.vue"}, (require,exports,module)=>{
        
const Comm = require('../../resources/CommissionEngineAPIv0.js')
const Auth = require('auth')

module.exports = {
  routing: [{
    name: 'site.CpCommissionEngineTreeView',
    path: '/commission-engine/tree-view',
    meta: {
      title: 'Downline Tree View'
    }
  }],
  data () {
    return {
      Auth: Auth,
      userid: Auth.getAuthId().toString(),
      loading: true,
      svgHeight: null,
      svgWidth: null,
      downline: {
        userid: Auth.getAuthId().toString(),
        name: Auth.getClaims().fullName,
        children: []
      },
      childrenArray: [],
      indexRequest: {
        command: 'mydownlinelvlone',
        orderdir: 'asc',
        userid: '',
        offset: '0',
        limit: '10',
        orderby: 'id',
        systemid: '1'
      }
    }
  },
  mounted () {
    this.indexRequest.userid = this.userid
    this.getTreeData()
  },
  methods: {
    updateHeight (children) {
      if (children) {
        let childrenLength = children * 4
        this.svgHeight = this.svgHeight + childrenLength
      } else {
        return this.svgHeight
      }
    },
    createTree () {
      this.$d3.selectAll('.node').remove()
      this.$d3.selectAll('.link').remove()

      var svg = this.$d3.select('svg')
      var width = +svg.attr('width')
      var height = +svg.attr('height')

      var g = svg.append('g').attr('transform', 'translate(105,0)')

      var tree = this.$d3.cluster()
        .size([height, width - 180])

      this.updateTree(svg, tree, g)
    },
    updateTree (svg, tree, g) {
      var root = this.$d3.hierarchy(this.downline)

      tree(root)

      var link = g.selectAll('.link')
        .data(root.descendants().slice(1))
        .enter().append('path')
        .attr('class', 'link')
        .attr('d', d => {
          return 'M' + d.y + ',' + d.x +
            'C' + (d.parent.y + 100) + ',' + d.x +
            ' ' + (d.parent.y + 100) + ',' + d.parent.x +
            ' ' + d.parent.y + ',' + d.parent.x
        })
      var node = g.selectAll('.node')
        .data(root.descendants())
        .enter().append('g')
        .attr('class', d => { return 'node' + (d.children ? ' node--internal' : ' node--leaf') })
        .attr('transform', d => { return 'translate(' + d.y + ',' + d.x + ')' })

      node.append('circle')
        .attr('r', 2.5)
        .style('fill', d => { return d.data.count > 0 ? '#4988FB' : '#f5f5f5' })

      node.append('text')
        .attr('dy', 3)
        .attr('x', (d) => { return d.children ? -8 : 8 })
        .style('text-anchor', d => { return d.children ? 'end' : 'start' })
        .text(d => `${d.data.firstname || d.data.name}  (${d.data.userid})`)

      node.on('click', d => {
        this.indexRequest.userid = d.data.userid
        Comm.runCommand(this.indexRequest).then(res => {
          d.data.children = res.users
          this.updateHeight(d.data.children.length)
          this.createTree()
        })
      })
    },
    getTreeData () {
      this.svgWidth = document.getElementById('cp-tree-view-wrapper').clientWidth
      this.svgHeight = document.getElementById('cp-tree-view-wrapper').clientHeight * 6
      this.loading = true
      Comm.runCommand(this.indexRequest).then(res => {
        this.loading = false
        if (!res.errors) {
          this.downline.children = res.users
          for (let i = 0; i < this.downline.children.length; i++) {
            this.downline.children[i].name = this.downline.children[i].firstname + ' ' + this.downline.children[i].lastname
            if (this.downline.children[i].count > 0) {
              this.downline.children[i].children = []
            }
          }
        } else {
          this.$toast('Downline isnt available', {error: true})
        }
        this.createTree()
      })
    }
  }
}
;
        module.exports.template = "\n    <div id='cp-tree-view-wrapper'>\n          <svg :width=\"svgWidth\" :height=\"svgHeight\"></svg>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/CpMCommEngineDashboard.vue:script


      sms.vComponent('CpMCommEngineDashboard', {"path":"assets/js/components/commission-engine/CpMCommEngineDashboard.vue"}, (require,exports,module)=>{
        
    const commission = require('../../resources/MCommEngineAPI.js')
    const Auth = require('auth')

    module.exports = {
      routing: [{
        name: 'site.CpMCommEngineDashboard',
        path: '/commission-engine/mcomm-dashboard',
        meta: {
          title: 'Multi-Com Engine'
        }
      }],
      data () { 
          return {
                    Auth: Auth,
                    userid: null,
                    loading: 0,
                    currentPeriod: null,
                    periods:[]
                }
      },
      components: {
        CpDashboardMcommSalesVolume: require('./mcomm/dashboard-layout/mcomm-sales-volume.vue')
      },
      created () {
        this.userid = Auth.getAuthId()
          this.currentPeriod=commission.getCurrentPeriod()
          this.getHistory()
      },
      methods: 
      {
        getHistory(){
          commission.activeHistory(this.userid).then(response=>{
              console.log(response)
            this.periods=response
          })
        },
        updatePeriod(event){
          this.currentPeriod= event.target.options[event.target.options.selectedIndex].value
        //   this.$dispatch('changePeriod', this.currentPeriod)
        //   this.$emit('changePeriod', this.currentPeriod)
        console.log('updatePeriod(event)')
        console.log(event)
        console.log('this.currentPeriod=>'+this.currentPeriod)
          this.$emit('update:period', event)

         } 
      }
    }
;
        module.exports.template = "\n    <div class=\"CpMCommEngineDashboardWrapper\">\n        <select class=\"form-control\" @change=\"updatePeriod($event)\">\n            <option value=\"\" selected disabled>Choose</option>\n            <option v-for=\"p in periods\" :value=\"p.period\" :key=\"p.period\">{{ p.periodName }}</option>\n        </select>\n        <!--:period=\"currentPeriod\"-->\n      <cp-dashboard-mcomm-sales-volume :period=\"currentPeriod\"></cp-dashboard-mcomm-sales-volume>    \n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/CpCommissionEngineLedger.vue:script


      sms.vComponent('CpCommissionEngineLedger', {"path":"assets/js/components/commission-engine/CpCommissionEngineLedger.vue"}, (require,exports,module)=>{
        
const moment = require('moment')
const commission = require('../../resources/CommissionEngineAPIv0.js')
const cePaginate = require('cepaginate')
const Auth = require('auth')

module.exports = {
  routing: [{
    name: 'site.CpCommissionEngineLedger',
    path: '/commission-engine/my-ledger',
    meta: {
      title: 'My Ledger'
    }
  }],
  data () {
    return {
      Auth: Auth,
      indexRequest: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        order: 'desc',
        column: 'createdat',
        limit: '15',
        per_page: 15,
        search_term: '',
        page: 1,
        current_page: 1,
        command: 'myledger',
        systemid: '1',
        orderdir: 'desc',
        offset: '0',
        orderby: 'createdat',
        userid: ''
      },
      dates: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD')
      },
      tableColumns: [
        { header: 'ID', field: 'id', sortable: true },
        { header: 'System ID', field: 'systemid', sortable: true },
        { header: 'Batch ID', field: 'batchid', sortable: true },
        { header: 'Ref ID', field: 'refid', sortable: false },
        { header: 'Ledger Type', field: 'ledgertype', sortable: true, filter: 'ceLedgerType' },
        { header: 'Amount', field: 'amount', sortable: true, filter: 'currency' },
        { header: 'Event Date', field: 'eventdate', sortable: false, filter: 'cpStandardDate' },
        { header: 'Created', field: 'createdat', sortable: true, filter: 'cpStandardDate' }
      ],
      pagination: {
        current_page: 1
      },
      ledgerData: []
    }
  },
  mounted () {
    this.indexRequest.userid = Auth.getAuthId().toString()
    this.getLedger()
  },
  methods: {
    getLedger () {
      this.indexRequest.orderdir = this.indexRequest.order
      this.indexRequest.offset = this.indexRequest.limit * (this.pagination.current_page - 1)
      this.indexRequest.limit = this.indexRequest.limit.toString()
      this.indexRequest.per_page = this.indexRequest.per_page.toString()
      this.indexRequest.page = this.indexRequest.page.toString()
      this.indexRequest.current_page = this.indexRequest.current_page.toString()
      commission.runCommand(this.indexRequest).then(response => {
        if (response.errors) {
          this.pagination.last_page = 0
          this.pagination.current_page = 0
          return this.$toast(response.errors.detail, { error: true, dismiss: false })
        }
        this.pagination.limit = this.indexRequest.limit
        this.pagination = cePaginate.paginate(this.pagination, response)
        this.ledgerData = response.ledger
        response.total = response.count
      })
    }
  }
}
;
        module.exports.template = "\n    <div class=\"CpCommissionEngineLedgerWrapper\">\n    <cp-data-table\n            :table-data=\"ledgerData\"\n            :table-columns=\"tableColumns\"\n            :pagination=\"pagination\"\n            :recall-data=\"getLedger\"\n            :request-params=\"indexRequest\"\n            :options=\"{\n                searchBox: false,\n                tableControls: true,\n                datePicker: false,\n            }\">\n             </cp-data-table>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/checkout/CpMakePayment.vue:script


      sms.vComponent('assets/js/components/checkout/CpMakePayment.vue', {"name":"CpMakePayment","path":"assets/js/components/checkout/CpMakePayment.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')
const Checkout = require('../../resources/CheckoutAPIv0.js')
const Users = require('../../resources/UsersAPIv0.js')
const Payman = require('../../resources/PaymanAPI.js')

module.exports = {
  data () {
    return {
      couponCode: '',
      couponErrors: {},
      repEwallet: null,
      cardToken: null,
      selectedPaymentType: {type: null, display: null},
      ewalletAllowed: false,
      paymentTypes: [],
      checkout: null,
      checkoutLoaded: false
    }
  },
  props: {
    processing: {
      type: Boolean,
      required: false,
      default () {
        return false
      }
    }
  },
  methods: {
    validate () {
      // Only validate credit card form
      return (this.selectedPaymentType.type !== 'credit-card' || this.$refs.ccForm.validate())
    },
    load () {
      if (this.checkout.type === 'custom_personal') {
        // Don't pull ewallet balance and card token
        return true
      }
      if (this.$getGlobal('wholesale_ewallet').show) {
        Payman.getEWalletBalance(Auth.getAuthId())
          .then((response) => {
            if (!response.error) {
              this.selectedPaymentType = {type: null, display: null}
              this.repEwallet = response
              this.updatePaymentTypes()
            }
          })
      }
      if (this.$getGlobal('wholesale_card_token').show) {
        Users.getCardToken(Auth.getAuthPid())
          .then((response) => {
            if (!response.error) {
              let expirationDate = moment(response.expiration, "MMYY")
              if (moment().isAfter(expirationDate.add(1, 'months'))) {
                return
              }
              this.selectedPaymentType = {type: null, display: null}
              this.cardToken = response
              this.updatePaymentTypes()
            }
          })
      }
    },
    setCheckout (checkout) {
      this.checkout = checkout
      // The first time checkout is set run load()
      if (!this.checkoutLoaded) {
        this.checkoutLoaded = true
        this.load()
      }
      this.updatePaymentTypes()
    },
    setCouponErrors (errors) {
      this.couponErrors = errors
    },
    setPaymentType (type) {
      this.selectedPaymentType = type
      if (this.selectedPaymentType.type === 'card-token') {
        let expirationDate = moment(this.cardToken.expiration, "MMYY")
        this.$refs.cardTokenForm.setCard({
          name: '',
          number: this.cardToken.card_digits,
          year: expirationDate.year(),
          month: expirationDate.month(),
          code: ''
        })
      }
    },
    updatePaymentTypes () {
      if (!this.checkout) {
        return false
      }
      let types = []
      if (this.checkout.total > 0) {
        if (this.checkout.type === 'custom-personal') {
          this.ewalletAllowed = false
          let selectedType = {type: 'personal-cash', display: 'None'}
          this.setPaymentType(selectedType)
          this.paymentTypes = [selectedType]
          return true
        }
        // Check that e-wallet is available
        if (this.repEwallet != null && this.repEwallet.balance >= this.checkout.total) {
          types.push({type: 'e-wallet', display: 'eWallet'})
          this.ewalletAllowed = true
        } else {
          if (this.selectedPaymentType.type === 'e-wallet') {
            this.selectedPaymentType = {type: null, display: null}
          }
          this.ewalletAllowed = false
        }
        // Check that card-token is available
        if (this.cardToken != null) {
          types.push({type: 'card-token', display: 'Saved Card: ' + this.cardToken.card_digits})
        } else if (this.selectedPaymentType.type === 'card-token') {
          this.selectedPaymentType = {type: null, display: null};
        }
        // Add credit card form
        types.push({type: 'credit-card', display: 'Credit Card'})
        // Select a default if needed
        if (this.selectedPaymentType.type == null || this.selectedPaymentType.type === 'zero-cash') {
          this.setPaymentType(types[0])
        }
      } else {
        types.push({type: 'zero-cash', display: 'Cash'})
        this.setPaymentType(types[0])
        this.ewalletAllowed = false
      }
      this.paymentTypes = types
    },
    getPayment () {
      switch (this.selectedPaymentType.type) {
        case 'personal-cash':
        case 'zero-cash':
          return {
            type: 'cash',
            cash_type: 'Zero',
            amount: this.checkout.total
          }
        case 'credit-card':
          return {
            type: 'card',
            card: this.getCard(),
            amount: this.checkout.total
          }
        case 'e-wallet':
          return {
            type: 'e-wallet',
            amount: this.checkout.total
          }
        case 'card-token':
          return {
            type: 'card-token',
            card_token: this.cardToken.token,
            gateway_customer_id: this.cardToken.gateway_customer_id,
            amount: this.checkout.total
          }
        default:
          return null
      }
    },
    getCard () {
      return this.$refs.ccForm.getCard()
    },
    applyCoupon () {
      this.$emit('set-processing', true)
      Checkout.update({coupon_code: this.couponCode}, this.checkout.pid)
        .then((response) => {
          if (response.error) {
            this.$toast((response.message ? response.message : 'Unexpected Error'), { error: true })
          } else {
            this.$emit('set-checkout', response)
          }
          this.$emit('set-processing', false)
        })
    }
  },
  components: {
    CpCreditCardForm: require('../payment/CpCreditCardForm.vue'),
    CpInput: require('../../cp-components-common/inputs/CpInput.vue')
  }
}
;
        module.exports.template = "\n  <section class=\"make-a-payment-section\" v-if=\"checkout\">\n    <div>\n      <div class=\"payment-flex-container\">\n        <div class=\"order-summary-section col\">\n          <h4 style=\"margin-top: 0px\">Confirm Your Order</h4>\n          <table class=\"cp-table-inverse\">\n            <tr>\n              <th>PRODUCT</th>\n              <th>SIZE</th>\n              <th>QUANTITY</th>\n              <th>PRICE</th>\n            </tr>\n            <tr v-for=\"line in checkout.lines\">\n              <td>{{line.item_id ? line.items[0].product_name : line.bundle_name}}</td>\n              <td>{{line.item_id ? line.items[0].option : ''}}</td>\n              <td>{{line.quantity}}</td>\n              <td v-if=\"line.discount\">{{ (line.quantity - line.discount) * line.price | currency }}</td>\n              <td v-if=\"!line.discount\">{{ line.quantity * line.price | currency }}</td>\n            </tr>\n          </table>\n          <div class=\"payment-totals-section\">\n            <div class=\"total-line\">\n              <span>Subtotal</span>\n              <span class=\"\">\n                {{ checkout.subtotal | currency }}\n              </span>\n            </div>\n            <div class=\"total-line\" v-if=\"checkout.discount > 0\">\n              <span> Discount</span>\n              <span class=\"\">\n                {{ -checkout.discount | currency }}\n              </span>\n            </div>\n            <div class=\"total-line\">\n              <span>Estimated Tax</span>\n              <span class=\"\">\n                {{ checkout.tax | currency }}\n              </span>\n            </div>\n            <div class=\"total-line\">\n              <span>Shipping</span>\n              <span class=\"\">\n                {{ checkout.shipping | currency }}\n              </span>\n            </div>\n            <div class=\"total-line\">\n              <span>Total</span>\n              <span class=\"\">\n                {{ checkout.total | currency }}\n              </span>\n            </div>\n          </div>\n        <div class=\"cp-form-inverse\">\n          <div class=\"apply-coupon-wrapper\" v-if=\"checkout.couponable\">\n            <cp-input\n              class=\"\"\n              type=\"text\"\n              :error=\"couponErrors['coupon_code']\"\n              placeholder=\"Do you have a promotional code?\"\n              v-model=\"couponCode\">\n            </cp-input>\n            <button class=\"cp-button-standard\" :disabled=\"this.processing\" @click=\"applyCoupon()\">Apply</button>\n          </div>\n        </div>\n        <div class=\"coupon-applied-section\">\n          <span v-if=\"checkout.discount\">A discount of <i>{{ checkout.discount | currency }}</i> was applied to your order.</span>\n        </div>\n      </div>\n      <div class=\"payment-method-section col cp-form-inverse\">\n        <div v-if=\"paymentTypes.length > 1\">\n          <span>Select payment type</span><br>\n          <select class=\"payment-selector\" v-model=\"selectedPaymentType\" @change=\"setPaymentType(selectedPaymentType)\">\n            <option v-for=\"paymentType in paymentTypes\" :value=\"paymentType\">{{ paymentType.display }}</option>\n          </select>\n        </div>\n        <cp-credit-card-form v-show=\"selectedPaymentType.type === 'credit-card'\" ref=\"ccForm\" :disabled=\"checkout.total == 0\"></cp-credit-card-form>\n        <div class=\"payment-message-section\" v-if=\"ewalletAllowed\" v-show=\"selectedPaymentType.type === 'e-wallet'\">\n          <span><strong>Pay using eWallet</strong></span><br>\n          <div>Balance: {{ this.repEwallet.balance | currency('floor') }}</div>\n          <div>Payment: {{ this.checkout.total | currency }}</div>\n          <div>Remaining: {{ this.repEwallet.balance - this.checkout.total | currency('floor') }}</div>\n        </div>\n        <cp-credit-card-form v-show=\"selectedPaymentType.type === 'card-token'\" ref=\"cardTokenForm\" :disabled=\"true\"></cp-credit-card-form>\n        <div class=\"payment-message-section\" v-if=\"selectedPaymentType.type === 'personal-cash'\">\n          <span><strong>Tax amount will be added to your sales tax owed balance</strong></span>\n        </div>\n        <div class=\"payment-message-section\" v-if=\"selectedPaymentType.type === 'zero-cash'\">\n          <span><strong>No payment required. Order total is $0.00</strong></span>\n        </div>\n        <small>By clicking Place Order below, you agree to the following <a href=\"/return-policy\" class=\"agree\" target=\"_blank\">terms.</a> Click <a :href=\"$getGlobal('return_policy').value\" target=\"_blank\">here</a> for the return policy</small>\n      </div>\n    </div>\n    </div>\n  </section>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/CpMCommEngineDownLineReport.vue:script


      sms.vComponent('CpMCommEngineDownLineReport', {"path":"assets/js/components/commission-engine/CpMCommEngineDownLineReport.vue"}, (require,exports,module)=>{
        
const Commission = require("../../resources/MCommEngineAPI.js");
const Moment = require("moment");
const Auth = require("auth");
const _ = require("lodash");

module.exports = {
  routing: [
    {
      name: "site.CpMCommEngineDownLineReport",
      path: "/commission-engine/mcomm-downline-report",
      meta: {
        title: "Downline Report"
      }
    }
  ],
  data() {
    return {
      Auth: Auth,
      isloading: true,
      currentUser: Auth.getClaims().fullName,
      userid: Auth.getAuthId().toString(),
      searchItem: "",
      items: [],
      filteredItems: [],
      paginatedItems: [],
      selectedItems: [],
      pagination: {
        range: 5,
        currentPage: 1,
        itemPerPage: 5,
        items: [],
        filteredItems: []
      }
    };
  },
  mounted() {
    this.mcomm();
    this.filteredItems = this.items;
    this.buildPagination();
    this.selectPage(1);
  },
  methods: {
    mcomm: function() {
      return Commission.mcommDownline(this.userid)
        .then(response => {
          console.log(response);
          this.items = response;
          this.handleSalesVolumeResponse(response);
        })
        .finally(() => {
          this.loading = false;
        });
    },
    goBack() {
      this.$router.go(-1);
    },
    // handle response
    handleSalesVolumeResponse: function(response) {
      this.isloading = false;
      if (response.error) {
        console.log(this.$toast);
        this.$toast(response.message, { error: true });
      }
    },
    clearSearchItem() {
      this.searchItem = undefined;
      this.searchInTheList("");
    },
    searchInTheList(searchText, currentPage) {
      if (_.isUndefined(searchText)) {
        this.filteredItems = _.filter(this.items, function(v, k) {
          return !v.selected;
        });
      } else {
        this.filteredItems = _.filter(this.items, function(v, k) {
          return (
            !v.selected &&
            v.name.toLowerCase().indexOf(searchText.toLowerCase()) > -1
          );
        });
      }
      this.filteredItems.forEach(function(v, k) {
        v.key = k + 1;
      });
      this.buildPagination();

      if (_.isUndefined(currentPage)) {
        this.selectPage(1);
      } else {
        this.selectPage(currentPage);
      }
    },
    buildPagination() {
      let numberOfPage = Math.ceil(
        this.filteredItems.length / this.pagination.itemPerPage
      );
      this.pagination.items = [];
      for (var i = 0; i < numberOfPage; i++) {
        this.pagination.items.push(i + 1);
      }
    },
    selectPage(item) {
      this.pagination.currentPage = item;

      let start = 0;
      let end = 0;
      if (this.pagination.currentPage < this.pagination.range - 2) {
        start = 1;
        end = start + this.pagination.range - 1;
      } else if (
        this.pagination.currentPage <= this.pagination.items.length &&
        this.pagination.currentPage >
          this.pagination.items.length - this.pagination.range + 2
      ) {
        start = this.pagination.items.length - this.pagination.range + 1;
        end = this.pagination.items.length;
      } else {
        start = this.pagination.currentPage - 2;
        end = this.pagination.currentPage + 2;
      }
      if (start < 1) {
        start = 1;
      }
      if (end > this.pagination.items.length) {
        end = this.pagination.items.length;
      }

      this.pagination.filteredItems = [];
      for (var i = start; i <= end; i++) {
        this.pagination.filteredItems.push(i);
      }

      this.paginatedItems = this.filteredItems.filter((v, k) => {
        return (
          Math.ceil((k + 1) / this.pagination.itemPerPage) ==
          this.pagination.currentPage
        );
      });
    },
    selectItem(item) {
      item.selected = true;
      this.selectedItems.push(item);
      this.searchInTheList(this.searchItem, this.pagination.currentPage);
    },
    removeSelectedItem(item) {
      item.selected = false;
      this.selectedItems.$remove(item);
      this.searchInTheList(this.searchItem, this.pagination.currentPage);
    }
  }
};
;
        module.exports.template = "\n  <div class=\"commission-engine-downline-report\">\n    <h3>{{ currentUser }}'s Downline Report</h3>\n    <div class=\"overlay\" v-if=\"isloading\">\n      <div class=\"lds-spinner\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n    <div v-else>\n      <div id=\"app\" class=\"container\">\n        <div class=\"box m-form\">\n          <label class=\"label\">Filter By Name</label>\n          <div class=\"control is-grouped\">\n            <p class=\"control is-expanded\">\n              <input\n                class=\"input\"\n                v-model=\"searchItem\"\n                v-on:keyup=\"searchInTheList(searchItem)\"\n                type=\"text\"\n                placeholder=\"Find a person\"\n              />\n              <span class=\"help is-dark\">\n                <strong>{{filteredItems.length }}</strong>\n                of {{items.length }} person found\n              </span>\n            </p>\n            <p class=\"control\">\n              <a\n                class=\"button is-info\"\n                v-on:click=\"clearSearchItem\"\n                v-bind:class=\"{'is-disabled': searchItem==''}\"\n              >Clear</a>\n            </p>\n          </div>\n        </div>\n        <div class=\"box m-tags\">\n          <span>\n            <strong>{{selectedItems.length}}</strong> person selected\n          </span>\n          <div class=\"m-tags-items\">\n            <a\n              v-for=\"item in selectedItems\"\n              v-on:click=\"removeSelectedItem(item)\"\n              class=\"tag is-dark is-small\"\n            >\n              {{item.name}}\n              <button class=\"delete is-small\"></button>\n            </a>\n          </div>\n        </div>\n        <nav class=\"pagination m-pagination\">\n          <a\n            class=\"button\"\n            v-on:click=\"selectPage(pagination.currentPage-1)\"\n            v-bind:class=\"{'is-disabled': pagination.currentPage==pagination.items[0] || pagination.items.length==0}\"\n          >Previous</a>\n          <a\n            class=\"button\"\n            v-on:click=\"selectPage(pagination.currentPage+1)\"\n            v-bind:class=\"{'is-disabled': pagination.currentPage==pagination.items[pagination.items.length-1] || pagination.items.length==0}\"\n          >Next page</a>\n          <ul>\n            <li>\n              <a\n                class=\"button\"\n                v-on:click=\"selectPage(pagination.items[0])\"\n                v-bind:class=\"{'is-disabled': pagination.currentPage==pagination.items[0] || pagination.items.length==0}\"\n              >First</a>\n            </li>\n            <li class=\"is-space\"></li>\n            <li v-for=\"item in pagination.filteredItems\">\n              <a\n                class=\"button\"\n                v-on:click=\"selectPage(item)\"\n                v-bind:class=\"{'is-info': item == pagination.currentPage}\"\n              >{{item}}</a>\n            </li>\n            <li class=\"is-space\"></li>\n            <li>\n              <a\n                class=\"button\"\n                v-on:click=\"selectPage(pagination.items[pagination.items.length-1])\"\n                v-bind:class=\"{'is-disabled': pagination.currentPage==pagination.items[pagination.items.length-1] || pagination.items.length==0}\"\n              >Last</a>\n            </li>\n          </ul>\n        </nav>\n        <div class=\"m-table\">\n          <table class=\"table is-bordered is-striped is-narrow\">\n            <tr>\n              <th class=\"m-table-index\">#</th>\n              <th>Name</th>\n              <th>Advisor</th>\n              <th>Enroll Date</th>\n              <th>Level</th>\n              <th>Career Title</th>\n              <th>Rank</th>\n              <th>Personal Volume</th>\n              <th>PSQ</th>\n              <th>Team Volume</th>\n              <th>Enterprise Volume</th>\n            </tr>\n            <tr v-for=\"(genes,indices) in items\" v-bind:key=\"indices\">\n              <td>{{indices}}</td>\n              <td>{{ genes.name }}</td>\n              <td>{{ genes.advisor_name }}</td>\n              <td>{{ genes.enrollment_date }}</td>\n              <td>{{ genes.level }}</td>\n              <td>{{genes.careerTitle}}</td>\n              <td>{{genes.rank}}</td>\n              <td>{{genes.personalVolume}}</td>\n              <td>{{genes.customerCount}}</td>\n              <td>{{genes.teamGroupVolume}}</td>\n              <td>{{genes.commissionableRetailVolume}}</td>\n              <!--<td>{{genes.enterpriseVolume}}</td>-->\n            </tr>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpEnterpriseVolume.vue:script


      sms.vComponent('enterprise-volume', {"path":"assets/js/components/commission-engine/dashboard-cards/CpEnterpriseVolume.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['myStatsLevelOne', 'myStats', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"CpEnterpriseVolume\">\n        <h5>{{title}}</h5>\n        <h3>{{parseFloat(myStatsLevelOne.mywholesalesales) + parseFloat(myStats.groupwholesalesales) | currency}}</h3>\n     </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/CpMCommEngineDownLineReportDT.vue:script


      sms.vComponent('assets/js/components/commission-engine/CpMCommEngineDownLineReportDT.vue', {"name":"CpMCommEngineDownLineReportDT","path":"assets/js/components/commission-engine/CpMCommEngineDownLineReportDT.vue"}, (require,exports,module)=>{
        
const Commission = require("../../resources/MCommEngineAPI.js");
const Moment = require("moment");
const Auth = require("auth");
const _ = require("lodash");
const orderBy = _.orderBy
const addZero = value => ("0" + value).slice(-2);
const formatDate = value => {
  if (value) {
    const dt = new Date(value);
    return `${addZero(dt.getDate())}/${addZero(
      dt.getMonth() + 1
    )}/${dt.getFullYear()}`;
  }
  return "";
};

module.exports = {
  routing: [
    {
      name: "site.CpMCommEngineDownLineReport",
      path: "/commission-engine/mcomm-downline-report-dt",
      meta: {
        title: "Downline Report"
      }
    }
  ],
  components: {
    'data-table': require('./mcomm/components/DataTable.vue'),
    'items-per-page-dropdown': require('./mcomm/components/ItemsPerPageDropdown.vue'),
    'pagination': require('./mcomm/components/Pagination.vue')
  },
  created(){
    this.mcomm();
  },
  data: function() {
    return {
      headerFields: [
        {
          name: "name",
          label: "Name",
          width: '200px',
          sortable: true
        },
        {
          name: "advisor_name",
          label: "Advisor Name",
          sortable: true
        },
        {
          name: "enrollment_date",
          label: "Enrollment Date",
          sortable: true,
            format: formatDate
        },
        {
          name: "level",
          label: "Level",
          sortable: true
        },
        {
          name: "careerTitle",
          label: "Career Title",
          sortable: true,
        },
        {
          name: "rank",
          label: "Rank",
          sortable: false
        },
        {
          name: "personalVolume",
          label: "Personal Volume",
          sortable: true
        },
        {
          name: "customerCount",
          label: "Customer Count",
          sortable: true
        },
        {
          name: "teamGroupVolume",
          label: "Team Volume",
          sortable: true
        },
        {
          name: "commissionableRetailVolume",
          label: "Enterprise Volume",
          sortable: true
        },
      ],
      initialData:[],
      Auth: Auth,
      isLoading: true,
      currentUser: Auth.getClaims().fullName,
      userid: Auth.getAuthId().toString(),
      data: [],
      datatableCss: {
        table: 'table table-bordered table-hover table-striped table-center',
        th: 'header-item',
        thWrapper: 'th-wrapper',
        thWrapperCheckboxes: 'th-wrapper checkboxes',
        arrowsWrapper: 'arrows-wrapper',
        arrowUp: 'arrow up',
        arrowDown: 'arrow down',
        footer: 'footer'
      },
      paginationCss: {
        paginationItem: 'pagination-item',
        moveFirstPage: 'move-first-page',
        movePreviousPage: 'move-previous-page',
        moveNextPage: 'move-next-page',
        moveLastPage: 'move-last-page',
        pageBtn: 'page-btn',
      },
      itemsPerPageCss: {
        select: 'item-per-page-dropdown'
      },
      sort: "asc",
      sortField: "name",
      listItemsPerPage: [5, 10, 20, 50, 100],
      itemsPerPage: 10,
      currentPage: 1,
      totalItems: 0,
      createHeaderName: "created:header"
    };
  },
  methods: {
    dtUpdateSort: function({ sortField, sort }) {
      const sortedData = _.orderBy(this.initialData, [sortField],[sort]);
      const start = (this.currentPage -1) * this.itemsPerPage;
      const end = this.currentPage * this.itemsPerPage;
      this.data = sortedData.slice(start, end)
      console.log('load data based on new sort', this.currentPage)
    },
    updateItemsPerPage: function(itemsPerPage) {
      this.itemsPerPage = itemsPerPage
      if (itemsPerPage >= this.initialData.length) {
        this.data = this.initialData
      } else {
        this.data = this.initialData.slice(0, itemsPerPage)
      }
      console.log('load data with new items per page number', itemsPerPage)
    },
    changePage: function(currentPage) {
      this.currentPage = currentPage
      const start = (currentPage -1) * this.itemsPerPage;
      const end = currentPage * this.itemsPerPage;
      this.data = this.initialData.slice(start, end)
      console.log('load data for the new page', currentPage)
    },
    updateCurrentPage: function(currentPage) {
      this.currentPage = currentPage
      console.log('update current page without need to load data', currentPage)
    },
    mcomm: function() {
      return Commission.mcommDownline(this.userid)
        .then(response => {
          this.initialData = response;
            this.data=this.initialData.slice(0, 10)
            this.totalItems=this.initialData.length
        })
        .finally(() => {
          this.isLoading = false;
        });
    },
    goBack() {
      this.$router.go(-1);
    }
  }
}
;
        module.exports.template = "\n  <div id=\"mcomm-downline-report\">\n    <h3 class=\"title\">{{ currentUser }}'s Downline Report</h3>\n    <data-table\n      :header-fields=\"headerFields\"\n      :sort-field=\"sortField\"\n      :sort=\"sort\"\n      :data=\"data || []\"\n      :is-loading=\"isLoading\"\n      :css=\"datatableCss\"\n      not-found-msg=\"Items not found\"\n      @onUpdate=\"dtUpdateSort\"\n      track-by=\"name\"\n      tableHeight=\"400px\"\n    ><span slot=\"created:header\">Created Custom</span>\n      <!-- custom header usgin string -->\n      <template v-slot:UpdatedHeader>\n        <span>Updated Custom</span>\n      </template>\n      <template v-slot:pagination>\n        <pagination\n          :page=\"currentPage\"\n          :total-items=\"totalItems\"\n          :items-per-page=\"itemsPerPage\"\n          :css=\"paginationCss\"\n          @on-update=\"changePage\"\n          @update-current-page=\"updateCurrentPage\"\n        />\n      </template>\n      <div class=\"items-per-page\" slot=\"ItemsPerPage\">\n        <label>Items per page</label>\n        <items-per-page-dropdown\n          :list-items-per-page=\"listItemsPerPage\"\n          :items-per-page=\"itemsPerPage\"\n          :css=\"itemsPerPageCss\"\n          @on-update=\"updateItemsPerPage\"\n        />\n      </div>\n        \n    </data-table>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpCareerTitle.vue:script


      sms.vComponent('career-title', {"path":"assets/js/components/commission-engine/dashboard-cards/CpCareerTitle.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['myTitle', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"CpCareerTitle\">\n        <h5>{{title}}</h5>\n          <h3>{{myTitle.carrertitle}}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpAffiliateSales.vue:script


      sms.vComponent('affiliate-sales', {"path":"assets/js/components/commission-engine/dashboard-cards/CpAffiliateSales.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['myStats', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"\">\n        <h5>{{title}}</h5>\n          <h3>{{myStats.affiliateretailsales | currency}}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpLeadershipBonus.vue:script


      sms.vComponent('leadership-bonus', {"path":"assets/js/components/commission-engine/dashboard-cards/CpLeadershipBonus.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['leadershipBonus', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"CpCareerTitle\">\n        <h5>{{title}}</h5>\n          <h3>{{ leadershipBonus | currency }}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpCurrentTitle.vue:script


      sms.vComponent('current-title', {"path":"assets/js/components/commission-engine/dashboard-cards/CpCurrentTitle.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['myTitle', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"CpCurrentTitle\">\n        <h5>{{title}}</h5>\n        <h3>{{myTitle.currenttitle}}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpLevelOne.vue:script


      sms.vComponent('level-one-mentors', {"path":"assets/js/components/commission-engine/dashboard-cards/CpLevelOne.vue"}, (require,exports,module)=>{
        
const commission = require('../../../resources/CommissionEngineAPIv0.js')

module.exports = {
  data () {
    return {
      loading: false,
      mydownranksumlvl1: {}
    }
  },
  props: ['title', 'userid', 'batchid'],
  mounted () {
    this.myDownRank()
  },
  methods: {
    myDownRank () {
      this.loading = true
      commission.runCommand({
        command: 'mydownranksumlvl1',
        systemid: '1',
        userid: this.userid.toString(),
        batchid: this.batchid,
        orderdir: 'asc',
        offset: '0',
        limit: '10',
        orderby: 'id'
      }).then(response => {
        this.loading = false
        this.mydownranksumlvl1 = response.ranksumlvl1
      })
    }
  },
  watch: {
    batchid () {
      this.myDownRank()
    }
  }
}
;
        module.exports.template = "\n    <div class=\"CpLevelOneMentors\">\n        <h5>{{title}}</h5>\n          <h3 v-if=\"!loading && mydownranksumlvl1[0]\">{{mydownranksumlvl1[0].total}}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpEnterpriseVolumeRetail.vue:script


      sms.vComponent('enterprise-volume-retail', {"path":"assets/js/components/commission-engine/dashboard-cards/CpEnterpriseVolumeRetail.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['myStatsLevelOne', 'myStats', 'title'],
  mounted () {
  },
  methods: {
  },
  computed: {
    evFullRetail () {
      if (this.myStatsLevelOne && this.myStats) {
        return parseFloat(this.myStatsLevelOne.myretailsales) + parseFloat(this.myStats.groupretailsales)
      }
      return 0.00
    }
  }
}
;
        module.exports.template = "\n    <div class=\"CpCareerTitle\">\n        <h5>{{title}}</h5>\n          <h3>{{ evFullRetail | currency }}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/autoship/CpAutoshipConfirm.vue:script


      sms.vComponent('assets/js/components/autoship/CpAutoshipConfirm.vue', {"name":"CpAutoshipConfirm","path":"assets/js/components/autoship/CpAutoshipConfirm.vue"}, (require,exports,module)=>{
        

module.exports = {
  data () {
    return {
      couponCode: '',
      couponErrors: {},
      cart: {}
    }
  },
  props: {
  },
  methods: {
    validate () {
      return this.$refs.ccForm.validate()
    },
    getCard () {
      return this.$refs.ccForm.getCard()
    }
  },
  components: {
    CpCreditCardForm: require('../payment/CpCreditCardForm.vue'),
    CpInput: require('../../cp-components-common/inputs/CpInput.vue')
  }
}
;
        module.exports.template = "\n  <section class=\"confirm-autoship\">\n    <div>\n      <div class=\"payment-flex-container\">\n        <div class=\"order-summary-section\">\n          <table class=\"summary cp-table-inverse\">\n            <tr>\n              <th>PRODUCT</th>\n              <th>OPTION</th>\n              <th>QUANTITY</th>\n              <th>TOTAL PRICE</th>\n            </tr>\n            <tr v-for=\"line in cart.lines\">\n              <td>{{line.item_id ? line.items[0].product_name : line.bundle_name}}</td>\n              <td>{{line.item_id ? line.items[0].option : ''}}</td>\n              <td>{{line.quantity}}</td>\n              <td v-if=\"line.discount\">{{ (line.quantity - line.discount) * line.price | currency }}</td>\n              <td v-if=\"!line.discount\">{{ line.quantity * line.price | currency }}</td>\n            </tr>\n          </table>\n          <div class=\"payment-totals-section\">\n            <div class=\"total-line\">\n              <span>Subtotal</span>\n              <span class=\"\">\n                {{ cart.subtotal | currency }}\n              </span>\n            </div>\n            <div class=\"total-line\" v-if=\"cart.discount > 0\">\n              <span> Discount</span>\n              <span class=\"\">\n                {{ -cart.discount | currency }}\n              </span>\n            </div>\n            <div class=\"total-line\">\n              <span>Estimated Tax</span>\n              <span class=\"\">\n                {{ cart.tax | currency }}\n              </span>\n            </div>\n            <div class=\"total-line\">\n              <span>Estimated Shipping</span>\n              <span class=\"\">\n                {{ cart.shipping | currency }}\n              </span>\n            </div>\n            <div class=\"total-line\">\n              <span>Total</span>\n              <span class=\"\">\n                {{ cart.total | currency }}\n              </span>\n            </div>\n          </div>\n        <div class=\"payment-method-section cp-form-inverse\">\n          <small>By clicking Place Order below, you agree to the following <a href=\"/return-policy\" class=\"agree\" target=\"_blank\">terms.</a> Click <a :href=\"$getGlobal('return_policy').value\" target=\"_blank\">here</a> for the return policy</small>\n        </div>\n      </div>\n    </div>\n    </div>\n  </section>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpLevelBonus.vue:script


      sms.vComponent('level-bonus', {"path":"assets/js/components/commission-engine/dashboard-cards/CpLevelBonus.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['levelbonus', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"CpCareerTitle\">\n        <h5>{{title}}</h5>\n          <h3 v-if=\"levelbonus.length == 0\">None</h3>\n          <h3 v-for=\"line in levelbonus\">Level {{ line.generation }}: {{ line.amount | currency }}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpFastStartBonus.vue:script


      sms.vComponent('fast-start-bonus', {"path":"assets/js/components/commission-engine/dashboard-cards/CpFastStartBonus.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['myfaststartbonus', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"CpCareerTitle\">\n        <h5>{{title}}</h5>\n          <h3>New Recruit: {{ (myfaststartbonus ? myfaststartbonus.bonus : 0) | currency }}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpMyLegs.vue:script


      sms.vComponent('my-legs', {"path":"assets/js/components/commission-engine/dashboard-cards/CpMyLegs.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['title', 'mylegs'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"CpCareerTitle\">\n        <h5>{{title}}</h5>\n          <h3 v-if=\"mylegs.length == 0\">None</h3>\n          <h3 v-for=\"leg in mylegs\">{{leg.ufirstname + ' ' + leg.ulastname + ' (' + leg.userid + '):'}} {{ leg.evretail | currency }}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/CpMCommEngineMyTeamContacts.vue:script


      sms.vComponent('CpMCommEngineMyTeamContacts', {"path":"assets/js/components/commission-engine/CpMCommEngineMyTeamContacts.vue"}, (require,exports,module)=>{
        
const Commission = require("../../resources/MCommEngineAPI.js");
const Moment = require("moment");
const Auth = require("auth");
const _ = require("lodash");

module.exports = {
  routing: [
    {
      name: "site.CpMCommEngineMyTeamContacts",
      path: "/commission-engine/my-mcomm-team-contacts",
      meta: {
        title: "My Team Contacts"
      }
    }
  ],
  data() {
    return {
      Auth: Auth,
      isloading: true,
      currentUser: Auth.getClaims().fullName,
      userid: Auth.getAuthId().toString(),
      searchItem: "",
      items: [],
      filteredItems: [],
      paginatedItems: [],
      selectedItems: [],
      pagination: {
        range: 5,
        currentPage: 1,
        itemPerPage: 8,
        items: [],
        filteredItems: []
      }
    };
  },
  created(){
    this.mcomm()
  },
  mounted() {
    this.userid = Auth.getAuthId().toString()
    this.filteredItems = this.items
    this.buildPagination()
    this.selectPage(1)
    console.log(this.pagination)
  },
  methods: {
    mcomm: function() {
      return Commission.mcommDownline(this.userid)
        .then(response => {
          console.log(response)
          this.items = response
          this.handleSalesVolumeResponse(response)
        })
        .finally(() => {
          this.loading = false;
        });
    },
    goBack() {
      this.$router.go(-1);
    },
    // handle response
    handleSalesVolumeResponse: function(response) {
      this.isloading = false;
      if (response.error) {
        console.log(this.$toast);
        this.$toast(response.message, { error: true });
      }
    },
    clearSearchItem() {
      this.searchItem = undefined;
      this.searchInTheList("");
    },
    searchInTheList(searchText, currentPage) {
      if (_.isUndefined(searchText)) {
        this.filteredItems = _.filter(this.items, function(v, k) {
          return !v.selected;
        });
      } else {
        this.filteredItems = _.filter(this.items, function(v, k) {
          return (
            !v.selected &&
            v.name.toLowerCase().indexOf(searchText.toLowerCase()) > -1
          );
        });
      }
      this.filteredItems.forEach(function(v, k) {
        v.key = k + 1;
      });
      this.buildPagination();

      if (_.isUndefined(currentPage)) {
        this.selectPage(1);
      } else {
        this.selectPage(currentPage);
      }
    },
    buildPagination() {
      let numberOfPage = Math.ceil(
        this.filteredItems.length / this.pagination.itemPerPage
      );
      this.pagination.items = [];
      for (var i = 0; i < numberOfPage; i++) {
        this.pagination.items.push(i + 1);
      }
    },
    selectPage(item) {
      this.pagination.currentPage = item;

      let start = 0;
      let end = 0;
      if (this.pagination.currentPage < this.pagination.range - 2) {
        start = 1;
        end = start + this.pagination.range - 1;
      } else if (
        this.pagination.currentPage <= this.pagination.items.length &&
        this.pagination.currentPage >
          this.pagination.items.length - this.pagination.range + 2
      ) {
        start = this.pagination.items.length - this.pagination.range + 1;
        end = this.pagination.items.length;
      } else {
        start = this.pagination.currentPage - 2;
        end = this.pagination.currentPage + 2;
      }
      if (start < 1) {
        start = 1;
      }
      if (end > this.pagination.items.length) {
        end = this.pagination.items.length;
      }

      this.pagination.filteredItems = [];
      for (var i = start; i <= end; i++) {
        this.pagination.filteredItems.push(i);
      }

      this.paginatedItems = this.filteredItems.filter((v, k) => {
        return (
          Math.ceil((k + 1) / this.pagination.itemPerPage) ==
          this.pagination.currentPage
        );
      });
    },
    selectItem(item) {
      item.selected = true;
      this.selectedItems.push(item);
      this.searchInTheList(this.searchItem, this.pagination.currentPage);
    },
    removeSelectedItem(item) {
      item.selected = false;
      this.selectedItems.$remove(item);
      this.searchInTheList(this.searchItem, this.pagination.currentPage);
    }
  }
};
;
        module.exports.template = "\n  <div class=\"commission-engine-my-team-contacts\">\n    <h3>{{ currentUser }}'s Team Contacts</h3>\n    <div class=\"overlay\" v-if=\"isloading\">\n      <div class=\"lds-spinner\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n    <div v-else>\n      <div id=\"app\" class=\"container\">\n        <div class=\"box m-form\">\n          <label class=\"label\">Filter By Name</label>\n          <div class=\"control is-grouped\">\n            <p class=\"control is-expanded\">\n              <input\n                class=\"input\"\n                v-model=\"searchItem\"\n                v-on:keyup=\"searchInTheList(searchItem)\"\n                type=\"text\"\n                placeholder=\"Find a person\"\n              />\n              <span class=\"help is-dark\">\n                <strong>{{filteredItems.length }}</strong>\n                of {{items.length }} person found\n              </span>\n            </p>\n            <p class=\"control\">\n              <a\n                class=\"button is-info\"\n                v-on:click=\"clearSearchItem\"\n                v-bind:class=\"{'is-disabled': searchItem==''}\"\n              >Clear</a>\n            </p>\n          </div>\n        </div>\n        <div class=\"box m-tags\">\n          <span>\n            <strong>{{selectedItems.length}}</strong> person selected\n          </span>\n          <div class=\"m-tags-items\">\n            <a\n              v-for=\"item in selectedItems\"\n              v-on:click=\"removeSelectedItem(item)\"\n              class=\"tag is-dark is-small\"\n            >\n              {{item.name}}\n              <button class=\"delete is-small\"></button>\n            </a>\n          </div>\n        </div>\n        <nav class=\"pagination m-pagination\">\n          <a\n            class=\"button\"\n            v-on:click=\"selectPage(this.pagination.currentPage-1)\"\n            v-bind:class=\"{'is-disabled': this.pagination.currentPage==this.pagination.items[0] || this.pagination.items.length==0}\"\n          >Previous</a>\n          <a\n            class=\"button\"\n            v-on:click=\"selectPage(this.pagination.currentPage+1)\"\n            v-bind:class=\"{'is-disabled': this.pagination.currentPage==this.pagination.items[this.pagination.items.length-1] || this.pagination.items.length==0}\"\n          >Next page</a>\n          <ul>\n            <li>\n              <a\n                class=\"button\"\n                v-on:click=\"selectPage(pagination.items[0])\"\n                v-bind:class=\"{'is-disabled': this.pagination.currentPage==this.pagination.items[0] || this.pagination.items.length==0}\"\n              >First</a>\n            </li>\n            <li class=\"is-space\"></li>\n            <li v-for=\"item in pagination.filteredItems\">\n              <a\n                class=\"button\"\n                v-on:click=\"selectPage(item)\"\n                v-bind:class=\"{'is-info': item == pagination.currentPage}\"\n              >{{item }}</a>\n            </li>\n            <li class=\"is-space\"></li>\n            <li>\n              <a\n                class=\"button\"\n                v-on:click=\"selectPage(pagination.items[pagination.items.length-1])\"\n                v-bind:class=\"{'is-disabled': this.pagination.currentPage==this.pagination.items[this.pagination.items.length-1] || this.pagination.items.length==0}\"\n              >Last</a>\n            </li>\n          </ul>\n        </nav>\n        <div class=\"m-table\">\n          <table class=\"table is-bordered is-striped is-narrow\">\n            <tr>\n              <!--<th class=\"m-table-index\">#</th>-->\n              <th>Name</th>\n              <th>Advisor</th>\n              <th>Enroll Date</th>\n              <th>Level</th>\n              <th>Career Title</th>\n              <th>Rank</th>\n              <th>Personal Volume</th>\n              <th>PSQ</th>\n              <th>Team Volume</th>\n              <th>Enterprise Volume</th>\n            </tr>\n            <tr v-for=\"(genes,idx) in items\" v-bind:key=\"idx\">\n              <!--<td>{{counter += 1}}</td>-->\n              <td>{{ genes.name }}</td>\n              <td>{{ genes.advisor_name }}</td>\n              <td>{{ genes.level }}</td>\n              <td>{{genes.careerTitle}}</td>\n              <td>{{ genes.enrollment_date }}</td>\n              <td>{{ genes.associatetypedesc }}</td>\n              <td>{{ genes.statusdesc }}</td>\n              <td>{{genes.phone_number}}</td>\n              <td>{{genes.email}}</td>\n            </tr>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/autoship/CpMySubscriptionDetail.vue:script


      sms.vComponent('assets/js/components/autoship/CpMySubscriptionDetail.vue', {"name":"CpMySubscriptionDetail","path":"assets/js/components/autoship/CpMySubscriptionDetail.vue"}, (require,exports,module)=>{
        
const Autoship = require('../../resources/AutoshipAPIv0.js')
const Auth = require('auth')

module.exports = {
  name: 'CpMySubscriptionDetail',
  routing: [
    {
      name: 'site.CpMySubscriptionDetail',
      path: 'my-subscriptions/:subscriptionID',
      meta: {
        title: 'My Subscription',
        nosubscription: true,
        type: 'self'
      },
      props: true
    },
    {
      name: 'site.CpCustomerSubscriptionDetail',
      path: 'customer-subscriptions/:subscriptionID',
      meta: {
        title: 'Customer Subscription',
        nosubscription: true,
        type: 'customer'
      },
      props: true
    }
  ],
  created () {
    this.getSubscription()
    this.displayType = this.$route.meta.type
  },
  data: function () {
    return {
      subscription: {},
      showConfirm: false,
      displayType: 'self'
    }
  },
  props: {
    subscriptionID: {
      type: String,
      required: true
    }
  },
  methods: {
    getSubscription () {
      Autoship.getSubscription(this.subscriptionID)
      .then((response) => {
        this.subscription = response
        this.calculateTotal()
      })
    },
    confirmCancel () {
      Autoship.disableSubscription(this.subscription.id)
      .then((response) => {
        this.subscription = response
        this.calculateTotal()
      })
    },
    calculateTotal () {
      this.subscription.total_price = this.subscription.subtotal - this.subscription.discount
    }
  },
  components: {
    CpTooltip: require('../../custom-plugins/CpTooltip.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"subscription-detail-wrapper\">\n        <div class=\"subscription-detail\">\n            <div class=\"cp-box-standard\">\n                <div class=\"cp-box-heading\">\n                    Subscription Detail\n                </div>\n                <div class=\"cp-box-body\" v-if=\"subscription != null\">\n                    <div><strong>Subscription ID: </strong>{{ subscription.id }}</div>\n                    <div v-if=\"subscription.buyer\"><strong>Customer Name: </strong>{{ subscription.buyer.first_name }} {{ subscription.buyer.last_name }}</div>\n                    <div v-if=\"subscription.buyer\"><strong>Customer Email: </strong> {{ subscription.buyer.email }}</div>\n                    <div v-if=\"subscription.seller\"><strong>Purchased From: </strong> {{ subscription.seller.first_name + ' ' + subscription.seller.last_name }}</div>\n                    <div v-if=\"subscription.seller\"><strong>Seller Email: </strong> {{ subscription.seller.email }}</div>\n                    <div><strong>Order Date: </strong>{{ subscription.created_at | cpStandardDate('time') }}</div>\n                    <div><strong>Payment Type: </strong>{{ 'Credit Card' }}</div>\n                    <div><strong>Subtotal Price: </strong>{{ subscription.subtotal | currency }}</div>\n                    <div><strong>Discount: </strong>{{ subscription.discount | currency }}</div>\n                    <div><strong>Total Price: </strong>{{ subscription.total_price | currency }}<cp-tooltip :options=\"{ content: 'Shipping and Tax will be calculated during purchase.'}\"/></div>\n                </div>\n            </div>\n            <div class=\"cp-box-standard middle-box\" v-if=\"subscription.buyer != null\">\n                <div class=\"cp-box-heading\">\n                    Shipping To\n                </div>\n                <div class=\"cp-box-body\"  v-if=\"subscription.buyer.shipping_address !== null\">\n                    <div v-if='subscription.buyer.shipping_address.name'><strong>Name: </strong> {{ subscription.buyer.shipping_address.name}}</div>\n                    <div v-else><strong>Name: </strong> {{ subscription.buyer.first_name }} {{ subscription.buyer.last_name }}</div>\n                    <div><strong>Address: </strong>{{ subscription.buyer.shipping_address.line_1 }}</div>\n                    <div v-if=\"subscription.buyer.shipping_address.line_2\"><strong>Address 2: </strong>\n                        {{ subscription.buyer.shipping_address.line_2 }}\n                    </div>\n                    <div><strong>City: </strong>{{ subscription.buyer.shipping_address.city }}</div>\n                    <div><strong>State: </strong>{{ subscription.buyer.shipping_address.state }}</div>\n                    <div><strong>Zip: </strong>{{ subscription.buyer.shipping_address.zip }}</div>\n                </div>\n            </div>\n            <div class=\"cp-box-standard\"  v-if=\"subscription.buyer != null\">\n                <div class=\"cp-box-heading\">\n                    Billing To\n                </div>\n                <div class=\"cp-box-body\"  v-if=\"subscription.buyer.billing_address !== null\">\n                    <div v-if='subscription.buyer.billing_address.name'><strong>Name: </strong> {{ subscription.buyer.billing_address.name }}</div>\n                    <div v-else><strong>Name: </strong> {{ subscription.buyer.first_name }} {{ subscription.buyer.last_name }}</div>\n                    <div><strong>Address: </strong>{{ subscription.buyer.billing_address.line_1 }}</div>\n                    <div v-if=\"subscription.buyer.billing_address.line_2\"><strong>Address 2: </strong>\n                        {{ subscription.buyer.billing_address.line_2 }}\n                    </div>\n                    <div><strong>City: </strong>{{ subscription.buyer.billing_address.city }}</div>\n                    <div><strong>State: </strong>{{ subscription.buyer.billing_address.state }}</div>\n                    <div><strong>Zip: </strong>{{ subscription.buyer.billing_address.zip }}</div>\n                </div>\n            </div>\n        </div>\n        <div class=\"cp-box-standard\">\n            <div class=\"cp-box-heading\">\n                Manage Subscription\n            </div>\n            <div class=\"cp-box-body\">\n              <div>Status: {{ subscription.disabled_at == null ? 'Active' : 'Cancelled' }}</div>\n              <div>Next Order Date: {{ subscription.next_billing_at | cpStandardDate }}</div>\n              <div v-if=\"subscription.disabled_at == null\"><button class=\"cp-button-standard\" @click=\"showConfirm = true\">Cancel Subscription</button></div>\n              <div v-else>Cancelled On: {{ subscription.disabled_at | cpStandardDate }}</div>\n            </div>\n        </div>\n        <div>\n          <table v-if=\"subscription.lines\" class=\"cp-table-standard orderlines-detail\">\n              <thead>\n                  <th>Product</th>\n                  <th>Variant</th>\n                  <th>Option</th>\n                  <th>Quantity</th>\n                  <th>Price</th>\n                  <th>SKU</th>\n              </thead>\n              <tbody>\n                  <template>\n                    <tr v-for=\"line in subscription.lines\">\n                      <td>{{ line.item_id ? line.items[0].product_name : line.bundle_name }}</td>\n                      <td>{{ line.item_id ? line.items[0].variant_name : '' }}</td>\n                      <td>{{ line.item_id ? line.items[0].option : '' }}</td>\n                      <td>{{ line.quantity }}</td>\n                      <td>{{ (line.price - (line.discount ? line.discount : 0)) * line.quantity | currency }}</td>\n                      <td>{{ line.item_id ? line.items[0].sku : '' }}</td>\n                    </tr>\n                  </template>\n              </tbody>\n          </table>\n          <br>\n        </div>\n\n        <cp-confirm\n        :message=\"'You are about to cancel your subscription. Would you like to continue?'\"\n        v-model=\"showConfirm\"\n        :show=\"showConfirm\"\n        :callback=\"confirmCancel\"\n        :params=\"{id: subscription.id}\"></cp-confirm>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpMyPersonalVolume.vue:script


      sms.vComponent('my-personal-volume', {"path":"assets/js/components/commission-engine/dashboard-cards/CpMyPersonalVolume.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['myStatsLevelOne', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"CpMyDashboardVolume\">\n        <h5>{{title}}</h5>\n            <h3>{{myStatsLevelOne.mywholesalesales | currency}}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpMyTeamVolume.vue:script


      sms.vComponent('my-team-volume', {"path":"assets/js/components/commission-engine/dashboard-cards/CpMyTeamVolume.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['myStatsLevelOne', 'myStats', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"CpMyTeamVolume\">\n        <h5>{{title}}</h5>\n        <h3>{{parseFloat(myStatsLevelOne.mywholesalesales) + parseFloat(myStats.teamwholesalesales) | currency}}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpPersonallySponsoredQualified.vue:script


      sms.vComponent('personally-sponsored-qualified', {"path":"assets/js/components/commission-engine/dashboard-cards/CpPersonallySponsoredQualified.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['myStatsLevelOne', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"CpPersonallySponsoredQualified\">\n        <h5>{{title}}</h5>\n        <h3 v-if=\"myStatsLevelOne != null\">{{ myStatsLevelOne.psqwholesale }}</h3>\n        <h3 v-else> 0 </h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpMentorBonus.vue:script


      sms.vComponent('mentor-bonus', {"path":"assets/js/components/commission-engine/dashboard-cards/CpMentorBonus.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['mentorBonus', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"CpCareerTitle\">\n        <h5>{{title}}</h5>\n          <h3 v-if=\"mentorBonus.length == 0\">None</h3>\n          <h3 v-for=\"line in mentorBonus\">Level {{line.generation}}: {{ line.amount | currency }}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpPersonalVolumeRetail.vue:script


      sms.vComponent('personal-volume-retail', {"path":"assets/js/components/commission-engine/dashboard-cards/CpPersonalVolumeRetail.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['myStatsLevelOne', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"\">\n        <h5>{{title}}</h5>\n          <h3>{{myStatsLevelOne.myretailsales | currency}}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpRingbombEnterpriseVolume.vue:script


      sms.vComponent('ringbomb-enterprise-volume', {"path":"assets/js/components/commission-engine/dashboard-cards/CpRingbombEnterpriseVolume.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['myStats', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"CpRingbombEnterpriseVolume\">\n        <h5>{{title}}</h5>\n        <h3>{{myStats.groupwholesalesales | currency}}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpTeamItemCount.vue:script


      sms.vComponent('team-item-count', {"path":"assets/js/components/commission-engine/dashboard-cards/CpTeamItemCount.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['myStats', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"\">\n        <h5>{{title}}</h5>\n          <h3>{{myStats.itemcountretailev}}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpPersonalItemCount.vue:script


      sms.vComponent('personal-item-count', {"path":"assets/js/components/commission-engine/dashboard-cards/CpPersonalItemCount.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['myStats', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"\">\n        <h5>{{title}}</h5>\n          <h3>{{myStats.itemcountretail}}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpTeamVolumeWholesale.vue:script


      sms.vComponent('team-volume-wholesale', {"path":"assets/js/components/commission-engine/dashboard-cards/CpTeamVolumeWholesale.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['myStats', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"\">\n        <h5>{{title}}</h5>\n          <h3>{{myStats.teamwholesalesales | currency}}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpRetailBonus.vue:script


      sms.vComponent('retail-bonus', {"path":"assets/js/components/commission-engine/dashboard-cards/CpRetailBonus.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['retailBonus', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"CpCareerTitle\">\n        <h5>{{title}}</h5>\n          <h3>{{ retailBonus.amount | currency }}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpTeamVolumeRetail.vue:script


      sms.vComponent('team-volume-retail', {"path":"assets/js/components/commission-engine/dashboard-cards/CpTeamVolumeRetail.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['myStats', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"\">\n        <h5>{{title}}</h5>\n          <h3>{{myStats.groupretailsales | currency}}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpRankNameLegs.vue:script


      sms.vComponent('rank-name-legs', {"path":"assets/js/components/commission-engine/dashboard-cards/CpRankNameLegs.vue"}, (require,exports,module)=>{
        
const commission = require('../../../resources/CommissionEngineAPIv0.js')

module.exports = {
  data () {
    return {
      gen1: { total: 0},
      gen2: { total: 0},
      gen3: { total: 0}
    }
  },
  props: ['title', 'userid', 'batchid'],
  mounted () {
    this.getMyDownRankSum()
  },
  methods: {
    getMyDownRankSum () {
      commission.runCommand({
        command: 'mydownranksum',
        systemid: '1',
        userid: this.userid.toString(),
        orderdir: 'asc',
        offset: '0',
        limit: '10',
        orderby: 'id',
        batchid: this.batchid,
        generation: '1'
      }).then(response => {
        if (response.ranksum) {
          if (response.ranksum['6']) {
            this.gen1 = response.ranksum['6']
          }
        }
      })
      commission.runCommand({
        command: 'mydownranksum',
        systemid: '1',
        userid: this.userid.toString(),
        orderdir: 'asc',
        offset: '0',
        limit: '10',
        orderby: 'id',
        batchid: this.batchid,
        generation: '2'
      }).then(response => {
        if (response.ranksum) {
          if (response.ranksum['6']) {
            this.gen2 = response.ranksum['6']
          }
        }
      })
      commission.runCommand({
        command: 'mydownranksum',
        systemid: '1',
        userid: this.userid.toString(),
        orderdir: 'asc',
        offset: '0',
        limit: '10',
        orderby: 'id',
        batchid: this.batchid,
        generation: '3'
      }).then(response => {
        if (response.ranksum) {
          if (response.ranksum['6']) {
            this.gen3 = response.ranksum['6']
          }
        }
      })
    }
  },
  watch: {
    batchid () {
      this.getMyDownRankSum()
    }
  }
}
;
        module.exports.template = "\n    <div class=\"CpRankNameLegs\">\n        <h5>{{title}}</h5>\n        <div>\n          <div>\n            <h3 >Gen 1</h3>\n            <h3>{{ gen1.total}}</h3>\n          </div>\n          <div>\n            <h3 >Gen 2</h3>\n            <h3>{{ gen2.total}}</h3>\n          </div>\n          <div>\n            <h3 >Gen 3</h3>\n            <h3>{{ gen3.total}}</h3>\n          </div>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpDownlineSalesVolume.vue:script


      sms.vComponent('downline-sales-volume', {"path":"assets/js/components/commission-engine/dashboard-cards/CpDownlineSalesVolume.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['mydsvperlevel', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"CpCareerTitle\">\n        <h5>{{title}}</h5>\n          <h3 v-if=\"mydsvperlevel.length == 0\">None</h3>\n          <h3 v-for=\"line in mydsvperlevel\">Level {{line.level}}: {{ line.amount | currency }}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpSponsorBonus.vue:script


      sms.vComponent('sponsor-bonus', {"path":"assets/js/components/commission-engine/dashboard-cards/CpSponsorBonus.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['myfaststartbonus', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"CpCareerTitle\">\n        <h5>{{title}}</h5>\n          <h3>TODO</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/mcomm/dashboard-layout/mcomm-sales-volume.vue:script


      sms.vComponent('assets/js/components/commission-engine/mcomm/dashboard-layout/mcomm-sales-volume.vue', {"name":"CpMcommSalesVolume","path":"assets/js/components/commission-engine/mcomm/dashboard-layout/mcomm-sales-volume.vue"}, (require,exports,module)=>{
        
// include vue-d3 plugin
const McommAPI = require('../../../../resources/MCommEngineAPI.js')
const Auth = require('auth')

module.exports = {
  data: function () {
    return {
      Auth: Auth,
      userId: 0,
      _sales: [],
      loading: true,
      mcommValues:{
        rank:0,
        personalVolume:0,
        customerCount:0,
        careerTitle:0,
        teamGroupVolume:0,
        commissionableRetailVolume:0,
        residualBonus:0,
        fastStartCommissions:0,
        retailBonus:0,
        periodName:0,
        levelVolumes:[],
      }
    }
  },
  created(){
      this.userId = Auth.getAuthId()
  },
  props: ['period'],
  computed: {},
  mounted () {
    this.salesVolume()
  },
  methods: {
    salesVolume: function () {
      return McommAPI.salesVolume(this.userId)
        .then((response) => {
          // console.log(McommAPI)
          // console.log(response)
          this.handleSalesVolumeResponse(response)
          this.mcommValues.rank = response.rank
          this.mcommValues.personalVolume = response.personalVolume.toFixed(2)
          this.mcommValues.customerCount = response.customerCount.toFixed(2)
          this.mcommValues.careerTitle = response.careerTitle
          this.mcommValues.teamGroupVolume = response.teamGroupVolume.toFixed(2)
          this.mcommValues.commissionableRetailVolume = response.commissionableRetailVolume.toFixed(2)
          this.mcommValues.residualBonus = response.residualBonus.toFixed(2)
          this.mcommValues.fastStartCommissions = response.fastStartCommissions.toFixed(2)
          this.mcommValues.retailBonus = response.retailBonus.toFixed(2)
          this.mcommValues.periodName = response.periodName
          Object.keys(response.levelVolumes).map(function(key, index) {
            response.levelVolumes[key]=response.levelVolumes[key].toFixed(2);
          });
          this.mcommValues.levelVolumes = response.levelVolumes
        }).finally(()=>{this.loading=false})
    },
    // handle response
    handleSalesVolumeResponse: function (response) {
      if (response.error) {
        console.log(this.$toast)
        this.$toast(response.message, {error: true})
      }
    }
  },
  watch: { 
    period: function(newVal, oldVal) { // watch it
      this.loading=true
      console.log('Prop changed: ', newVal, ' | was: ', oldVal)
      McommAPI.mcommVolume(this.userId,newVal)
        .then((response) => {
          // console.log(McommAPI)
          // console.log(response)
          this.handleSalesVolumeResponse(response)
          this.mcommValues.rank = response.rank
          this.mcommValues.personalVolume = response.personalVolume.toFixed(2)
          this.mcommValues.customerCount = response.customerCount.toFixed(2)
          this.mcommValues.careerTitle = response.careerTitle
          this.mcommValues.teamGroupVolume = response.teamGroupVolume.toFixed(2)
          this.mcommValues.commissionableRetailVolume = response.commissionableRetailVolume.toFixed(2)
          this.mcommValues.residualBonus = response.residualBonus.toFixed(2)
          this.mcommValues.fastStartCommissions = response.fastStartCommissions.toFixed(2)
          this.mcommValues.retailBonus = response.retailBonus.toFixed(2)
          this.mcommValues.periodName = response.periodName
          Object.keys(response.levelVolumes).map(function(key, index) {
            response.levelVolumes[key]=response.levelVolumes[key].toFixed(2);
          });
          this.mcommValues.levelVolumes = response.levelVolumes
        }).finally(()=>{this.loading=false})
    }
  }
}
;
        module.exports.template = "\n  <div class=\"cp-dashboard-mcomm-sales-volume-wrapper\">\n    <div class=\"report-wrapper\">\n      <h2>Sales Period Performance Report for {{mcommValues.periodName}}</h2>\n      <section class=\"stats\">\n        <div class=\"stats-group\">\n          <h4>Current Title</h4>\n          <div class=\"stats\" v-if=\"loading\">\n            <div class=\"stat odd\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"stats\" v-else>\n            <div class=\"stat odd\">\n              <p v-text=\"mcommValues.rank || '0.00'\"></p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"stats-group\">\n          <h4>Personal Volume</h4>\n          <div class=\"stats\" v-if=\"loading\">\n            <div class=\"stat even\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"stats\" v-else>\n            <div class=\"stat even\">\n              <p>${{mcommValues.personalVolume || '0.00'}}<p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"stats-group\">\n          <h4>Customer Count</h4>\n          <div class=\"stats\" v-if=\"loading\">\n            <div class=\"stat odd\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"stats\" v-else>\n            <div class=\"stat odd\">\n              <p>{{mcommValues.customerCount || '0'}}</p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n      </section>\n      <section class=\"stats\">\n        <div class=\"stats-group\">\n          <h4>Career Title</h4>\n          <div class=\"stats\" v-if=\"loading\">\n            <div class=\"stat even\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"stats\" v-else>\n            <div class=\"stat even\">\n              <p>{{mcommValues.careerTitle || '0.00'}}</p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"stats-group\">\n          <h4>Team Group Volume (TGV)</h4>\n          <div class=\"stats\" v-if=\"loading\">\n            <div class=\"stat odd\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"stats\" v-else>\n            <div class=\"stat odd\">\n              <p>${{mcommValues.teamGroupVolume || '0.00'}}</p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"stats-group\">\n          <h4>Commissionable Retail Volume</h4>\n          <div class=\"stats\" v-if=\"loading\">\n            <div class=\"stat even\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"stats\" v-else>\n            <div class=\"stat even\">\n              <p>${{mcommValues.commissionableRetailVolume || '0.00'}}</p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n      </section>\n      <section class=\"stats\">\n        <div class=\"stats-group\">\n          <h4>Residual Bonus</h4>\n          <div class=\"stats\" v-if=\"loading\">\n            <div class=\"stat odd\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"stats\" v-else>\n            <div class=\"stat odd\">\n              <p v-text=\"mcommValues.residualBonus || '0.00'\"></p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"stats-group\">\n          <h4>Fast Start Commissions</h4>\n          <div class=\"stats\" v-if=\"loading\">\n            <div class=\"stat even\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"stats\" v-else>\n            <div class=\"stat even\">\n              <p>${{mcommValues.fastStartCommissions}}<p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"stats-group\">\n          <h4>Retail Bonus</h4>\n          <div class=\"stats\" v-if=\"loading\">\n            <div class=\"stat odd\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"stats\" v-else>\n            <div class=\"stat odd\">\n              <p>${{mcommValues.retailBonus}}</p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n      </section>\n      <section class=\"levels\" v-if=\"$getGlobal('replicated_site').show || Auth.hasAnyRole('Admin')\">\n        <h4>Level Volumes</h4>\n        <div class=\"level-volumes-container\">\n          <div class=\"grid-row\" v-if=\"loading\">\n            <div class=\"stat odd\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"grid-row\" v-else>\n            <div v-for=\"(item, name) in mcommValues.levelVolumes\" class=\"grid-item\" v-bind:key=\"`levelVolume-${name}`\">\n              <div class=\"grid-item-wrapper\">\n                <div class=\"grid-item-container\">\n                  <p>${{item || '0.00'}}</p>\n                  <p>Level ${{name}}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/mcomm/components/DataTable.vue:script


      sms.vComponent('assets/js/components/commission-engine/mcomm/components/DataTable.vue', {"name":"CpDataTable","path":"assets/js/components/commission-engine/mcomm/components/DataTable.vue"}, (require,exports,module)=>{
        
module.exports = {
  name: 'DataTable',
  props: {
    headerFields: {
      type: Array,
      required: true
    },
    data: {
      type: Array,
      required: true
    },
    isLoading: {
      type: Boolean,
      default: false
    },
    sortField: {
      type: String,
      default: null
    },
    sort: {
      type: String,
      default: null
    },
    notFoundMsg: {
      type: String,
      default: null
    },
    trackBy: {
      type: String,
      default: 'id'
    },
    css: {
      type: Object,
      default: () => ({
        table: '',
        thead: 'thead',
        theadTr: 'thead-tr',
        theadTh: 'thead-th',
        tbody: 'tbody',
        tbodyTr: 'tbody-tr',
        tbodyTrSpinner: 'tbody-tr-spinner',
        tbodyTd: 'tbody-td',
        tbodyTdSpinner: 'tbody-td-spinner',
        tfoot: 'tfoot',
        tfootTd: 'tfoot-td',
        tfootTr: 'tfoot-tr',
        footer: 'footer',
        thWrapper: 'th-wrapper',
        thWrapperCheckboxes: 'th-wrapper-checkboxes',
        arrowsWrapper: 'arrows-wrapper',
        arrowUp: 'arrow-up',
        arrowDown: 'arrow-down',
        checkboxHeader: 'checkbox-header',
        checkbox: 'checkbox',
        notFoundTr: 'not-found-tr',
        notFoundTd: 'not-found-td'
      })
    },
    tableHeight: {
      type: String,
      default: null
    },
    defaultColumnWidth: {
      type: String,
      default: '150px'
    },
    onlyShowOrderedArrow: {
      type: Boolean,
      default: false
    }
  },

  data: function () {
    return {
      sortedField: this.sortField,
      sortedDir: this.sort,
      notFoundMessage: this.notFoundMsg,
      loading: this.isLoading,
      checkedAll: false,
      itemsChecked: []
    }
  },

  computed: {
    hasSlots: function () {
      return (
        this.$slots.pagination !== undefined ||
        this.$slots.ItemsPerPage !== undefined
      )
    },

    headers: function () {
      if (
        this.headerFields &&
        this.headerFields.constructor === Array &&
        this.headerFields.length
      ) {
        return Object.keys(this.headerFields).map(key => {
          const field = this.headerFields[key]
          if (typeof field === 'string') {
            return { label: field, name: field }
          }
          return field
        })
      }
      return []
    },
    tbodyStyle: function () {
      if (this.tableHeight) {
        return {
          height: this.tableHeight,
          display: 'block',
          overflowX: 'auto'
        }
      }
      return null
    },
    theadStyle: function () {
      return this.tableHeight ? { display: 'block' } : null
    }
  },

  methods: {
    arrowsWrapper: function (field, className) {
      if (this.sortedField === field && this.sortedDir) {
        return `${className} centralized`
      }
      return className
    },

    updateData: function () {
      const params = {
        sortField: this.sortedField,
        sort: this.sortedDir
      }

      this.$emit('on-update', params)
    },

    orderBy: function (field) {
      if (this.isFieldSortable(field)) {
        if (this.sortedField === field) {
          this.sortedDir = this.sortedDir === 'asc' ? 'desc' : 'asc'
        } else {
          this.sortedDir = 'desc'
          this.sortedField = field
        }
        this.updateData()
      }
    },

    checkAll: function () {
      this.checkedAll = !this.checkedAll
      if (this.checkedAll) {
        this.itemsChecked = this.data
      } else {
        this.itemsChecked = []
      }
      this.$emit('on-check-all', this.itemsChecked)
    },

    checkItem: function (item) {
      const found = this.itemsChecked.find(
        itemChecked => itemChecked[this.trackBy] === item[this.trackBy]
      )
      if (found) {
        this.itemsChecked = this.itemsChecked.filter(
          itemChecked => itemChecked[this.trackBy] !== item[this.trackBy]
        )
        this.$emit('on-unchecked-item', item)
      } else {
        this.itemsChecked = [...this.itemsChecked, item]
        this.$emit('on-checked-item', item)
      }
    },

    isCheckedItem: function (item) {
      return !!this.itemsChecked.find(
        itemChecked => itemChecked[this.trackBy] === item[this.trackBy]
      )
    },

    isFieldSortable: function (field) {
      const foundHeader = this.headerFields.find(item => item.name === field)
      return foundHeader && foundHeader.sortable
    },

    headerItemClass: function (item, className = '') {
      return item && item.sortable ? className : `${className} no-sortable`
    },

    isFieldSpecial: field => field.indexOf('__') > -1,

    extractArgs: string => string.split(':')[1],

    extractActionID: string => {
      const list = string.split(':')
      return list.length === 3 ? list[2] : 'actions'
    },

    getColumnWidth: function (item) {
      if (this.tableHeight) {
        if (item.name === '__slot:checkboxes') {
          return { width: '50px' }
        }
        return { width: item.width || this.defaultColumnWidth }
      }
    },

    customElementName: ({ customElement, name }) => typeof customElement === 'string' ? customElement : name,

    customHeaderName: ({ customHeader, name }) => typeof customHeader === 'string' ? customHeader : `${name}:header`,

    showOrderArrow: function (item, sortDir) {
      if (this.onlyShowOrderedArrow) {
        return this.sortedField === item.name && this.sortedDir !== sortDir
      }
      return (this.sortedField !== item.name) || (this.sortedField === item.name && this.sortedDir === sortDir)
    }
  }
}
;
        module.exports.template = "\n  <table :class=\"['v-datatable-light', css.table]\">\n    <thead :class=\"css.thead\" :style=\"theadStyle\">\n      <tr :class=\"css.theadTr\">\n        <th\n          v-for=\"item in headers\"\n          :key=\"item.label\"\n          :class=\"headerItemClass(item, css.theadTh)\"\n          :style=\"getColumnWidth(item)\"\n          >\n          <div v-if=\"!isFieldSpecial(item.name) && !item.customHeader\" :class=\"css.thWrapper\" @click=\"orderBy(item.name)\">\n            {{ item.label }}\n            <div v-if=\"item.sortable\" :class=\"arrowsWrapper(item.name, css.arrowsWrapper)\">\n              <div v-if=\"showOrderArrow(item, 'desc')\" :class=\"css.arrowUp\" />\n              <div v-if=\"showOrderArrow(item, 'asc')\" :class=\"css.arrowDown\" />\n            </div>\n          </div>\n          <div v-if=\"!isFieldSpecial(item.name) && item.customHeader\" :class=\"css.thWrapper\" @click=\"orderBy(item.name)\">\n            <slot\n              v-if=\"item.customHeader\"\n              :header-data=\"item\"\n              :name=\"customHeaderName(item)\"\n            />\n            <div v-if=\"item.sortable\" :class=\"arrowsWrapper(item.name, css.arrowsWrapper)\">\n              <div v-if=\"showOrderArrow(item, 'desc')\" :class=\"css.arrowUp\" />\n              <div v-if=\"showOrderArrow(item, 'asc')\" :class=\"css.arrowDown\" />\n            </div>\n          </div>\n          <div\n            v-if=\"isFieldSpecial(item.name) && extractArgs(item.name) === 'checkboxes'\"\n            :class=\"css.thWrapperCheckboxes\"\n          >\n            <input\n              type=\"checkbox\"\n              :class=\"css.checkboxHeader\"\n              :checked=\"checkedAll\"\n              @click=\"checkAll\"\n            >\n          </div>\n        </th>\n      </tr>\n    </thead>\n    <tbody :class=\"css.tbody\" :style=\"tbodyStyle\">\n      <template v-if=\"isLoading\">\n        <div class=\"align-center\">\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" >\n        </div>\n      </template>\n      <template v-else-if=\"data.length\">\n        <tr v-for=\"(item, index) in data\" :key=\"index\" :class=\"css.tbodyTr\">\n          <td\n            v-for=\"key in headers\"\n            :key=\"`${index}-${key.name}`\"\n            :class=\"css.tbodyTd\"\n            :style=\"getColumnWidth(key)\">\n            <slot\n              v-if=\"isFieldSpecial(key.name) && extractArgs(key.name) === 'actions'\"\n              :name=\"extractActionID(key.name)\"\n              :row-data=\"item\"\n              :row-index=\"index\"\n            />\n            <input\n              v-if=\"isFieldSpecial(key.name) && extractArgs(key.name) === 'checkboxes'\"\n              type=\"checkbox\"\n              :class=\"css.checkbox\"\n              :row-data=\"item\"\n              :row-index=\"index\"\n              :checked=\"checkedAll || isCheckedItem(item)\"\n              @click=\"checkItem(item, $event)\"\n            >\n            <slot\n              v-if=\"key.customElement\"\n              :row-data=\"item\"\n              :row-index=\"index\"\n              :name=\"customElementName(key)\"\n            />\n            <template v-else-if=\"key.format\">{{ key.format(item[key.name]) }}</template>\n            <template v-else>{{ item[key.name] }}</template>\n          </td>\n        </tr>\n      </template>\n      <template v-else>\n        <tr :class=\"css.notFoundTr\">\n          <td :colspan=\"headers.length\" :class=\"css.notFoundTd\">{{ notFoundMessage }}</td>\n        </tr>\n      </template>\n    </tbody>\n    <tfoot v-if=\"hasSlots\" :class=\"css.tfoot\">\n      <tr :class=\"css.tfootTr\">\n        <th :colspan=\"headers.length\" :class=\"css.tfootTd\">\n          <div :class=\"css.footer\">\n            <slot name=\"ItemsPerPage\"/>\n            <slot name=\"pagination\"/>\n          </div>\n        </th>\n      </tr>\n    </tfoot>\n  </table>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/coupons/coupon.vue:script


      sms.vComponent('assets/js/components/coupons/coupon.vue', {"name":"CpCoupon","path":"assets/js/components/coupons/coupon.vue"}, (require,exports,module)=>{
        

module.exports = {
  name: 'CpCoupon',
  routing: [
    {
      name: 'site.CpCoupon',
      path: 'coupons/create',
      meta: {
        title: 'Coupons'
      },
      props: true
    }
  ],
  data () {
    return {
      coupons: [],
      couponModal: false,
      refreshCoupons: false
    }
  },
  computed: {},
  mounted () {},
  methods: {
    'newCoupon': function () {
      this.$toast('Coupon successfully created.', {
        dismiss: false
      })
      this.refreshCoupons = !this.refreshCoupons
    }
  },
  events: {},
  components: {
    'CpCouponCreate': require('../coupons/CpCouponCreate.vue'),
    'CpCouponIndex': require('../coupons/CpCouponIndex.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"coupon-wrapper\">\n    <div class=\"coupon-index box2\">\n      <button class=\"cp-button-standard cp-button-new\" @click=\"couponModal=true\">New Coupon</button>\n      <cp-coupon-index :refreshPage=\"refreshCoupons\"></cp-coupon-index>\n    </div>\n    <transition name=\"modal\">\n      <section class=\"cp-modal-standard\" v-if=\"couponModal\">\n        <div class=\"cp-modal-body\">\n          <cp-coupon-create @closeModal=\"couponModal=false\" @newCoupon=\"newCoupon()\"></cp-coupon-create>\n        </div>\n      </section>\n    </transition>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/mcomm/components/ItemsPerPageDropdown.vue:script


      sms.vComponent('assets/js/components/commission-engine/mcomm/components/ItemsPerPageDropdown.vue', {"name":"CpItemsPerPageDropdown","path":"assets/js/components/commission-engine/mcomm/components/ItemsPerPageDropdown.vue"}, (require,exports,module)=>{
        
module.exports = {
  name: 'DataTableItemsDropdown',
  props: {
    listItemsPerPage: {
      type: Array,
      default: () => [10, 30, 50]
    },
    itemsPerPage: {
      type: Number,
      default: 10
    },
    css: {
      type: Object,
      default: () => ({
        select: ''
      })
    }
  },
  methods: {
    onUpdate: function (event) {
      this.$emit('on-update', event.target.value)
    }
  }

}
;
        module.exports.template = "\n  <select\n    :class=\"['v-datatable-light-items-per-page', css.select]\"\n    @change=\"onUpdate\"\n  >\n    <option\n      v-for=\"item in listItemsPerPage\"\n      :key=\"item\"\n      :value=\"item\"\n      :selected=\"itemsPerPage === item\"\n    >\n      {{ item }}\n    </option>\n  </select>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpSiteSales.vue:script


      sms.vComponent('site-sales', {"path":"assets/js/components/commission-engine/dashboard-cards/CpSiteSales.vue"}, (require,exports,module)=>{
        
const commission = require('../../../resources/CommissionEngineAPIv0.js')

module.exports = {
  data () {
    return {
      myRecieptSum: {}
    }
  },
  props: ['title', 'userid', 'batchid', 'batches'],
  mounted () {
    this.getMyRecieptSum()
  },
  methods: {
    getMyRecieptSum () {
      let batch = this.batches.find(x => x.id === this.batchid)
      commission.runCommand({
        command: 'myreceiptsum',
        systemid: '1',
        userid: this.userid.toString(),
        orderdir: 'asc',
        offset: '0',
        limit: '10',
        orderby: 'id',
        invtype: '5',
        startdate: batch.startdate,
        enddate: batch.enddate,
        generation: '1'
      }).then(response => {
        this.myRecieptSum = response.receiptsum
      })
    }
  },
  watch: {
    batchid () {
      this.getMyRecieptSum()
    }
  }
}
;
        module.exports.template = "\n    <div class=\"CpSiteSales\">\n        <h5>{{title}}</h5>\n    <h3>{{myRecieptSum | currency}}</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/mcomm/components/Pagination.vue:script


      sms.vComponent('assets/js/components/commission-engine/mcomm/components/Pagination.vue', {"name":"CpPagination","path":"assets/js/components/commission-engine/mcomm/components/Pagination.vue"}, (require,exports,module)=>{
        
module.exports = {
  name: 'DataTablePagination',
  props: {
    totalItems: {
      type: Number,
      required: true
    },
    itemsPerPage: {
      type: Number,
      default: 10
    },
    page: {
      type: Number,
      default: 1
    },
    moveLastPage: {
      type: Boolean,
      default: true
    },
    moveFirstPage: {
      type: Boolean,
      default: true
    },
    moveNextPage: {
      type: Boolean,
      default: true
    },
    movePreviousPage: {
      type: Boolean,
      default: true
    },
    css: {
      type: Object,
      default: () => ({
        paginationItem: 'pagination-item',
        moveFirstPage: 'move-first-page',
        movePreviousPage: 'move-previous-page',
        moveNextPage: 'move-next-page',
        moveLastPage: 'move-last-page',
        pageNumber: 'page-number',
        pageBtn: 'page-btn'
      })
    }
  },
  data: function () {
    return {
      perPage: this.itemsPerPage,
      currPage: this.page
    }
  },
  computed: {
    qntPages: function () {
      const nrPages = this.lastPage
      if (nrPages > 4) {
        if (this.currPage <= 3) {
          return Array.apply(null, { length: 5 }).map((_, index) => index + 1)
        } else if (this.currPage + 2 >= nrPages) {
          return Array.apply(null, { length: nrPages }).map((_, index) => index + 1).slice(nrPages - 5, nrPages)
        } else {
          return Array.apply(null, { length: nrPages }).map((_, index) => index + 1).slice(this.currPage - 3, this.currPage + 2)
        }
      } else {
        return Array.apply(null, { length: nrPages }).map((_, index) => index + 1)
      }
    },
    lastPage: function () {
      return Math.ceil(this.totalItems / this.perPage)
    }
  },
  watch: {
    page: function (newPage) {
      this.currPage = newPage
    },
    itemsPerPage: function (newItemsPerPage) {
      this.perPage = newItemsPerPage
      this.checkCurrentPageExist()
    }
  },
  methods: {
    pageClass: function (currentPage) {
      return this.currPage === currentPage ? `${this.css.paginationItem} selected` : this.css.paginationItem
    },
    changePage: function (pageToMove) {
      if (pageToMove <= this.lastPage && pageToMove >= 1 && pageToMove !== this.currPage) {
        this.$emit('on-update', pageToMove)
      }
    },
    isActionDisabled: function (action) {
      switch (action) {
        case 'firstPage':
          return this.currPage === 1
        case 'previousPage':
          return this.currPage === 1
        case 'lastPage':
          return this.currPage === this.lastPage || !this.totalItems || this.currPage * this.itemsPerPage >= this.totalItems
        case 'nextPage':
          return this.currPage === this.lastPage || !this.totalItems || this.currPage * this.itemsPerPage >= this.totalItems
      }
    },
    checkCurrentPageExist: function () {
      if (this.qntPages.indexOf(this.currPage) === -1) {
        const nextPage = this.qntPages.length ? this.qntPages.length : 0
        this.$emit('update-current-page', nextPage)
      }
    }
  }
}
;
        module.exports.template = "\n  <ul class=\"v-datatable-light-pagination\" :class=\"css.paginaton\">\n    <li\n      v-if=\"moveFirstPage\"\n      :class=\"[css.paginationItem, css.moveFirstPage]\"\n    >\n      <button\n        :disabled=\"isActionDisabled('firstPage')\"\n        :class=\"css.pageBtn\"\n        @click=\"changePage(1)\"\n      >\n        &lt;&lt;\n      </button>\n    </li>\n    <li\n      v-if=\"movePreviousPage\"\n      :class=\"[css.paginationItem, css.movePreviousPage]\"\n    >\n      <button\n        :disabled=\"isActionDisabled('previousPage')\"\n        :class=\"css.pageBtn\"\n        @click=\"changePage(currPage - 1)\"\n      >\n        &lt;\n      </button>\n    </li>\n    <li\n      v-for=\"pageNr in qntPages\"\n      :key=\"pageNr\"\n      :class=\"pageClass(pageNr)\"\n    >\n      <template v-if=\"pageNr !== currPage\">\n        <button\n          :class=\"[css.pageBtn, css.pageNumber]\"\n          @click=\"changePage(pageNr)\"\n        >\n          {{ pageNr }}\n        </button>\n      </template>\n      <template v-else>\n        {{ pageNr }}\n      </template>\n    </li>\n    <li\n      v-if=\"moveNextPage\"\n      :class=\"[css.paginationItem, css.moveNextPage]\"\n    >\n      <button\n        :disabled=\"isActionDisabled('nextPage')\"\n        :class=\"css.pageBtn\"\n        @click=\"changePage(currPage + 1)\"\n      >\n        &gt;\n      </button>\n    </li>\n    <li\n      v-if=\"moveLastPage\"\n      :class=\"[css.paginationItem, css.moveLastPage]\"\n    >\n      <button\n        :disabled=\"isActionDisabled('lastPage')\"\n        :class=\"css.pageBtn\"\n        @click=\"changePage(lastPage)\"\n      >\n        &gt;&gt;\n      </button>\n    </li>\n  </ul>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/custom-links/CpCustomLinksCreate.vue:script


      sms.vComponent('assets/js/components/custom-links/CpCustomLinksCreate.vue', {"name":"CpCustomLinksCreate","path":"assets/js/components/custom-links/CpCustomLinksCreate.vue"}, (require,exports,module)=>{
        
const CustomLinks = require('../../resources/custom-links.js')

module.exports = {
  data () {
    return {
      addedLinks: [],
      customLink: {
        name: '',
        url: '',
        open_in_new_tab: 1
      },
      validationErrors: {}
    }
  },
  mounted () {
    this.getIndex()
  },
  methods: {
    getIndex () {
      CustomLinks.index({ type: 'corporate_rep_site_links' })
        .then((response) => {
          if (response.error) {
            return
          }
          this.addedLinks = response
        })
    },
    add () {
      this.validationErrors = {}
      let newLink = JSON.parse(JSON.stringify(this.customLink))
      if (!newLink.open_in_new_tab) {
        newLink.open_in_new_tab = 0
      }
      CustomLinks.create(newLink)
        .then((response) => {
          if (response.error) {
            this.validationErrors = response.message
            return
          }
          this.addedLinks.push(response)
          this.customLink = {name: '', url: '', open_in_new_tab: 1}
        })
    },
    remove (index, id) {
      CustomLinks.remove(id)
        .then((response) => {
          if (response.error) {
            this.validationErrors = response.message
            this.$toast('Failed to delete.', {error: true})
            return
          }
          this.addedLinks.splice(index, 1)
      })
  }
 },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"custom-links-create\">\n    <h4>Create Custom Links</h4>\n    <hr />\n    <cp-input\n      label=\"Name\"\n      type=\"text\"\n      :error=\"validationErrors['name']\"\n      v-model=\"customLink.name\"></cp-input>\n    <cp-input\n      label=\"URL\"\n      type=\"text\"\n      :error=\"validationErrors['url']\"\n      v-model=\"customLink.url\"></cp-input>\n      <div class=\"line-wrapper\">\n          <label>Open link in a new tab</label>\n          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"customLink.open_in_new_tab\">\n      </div>\n      <button class=\"cp-button-standard add-links-button\" @click=\"add()\">Add</button>\n      <br />\n      <label for=\"\">Custom links:</label>\n\n      <ul class=\"added-custom-links\">\n        <li v-for=\"(link, index) in addedLinks\">\n           <div class=\"col1\">{{ link.name }}: {{ link.url }}</div>\n          <div class=\"col2\"><i class=\"mdi mdi-close delete-custom-link pointer\" @click=\"remove(index, link.id)\"></i></div>\n        </li>\n      </ul>\n </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/coupons/CpCouponCreate.vue:script


      sms.vComponent('assets/js/components/coupons/CpCouponCreate.vue', {"name":"CpCouponCreate","path":"assets/js/components/coupons/CpCouponCreate.vue"}, (require,exports,module)=>{
        
const Checkout = require('../../resources/CheckoutAPIv0.js')
const moment = require('moment')
const Auth = require('auth')

module.exports = {
  data () {
    return {
      coupon: {
        title: '',
        type: '',
        amount: '',
        description: '',
        max_uses: '',
        code: '',
        expires_at: null,
        type: ''
      },
      canExpire: false,
      errorMessages: {},
      Auth: Auth,
      validationErrors: {}
    }
  },
  props: {
  },
  mounted () {
  },
  methods: {
    generateCode: function () {
      this.coupon.code = ''
      this.coupon.code = Math.random().toString(36).substr(2, 12)
    },
    toggleExpire () {
      console.log('toggleExpire ' + this.canExpire)
      if (!this.canExpire) {
        this.coupon.expires_at = null
      } else {
        this.coupon.expires_at = moment().format('YYYY-MM-DD')
      }
    },
    saveCoupon: function () {
      if (!Auth.hasAnyRole('Superadmin', 'Admin')) {
        this.coupon.type = 'retail'
      }
      var actualUserId = Auth.getClaims().actualUserId
      if (actualUserId) {
        return this.$toast('You are not Authorized')
      }
      this.coupon.is_percent = this.coupon.is_percent !== 'false'
      if (this.canExpire && this.coupon.expires_at <= moment().format('YYYY-MM-DD')) {
        this.$toast('Coupon expiration must be after today.', {error: true})
        return
      }
      if (this.canExpire && this.coupon.expires_at > '2037-12-31') {
        this.$toast('Coupon expiration must be before year 2038.', {error: true})
        return
      }
      Checkout.createCoupon(this.coupon)
        .then((response) => {
          if (response.error) {
            this.validationErrors = response.message
          } else {
            this.$emit('closeModal', false)
            this.errorMessages = {}
            this.$emit('newCoupon', this.coupon)
            this.coupon = {
              title: '',
              type: '',
              amount: '',
              description: '',
              max_uses: '',
              code: ''
            }
          }
        })
    }
  },
  components: {
    CpTextArea: require('../../cp-components-common/inputs/CpTextArea.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"create-wrapper\">\n      <div class=\"cp-form-standard\">\n          <cp-input\n            placeholder=\"Create your coupons name\"\n            label=\"Coupon Name\"\n            :error=\"validationErrors['title']\"\n            type=\"text\"\n            v-model=\"coupon.title\"></cp-input>\n            <label>Coupon Description</label>\n          <textarea\n            class=\"description\"\n            :error=\"validationErrors['description']\"\n            placeholder=\"Write your coupon decription here...\"\n            v-model=\"coupon.description\"></textarea>\n          <cp-select\n            placeholder=\"Select a discount type\"\n            label=\"Discount Type\"\n            :error=\"validationErrors['is_percent']\"\n            v-model=\"coupon.is_percent\"\n            :options=\"[\n              { name: 'Flat Rate', value: 'false' },\n              { name: 'Percentage', value: 'true' }\n              ]\">\n              </cp-select>\n                <cp-input\n                v-if=\"coupon.is_percent === 'false'\"\n                label=\"Coupon Value\"\n                :error=\"validationErrors['amount']\"\n                placeholder=\"Example: $0.00\"\n                type=\"number\"\n                v-model.number=\"coupon.amount\"></cp-input>\n                <cp-input\n                v-if=\"coupon.is_percent === 'true'\"\n                label=\"Coupon Value\"\n                type=\"number\"\n                :error=\"validationErrors['amount']\"\n                placeholder=\" Example: 25%\"\n                v-model.number=\"coupon.amount\"></cp-input>\n          <cp-select\n            v-if=\"Auth.hasAnyRole(['Admin', 'Superadmin'])\"\n            placeholder=\"Select a coupon type\"\n            label=\"Coupon Type\"\n            :error=\"validationErrors['is_percent']\"\n            v-model=\"coupon.type\"\n            :options=\"[\n              { name: 'Wholesale', value: 'wholesale' },\n              { name: 'Retail', value: 'retail' }\n              ]\">\n              </cp-select>\n          <cp-input\n            label=\"Number of Uses\"\n            :error=\"validationErrors['max_uses']\"\n            type=\"number\"\n            placeholder=\"Number of times this coupon can be used\"\n            v-model=\"coupon.max_uses\"></cp-input>\n          <div class=\"coupon-expire\">\n            <label for=\"coupon\">Coupon Can Expire</label>\n            <input\n              type=\"checkbox\"\n              name=\"checkbox\"\n              v-model=\"canExpire\"\n              @change=\"toggleExpire()\">\n              </div>\n          <div v-if=\"canExpire\" class=\"coupon-expire-time\">\n            <cp-input\n              type=\"date\"\n              data-date-inline-picker=\"false\"\n              data-date-open-on-focus=\"true\"\n              v-model=\"coupon.expires_at\"></cp-input>\n              </div>\n          <div class=\"generate-code\">\n            <cp-input\n              :error=\"validationErrors['code']\"\n              type=\"text\"\n              placeholder=\"Create custom or click to generate\"\n              v-model=\"coupon.code\">\n              </cp-input>\n            <button\n              class=\"cp-button-standard\"\n              @click=\"generateCode()\">Generate Code</button>\n          </div>\n      </div>\n      <div class=\"action-buttons\">\n        <button class=\"cp-button-standard cancel\" @click=\"$emit('closeModal', false)\">Cancel</button>\n        <button class=\"cp-button-standard\" @click=\"saveCoupon()\">Save Coupon</button>\n      </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/custom-pages/CpCustomPagesViewer.vue:script


      sms.vComponent('CpCustomPagesViewer', {"path":"assets/js/components/custom-pages/CpCustomPagesViewer.vue"}, (require,exports,module)=>{
        
const Settings = require('../../resources/settings.js')

module.exports = {
  routing: [
    { name: 'public.terms-conditions/company', path: '/terms-conditions/company', meta: { title: 'Terms', noauth: true }, props: true },
    { name: 'public.terms-conditions/rep', path: '/terms-conditions/rep', meta: { title: 'Terms', noauth: true }, props: true },
    { name: 'public.return-policy', path: '/return-policy', meta: { title: 'Terms', noauth: true }, props: true }
  ],
  data () {
    return {
      page: {} }
  },
  props: {
    pagePath: {
      default () {
        return this.$pathParameterName()
      }
    }
  },
  mounted () {
    if (this.pagePath === 'rep') {
      this.getRepTerms()
    } else if (this.pagePath === 'company') {
      this.getCompanyTerms()
    } else {
      this.getReturnPolicy()
    }
  },
  methods: {
    getReturnPolicy () {
      Settings.getReturnPolicy().then(response => {
        this.page = response
      })
    },
    getCompanyTerms () {
      Settings.getCompanyTerms().then(response => { this.page = response })
    },
    getRepTerms () {
      Settings.getRepTerms().then(response => { this.page = response })
    }
  }
}
;
        module.exports.template = "\n  <div class=\"terms-scoped\">\n    <section>\n        <h2>{{page.title}}</h2>\n      <div class=\"cp-panel-standard\" v-html=\"page.content\">\n      </div>\n    </section>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/coupons/CpCouponIndex.vue:script


      sms.vComponent('assets/js/components/coupons/CpCouponIndex.vue', {"name":"CpCouponIndex","path":"assets/js/components/coupons/CpCouponIndex.vue"}, (require,exports,module)=>{
        
const Checkout = require('../../resources/CheckoutAPIv0.js')
const Orders = require('../../resources/OrdersAPIv0.js')
const Auth = require('auth')

module.exports = {
  data () {
    return {
      Auth: Auth,
      pagination: {
        current_page: 1,
        per_page: 15
      },
      asc: false,
      noResults: false,
      loading: false,
      coupons: [],
      couponModal: false,
      selectedCoupon: {
        title: '',
        amount: '',
        is_percent: '',
        uses: '',
        created_at: '',
        expires_at: '',
        orders: {}
      },
      indexRequest: {
        order: 'desc',
        column: 'created_at',
        per_page: 15,
        search_term: '',
        status: 'all',
        page: 1
      }
    }
  },
  props: ['refreshPage'],
  mounted () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
    this.getIndex()
  },
  methods: {
    selectStatus (name) {
      switch (name) {
        case 'All':
          this.couponStatus('all')
          break
        case 'Consumed':
          this.couponStatus('used')
          break
        case 'Active':
          this.couponStatus('active')
          break
        case 'Expired':
          this.couponStatus('expired')
          break
        default:
}
    },
    showCouponOrders: function (coupon) {
      let params = {
        coupon_id: coupon.id
      }
      Orders.getOrders(params)
        .then((response) => {
          if (response.error) {
            return this.$toast(response.message)
          }
          this.selectedCoupon = coupon
          this.selectedCoupon.orders = response.data
          this.couponModal = true
        })
    },
    deleteCoupon: function (id) {
      Checkout.deleteCoupon(id)
        .then((response) => {
          if (response.error) {
            return this.$toast(response.message, {error: true})
          }
          this.getIndex()
          this.$toast('The coupon was successfully removed from the system.', { dismiss: false })
        })
    },
    getIndex: function () {
      this.loading = true
      this.coupons = []
      let params = {
        owner_pid: Auth.getOwnerPid(),
        sort_by: (this.asc ? '' : '-') + this.indexRequest.column,
        page: this.pagination.current_page,
        per_page: this.indexRequest.per_page,
        search_term: this.indexRequest.search_term
      }
      if (this.indexRequest.status != 'all') {
        params.status = this.indexRequest.status
      }
      Checkout.getCoupons(params)
        .then((response) => {
          if (response.error) {
            return this.$toast(response.message)
          }
          this.pagination = response
          this.coupons = response.data
          this.loading = false
        })
    },
    couponStatus: function (status) {
      this.indexRequest.status = status
      this.pagination.current_page = 1
      this.getIndex()
    },
    sortColumn: function (column) {
      this.indexRequest.column = column
      this.asc = !this.asc
      if (this.asc === true) {
        this.indexRequest.order = 'asc'
      } else {
        this.indexRequest.order = 'desc'
      }
      this.getIndex()
    }
  },
  events: {
    'newCoupon': function () {
      this.getIndex()
    }
  },
  watch: {
    refreshPage: function (value) {
      this.getIndex()
    }
  },
  components: {
    CpUsedCouponsIndex: require('./CpUsedCouponsIndex.vue'),
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue'),
    CpTabs: require('../../cp-components-common/navigation/CpTabs.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"index-wrapper\">\n      <a class=\"cp-button-link\" download :href=\"'/api/v1/coupons/csv?search_term=' + indexRequest.search_term + '&column=' + indexRequest.column  + '&order=' +indexRequest.order + '&status=' + indexRequest.status\">Coupon CSV</a>\n      <a class=\"cp-button-link\" download :href=\"'/api/v1/coupons/applied/csv?search_term=' + indexRequest.search_term + '&column=' + indexRequest.column +'&order=' + indexRequest.order +'&status='+ indexRequest.status\">Applied Coupon CSV</a>\n    <cp-tabs\n   :items=\"[\n     { name: 'All', active: true },\n     { name: 'Active', active: false },\n     { name: 'Consumed', active: false },\n     { name: 'Expired', active: false }\n   ]\"\n   :callback=\"selectStatus\"></cp-tabs>\n      <cp-table-controls\n        :date-picker=\"false\"\n        :index-request=\"indexRequest\"\n        :resource-info=\"pagination\"\n        :get-records=\"getIndex\">\n      </cp-table-controls>\n          <table class=\"cp-table-standard desktop\">\n              <thead>\n                <th @click=\"sortColumn('title')\">Name\n                    <span v-show=\"indexRequest.column == 'title'\">\n                        <span v-show=\"asc\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!asc\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                  <th>Description</th>\n                  <th>Value\n                      <span v-show=\"indexRequest.column == 'amount'\">\n                          <span v-show=\"asc\"><i class='mdi mdi-sort-ascending'></i></span>\n                          <span v-show=\"!asc\"><i class='mdi mdi-sort-descending'></i></span>\n                      </span>\n                  </th>\n                  <th>Uses Remaining</th>\n                  <th @click=\"sortColumn('code')\">Code\n                      <span v-show=\"indexRequest.column == 'code'\">\n                          <span v-show=\"asc\"><i class='mdi mdi-sort-ascending'></i></span>\n                          <span v-show=\"!asc\"><i class='mdi mdi-sort-descending'></i></span>\n                      </span>\n                  </th>\n                  <th v-if=\"Auth.hasAnyRole('Superadmin', 'Admin')\" @click=\"sortColumn('type')\">Type\n                      <span v-show=\"indexRequest.column == 'type'\">\n                          <span v-show=\"asc\"><i class='mdi mdi-sort-ascending'></i></span>\n                          <span v-show=\"!asc\"><i class='mdi mdi-sort-descending'></i></span>\n                      </span>\n                  </th>\n                  <th><!-- delete --></th>\n              </thead>\n              <tbody v-if=\"coupons.length > 0\">\n                  <tr v-for=\"coupon in coupons\">\n                      <td><a @click=\"showCouponOrders(coupon)\">{{ coupon.title }}</a></td>\n                      <td id=\"description\">{{ coupon.description }}</td>\n                      <td v-if=\"coupon.is_percent\">{{ coupon.amount }}%</td>\n                      <td v-else>{{ coupon.amount | currency }}</td>\n                      <td id=\"uses\">{{ coupon.max_uses - coupon.uses }} / {{coupon.max_uses}}</td>\n                      <td>{{ coupon.code }}</td>\n                      <td v-if=\"Auth.hasAnyRole('Superadmin', 'Admin')\">{{coupon.type}}</td>\n                      <td><i class=\"mdi mdi-close pointer\" @click=\"deleteCoupon(coupon.id)\"></i></td>\n                  </tr>\n              </tbody>\n              <tbody v-else>\n                  <tr class=\"row\">\n                      <td class=\"cell\">\n                          <span class=\"overflow\">There are no coupons to display.</span>\n                      </td>\n                  </tr>\n              </tbody>\n          </table>\n          <section  class=\"cp-table-mobile\">\n            <div v-for=\"coupon in coupons\">\n            <div><span>Name: </span><span><a @click=\"showCouponOrders(coupon)\">{{ coupon.title }}</a></span></div>\n            <div id=\"description\"><span>Description: </span><span>{{ coupon.description }}</span></div>\n            <div v-if=\"coupon.is_percent\"><span>Value: </span><span>{{ coupon.amount }}%</span></div>\n            <div v-else><span>Value: </span><span>{{ coupon.amount | currency }}</span></div>\n            <div id=\"uses\"><span>Used Remaining: </span><span>{{ coupon.max_uses - coupon.uses }} / {{coupon.max_uses}}</span></div>\n            <div><span>Code: </span><span>{{ coupon.code }}</span></div>\n            <div><span></span><span><i class=\"mdi mdi-close pointer\" @click=\"deleteCoupon(coupon.id)\"></i></span></div>\n          </div>\n          </section>\n          <div class=\"align-center\">\n            <div class=\"no-results\" v-if=\"noResults\">\n                <span>No results for this timeframe</span>\n            </div>\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n            <cp-pagination :pagination=\"pagination\" :callback=\"getIndex\" :offset=\"2\"></cp-pagination>\n          </div>\n        <!--  MODAL -->\n        <transition name=modal>\n          <section class=\"cp-modal-standard\" v-if=\"couponModal\" @click=\"couponModal = false, selectedCoupon = {}\">\n            <div class=\"cp-modal-body\">\n              <cp-used-coupons-index :coupon=\"selectedCoupon\" :modal-show=\"couponModal\"></cp-used-coupons-index>\n            </div>\n          </section>\n      </transition>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/CpDropzone.vue:script


      sms.vComponent('assets/js/components/CpDropzone.vue', {"name":"CpDropzone","path":"assets/js/components/CpDropzone.vue"}, (require,exports,module)=>{
        
const Dropzone = require('dropzone')

module.exports = {
  data: function () {
    return {
      addedFile: [],
      uploadZone: {}
    }
  },
  props: {
    imported: {
      type: Boolean,
      twoWay: true
    },
    import_steps: {
      type: Boolean,
      twoWay: true
    },
    selected: {
      type: Object
    },
    replace: {
      type: Boolean,
      twoWay: true
    },
    api_src: {
      required: true,
      type: String
    },
    default_message: {
      default: 'Drop your file to upload or click to browse',
      type: String
    },
    file_type: {
      required: true,
      type: String
    },
    id: {
      required: true,
      type: String
    },
    remove: {
      default: 'Remove file',
      type: String
    },
    setting_value: {
      default: '',
      twoWay: true,
      type: String
    }
  },
  computed: {},
  ready: function () {
    this.getDropzone()
  },
  methods: {
    getDropzone: function () {
      var thisDropzone = this
      var dropzoneConfig = {
        maxFileSize: 10,
        maxFiles: 1,
        acceptedFiles: this.file_type,
        dictDefaultMessage: this.default_message,
        dictMaxFilesExceeded: 'You may only upload one file at a time.',
        addRemoveLinks: true,
        dictRemoveFile: this.remove.default,
        headers: {},
        init: function () {
          this.on('error', function (file, response) {
            Dropzone.forElement('#' + thisDropzone.id).removeAllFiles()
            thisDropzone.$toast(response, { dismiss: false, error: true })
          })
        },
        success: function (file, response) {
          if (file.status === 'success') {
            thisDropzone.imported = true
            thisDropzone.import_steps = false
            Dropzone.forElement('#' + thisDropzone.id).removeAllFiles()
            thisDropzone.$toast('Import successful.', {dismiss: false, error: false})
          }
          thisDropzone.fileId = response.id
          thisDropzone.addedFile.push({id: response.id})
          thisDropzone.setting_value = response.url_sm
        }
      }
      this.uploadZone = new Dropzone('#' + this.id, dropzoneConfig)

      Dropzone.options.dropzoneInventoryImport = dropzoneConfig
      Dropzone.options.dropzoneMySettings = dropzoneConfig
    }
  }
}
;
        module.exports.template = "\n  <div class=\"dropzone-wrapper\">\n      <div id=\"dropzoneImport\">\n          <form action=\"{{api_src}}\" method=\"POST\" class=\"dropzone\" :id=\"id\">\n              <input type=\"hidden\" name=\"userId\" :value=\"selected.id\" :selected=\"selected\">\n              <input type=\"hidden\" name=\"replace\" v-model=\"replace\">\n              <input type=\"hidden\" id=\"token\" name=\"_token\">\n          </form>\n      </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/commission-engine/dashboard-cards/CpUnknown.vue:script


      sms.vComponent('unknown', {"path":"assets/js/components/commission-engine/dashboard-cards/CpUnknown.vue"}, (require,exports,module)=>{
        
 module.exports = {
  data () {
    return {
    }
  },
  props: ['myStatsLevelOne', 'title'],
  mounted () {
  },
  methods: {
  }
}
;
        module.exports.template = "\n    <div class=\"\">\n        <h5>{{title}}</h5>\n          <h3>Unknown</h3>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/coupons/CpUsedCouponsIndex.vue:script


      sms.vComponent('assets/js/components/coupons/CpUsedCouponsIndex.vue', {"name":"CpUsedCouponsIndex","path":"assets/js/components/coupons/CpUsedCouponsIndex.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
      lastUsed: null
    }
  },
  props: {
    coupon: {
      type: Object
    }
  },
  mounted () {
    let couponData = JSON.parse(JSON.stringify(this.coupon.orders))
    if (couponData.length > 0) {
      couponData.sort(function(a,b){
        return new Date(b.created_at) - new Date(a.created_at);
      });
      this.lastUsed = couponData[0].created_at
    }
  }
}
;
        module.exports.template = "\n    <div>\n      <div>\n        <h3>Coupon Details</h3>\n        <table>\n          <tr>\n            <th>Created at: </th>\n            <td>{{ coupon.created_at }}</td>\n          </tr>\n          <tr>\n            <th>Last applied: </th>\n            <td v-if=\"lastUsed\">{{ lastUsed }}</td>\n            <td v-else>No record of use.</td>\n          </tr>\n          <tr v-if=\"coupon.expires_at !== null\">\n            <th>Expires at: </th>\n            <td>{{ coupon.expires_at }}</td>\n          </tr>\n        </table>\n      </div>\n        <h3>Orders for {{coupon.title}} </h3>\n        <div class=\"coupon-form-wrapper\">\n            <table class=\"cp-table-standard\">\n                <thead>\n                    <tr>\n                        <th>Order</th>\n                        <th>Order Total</th>\n                        <th>Date</th>\n                        <th>Coupon Amount</th>\n                    </tr>\n                </thead>\n                <tbody v-if=\"coupon.uses > 0\">\n                    <tr v-for=\"order in coupon.orders\">\n                        <td><a v-bind:href=\"'/orders/' + order.receipt_id\">{{order.receipt_id}}</a></td>\n                        <td>{{order.total_price | currency}}</td>\n                        <td>{{order.created_at | cpStandardDate}}</td>\n                        <td v-if=\"coupon.is_percent\">{{ order.total_discount | currency }} </td>\n                        <td v-else>{{ coupon.amount | currency }}</td>\n                    </tr>\n                </tbody>\n                <tbody v-else>\n                    <tr class=\"row\">\n                        <td class=\"cell\">\n                            <span class=\"overflow\">This coupon has not been applied to an order.</span>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/custom-pages/CpCustomPagesIndex.vue:script


      sms.vComponent('assets/js/components/custom-pages/CpCustomPagesIndex.vue', {"name":"CpCustomPagesIndex","path":"assets/js/components/custom-pages/CpCustomPagesIndex.vue"}, (require,exports,module)=>{
        
const Settings = require('../../resources/settings.js')

module.exports = {
  data: function () {
    return {
      pages: []
    }
  },
  mounted: function () {
    this.getPages()
  },
  methods: {
    getPages: function () {
      Settings.customPages()
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, {error: true})
          }
          this.pages = response
        })
    }
  }
}
;
        module.exports.template = "\n  <div class=\"custom-page-wrapper\">\n        <table class=\"cp-table-standard\">\n            <thead>\n                <th>Title</th>\n                <th>URL</th>\n                <th>Updated At</th>\n            </thead>\n            <tbody>\n                <tr v-for=\"(page, index) in pages\">\n                    <td><a :href=\"'/pages/edit/' + page.slug\">{{ page.title }}</a></td>\n                    <td>{{ page.slug }}</td>\n                    <td>{{ page.updated_at | cpStandardDate}}</td>\n                </tr>\n            </tbody>\n        </table>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/dashboard/sales-volume.vue:script

sms.vComponent('assets/js/components/dashboard/sales-volume.vue', { name: 'CpDashboardSalesVolume', routing: { name: 'site.CpDashboardSalesVolume', meta: { title: 'Sales Volume' }, path: '', props: true } }, (require, exports, module)=>{

// include vue-d3 plugin
const Dashboard = require('../../resources/dashboard.js')
const Auth = require('auth')

module.exports = {
  data: function () {
    return {
      Auth: Auth,
      _sales: [],
      loading: true,
      newOrders: {
        total: 0,
        unshipped: 0
      },
      monthlyOrderVolume: {
        today: 0,
        month: 0
      },
      monthlySalesVolume: {
        today: 0,
        month: 0
      },
      pageViews: {
        today: 0,
        month: 0
      }
    }
  },
  props: ['announcements', 'allLink'],
  computed: {},
  mounted () {
    this.salesVolume()
  },
  methods: {
      // use dashboard resource to pull sales
    make_x_gridlines: function (xScale) {
      return this.$d3.axisBottom(xScale).ticks(14)
    },
    make_y_gridlines (yScale) {
      return this.$d3.axisLeft(yScale).ticks(8)
    },
    salesVolume: function () {
      return Dashboard.salesVolume()
        .then((response) => {
          this.handleSalesVolumeResponse(response)
          this.newOrders = response.newOrders
          this.monthlyOrderVolume = response.monthlyOrderVolume
          this.monthlySalesVolume = response.monthlySalesVolume
          this.pageViews = response.pageViews

          var graph = this.$d3.select('#salesGraph')
          var WIDTH = 600
          var HEIGHT = 300
          var MARGINS = {
            top: 20,
            right: 20,
            bottom: 20,
            left: 50
          }
          var xScale = this.$d3.scaleTime().range([MARGINS.left, WIDTH - MARGINS.right])
                        .domain([new Date(this._sales.minDate), new Date(this._sales.maxDate)])
          var yScale = this.$d3.scaleLinear().range([HEIGHT - MARGINS.top, MARGINS.bottom])
                        .domain([this._sales.minVolume, this._sales.maxVolume])
          var xAxis = this.$d3.axisBottom().scale(xScale)
          var yAxis = this.$d3.axisLeft().scale(yScale)

            // define the fill area
          var area = this.$d3.area()
          .curve(this.$d3.curveBasis)
          .x(function (d) {
            return xScale(new Date(d.date))
          })
          .y0(HEIGHT - MARGINS.bottom)
          .y1(function (d) {
            return yScale(d.volume)
          })

            // append the headers
          graph.append('svg:g')
              .attr('transform', 'translate(0,' + (HEIGHT - MARGINS.bottom) + ')')
              .call(xAxis)

          graph.append('svg:g')
              .attr('transform', 'translate(' + (MARGINS.left) + ',0)')
              .call(yAxis)

        // function for making lines
          var volumeLine = this.$d3.line()
          .curve(this.$d3.curveBasis)
          .x(function (d) {
            return xScale(new Date(d.date))
          })
          .y(function (d) {
            return yScale(d.volume)
          })

          // sales area fill
          graph.append('path')
              .datum(this._sales.salesVolume)
              .attr('class', 'salesArea')
              .attr('d', area)

          // order area fill
          graph.append('path')
              .datum(this._sales.orderVolume)
              .attr('class', 'orderArea')
              .attr('d', area)

          // sales volume line
          graph.append('svg:path')
            .attr('d', volumeLine(this._sales.salesVolume))
            .attr('class', 'salesLine')

          // order volume line
          graph.append('svg:path')
              .attr('d', volumeLine(this._sales.orderVolume))
              .attr('class', 'orderLine')

          // x grid lines
          graph.append('g')
                  .attr('class', 'grid')
                  .attr('transform', 'translate(0,' + HEIGHT + ')')
                  .call(this.make_x_gridlines(xScale)
                      .tickSize(-HEIGHT)
                      .tickFormat('')
                  )
          // y grid lines
          graph.append('g')
                  .attr('class', 'grid')
                  .call(this.make_y_gridlines(yScale)
                      .tickSize(-WIDTH)
                      .tickFormat('')
                  )
        })
    },
    // handle response
    handleSalesVolumeResponse: function (response) {
      this.loading = false
      if (response.error) {
        this.$toast(response.message, {error: true})
      } else {
        this._sales = response
      }
    }
  },
  components: {
    CpRecentAnnouncements: require('./CpRecentAnnouncements.vue')
  }
}

;module.exports.template = "\n  <div class=\"cp-dashboard-sales-volume-wrapper\">\n    <div class=\"report-wrapper\">\n      <section class=\"stats\">\n        <div class=\"stats-group\">\n          <h4>Orders</h4>\n          <div class=\"stats\">\n            <div class=\"stat today\">\n              <p v-text=\"newOrders.total || '0'\"></p>\n              <p>New</p>\n            </div>\n            <div class=\"stat mtd\">\n              <p v-text=\"newOrders.unshipped || '0'\"></p>\n              <p>Not Shipped</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"stats-group\">\n          <h4>Sales Volume</h4>\n          <div class=\"stats\">\n            <div class=\"stat today\">\n              <p>${{monthlySalesVolume.today}}</p>\n              <p>Today</p>\n            </div>\n            <div class=\"stat mtd\">\n              <p>${{monthlySalesVolume.month}}<p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"stats-group\">\n          <h4>Orders Volume</h4>\n          <div class=\"stats\">\n            <div class=\"stat today\">\n              <p>${{monthlySalesVolume.today}}</p>\n              <p>Today</p>\n            </div>\n            <div class=\"stat mtd\">\n              <p v-text=\"monthlyOrderVolume.month\"></p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n      </section>\n      <section class=\"chart\" v-if=\"$getGlobal('replicated_site').show || Auth.hasAnyRole('Admin')\">\n        <h4>Last 12 Months Volume</h4>\n        <svg id=\"salesGraph\" viewBox=\"0 0 620 320\"></svg>\n        <div class=\"legend\">\n          <span class=\"sales\">Sales Volume</span>\n          <span class=\"orders\">Orders Volume</span>\n        </div>\n      </section>\n    </div>\n    <cp-recent-announcements :announcements=\"announcements\" :allLink=\"allLink\"></cp-recent-announcements>\n  </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/dashboard/CpDashboard.vue:script


      sms.vComponent('assets/js/components/dashboard/CpDashboard.vue', {"name":"CpDashboard","path":"assets/js/components/dashboard/CpDashboard.vue"}, (require,exports,module)=>{
        
const Announcements = require('../../resources/announcements.js')
const Auth = require('auth')

module.exports = {
  name: 'CpDashboard',
  routing: [
    {
      name: 'site.CpDashboardRoot',
      path: '/',
      meta: {
        title: 'Dashboard',
        nosubscription: !Auth.hasAnyRole('Rep')
      },
      props: true
    },
    {
      name: 'site.CpDashboard',
      path: '/dashboard',
      meta: {
        title: 'Dashboard',
        nosubscription: !Auth.hasAnyRole('Rep')
      },
      props: true
    }
  ],
  data () {
    return {
      showLoginAsControl: Auth.hasAnyRole('Superadmin', 'Admin'),
      recentAnnouncements: [],
      showAnnouncementLink: false,
      announcementRequest: {
        column: 'created_at',
        order: 'desc',
        per_page: '5'
      }
    }
  },
  mounted () {
    this.getAnnouncements()
    this.$events.$on('login-as-change', (e) => {
      this.showLoginAsControl = Auth.hasAnyRole('Superadmin', 'Admin')
    })
  },
  methods: {
    hasAnyRole (...roles) {
      return Auth.hasAnyRole(...roles)
    },
    getAnnouncements () {
      // Don't grab announcements for customers
      if (this.hasAnyRole('Superadmin', 'Admin', 'Rep')) {
        Announcements.index(this.announcementRequest)
        .then((response) => {
          if (!response.error) {
            this.recentAnnouncements = response.data
            if (response.total > 5) {
              this.showAnnouncementLink = true;
            }
          }
        })
      }
    }
  },
  components: {
    CpLoginAsTypeahead: require('../authentication/CpLoginAsTypeahead.vue'),
    CpDashboardSalesVolume: require('../dashboard/sales-volume.vue'),
    CpCustomerDashboard: require('../dashboard/CpCustomerDashboard.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"cp-dashboard-wrapper\">\n    <cp-login-as-typeahead v-if=\"showLoginAsControl\" class=\"login-as-right\"></cp-login-as-typeahead>\n    <cp-dashboard-sales-volume :announcements=\"recentAnnouncements\" :allLink=\"showAnnouncementLink\" v-if=\"hasAnyRole('Superadmin', 'Admin', 'Rep')\"></cp-dashboard-sales-volume>\n    <cp-customer-dashboard v-if=\"hasAnyRole('Customer')\"></cp-customer-dashboard>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/direct-deposit/CpPaymentFiles.vue:script


      sms.vComponent('assets/js/components/direct-deposit/CpPaymentFiles.vue', {"name":"CpPaymentFiles","path":"assets/js/components/direct-deposit/CpPaymentFiles.vue"}, (require,exports,module)=>{
        
const Payman = require('../../resources/PaymanAPI.js')

module.exports = {
  name: 'CpPaymentFiles',
  routing: [
    {
      name: 'site.CpPaymentFiles',
      path: 'payment-files',
      meta: {
        title: 'Payment Files'
      },
      props: true
    }
  ],
  data: function () {
    return {
      tabs: [
        {
          name: 'OPEN',
          active: true
        },
        {
          name: 'CLOSED',
          active: false
        },
        {
          name: 'ALL',
          active: false
        }
      ],
      batches: {},
      selectedType: 'OPEN',
      loading: true,
      pagination: {
        current_page: 1,
        last_page: 0
      },
      asc: false,
      indexRequest: {
        order: 'ASC',
        column: 'name',
        per_page: 25,
        search_term: '',
        start_date: moment().subtract(10, 'days').format("YYYY-MM-DD"),
        end_date: moment().format('YYYY-MM-DD'),
            submitted: false
        },
        reverseSort: false,
    }
  },
  computed: {},
  mounted: function () {
    this.getBatches()
  },
  methods: {
      getBatches: function(){
        this.loading = true;
        this.batches = {};

        let submitted = (this.selectedType == 'OPEN' ? false : (this.selectedType == 'CLOSED' ? true : null))

        let request = {
          sortBy: '-created_at',
          page: this.pagination.current_page,
          count: this.indexRequest.per_page,
          startDate: moment(this.indexRequest.start_date).startOf('day').utc().format("YYYY-MM-DD HH:mm:ss"),
          endDate: moment(this.indexRequest.end_date).endOf('day').utc().format("YYYY-MM-DD HH:mm:ss"),
          submitted: submitted
        }

        Payman.getPaymentFiles(request)
          .then((response) => {
            if (response.error) {
                return this.$toast(response.message, { error: true, dismiss: false })
            }
            this.loading = false;
            this.batches = response.data;
            this.pagination.last_page = response.totalPage
          });
      },
      showFile: function (batch) {
        this.$router.push({ name: 'CpPaymentFile', params: { fileProp: batch, id: batch.id.toString() }})
      },
      changeTab (name) {
        this.selectedType = name
        this.getBatches()
      }
  },
  events: {
      'search_term': function (term) {
          this.indexRequest.search_term = term;
          this.pagination.current_page = 1;
          this.getBatches();
      }
  },
  components: {
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"open-index-wrapper\">\n    <cp-tabs :items=\"tabs\" :callback=\"changeTab\"></cp-tabs>\n    <cp-table-controls\n    :date-picker=\"true\"\n    :date-range=\"indexRequest\"\n    searchBox=\"false\"\n    :index-request=\"indexRequest\"\n    :resource-info=\"pagination\"\n    :get-records=\"getBatches\"></cp-table-controls><br>\n    <table class=\"cp-table-standard desktop\">\n      <thead>\n        <th>File Name</th>\n        <th>Description</th>\n        <th>Date Created</th>\n        <th>Date Paid</th>\n        <th>Amount</th>\n        <th>Bank Name</th>\n        <th>Deposit Count</th>\n        <th>Transaction Count</th>\n      </thead>\n      <tbody>\n        <tr v-for=\"batch in batches\">\n          <td>\n            <a @click=\"showFile(batch)\"><span v-text=\"batch.fileName\"></span></a>\n          </td>\n          <td>{{batch.description}}</td>\n          <td>{{batch.createdAt | cpStandardDate}}</td>\n          <td>{{batch.submittedAt | cpStandardDate }}</td>\n          <td>{{batch.credits | currency }}</td>\n          <td>{{batch.bankName || 'n/a'}}</td>\n          <td>{{batch.batchCount}}</td>\n          <td>{{batch.transactionCount}}</td>\n        </tr>\n      </tbody>\n    </table>\n    <section class=\"cp-table-mobile\">\n      <div v-for=\"batch in batches\">\n        <div><span>File Name: </span><span><a @click=\"showFile(batch)\"><span>{{batch.fileName}}</span></a></span></div>\n        <div><span>Description: </span><span>{{batch.description}}</span></div>\n        <div><span>Date Created: </span><span>{{batch.createdAt | cpStandardDate}}</span></div>\n        <div><span>Date Paid: </span><span>{{batch.submittedAt || batch.createdAt | cpStandardDate}}</span></div>\n        <div><span>Amount:  </span><span>{{batch.credits | currency}}</span></div>\n        <div><span>Bank Name: </span><span>{{batch.bankName || 'n/a'}}</span></div>\n        <div><span>Deposit Count: </span><span>{{batch.batchCount}}</span></div>\n        <div><span>Transaction Count: </span><span>{{batch.transactionCount}}</span></div>\n      </div>\n    </section>\n    <br>\n    <div class=\"align-center\">\n      <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n      <cp-pagination :pagination=\"pagination\" :callback=\"getBatches\" :offset=\"2\"></cp-pagination>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/dashboard/CpRecentAnnouncements.vue:script


      sms.vComponent('assets/js/components/dashboard/CpRecentAnnouncements.vue', {"name":"CpRecentAnnouncements","path":"assets/js/components/dashboard/CpRecentAnnouncements.vue"}, (require,exports,module)=>{
        
module.exports = {
  data: function () {
    return {
      selectedAnnouncement: {},
      announcementModal: false
    }
  },
  props: ['announcements', 'allLink'],
  methods: {
    viewAnnouncements: function (announcement) {
      this.announcementModal = true
      this.selectedAnnouncement = announcement
    }
  },
  components: {
    CpAnnouncementShow: require('../announcements/CpAnnouncementShow.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"cp-announcements\">\n    <div class=\"cp-annnouncement-wrapper\">\n      <h4 class=\"panel-title\">Announcements</h4>\n      <ul>\n        <li v-for=\"announcement in announcements\">\n          <a @click=\"viewAnnouncements(announcement)\">\n            <h3 class=\"no-top no-bottom\">{{ announcement.title }}</h3>\n            <span>{{ announcement.updated_at | shortDate }}</span>\n          </a>\n        </li>\n      </ul>\n      <a class=\"all-link\" v-if=\"allLink\" href=\"/announcements\">See All</a>\n    </div>\n    <transition name='modal'>\n        <section class=\"cp-modal-standard\" v-if=\"announcementModal\">\n            <div class=\"cp-modal-body\">\n                <cp-announcement-show :announcement=\"selectedAnnouncement\" :modal-show=\"announcementModal\" @close=\"announcementModal = false\"></cp-announcement-show>\n            </div>\n        </section>\n    </transition>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/direct-deposit/CpBankAccountSearch.vue:script


      sms.vComponent('assets/js/components/direct-deposit/CpBankAccountSearch.vue', {"name":"CpBankAccountSearch","path":"assets/js/components/direct-deposit/CpBankAccountSearch.vue"}, (require,exports,module)=>{
        
const Payman = require('../../resources/PaymanAPI.js')

module.exports = {
  name: 'CpBankAccountSearch',
  routing: [
    {
      name: 'site.CpBankAccountSearch',
      path: 'bank-account-search',
      meta: {
        title: 'Bank Account Search'
      },
      props: true
    }
  ],
  data () {
    return {
      selectedRep: null,
      bankAccount: null,
      currentValidation: null
    }
  },
  methods: {
    repSelected (rep) {
      this.selectedRep = rep
      this.clearBankInfo()
      this.getAccount()
      this.getCurrentValidation()
    },
    clearBankInfo () {
      this.bankAccount = null
      this.currentValidation = null
    },
    getAccount () {
      Payman.getBankAccount(this.selectedRep.id)
      .then((response) => {
        if (response.error) {
          // TODO error
          return
        }
        this.bankAccount = response
      })
    },
    getCurrentValidation () {
      // Find the most recent validation record and check it against the current account to see if they go together
      Payman.getValidations({userId: this.selectedRep.id, sortBy: '-id', page: '1', count: '1'})
        .then((response) => {
          if (response.error) {
            // TODO error
            return
          }
          if (response.count > 0) {
            this.currentValidation = response.data[0]
          }
        })
    }
  },
  components: {
    CpRepSearchTypeahead: require('../../cp-components-common/inputs/CpRepSearchTypeahead.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"bank-search-wrapper\">\n    <div>\n      <cp-rep-search-typeahead\n        class=\"select-rep\"\n        label=\"Select a user\"\n        @rep-selected=\"repSelected\"></cp-rep-search-typeahead>\n      <div v-if=\"selectedRep\" class=\"cp-box-standard\">\n        <div class=\"cp-box-heading\">\n            {{ 'Current Bank Account: ' + selectedRep.full_name }}\n        </div>\n        <div v-if=\"bankAccount\" class=\"cp-box-body\">\n          <div><strong>Account Name: </strong>{{ bankAccount.name }}</div>\n          <div><strong>Bank Name: </strong>{{ bankAccount.bankName }}</div>\n          <div><strong>Routing Number: </strong>{{ bankAccount.routing }}</div>\n          <div><strong>Account Number: </strong>{{ bankAccount.number }}</div>\n          <div><strong>Account Type: </strong>{{ bankAccount.type }}</div>\n          <div><strong>Validated: </strong>{{ bankAccount.validated ? 'Yes' : 'No' }}</div>\n          <div><strong>Last Update: </strong>{{ bankAccount.updatedAt | cpStandardDate }}</div>\n        </div>\n        <div v-else>No account set</div>\n      </div>\n    </div>\n    <div v-if=\"currentValidation && bankAccount && (currentValidation.accountHash == bankAccount.hash)\" class=\"cp-box-standard\">\n      <div class=\"cp-box-heading\">\n          Current Validation\n      </div>\n      <div class=\"cp-box-body\">\n        <div><strong>Amount 1: </strong>{{ currentValidation.amount1 }}</div>\n        <div><strong>Amount 2: </strong>{{ currentValidation.amount2 }}</div>\n        <div><strong>Created: </strong>{{ currentValidation.createdAt | cpStandardDate }}</div>\n        <div><strong>Submitted: </strong>{{ currentValidation.submittedAt | cpStandardDate }}</div>\n      </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/dashboard/CpCustomerDashboard.vue:script


      sms.vComponent('assets/js/components/dashboard/CpCustomerDashboard.vue', {"name":"CpCustomerDashboard","path":"assets/js/components/dashboard/CpCustomerDashboard.vue"}, (require,exports,module)=>{
        
const Orders = require('../../resources/OrdersAPIv0.js')
const Autoship = require('../../resources/AutoshipAPIv0.js')
const moment = require('moment')
const Auth = require('auth')
const Users = require('../../resources/UsersAPIv0.js')

module.exports = {
  data: function () {
    return {
      Auth: Auth,
      noResults: false,
      loading: true,
      orders: [],
      user: {},
      activeSubs: []
    }
  },
  created () {
    this.getUser()
    this.getOrders()
    this.getActiveSubs()
  },
  methods: {
    getOrders: function () {
      this.loading = true
      let params = {
        page: 1,
        per_page: 5,
        sort_by: '-created_at',
        buyer_id: Auth.getAuthId()
      }

      this.orders = {}
      Orders.getOrders(params)
        .then((response) => {
          if (response.error) {
            return this.$toast(response.message, {error: true})
          }
          if (response.total === 0) {
            this.noResults = true
            setTimeout(function () {
              this.noResults = false
            }.bind(this), 3000)
          }
          this.loading = false
          this.orders = response.data
        })
    },
    getUser () {
      Users.getById({}, Auth.getAuthId())
      .then((response) => {
        if (!response.error) {
          this.user = response
        }
      })
    },
    getActiveSubs () {
      Autoship.getSubscriptions({show_disabled: false, buyer_pid: Auth.getAuthPid(), per_page: 2})
      .then((response) => {
        if (!response.error) {
          this.activeSubs = response.data
        }
      })
    }
  },
  computed: {
    manageLink () {
      if (this.activeSubs.length == 1) {
        return '/my-subscriptions/' + this.activeSubs[0].id
      } else {
        return '/my-subscriptions'
      }
    }
  }
}
;
        module.exports.template = "\n    <div class=\"my-orders-wrapper\">\n      <h2>Welcome, {{ user.first_name }} {{ user.last_name }}</h2>\n      <br/>\n      <h3>Last 5 Orders</h3>\n      <table class=\"cp-table-standard desktop\">\n        <thead>\n          <th>Order ID</th>\n          <th>Date of order</th>\n          <th>Customer Name</th>\n          <th>Subtotal</th>\n          <th>Tax</th>\n          <th>Shipping</th>\n          <th>Order Total</th>\n          <th>Order Status</th>\n        </thead>\n        <tbody>\n          <tr v-for=\"order in orders\" :class=\"{'hold-order': order.status === 'hold' }\">\n             <td><a :href=\"'/orders/' + order.receipt_id\">{{ order.id }}</a></td>\n             <td>{{ order.created_at | cpStandardDate}}</td>\n             <td>{{ order.buyer_last_name }}, {{ order.buyer_first_name }}</td>\n             <td>{{ order.subtotal_price | currency }}</td>\n             <td>{{ order.total_tax | currency }}</td>\n             <td>{{ order.total_shipping | currency }}</td>\n             <td>{{ order.total_price | currency }}</td>\n             <td>{{ order.status}}</td>\n          </tr>\n        </tbody>\n      </table>\n\n      <section class=\"cp-table-mobile\">\n        <div v-for='order in orders'>\n          <div></div><span></span>\n          <div>\n            <span>Order ID: </span><span><a :href=\"'/orders/' + order.receipt_id\">{{ order.id }}</a></span>\n          </div>\n          <div>\n            <span>Date of orders: </span><span>{{ order.created_at | cpStandardDate}}</span>\n          </div>\n          <div>\n            <span>Customer Name: </span><span>{{ order.buyer_last_name }}, {{ order.buyer_first_name }}</span>\n          </div>\n          <div>\n            <span>Subtotal:</span><span>{{ order.subtotal_price | currency }}</span>\n          </div>\n          <div>\n            <span>Tax: </span><span>{{ order.total_tax | currency }}</span>\n          </div>\n          <div>\n            <span>Shipping: </span><span>{{ order.total_shipping | currency }}</span>\n          </div>\n          <div>\n            <span>Order Total: </span><span>{{ order.total_price | currency }}</span>\n          </div>\n          <div>\n            <span>Order Status: </span><span>{{ order.status}}</span>\n          </div>\n        </div>\n      </section>\n      <div class=\"align-center\">\n        <div class=\"no-results\" v-if=\"noResults\">\n          <span>No recent orders</span>\n        </div>\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n      </div>\n      <br/>\n      <div v-if=\"$getGlobal('autoship_enabled').show\">\n        <h3>Subscription: {{ activeSubs.length > 0 ? 'Active' : 'Disabled' }}</h3>\n        <br/>\n        <button class=\"cp-button-standard\"><a :href=\"manageLink\">Manage Subscription</a></button>\n      </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/dashboard/CpMcommDashboard.vue:script


      sms.vComponent('assets/js/components/dashboard/CpMcommDashboard.vue', {"name":"CpMcommDashboard","path":"assets/js/components/dashboard/CpMcommDashboard.vue"}, (require,exports,module)=>{
        
const Announcements = require('../../resources/announcements.js')
const Auth = require('auth')

module.exports = {
  data () {
    return {
      showLoginAsControl: Auth.hasAnyRole('Superadmin', 'Admin'),
      recentAnnouncements: [],
      showAnnouncementLink: false,
      announcementRequest: {
        column: 'created_at',
        order: 'desc',
        per_page: '5'
      }
    }
  },
  mounted () {
    this.getAnnouncements()
    this.$events.$on('login-as-change', (e) => {
      this.showLoginAsControl = Auth.hasAnyRole('Superadmin', 'Admin')
    })
  },
  methods: {
    hasAnyRole (...roles) {
      return Auth.hasAnyRole(...roles)
    },
    getAnnouncements () {
      Announcements.index(this.announcementRequest)
        .then((response) => {
          if (!response.error) {
            this.recentAnnouncements = response.data
            if (response.total > 5) {
              this.showAnnouncementLink = true;
            }
          }
        })
    }
  },
  components: {
    CpLoginAsTypeahead: require('../authentication/CpLoginAsTypeahead.vue'),
    CpDashboardMcommSalesVolume: require('../dashboard/mcomm-sales-volume.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"cp-mcomm-dashboard-wrapper\">\n    <cp-login-as-typeahead v-if=\"showLoginAsControl\" class=\"login-as-right\"></cp-login-as-typeahead>\n    <cp-dashboard-mcomm-sales-volume :announcements=\"recentAnnouncements\" :allLink=\"showAnnouncementLink\"></cp-dashboard-mcomm-sales-volume>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/CpImgSlider.vue:script


      sms.vComponent('assets/js/components/CpImgSlider.vue', {"name":"CpImgSlider","path":"assets/js/components/CpImgSlider.vue"}, (require,exports,module)=>{
        
module.exports = {
    data: function () {
        return {
            test: true
        }
    },
    props: {
      media: {
          type: Array,
          required: true
      }
    },
    replace: false,
    ready: function(){
      this.initSlick();
    },
    computed: {},
    methods: {
      initSlick: function(){
        console.log("init called")
        this.$nextTick(function(){
            $('.main-slider').slick({
              slidesToShow: 1,
              slidesToScroll: 1,
              arrows: false,
              fade: true,
              asNavFor: 'slider-nav'
            });
            $('.slider-nav').slick({
              slidesToShow: 4,
              slidesToScroll: 1,
              asNavFor: '.main-slider',
              focusOnSelect: true

            });
        })
      }
    }
}
;
        module.exports.template = "\n    <div class=\"product-slider\">\n        <div class=\"main-img\">\n            <ul class=\"main-slider\">\n                <li v-for=\"img in media\">\n                    <img v-bind:src=\"img.url_lg\">\n                </li>\n            </ul>\n        </div>\n        <div class=\"img-carousel\">\n            <ul class=\"slider-nav\">\n                <li v-for=\"img in media\">\n                    <img class=\"\" v-bind:src=\"img.url_xs\">\n                </li>\n            </ul>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/CpNavMenu.vue:script


      sms.vComponent('CpNavMenu', {"path":"assets/js/components/CpNavMenu.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')
module.exports = {
  data () {
    return {
      token: window.localStorage.getItem('jwt_token'),
      isImpersonating: Auth.isImpersonating(),
      announcementsTitle: this.$getGlobal('title_announcement').value || 'Announcements',
      userSellerType: Auth.getClaims().sellerType,
      userStatusBuy: !!Auth.getClaims().perm['core:buy'],
      userStatusSell: !!Auth.getClaims().perm['core:sell']
    }
  },
  mounted () {
    // console.log('COMME ENGINE TYPE'+this.$getGlobal('comm_engine_type').value.toString())
    this.$router.afterEach((to, from) => {
      this.selectActive(to.fullPath)
    })
    this.init()
    this.$events.$on('login-as-change', (e) => {
      this.init()
    })
    this.$events.$on('global-settings-change', (settings) => {
      this.announcementsTitle = this.$getGlobal('title_announcement').value || 'Announcements'
    })
  },
  methods: {
    init () {
      this.isImpersonating = Auth.isImpersonating()
      this.userSellerType = Auth.getClaims().sellerType
      this.userStatusBuy = !!Auth.getClaims().perm['core:buy']
      this.userStatusSell = !!Auth.getClaims().perm['core:sell']
      this.$refs.nav.querySelectorAll('li.expanded').forEach((x) => {
        x.classList.remove('expanded')
        const section = x.querySelector('section')
        if (section) {
          this.hide(section)
        }
      })
      setTimeout(() => {
        this.selectActive()
        this.registerMenuClickEvents()
      })
    },
    revertLoginAs () {
      Auth.revertLoginAs().then(res => {
        this.isImpersonating = Auth.isImpersonating()
        this.$events.$emit('login-as-change')
        this.$router.push('/dashboard')
      })
    },
    hasAnyRole: Auth.hasAnyRole.bind(Auth),
    selectActive (pathname) {
      const url = pathname ? window.location.origin + pathname : window.location.href
      document.querySelectorAll('nav li.active').forEach(x => x.classList.remove('active'))
      document.querySelectorAll('nav .active-parent').forEach(x => x.classList.remove('active-parent'))
      const list = document.querySelectorAll('nav a')
      for (let i = 0; i < list.length; i++) {
        const link = list[i]
        if (!link.$selectRegex && link.dataset.selectCondition) {
          link.$selectRegex = new RegExp(link.dataset.selectCondition)
        }
        if (link.href === url || (link.$selectRegex && link.$selectRegex.test(url))) {
          const li = link.parentNode
          if (li.tagName === 'LI') {
            li.classList.add('active')
          }
          const container = li.parentNode.parentNode
          if (container.tagName === 'SECTION') {
            container.parentNode.classList.add('active-parent')
          }
          break
        }
      }
    },
    hide (target) {
      window.$(target).hide()
    },
    slideDown (target) {
      window.$(target).slideDown()
    },
    slideUp (target) {
      window.$(target).slideUp()
    },
    hideOne (target) {
      this.slideUp(target)
      target.parentNode.classList.remove('expanded')
    },
    showOnly (except) {
      if (except) {
        this.slideDown(except)
        except.parentNode.classList.add('expanded')
      }
      [...document.querySelectorAll('nav section')].filter(x => x !== except).forEach(this.hideOne)
    },
    registerMenuClickEvents () {
      document
        .querySelectorAll('nav.main-menu-nav-scope span')
        .forEach((item) => {
          if (item.__hasMenuListener) return
          item.__hasMenuListener = true
          item.addEventListener('click', (e) => {
            const section = e.target.parentNode.querySelector('section')
            if (section.style.display !== 'block') {
              this.showOnly(section)
            } else {
              this.hideOne(section)
            }
          })
        })
    }
  },
  computed: {
    dashboardVisible() {
      if (this.hasAnyRole('Superadmin', 'Admin', 'Customer')) {
        return true
      } else if (this.hasAnyRole('Rep')) {
        // Workaround to make sure affiliates can make sales, this is a hack for myzoom live
        return (this.userSellerType === 'Reseller' || this.$getGlobal('affiliate_custom_order').show)
      } else {
        return false
      }
    },
    eventsVisible () {
      // Events should not be visible to affiliates or customers
      return this.hasAnyRole('Admin', 'Superadmin')
        || (this.hasAnyRole('Rep') && this.userSellerType === 'Reseller' && this.$getGlobal('allow_reps_events').show)
    },
    mcommOrNo () {
      return $getGlobal('comm_engine_type')
    }
  }
}
;
        module.exports.template = "\n  <nav class=\"main-menu-nav-scope\" ref=\"nav\">\n    <h2>\n      <img :src=\"$getGlobal('back_office_logo_inverse').value\" />\n    </h2>\n    <ul>\n      <li v-if=\"isImpersonating\">\n        <a href=\"javascript:void(0)\" class=\"mdi-chevron-left\" @click=\"revertLoginAs()\">Return to Admin</a>\n      </li>\n      <li data-root=\"/dashboard\" v-if=\"dashboardVisible\"><a href=\"/dashboard\" class=\"mdi-speedometer\">Dashboard</a></li>\n      <li data-root=\"/sales\" v-if=\"$getGlobal('rep_sales_tab').show && hasAnyRole('Rep')\"><a href=\"/sales\" class=\"mdi-chart-bar\">Sales</a></li>\n      <li data-root=\"/reports\" v-if=\"hasAnyRole('Admin', 'Superadmin')\">\n        <span class=\"mdi-chart-bar\">Reports</span>\n        <section>\n          <ul>\n            <li><a href=\"/reports/financial\">Sales Reports</a></li>\n            <li v-if=\"hasAnyRole('Superadmin')\"><a href=\"/reports/subscriptions\">Subscription Reports</a></li>\n            <li><a href=\"/reports/emails\">Emails Reports</a></li>\n            <li><a href=\"/reports/customers\">Customers Report</a></li>\n          </ul>\n        </section>\n      </li>\n      <li data-root=\"/history\" v-if=\"hasAnyRole('Superadmin')\">\n        <a href=\"/history\" class=\"mdi-history\">History</a>\n      </li>\n      <li data-root=\"/autoship\" v-if=\"hasAnyRole('Superadmin', 'Admin') && ($getGlobal('autoship_enabled').show || $getGlobal('autoship_retail').show)\">\n        <span class=\"mdi-truck-fast\">{{$getGlobal('autoship_display_name').value}}</span>\n        <section>\n          <ul>\n            <li><a href=\"/autoship\">{{ $getGlobal('autoship_display_name').value }} Plans</a></li>\n            <li><a href=\"/autoship/subscriptions\">{{$getGlobal('autoship_display_name').value}} Subscriptions</a></li>\n          </ul>\n        </section>\n      </li>\n      <li data-root=\"/autoship\" v-if=\"hasAnyRole('Rep') && $getGlobal('autoship_enabled').show\">\n        <span class=\"mdi-truck-fast\">{{$getGlobal('autoship_display_name').value}}</span>\n        <section>\n          <ul>\n            <li v-if=\"$getGlobal('autoship_enabled').show\">\n              <a href=\"/inventory/autoship\">My {{$getGlobal('autoship_display_name').value}}</a>\n            </li>\n            <li v-if=\"$getGlobal('reseller_my_orders').show\">\n              <a href=\"/inventory/rep-orders\">My Orders</a>\n            </li>\n            <li v-if=\"userStatusBuy\">\n              <a :href=\"'/inventory/purchase'\">{{$getGlobal('autoship_purchase_label').value}}</a>\n            </li>\n            <li>\n              <a :href=\"'/customer-subscriptions'\">Customer Subscriptions</a>\n            </li>\n          </ul>\n        </section>\n      </li>\n      <li data-root=\"/inventory\"\n          v-if=\"hasAnyRole('Admin', 'Superadmin')\n            || (hasAnyRole('Rep')\n                && userSellerType === 'Affiliate'\n                && ($getGlobal('affiliate_purchase_inventory').show || $getGlobal('affiliate_create_product').show)\n            ) || hasAnyRole('Rep') && userSellerType === 'Reseller'\">\n        <span class=\"mdi-tshirt-crew\">Inventory</span>\n        <section>\n          <ul v-if=\"hasAnyRole('Admin', 'Superadmin')\">\n            <li><a href=\"/inventory\">Corp Inventory</a></li>\n            <li><a href=\"/inventory/admin-rep-index\">Rep Inventory</a></li>\n            <li v-if=\"hasAnyRole('Rep')\">\n              <a href=\"/inventory/personal\">Personal Use</a>\n            </li>\n          </ul>\n          <ul v-if=\"hasAnyRole('Rep')\n                && userSellerType === 'Affiliate'\n                && ($getGlobal('affiliate_purchase_inventory').show || $getGlobal('affiliate_create_product').show)\">\n            <li><a href=\"/inventory\">My Inventory</a></li>\n            <li v-if=\"$getGlobal('affiliate_purchase_inventory').show\">\n              <a href=\"/inventory/rep-orders\">My Orders</a>\n            </li>\n            <li v-if=\"$getGlobal('affiliate_purchase_inventory').show && userStatusBuy\">\n              <a href=\"/inventory/purchase\">Purchase Inventory</a>\n            </li>\n            <li>\n              <a href=\"/inventory/personal\">Personal Use</a>\n            </li>\n            <li v-if=\"$getGlobal('autoship_enabled').show\">\n              <a href=\"/inventory/autoship\">My {{$getGlobal('autoship_display_name').value}}</a>\n            </li>\n          </ul>\n          <ul v-if=\"hasAnyRole('Rep') && userSellerType === 'Reseller'\">\n            <li><a href=\"/inventory\">My Inventory</a></li>\n            <li v-if=\"$getGlobal('reseller_my_orders').show\">\n              <a href=\"/inventory/rep-orders\">My Orders</a>\n            </li>\n            <li v-if=\"$getGlobal('reseller_purchase_inventory').show && userStatusBuy\">\n              <a href=\"/inventory/purchase\">Purchase Inventory</a>\n            </li>\n            <li>\n              <a href=\"/inventory/personal\">Personal Use</a>\n            </li>\n            <li v-if=\"$getGlobal('rep_transfer').show\">\n              <a href=\"/inventory/rep-transfer\">{{ 'Sell to ' + $getGlobal('title_rep').value }}</a>\n            </li>\n          </ul>\n        </section>\n      </li>\n      <li data-root=\"/orders,/invoices\"\n          v-if=\"hasAnyRole('Admin', 'Superadmin')\n            || (userSellerType === 'Reseller' && $getGlobal('rep_orders_tab').show)\n            || (userSellerType === 'Affiliate' && $getGlobal('affiliate_custom_order') && (\n              $getGlobal('affiliate_custom_corp').show\n              || $getGlobal('affiliate_create_product').show\n              || $getGlobal('affiliate_purchase_inventory').show)\n            )\">\n        <span class=\"mdi-dropbox\">Orders</span>\n        <section>\n          <ul>\n            <li><a href=\"/orders\">All Orders</a></li>\n            <li v-if=\"userStatusSell && (\n                  hasAnyRole('Admin', 'Superadmin')\n                  || (userSellerType === 'Affiliate' && $getGlobal('affiliate_custom_order').show)\n                  || (userSellerType === 'Reseller' && $getGlobal('reseller_custom_order').show))\">\n              <a href=\"/orders/custom\">Custom Order</a>\n            </li>\n            <li v-if=\"userStatusSell && (\n                  hasAnyRole('Admin', 'Superadmin')\n                  || (userSellerType === 'Affiliate' && $getGlobal('affiliate_custom_order').show)\n                  || (userSellerType === 'Reseller' && $getGlobal('reseller_custom_order').show))\">\n             <a href=\"/invoices\">Unpaid Invoices</a></li>\n          </ul>\n        </section>\n      </li>\n      <li data-root=\"/shipping\"\n          v-if=\"$getGlobal('enable_shipping_label_creation').show\n            || (hasAnyRole('Admin', 'Superadmin')\n                  || (userSellerType === 'Affiliate' && $getGlobal('affiliate_shipping_rates').show)\n                  || (userSellerType === 'Reseller' && $getGlobal('replicated_site').show)\n            )\">\n        <span class=\"mdi-truck\">Shipping</span>\n        <section>\n          <ul>\n            <li v-if=\"$getGlobal('enable_shipping_label_creation').show\">\n              <a href=\"/shipping/create-shipping-label\">Create Shipping Label</a>\n            </li>\n            <li v-if=\"hasAnyRole('Admin', 'Superadmin')\n                  || (userSellerType === 'Affiliate' && $getGlobal('affiliate_shipping_rates').show)\n                  || (userSellerType === 'Reseller' && $getGlobal('replicated_site').show)\">\n              <a href=\"/shipping/settings\">Settings</a>\n            </li>\n          </ul>\n        </section>\n      </li>\n      <li data-root=\"/announcements\" v-if=\"hasAnyRole('Superadmin', 'Admin', 'Rep')\">\n        <a href=\"/announcements\" class=\"mdi-bullhorn\">{{ announcementsTitle }}</a>\n      </li>\n      <li data-root=\"/coupons\"\n          v-if=\"(hasAnyRole('Admin', 'Superadmin') && $getGlobal('corp_coupons').show)\n            || (userSellerType === 'Reseller' && $getGlobal('reseller_coupons').show)\">\n        <a href=\"/coupons/create\" class=\"mdi-coin\">Coupons</a>\n      </li>\n      <li data-root=\"/product,/bundles\"\n          v-if=\"hasAnyRole('Admin', 'Superadmin')\n            || (userSellerType === 'Reseller' && $getGlobal('reseller_create_product').show)\n            || (userSellerType === 'Affiliate' && $getGlobal('affiliate_create_product').show)\">\n        <span class=\"mdi-cube-outline\">Products</span>\n        <section>\n          <ul>\n            <li><a href=\"/products\">All Products</a></li>\n            <li><a href=\"/products/create\">New Product</a></li>\n            <li v-if=\"hasAnyRole('Admin', 'Superadmin')\">\n              <a href=\"/bundles/create\">New Pack</a>\n            </li>\n          </ul>\n        </section>\n      </li>\n      <li data-root=\"/category\" v-if=\"hasAnyRole('Admin', 'Superadmin')\">\n        <a href=\"/category\" class=\"mdi-grid\">Categories</a>\n      </li>\n      <li data-root=\"/users,/subscription\" v-if=\"hasAnyRole('Admin', 'Superadmin')\">\n        <span class=\"mdi-account-multiple\">Users</span>\n        <section>\n          <ul>\n            <li><a href=\"/users\">All Users</a></li>\n            <li><a href=\"/users/create\">New User</a></li>\n            <li><a href=\"/subscriptions\">All Subscriptions</a></li>\n            <li><a href=\"/subscription-plans/all\">All Subscription Plans</a></li>\n            <li><a href=\"/subscriptions/create\">New Subscription Plan</a></li>\n          </ul>\n        </section>\n      </li>\n      <li data-root=\"/direct-deposit\" v-if=\"hasAnyRole('Superadmin') && $getGlobal('direct_deposit').show\">\n        <span class=\"mdi-cash-usd\">Direct Deposit</span>\n        <section>\n          <ul>\n            <li v-if=\"$getGlobal('direct_deposit').show\"><a href=\"/payment-files\">Payment Files</a></li>\n            <li v-if=\"$getGlobal('direct_deposit').show\"><a href=\"/bank-account-search\">Bank Accounts</a></li>\n            <li v-if=\"$getGlobal('payquicker').show\"><a href=\"/direct-deposit/paymentList\">Direct Deposit</a></li>\n          </ul>\n        </section>\n      </li>\n      <li data-root=\"/ewallet\"\n          v-if=\"hasAnyRole('Admin', 'Superadmin')\n            || (userSellerType === 'Reseller' && $getGlobal('reseller_ewallet').show)\n            || (userSellerType === 'Affiliate' && $getGlobal('affiliate_ewallet').show)\">\n        <a href=\"/ewallet/dashboard\" class=\"mdi-wallet\">eWallet</a>\n      </li>\n      <li data-root=\"/events\"\n          v-if=\"eventsVisible\">\n        <a href=\"/events\" class=\"mdi-calendar\">{{ $getGlobal('events_title').value.plural }}</a>\n      </li>\n      <!--<li data-root=\"/commission-engine\"\n        v-if=\"$getGlobal('comm_engine_tab').show && hasAnyRole('rep')\">-->\n        <li data-root=\"/commission-engine\">\n        <span class=\"mdi-engine\">Commission Engine</span>\n        <section>\n          <ul>\n            <li v-if=\"$getGlobal('comm_engine_type').value!=='MCom'\"><a href=\"/commission-engine/dashboard\" >Dashboard</a></li>\n            <li v-else-if=\"$getGlobal('comm_engine_type').value==='MCom'\"><a href=\"/commission-engine/mcomm-dashboard\">MCom Dashboard</a></li>\n            <li v-if=\"$getGlobal('comm_engine_type').value!=='MCom'\"><a href=\"/commission-engine/my-team-contacts\">My Team Contacts</a></li>\n            <li v-else-if=\"$getGlobal('comm_engine_type').value==='MCom'\"><a href=\"/commission-engine/my-mcomm-team-contacts\">MCom Team Contacts</a></li>\n            <li v-if=\"$getGlobal('comm_engine_type').value!=='MCom'\"><a href=\"/commission-engine/downline-report\">Downline Report</a></li>\n            <li v-else-if=\"$getGlobal('comm_engine_type').value==='MCom'\"><a href=\"/commission-engine/mcomm-downline-report\">MCom Downline Report</a></li>\n            <li><a href=\"/commission-engine/tree-view\">Downline Tree</a></li>\n            <li><a href=\"/commission-engine/my-ledger\">My Ledger</a></li>\n          </ul>\n        </section>\n      </li>\n      <li :data-root=\"$getGlobal('commission_engine_link').value\"\n          v-if=\"$getGlobal('commission_engine_link').show\">\n        <a :href=\"$getGlobal('commission_engine_link').value\" target=\"_blank\" class=\"mdi-poll\">Commission Engine</a>\n      </li>\n      <li data-root=\"/lms\"\n          v-if=\"hasAnyRole('Rep') && $getGlobal('lms_link').show\">\n        <a :href=\"$getGlobal('lms_link').value+'?cpjwt='+token\" target=\"_blank\" class=\"mdi-school\">{{$getGlobal('lms_link_name').value}}</a>\n      </li>\n      <li data-root=\"/returns\"\n          v-if=\"hasAnyRole('Admin', 'Superadmin')\n            || (hasAnyRole('Rep') && userSellerType === 'Reseller' && $getGlobal('reseller_returns').show)\n            || (hasAnyRole('Rep') && userSellerType === 'Affiliate' && $getGlobal('affiliate_returns').show)\">\n        <a href=\"/returns\" class=\"mdi-backup-restore\">{{ hasAnyRole('Rep') ? 'My ' : '' }}Returns</a>\n      </li>\n      <li data-root=\"/media\"\n          v-if=\"hasAnyRole('Admin', 'Superadmin')\n            || (userSellerType === 'Reseller' && $getGlobal('reseller_media_library').show)\n            || (userSellerType === 'Affiliate' && $getGlobal('affiliate_media_library').show)\">\n        <a href=\"/media\" class=\"mdi-folder-open\">Media Library</a>\n      </li>\n      <li data-root=\"store-builder\"\n          v-if=\"(hasAnyRole('Admin', 'Superadmin') && $getGlobal('store_builder_admin').show)\n            || (userSellerType === 'Reseller' && $getGlobal('store_builder_reseller').show)\">\n        <a href=\"/store-builder\" class=\"mdi-store\">Store Builder</a>\n      </li>\n      <!-- li v-if=\"hasAnyRole('Superadmin')\">\n        <a href=\"/webhooks\" class=\"mdi-source-fork\">Webhooks</a>\n      </li -->\n      <li v-if=\"hasAnyRole('Admin', 'Superadmin')\">\n        <a href=\"/settings\" class=\"mdi-settings\">Settings</a>\n      </li>\n      <li data-root=\"/release\" v-if=\"hasAnyRole('Superadmin')\">\n        <a href=\"/release\" class=\"mdi-format-list-bulleted\">Release Summary</a>\n      </li>\n      <!-- customer items -->\n      <li data-root=\"/my-subscriptions\" v-if=\"hasAnyRole('Customer') && $getGlobal('autoship_enabled').show\">\n        <a href=\"/my-subscriptions\" class=\"mdi-calendar-clock\">My Subscription</a>\n      </li>\n      <li data-root=\"/my-orders\" v-if=\"hasAnyRole('Customer')\">\n        <a href=\"/my-orders\" class=\"mdi-dropbox\">My Orders</a>\n      </li>\n      <li data-root=\"/my-settings\" v-if=\"hasAnyRole('Customer')\">\n        <a href=\"/my-settings\" class=\"mdi-folder-account\">My Account</a>\n      </li>\n    </ul>\n  </nav>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/dashboard/mcomm-sales-volume.vue:script


      sms.vComponent('assets/js/components/dashboard/mcomm-sales-volume.vue', {"name":"CpMcommSalesVolume","path":"assets/js/components/dashboard/mcomm-sales-volume.vue"}, (require,exports,module)=>{
        
// include vue-d3 plugin
const Dashboard = require('../../resources/dashboard.js')
const Auth = require('auth')

module.exports = {
  data: function () {
    return {
      Auth: Auth,
      _sales: [],
      loading: true,
      newOrders: {
        total: 0,
        unshipped: 0
      },
      monthlyOrderVolume: {
        today: 0,
        month: 0
      },
      monthlySalesVolume: {
        today: 0,
        month: 0
      },
      pageViews: {
        today: 0,
        month: 0
      },
      mcommValues:{
        rank:0,
        personalVolume:0,
        customerCount:0,
        careerTitle:0,
        teamGroupVolume:0,
        commissionableRetailVolume:0,
        residualBonus:0,
        fastStartCommissions:0,
        retailBonus:0,
        periodName:0,
        levelVolumes:[],
      }
    }
  },
  props: ['announcements', 'allLink'],
  computed: {},
  mounted () {
    this.salesVolume()
  },
  methods: {
      // use dashboard resource to pull sales
    make_x_gridlines: function (xScale) {
      return this.$d3.axisBottom(xScale).ticks(14)
    },
    make_y_gridlines (yScale) {
      return this.$d3.axisLeft(yScale).ticks(8)
    },
    salesVolume: function () {
      return Dashboard.mcommVolume()
        .then((response) => {
          console.log(response)
          console.log(response.levelVolumes)
          this.handleSalesVolumeResponse(response)
          // this.newOrders = response.newOrders
          // this.monthlyOrderVolume = response.monthlyOrderVolume
          // this.monthlySalesVolume = response.monthlySalesVolume
          // this.pageViews = response.pageViews
          console.log(response)
          this.mcommValues.rank = response.rank.toFixed(2)
          this.mcommValues.personalVolume = response.personalVolume.toFixed(2)
          this.mcommValues.customerCount = response.customerCount.toFixed(2)
          this.mcommValues.careerTitle = response.careerTitle.toFixed(2)
          this.mcommValues.teamGroupVolume = response.teamGroupVolume.toFixed(2)
          this.mcommValues.commissionableRetailVolume = response.commissionableRetailVolume.toFixed(2)
          this.mcommValues.residualBonus = response.residualBonus.toFixed(2)
          this.mcommValues.fastStartCommissions = response.fastStartCommissions.toFixed(2)
          this.mcommValues.retailBonus = response.retailBonus.toFixed(2)
          this.mcommValues.periodName = response.periodName
          // this.levelVolumes = response.levelVolumes
          Object.keys(response.levelVolumes).map(function(key, index) {
            response.levelVolumes[key]=response.levelVolumes[key].toFixed(2);
          });
          this.mcommValues.levelVolumes = response.levelVolumes
        }).finally(()=>{this.loading=false})
    },
    // handle response
    handleSalesVolumeResponse: function (response) {
      this.loading = false
      if (response.error) {
        console.log(this.$toast)
        this.$toast(response.message, {error: true})
      }
    }
  },
  components: {
    CpRecentAnnouncements: require('./CpRecentAnnouncements.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"cp-dashboard-mcomm-sales-volume-wrapper\">\n    <div class=\"report-wrapper\">\n      <h2>Sales Period Performance Report for {{mcommValues.periodName}}</h2>\n      <section class=\"stats\">\n        <div class=\"stats-group\">\n          <h4>Current Title</h4>\n          <div class=\"stats\" v-if=\"loading\">\n            <div class=\"stat odd\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"stats\" v-else>\n            <div class=\"stat odd\">\n              <p v-text=\"mcommValues.rank || '0.00'\"></p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"stats-group\">\n          <h4>Personal Volume</h4>\n          <div class=\"stats\" v-if=\"loading\">\n            <div class=\"stat even\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"stats\" v-else>\n            <div class=\"stat even\">\n              <p>${{mcommValues.personalVolume || '0.00'}}<p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"stats-group\">\n          <h4>Customer Count</h4>\n          <div class=\"stats\" v-if=\"loading\">\n            <div class=\"stat odd\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"stats\" v-else>\n            <div class=\"stat odd\">\n              <p>{{mcommValues.customerCount || '0'}}</p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n      </section>\n      <section class=\"stats\">\n        <div class=\"stats-group\">\n          <h4>Career Title</h4>\n          <div class=\"stats\" v-if=\"loading\">\n            <div class=\"stat even\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"stats\" v-else>\n            <div class=\"stat even\">\n              <p>{{mcommValues.careerTitle || '0.00'}}</p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"stats-group\">\n          <h4>Team Group Volume (TGV)</h4>\n          <div class=\"stats\" v-if=\"loading\">\n            <div class=\"stat odd\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"stats\" v-else>\n            <div class=\"stat odd\">\n              <p>${{mcommValues.teamGroupVolume || '0.00'}}</p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"stats-group\">\n          <h4>Commissionable Retail Volume</h4>\n          <div class=\"stats\" v-if=\"loading\">\n            <div class=\"stat even\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"stats\" v-else>\n            <div class=\"stat even\">\n              <p>${{mcommValues.commissionableRetailVolume || '0.00'}}</p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n      </section>\n      <section class=\"stats\">\n        <div class=\"stats-group\">\n          <h4>Residual Bonus</h4>\n          <div class=\"stats\" v-if=\"loading\">\n            <div class=\"stat odd\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"stats\" v-else>\n            <div class=\"stat odd\">\n              <p v-text=\"mcommValues.residualBonus || '0.00'\"></p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"stats-group\">\n          <h4>Fast Start Commissions</h4>\n          <div class=\"stats\" v-if=\"loading\">\n            <div class=\"stat even\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"stats\" v-else>\n            <div class=\"stat even\">\n              <p>${{mcommValues.fastStartCommissions}}<p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"stats-group\">\n          <h4>Retail Bonus</h4>\n          <div class=\"stats\" v-if=\"loading\">\n            <div class=\"stat odd\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"stats\" v-else>\n            <div class=\"stat odd\">\n              <p>${{mcommValues.retailBonus}}</p>\n              <p>MTD</p>\n            </div>\n          </div>\n        </div>\n      </section>\n      <section class=\"levels\" v-if=\"$getGlobal('replicated_site').show || Auth.hasAnyRole('Admin')\">\n        <h4>Level Volumes</h4>\n        <div class=\"level-volumes-container\">\n          <div class=\"grid-row\" v-if=\"loading\">\n            <div class=\"stat odd\">\n              <p style=\"font-style:italics;\">Loading...</p>\n            </div>\n          </div>\n          <div class=\"grid-row\" v-else>\n            <div v-for=\"(item, name) in mcommValues.levelVolumes\" class=\"grid-item\" v-bind:key=\"`levelVolume-${name}`\">\n              <div class=\"grid-item-wrapper\">\n                <div class=\"grid-item-container\">\n                  <p>${{item || '0.00'}}</p>\n                  <p>Level ${{name}}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n    <cp-recent-announcements :announcements=\"announcements\" :allLink=\"allLink\"></cp-recent-announcements>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/direct-deposit/CpPaymentFile.vue:script


      sms.vComponent('assets/js/components/direct-deposit/CpPaymentFile.vue', {"name":"CpPaymentFile","path":"assets/js/components/direct-deposit/CpPaymentFile.vue"}, (require,exports,module)=>{
        
const Payman = require('../../resources/PaymanAPI.js')

module.exports = {
  name: 'CpPaymentFile',
  routing: [
    {
      name: 'site.CpPaymentFile',
      path: 'payment-files/:id',
      meta: {
        title: 'Payment File Details'
      },
      props: true
    }
  ],
  props: {
    fileProp: {
      type: Object,
      required: false,
      default () {
        return null
      }
    },
    id: {
      type: String
    }
  },
  data: function () {
    return {
      paidSuccess: false,
      paymentFile: null,
      listComponent: null
    }
  },
  created: function () {
    if (this.fileProp) {
      this.paymentFile = this.fileProp
      this.selectListComponent()
    } else {
      this.getFile()
    }
  },
  methods: {
    getFile () {
      Payman.getPaymentFile(this.id)
        .then((response) => {
          if (response.error) {
            return this.$toast('errorMessage', response)
          }
          this.paymentFile = response
          this.selectListComponent()
        })
    },
    selectListComponent () {
      let filename = this.paymentFile.fileName.toLowerCase()
      if (filename.indexOf('payouts') > -1) {
        this.listComponent = 'CpPaymentFileEntries'
      } else if (filename.indexOf('validations') > -1) {
        this.listComponent = 'CpValidationFileEntries'
      }
    },
    downloadNacha: function () {
      Payman.downloadNacha(this.id)
        .then((response) => {
          if (response.error) {
            return this.$toast('errorMessage', response)
          }
          var uri = window.URL.createObjectURL(new window.Blob([response], {
            type: 'text/plain'
          }))
          var a = document.createElement('a')
          document.body.appendChild(a)
          a.style = 'display: none'
          a.href = uri
          a.download = this.paymentFile.fileName.replace('.tsv', '.txt')
          a.click()
          window.URL.revokeObjectURL(uri)
          a.parentNode.removeChild(a)
        })
    },
    markPaid: function () {
      if (confirm('Are you sure?')) {
        Payman.markSubmitted(this.id)
          .then((response) => {
            if (response.error) {
              return this.$toast(response, { error: true, dismiss: false })
            }
            this.paidSuccess = true
            setTimeout(function () {
              this.paidSuccess = false
              window.location.href = '/payment-files'
            }.bind(this), 1500)
          })
      } else {
        return false
      }
    }
  },
  components: {
    CpPaymentFileEntries: require('./CpPaymentFileEntries.vue'),
    CpValidationFileEntries: require('./CpValidationFileEntries.vue')
  }
}
;
        module.exports.template = "\n  <div v-if=\"paymentFile\" class=\"payment-file-details\">\n      <div class=\"align-center success-message\" v-if=\"paidSuccess\">\n        <p>Successfully Marked as Paid</p>\n      </div>\n      <div class=\"flex-end\">\n        <a class=\"nacha\" @click=\"downloadNacha()\">Download NACHA File</a>\n        <input v-show=\"!paymentFile.submittedAt\" class=\"cp-button-standard\" type=\"button\" value=\"Mark as Paid\" @click=\"markPaid()\">\n      </div>\n      <table class=\"cp-table-standard top-table\">\n        <thead>\n          <th>File Name</th>\n          <th>Description</th>\n          <th>Amount</th>\n          <th>Bank Name</th>\n          <th>Deposit Count</th>\n          <th>Transaction Count</th>\n          <th>Submitted Date</th>\n        </thead>\n        <tbody>\n          <tr>\n            <td>{{paymentFile.fileName}}</td>\n            <td>{{paymentFile.description}}</td>\n            <td>{{paymentFile.credits | currency}}</td>\n            <td>{{paymentFile.bankName || 'n/a'}}</td>\n            <td>{{paymentFile.entryCount}}</td>\n            <td>{{paymentFile.transactionCount}}</td>\n            <td>{{paymentFile.submittedAt | cpStandardDate}}</td>\n          </tr>\n        </tbody>\n      </table><br>\n      <component :fileId=\"paymentFile.id.toString()\" :is=\"listComponent\"></component>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/direct-deposit/CpValidationFileEntries.vue:script


      sms.vComponent('assets/js/components/direct-deposit/CpValidationFileEntries.vue', {"name":"CpValidationFileEntries","path":"assets/js/components/direct-deposit/CpValidationFileEntries.vue"}, (require,exports,module)=>{
        
const DirectDeposit = require('../../resources/direct-deposit.js');

module.exports = {
  props: {
    fileId: {
      type: String,
      required: true
    }
  },
  data: function () {
    return {
      batches: {},
      loading: true,
      pagination: {
        current_page: 1,
        last_page: 0
      },
      asc: false,
      indexRequest: {
        page: 1,
        order: 'ASC',
        column: 'name',
        per_page: 25,
        search_term: '',
        userId: '',
        transactionId: '',
        amount: '',
        cardHolder: '',
        paymentFileId: '',
        term: ''
      },
      reverseSort: false
    }
  },
  created: function () {
    this.getBatches()
  },
  methods: {
    getBatches: function () {
      this.loading = true
      this.batches = {}
      let request = {
        page: this.pagination.current_page,
        per_page: this.indexRequest.per_page,
        payment_file_id: this.fileId
      }
      DirectDeposit.getValidations(request)
        .then((response) => {
          if (response.error) {
            return this.$toast('errorMessage', response)
          }
          this.loading = false
          this.batches = response.data
          this.pagination.last_page = response.last_page
        })
    },
  }
}
;
        module.exports.template = "\n  <div class=\"bottom-table\">\n    <table class=\"table\">\n      <thead>\n        <th>{{$getGlobal('title_rep').value}} ID</th>\n        <th>Name</th>\n        <th>Amount 1</th>\n        <th>Amount 2</th>\n        <th>Account NAME</th>\n        <th>Paid At</th>\n        <th>Created At</th>\n      </thead>\n      <tbody>\n        <tr v-for=\"batch in batches\">\n          <td>{{batch.userId}}</td>\n          <td>{{batch.userName}}</td>\n          <td>{{batch.amount1 | currency}}</td>\n          <td>{{batch.amount2 | currency}}</td>\n          <td>{{ (batch.userAccount ? batch.userAccount.name : 'n/a')}}</td>\n          <td>{{batch.submittedAt | cpStandardDate}}</td>\n          <td>{{batch.createdAt | cpStandardDate}}</td>\n        </tr>\n      </tbody>\n    </table>\n    <div class=\"align-center\">\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        <cp-pagination :pagination=\"pagination\" :callback=\"getBatches\" :offset=\"2\"></cp-pagination>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/events/CpEventsIndex.vue:script


      sms.vComponent('assets/js/components/events/CpEventsIndex.vue', {"name":"CpEventsIndex","path":"assets/js/components/events/CpEventsIndex.vue"}, (require,exports,module)=>{
        
const Events = require('../../resources/EventsAPIv0.js')
const Auth = require('auth')
const moment = require('moment')

module.exports = {
  name: 'CpEventsIndex',
  routing: [
    {
      name: 'site.CpEventsIndex',
      path: '/events',
      meta: {
        title: 'Events'
      },
      props: true
    }
  ],
  data: () => ({
    Auth: Auth,
    loading: false,
    events: {},
    eventsTitle: 'Events',
    eventTitle: 'Event',
    searchPlaceholder: 'Search Events',
    indexRequest: {
      search_term: '',
      column: 'created_at',
      order: 'DESC',
      page: 1,
      per_page: 15,
      sponsor_id: Auth.getOwnerId(),
      status: 'open'
    },
    pagination: {},
    eventsModal: false,
    showConfirm: false,
    edit: false,
    eventId: null,
    selectedEvent: {
      date: moment().toString(),
      start_date: moment().toString()
    }
  }),
  created () {
      this.eventsTitle = this.$getGlobal('events_title').value.plural
      this.eventTitle = this.$getGlobal('events_title').value.single
      this.searchPlaceholder = 'Search ' + this.eventsTitle
  },
  mounted () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
    this.getEvents()
  },
  methods: {
    newEvent () {
      this.eventsModal = true
      this.edit = false
      this.selectedEvent = {}
    },
    getEvents () {
      Events.getEvents(this.indexRequest)
        .then((response) => {
          this.pagination = response
          this.events = response.data
        })
    },
    showOrders (event) {
      this.$router.push({ name: 'CpEventsOrders', params: { eventProp: event, id: event.id.toString() }})
    },
    deleteEvent (event) {
      Events.deleteEvents(this.indexRequest, event.id)
        .then((response) => {
          this.$toast(response)
          this.getEvents()
        })
    },
    selectEventType (status) {
      switch (status) {
        case 'OPEN':
          this.indexRequest.status = status.toLowerCase()
          this.getEvents()
          break
        case 'CLOSED':
          this.indexRequest.status = status.toLowerCase()
          this.getEvents()
          break
        default:
      }
    },
    confirmAndDelete (id) {
      this.eventId = id
      this.showConfirm = true
    },
    showEvent (event) {
      this.selectedEvent = event
      this.eventsModal = true
      this.edit = true
    },
    clearModal () {
      this.eventsModal = false
      this.selectedEvent = {}
      this.edit = false
    },
    addEvent (event) {
      this.eventsModal = false
      this.getEvents()
    }
  },
  components: {
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue'),
    CpTabs: require('../../cp-components-common/navigation/CpTabs.vue'),
    CpEventsForm: require('./CpEventsForm.vue'),
    CpConfirm: require('../../cp-components-common/CpConfirm.vue')
  }
}
;
        module.exports.template = "\n  <div id=\"events-index-wrapper\">\n    <div class=\"space-between\">\n        <div>\n            <button @click=\"newEvent()\" class=\"cp-button-link\">Create {{ eventTitle }}</button>\n        </div>\n    </div>\n    <cp-tabs\n     :items=\"[\n       { name: 'OPEN', active: true },\n       { name: 'CLOSED', active: false }\n     ]\"\n     :callback=\"selectEventType\"></cp-tabs>\n    <cp-table-controls\n    :date-picker=\"false\"\n    :index-request=\"indexRequest\"\n    :search-place-holder=\"searchPlaceholder\"\n    :resource-info=\"pagination\"\n    :get-records=\"getEvents\"></cp-table-controls>\n    <table class=\"cp-table-standard\">\n      <thead>\n        <tr>\n          <th>Id</th>\n          <th>Name</th>\n          <th>Location</th>\n          <th>Status</th>\n          <th>{{ eventTitle }} Orders</th>\n          <th>Sale Start</th>\n          <th>Sale End</th>\n          <th><!-- placeholder for delete button --></th>\n        </tr>\n      </thead>\n      <tbody v-for=\"(event, i) in events\" :key=\"i\">\n        <tr>\n          <td>{{event.id}}</td>\n          <td><a @click=\"showEvent(event)\">{{event.name}}</a></td>\n          <td>{{event.location}}</td>\n          <td>{{event.status}}</td>\n          <td><a @click=\"showOrders(event)\"> View Orders</a></td>\n          <td>{{event.sale_start | cpStandardDate(true)}}</td>\n          <td>{{event.sale_end | cpStandardDate(true)}}</td>\n          <td v-if=\"Auth.hasAnyRole('Superadmin','Admin')\"><i class=\"mdi mdi-close pointer\" @click=\"confirmAndDelete(event.id)\"></i></td>\n          <td v-else></td>\n        </tr>\n      </tbody>\n    </table>\n    <cp-confirm\n    :message=\"'Are you sure you want to delete this event?'\"\n    v-model=\"showConfirm\"\n    :show=\"showConfirm\"\n    :callback=\"deleteEvent\"\n    :params=\"{id:eventId}\"></cp-confirm>\n    <div class=\"align-center\">\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        <cp-pagination :pagination=\"pagination\" :callback=\"getEvents\" :offset=\"2\"></cp-pagination>\n    </div>\n    <cp-dialog :open=\"eventsModal\" @close=\"clearModal()\">\n      <h2 slot=\"header\">\n        {{ edit && eventsModal ? 'Edit' : eventsModal ? 'Create' : (eventTitle + ' Details') }}\n      </h2>\n      <template slot=\"content\">\n        <cp-events-form v-if=\"eventsModal\" :event=\"selectedEvent\" @close=\"clearModal\" @add-event=\"addEvent\" :edit=\"edit\"></cp-events-form>\n      </template>\n    </cp-dialog>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/direct-deposit/CpPaymentFileEntries.vue:script


      sms.vComponent('assets/js/components/direct-deposit/CpPaymentFileEntries.vue', {"name":"CpPaymentFileEntries","path":"assets/js/components/direct-deposit/CpPaymentFileEntries.vue"}, (require,exports,module)=>{
        
const DirectDeposit = require('../../resources/direct-deposit.js');

module.exports = {
  props: {
    fileId: {
      type: String,
      required: true
    }
  },
  data: function () {
    return {
      batches: {},
      loading: true,
      pagination: {
        current_page: 1,
        last_page: 0
      },
      asc: false,
      indexRequest: {
        page: 1,
        order: 'ASC',
        column: 'name',
        per_page: 25,
        search_term: '',
        userId: '',
        transactionId: '',
        amount: '',
        cardHolder: '',
        paymentFileId: '',
        term: ''
      },
      reverseSort: false
    }
  },
  created: function () {
    this.getBatches()
  },
  methods: {
    getBatches: function () {
      this.loading = true
      this.batches = {}
      this.indexRequest.page = this.pagination.current_page
      this.indexRequest.paymentFileId = this.fileId

      DirectDeposit.batchDetails(this.indexRequest)
        .then((response) => {
          if (response.error) {
            return this.$toast('errorMessage', response.message)
          }
          this.loading = false
          this.batches = response.data
          this.pagination.last_page = response.last_page
        })
    },
  }
}
;
        module.exports.template = "\n  <div class=\"bottom-table\">\n    <table class=\"table\">\n      <thead>\n        <th>Payment ID</th>\n        <th>Amount</th>\n        <th>{{$getGlobal('title_rep').value}} ID</th>\n        <th>{{$getGlobal('title_rep').value}} NAME</th>\n        <th>Type</th>\n        <th>Paid At</th>\n      </thead>\n      <tbody>\n          <tr v-for=\"batch in batches\">\n              <td>{{batch.id}}</td>\n              <td>{{batch.amount | currency}}</td>\n              <td v-if=\"batch.user\">{{batch.user.repId}}</td>\n              <td v-else>n/a</td>\n              <td v-if=\"batch.user\">{{batch.user.name}}</td>\n              <td v-else>n/a</td>\n              <td>{{batch.type}}</td>\n              <td v-if=\"batch.paidAt\">{{batch.paidAt | cpStandardDate}}</td>\n              <td v-else>n/a</td>\n          </tr>\n      </tbody>\n    </table>\n    <div class=\"align-center\">\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        <cp-pagination :pagination=\"pagination\" :callback=\"getBatches\" :offset=\"2\"></cp-pagination>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/events/CpEventsForm.vue:script


      sms.vComponent('assets/js/components/events/CpEventsForm.vue', {"name":"CpEventsForm","path":"assets/js/components/events/CpEventsForm.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')
const Events = require('../../resources/EventsAPIv0.js')
const Products = require('../../resources/InventoryAPIv0.js')
const moment = require('moment')

module.exports = {
  data: () => ({
    Auth: Auth,
    validationErrors: {},
    creatingEvent: false,
    showConfirm: false,
    loadingImage: true,
    selectIndividual: false,
    products: [],
    saleDate: null,
    saleStart: null,
    saleEnd: null,
    indexRequest: {
      price: 'retail',
      order: 'DESC',
      sort_by: 'created_at',
      per_page: 100,
      search_term: '',
      page: 1,
      type: 'products',
      expands: ['categories', 'product_images'],
      user_id: null,
      corp: false
    },
    reverseSort: false,
    searchResults: [],
    eventsTitle: 'Events',
    eventTitle: 'Event'
  }),
  props: {
    event: {
      default () {
        return {}
      }
    },
    edit: {
      type: Boolean
    }
  },
  created () {
    this.eventsTitle = this.$getGlobal('events_title').value.plural
    this.eventTitle = this.$getGlobal('events_title').value.single
    if (this.event.date) {
      this.saleDate = moment.utc(this.event.date, 'YYYY-MM-DDTHH:mm:ss').local().format('YYYY-MM-DDTHH:mm:ss.SSS')
    }
    if (this.event.sale_start) {
      this.saleStart = moment.utc(this.event.sale_start, 'YYYY-MM-DDTHH:mm:ss').local().format('YYYY-MM-DDTHH:mm:ss.SSS')
    }
    if (this.event.sale_end) {
      this.saleEnd = moment.utc(this.event.sale_end, 'YYYY-MM-DDTHH:mm:ss').local().format('YYYY-MM-DDTHH:mm:ss.SSS')
    }
  },
  mounted () {
    this.dataSetup()
  },
  methods: {
    dataSetup () {
      if (!this.edit) {
        this.event.img = this.$getGlobal('events_default_img').value
        this.event.product_ids = null
      } else {
        if (this.event.product_ids !== null && this.event.product_ids.length > 0) {
          this.selectIndividual = true
          this.getProducts()
        } else if (this.event.product_ids !== null) {
          this.selectIndividual = true
          this.products = []
        }
      }

      this.loadingImage = false
    },
    confirmAndClose (id) {
      this.event.status = 'closed'
      this.showConfirm = true
    },
    undoDelete () {
      this.event.status = 'open'
    },
    createOrUpdate: function () {
      if (this.edit) {
        this.updateEvent()
      } else {
        this.createEvent()
      }
    },
    createEvent () {
      let request = {
        name: this.event.name,
        host_name: this.event.host_name,
        items_limit: this.event.items_limit,
        location: this.event.location,
        description: this.event.description,
        date: this.convertDateUTC(this.saleDate),
        sale_start: this.convertDateUTC(this.saleStart),
        sale_end: this.convertDateUTC(this.saleEnd),
        img: this.event.img,
        status: this.event.status,
        product_ids: this.event.product_ids
      }
      this.creatingEvent = true
      this.event.status = 'open'
      Events.createEvent(request)
        .then((response) => {
          this.creatingEvent = false
          if (response.error) {
            this.validationErrors = response.message
            return this.$toast(response.message)
          }
          this.$toast('Event created successfully.')
          this.$emit('add-event', this.event)
        })
    },
    updateEvent () {
      let request = {
        name: this.event.name,
        host_name: this.event.host_name,
        items_limit: this.event.items_limit,
        location: this.event.location,
        description: this.event.description,
        date: this.convertDateUTC(this.saleDate),
        sale_start: this.convertDateUTC(this.saleStart),
        sale_end: this.convertDateUTC(this.saleEnd),
        img: this.event.img,
        status: this.event.status,
        product_ids: this.event.product_ids
      }
      // don't update status unless input is setting it to closed
      if (this.event.status !== 'closed') {
        delete request.status
      }
      Events.updateEvent(request, this.event.id)
        .then((response) => {
          if (!response.error) {
            this.$toast('Event updated successfully.', { dismiss: false })
            this.$emit('add-event', this.event)
          } else {
            this.validationErrors = response.message
          }
        })
    },
    addProduct (product) {
      if (this.event.product_ids === null) {
        this.event.product_ids = []
      }
      this.event.product_ids.push(product.id)
      this.products.unshift(product)
    },
    removeProduct (product, index) {
      this.products.splice(index, 1)
      this.event.product_ids = this.event.product_ids.filter(product_ids => product_ids != product.id)
    },
    clearSearchOptions: _.debounce(function () {
      this.searchResults = []
    }, 400),
    convertDateUTC (datetime) {
      return moment(datetime, 'YYYY-MM-DDTHH:mm:ss.SSS').utc().format('YYYY-MM-DDTHH:mm:ss')
    },
    searchProducts (searchTerm) {
      this.indexRequest.search_term = searchTerm
      if (Auth.hasAnyRole('Superadmin', 'Admin')) {
        this.indexRequest.corp = true
      } else {
        this.indexRequest.user_id = this.Auth.getOwnerId()
      }
      this.indexRequest.product_ids = []
      Products.getProducts(this.indexRequest)
        .then((response) => {
          if (!response.error) {
            this.searchResults = response.data
          }
        })
    },
    getProducts () {
      this.indexRequest.product_ids = this.event.product_ids
      if (Auth.hasAnyRole('Superadmin', 'Admin')) {
        this.indexRequest.corp = true
      } else {
        this.indexRequest.user_id = this.Auth.getOwnerId()
      }
      Products.getProducts(this.indexRequest)
        .then((response) => {
          if (this.edit) {
            this.products = response.data
          }
        })
    },
    selectProducts () {
      this.selectIndividual = !this.selectIndividual
      if (this.selectIndividual === false) {
        this.products = []
        this.event.product_ids = null
      } else {
        this.event.product_ids = []
      }
    },
    sortColumn: function (sort_by) {
      this.indexRequest.sort_by = sort_by
      this.indexRequest.product_ids = this.event.product_ids
      this.reverseSort = !this.reverseSort
      if (this.reverseSort !== true) {
        this.indexRequest.sort_by = '-' + sort_by
      }
      this.getProducts()
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpEventsPhotoUpload: require('./CpEventsPhotoUpload.vue'),
    CpEditor: require('../../cp-components-common/inputs/CpEditor.vue'),
    CpConfirm: require('../../cp-components-common/CpConfirm.vue'),
    CpTooltip: require('../../custom-plugins/CpTooltip.vue')
  }
}
;
        module.exports.template = "\n  <div id=\"event-form-wrapper\">\n    <div class=\"cp-form-standard\">\n      <div>\n        <cp-input\n        :label=\"eventTitle + ' Name'\"\n        type=\"text\"\n        :error=\"validationErrors['name']\"\n        v-model=\"event.name\"></cp-input>\n        <cp-input\n        label=\"Host Name\"\n        type=\"text\"\n        :error=\"validationErrors['host_name']\"\n        v-model=\"event.host_name\"></cp-input>\n        <label>Location</label>\n        <cp-tooltip :options=\"{content:'Tell your guests where they can find your event. You can give them a website, a specific address or even a store parking lot.'}\"></cp-tooltip>\n        <cp-input\n        type=\"text\"\n        :error=\"validationErrors['location']\"\n        v-model=\"event.location\">\n        </cp-input>\n        <label>Limit</label>\n        <cp-tooltip :options=\"{content:'This is an optional field which allows you to set a limit on the number of items (not orders) that can be sold in this event. Once the number of items have been sold, the event will be displayed as “Sold Out” to your customers.'}\"></cp-tooltip>\n        <cp-input\n        type=\"number\"\n        :error=\"validationErrors['items_limit']\"\n        v-model=\"event.items_limit\"></cp-input>\n        <div>\n          <label>{{ eventTitle }} Date</label>\n          <cp-tooltip :options=\"{content:'This is the actual date/time of your event for people to meet at the designated location. The time will be saved in your local time zone and will be automatically converted for any customer viewing the event from a different time zone. Please remember that the Sale Start Sate and Sale End Date allow you to control how long before or after an event you will accept orders. '}\"></cp-tooltip>\n        </div>\n        <div>\n          <cp-datetime v-model=\"saleDate\" type=\"datetime\"></cp-datetime>\n        </div>\n        <div>\n          <label>Sale Start Date</label>\n          <cp-tooltip :options=\"{content: 'This is the date/time the event will be made available to your customers. The time will be saved in your local time zone and will be automatically converted for any customer viewing the event from a different time zone.'}\"></cp-tooltip>\n        </div>\n        <div>\n          <cp-datetime v-model=\"saleStart\" type=\"datetime\"></cp-datetime>\n        </div>\n        <div>\n          <label>Sale End Date</label>\n          <cp-tooltip :options=\"{content: 'This is the date/time the event will no longer be made available to your customers. The time will be saved in your local time zone and will be automatically converted for any customer viewing the event from a different time zone. You can edit this date after creation if you ever need to adjust how long to make the event available.'}\"></cp-tooltip>\n        </div>\n        <div>\n          <cp-datetime v-model=\"saleEnd\" type=\"datetime\"></cp-datetime>\n        </div>\n        <div v-if=\"edit\">\n          <label>{{ eventTitle }} Status:</label><strong>{{event.status}}</strong>\n        </div>\n        <button v-if=\"event.status === 'open' && edit\" class=\"cp-button-standard\" type=\"button\" name=\"button\" @click=\"confirmAndClose(event)\"> Close {{ eventTitle }}</button>\n        <cp-events-photo-upload\n          v-if=\"!loadingImage\"\n          @new-media=\"function (val) { event.img = val }\"\n          :current-media=\"event.img\"\n          :validation-errors=\"validationErrors\"></cp-events-photo-upload>\n        <label>Description</label>\n        <cp-editor v-model=\"event.description\"></cp-editor>\n        <div class=\"cp-box-standard\">\n            <div class=\"cp-box-heading\">\n                <h5>Products <cp-tooltip :options=\"{ content: 'When Select Individual Products is off all products will be add to the Event.'}\"></cp-tooltip></h5>\n            </div>\n         </div>\n        <cp-toggle label=\"Select individual Products\" v-model=\"selectIndividual\" @click.native=\"selectProducts()\"></cp-toggle>\n        <div v-show=\"selectIndividual\" class=\"select products\">\n          <label for=\"\">Search Products</label>\n          <cp-typeahead\n            @input=\"addProduct\"\n            :options=\"searchResults\"\n            :clear-dropdown=\"clearSearchOptions\"\n            :name-value=\"{ name: 'name', value: 'id'}\"\n            @options-cleared=\"clearSearchOptions\"\n            :search-function=\"searchProducts\"></cp-typeahead>\n          <table class=\"cp-table-standard\">\n              <thead>\n              <th></th>\n                  <th @click=\"sortColumn('name')\">Name\n                      <span v-show=\"indexRequest.sort_by == 'name'\">\n                          <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                          <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                      </span>\n                  </th>\n                  <th>Category</th>\n                  <th@click=\"sortColumn('price')\">Lowest Price\n                    <span v-show=\"indexRequest.sort_by == 'price'\">\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    </span>\n                  </th>\n                  <th></th>\n              </thead>\n              <tbody>\n                  <tr v-for=\"(product, index) in products\">\n                    <td v-if=\"product.images\">\n                      <img class=\"thumb\" :src=\"product.images[0].url\">\n                    </td>\n                    <td v-else></td>\n                    <td>\n                      {{product.name}}\n                    </td>\n                    <td v-if=\"product.categories\">\n                        <span v-for=\"category in product.categories\">\n                          {{category.name }} &nbsp;\n                        </span>\n                    </td>\n                    <td v-else></td>\n                    <td v-if=\"product.price\">\n                      {{product.price}}\n                    </td>\n                    <td v-else></td>\n                    <td><i class=\"mdi mdi-close pointer right\" @click=\"removeProduct(product, index)\"></i></td>\n                  </tr>\n              </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n    <cp-confirm\n    :message=\"'Are you sure you want to close this event? This can\\'t be undone.'\"\n    v-model=\"showConfirm\"\n    :show=\"showConfirm\"\n    :callback=\"updateEvent\"\n    :onCancelled=\"undoDelete\"\n    :params=\"{id:event.id}\"></cp-confirm>\n    <div class=\"submit-button\">\n      <button class=\"cp-button-standard\" @click=\"$emit('close')\">Cancel</button>\n      <button class=\"cp-button-standard\" @click=\"createOrUpdate()\" :disabled=\"creatingEvent\">Submit</button>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/direct-deposit/pay-quicker.vue:script


      sms.vComponent('assets/js/components/direct-deposit/pay-quicker.vue', {"name":"CpPayQuicker","path":"assets/js/components/direct-deposit/pay-quicker.vue"}, (require,exports,module)=>{
        
const DirectDeposit = require('../../resources/direct-deposit.js')
const moment = require('moment')

module.exports = {
  name: 'CpPaymentLists',
  routing: [
    {
      name: 'site.CpPaymentLists',
      path: 'direct-deposit/paymentList',
      meta: {
        title: 'Pay Quicker'
      },
      props: true
    }
  ],
  data: function () {
    return {
      payments: {},
      payment: {},
      paymentId: '',
      pagination: {
        current_page: 1
      },
      batch:{},
      noResults: false,
      selectedBatch: [],
      loading: false,
      detailModal: false,
      showConfirm: false,
      indexRequest: {
        page: 1,
        per_page:100,
        status: 'open',
        search_term: '',
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD')
      }
    }
  },
  mounted () {
    this.getPaymentLists()
  },
  methods: {
    selectStatus (name) {
      switch (name) {
        case 'All':
          this.indexRequest.status = 'all'
          break
        case 'Open':
          this.indexRequest.status = 'open'
          break
        case 'Processing':
          this.indexRequest.status = 'processing'
          break
        case 'Closed':
          this.indexRequest.status = 'closed'
          break
        case 'Queued':
          this.indexRequest.status = 'queued'
          break
        default: }
      this.getPaymentLists()
    },
    getPaymentLists: function () {
      this.loading = true
      this.noResults = false
      this.payments = {}
      this.indexRequest.page = this.pagination.current_page
      DirectDeposit.paymentList(this.indexRequest)
        .then((response) => {
          if (response.error) {
          }
          if (response.total === 0) {
            this.noResults = true
          }
          this.loading = false
          this.payments = response.data
          this.pagination = response
        })
    },
    submitPayment: function () {
      DirectDeposit.submitPayment(this.paymentId)
        .then((response) => {
          if (!response.error) {
            this.getPaymentLists()
            return this.$toast('Batch has been submited', { dismiss: true })
          }
        })
    },
    getBatchInfo: function (batch) {
      this.detailModal = true
      this.payment = batch
      this.indexRequest.page = 1
      DirectDeposit.paymentBatchId(batch.id, this.indexRequest)
        .then((response) => {
          if (!response.error) {
            if (response.total === 0) {
              this.noResults = true
            }
            this.selectedBatch = response
          }
        })
    }
  },
  components: {
    'CpPaymentDetails': require('./CpPaymentDetails.vue'),
    'CpConfirm': require('../../cp-components-common/CpConfirm.vue'),
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue'),
    CpTabs: require('../../cp-components-common/navigation/CpTabs.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"\">\n      <a class=\"cp-button-link\" download :href=\"'/api/v1/payment/csv/payment?start_date=' + indexRequest.start_date\n        + '&end_date=' + indexRequest.end_date\n        + '&status=' + indexRequest.status\n        + '&page=' + indexRequest.page\n        + '&per_page=' + indexRequest.per_page\">Download CSV</a>\n      <cp-tabs\n     :items=\"[\n       { name: 'Open', active: true },\n       { name: 'Queued', active: false },\n       { name: 'Processing', active: false },\n       { name: 'Closed', active: false },\n       { name: 'All', active: false }\n     ]\"\n     :callback=\"selectStatus\"></cp-tabs>\n     <cp-table-controls\n       :date-picker=\"true\"\n       :date-range=\"indexRequest\"\n       :index-request=\"indexRequest\"\n       :resource-info=\"pagination\"\n       :get-records=\"getPaymentLists\">\n     </cp-table-controls>\n        <table class=\"cp-table-standard top-table\">\n            <thead>\n                <th>Batch Name</th>\n                <th>Deposit Count</th>\n                <th>Status</th>\n                <th>Submitted Date</th>\n                <th>Net Amount</th>\n                <th><!-- submit button --></th>\n            </thead>\n            <tbody>\n                <tr v-for=\"payment in payments\">\n                  <td><a @click=\"detailModal = true, batch=payment\">{{payment.id}}</a></td>\n                  <td>{{payment.paymentCount}}</td>\n                  <td>{{payment.status}}</td>\n                  <td>{{payment.submittedAt}}</td>\n                  <td>{{payment.netAmount | currency}}</td>\n                  <td v-if=\"payment.status == 'open'\"><button class=\"cp-button-standard\" @click=\"showConfirm = true, paymentId = payment.id\">Close Batch</button></td>\n                </tr>\n            </tbody>\n        </table>\n        <cp-confirm\n        :message=\"'Are you sure you want to close this batch?'\"\n        v-model=\"showConfirm\"\n        :show=\"showConfirm\"\n        :callback=\"submitPayment\"\n        :params=\"{}\"></cp-confirm>\n        <div class=\"align-center\">\n          <div class=\"no-results\" v-if=\"noResults\">\n              <span>No results for this timeframe</span>\n          </div>\n          <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n          <cp-pagination :pagination=\"pagination\" :callback=\"getPaymentLists\" :offset=\"2\"></cp-pagination>\n        </div>\n        <transition name=modal>\n          <section class=\"cp-modal-standard\" v-if=\"detailModal\">\n            <div class=\"cp-modal-body\">\n              <cp-payment-details :batch=\"batch\" :request=\"indexRequest\":modal-show=\"detailModal\" @close=\"detailModal=false\"></cp-payment-details>\n            </div>\n          </section>\n      </transition>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/direct-deposit/CpPaymentDetails.vue:script


      sms.vComponent('assets/js/components/direct-deposit/CpPaymentDetails.vue', {"name":"CpPaymentDetails","path":"assets/js/components/direct-deposit/CpPaymentDetails.vue"}, (require,exports,module)=>{
        
const DirectDeposit = require('../../resources/direct-deposit.js')

module.exports = {
  data () {
    return {
      loading: false,
      pagination: {
        current_page: 1
      },
      payments: {},
      noResults: false
    }
  },
  props: {
    batch: {
      type: Object
    },
    request: {
      type: Object
    }

  },
  mounted () {
    this.getBatchInfo(this.batch)
  },
  methods: {
    getBatchInfo: function () {
      this.request.page = this.pagination.current_page
      DirectDeposit.paymentBatchId(this.batch.id, this.request)
        .then((response) => {
          if (!response.error) {
            if (response.total === 0) {
              this.noResults = true
            }
            this.payments = response.data
            this.pagination = response
          }
        })
    }
  }
}
;
        module.exports.template = "\n  <div>\n    <div>\n      <h3>Batch Details</h3>\n      <table>\n        <tr>\n          <th>Batch Name: </th>\n          <td>{{ batch.id }}</td>\n        </tr>\n        <tr>\n          <th>Deposit Count: </th>\n          <td>{{ batch.paymentCount }}</td>\n        </tr>\n        <tr>\n          <th>Net Amount: </th>\n          <td>{{ batch.netAmount | currency }}</td>\n        </tr>\n      </table>\n    </div>\n    <div>\n    </br>\n      <a class=\"cp-button-link\" download :href=\"'/api/v1/payment/csv/detail/' + batch.id + '?page=' + request.page\n        + '&per_page=' + request.per_page\">Download CSV</a>\n    </div>\n      <h3>Payment Details </h3>\n      <div>\n          <table class=\"cp-table-standard\">\n                <thead>\n                    <tr>\n                        <th>Batch Name</th>\n                        <th>{{$getGlobal('title_rep').value}} Name</th>\n                        <th>{{$getGlobal('title_rep').value}} ID</th>\n                        <th>Amount</th>\n                        <th>Gateway Reference ID</th>\n\n                    </tr>\n                </thead>\n              <tbody>\n                  <tr v-for=\"payment in payments\">\n                      <td>{{payment.id}}</td>\n                      <td>{{payment.name}}</td>\n                      <td>{{payment.userId}}</td>\n                      <td>{{ payment.amount | currency }}</td>\n                      <td>{{payment.referenceId}}</td>\n                  </tr>\n              </tbody>\n          </table>\n      </div>\n      <div class=\"flex-end\">\n          <button class=\"cp-button-standard cancel\" @click=\"$emit('close', false)\">Close</button>\n      </div>\n      <div class=\"align-center\">\n        <div class=\"no-results\" v-if=\"noResults\">\n            <span>No results for this timeframe</span>\n        </div>\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        <cp-pagination :pagination=\"pagination\" :callback=\"getBatchInfo\" :offset=\"2\"></cp-pagination>\n      </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/emails/custom_email_edit.vue:script

sms.vComponent('assets/js/components/emails/custom_email_edit.vue', { name: 'CpEmailEdit', routing: { name: 'site.CpEmailEdit', meta: { title: 'Edit Custom Email' }, path: 'email/edit/:slug', props: true } }, (require, exports, module)=>{

const Settings = require('../../resources/settings.js')
const marked = require('marked')

module.exports = {
  data () {
    return {
      errorMessages: {},
      showPreviewModal: false,
      content: '',
      variables: {},
      email: {},
      loaded: false
    }
  },
  props: {
    slug: null
  },
  mounted () {
    this.getEmail()
  },
  methods: {
    getEmail () {
      Settings
        .getCustomEmailBySlug(this.slug)
        .then((res) => {
          if(res.error) {
            this.errorMessages = res.message
            return
          }
          this.email = res
          this.loaded = true
          this.emailContent()
        })
    },
    saveEmail () {
      Settings.saveCustomEmail(this.email.title, this.email)
        .then((response) => {
          if (response.error) {
            this.errorMessages = response.message
            return
          }
          this.$toast('Saved successfully.', { dismiss: false })
        })
    },
    emailContent () {
      Settings.showcontent(this.slug, this.email)
        .then((response) => {
          if (!response.error) {
            this.content = response.content
            this.variables = response.var
          }
        })
    }
  },
  filters: {
    marked: marked
  },
  components: {
    CpEditor: require('../../cp-components-common/inputs/CpEditor.vue')
  }
}

;module.exports.template = "\n    <div class=\"markdown-wrapper\">\n        <div class=\"editor-wrapper\">\n          <p>Please edit the subject and body of the email in the fields below. You may use the following variables to personalize the email for the recipient.</p>\n          <ul v-for=\"variable in variables\">\n            <li>{{variable}}</li>\n          </ul>\n            <form class=\"cp-form-standard\" @submit.prevent>\n              <div class=\"\">\n                <h1>{{ email.display_name }}</h1>\n                <span v-show=\"errorMessages.subject\" class=\"cp-warning-message\">{{ errorMessages.subject }}</span>\n                <label>Subject</label>\n                <input :class=\"{error: errorMessages.subject}\" type=\"text\" v-model=\"email.subject\">\n                <span v-show=\"errorMessages.subject\" class=\"cp-warning-message\">{{ errorMessages.subject }}</span>\n              </div>\n              <cp-editor v-if=\"loaded\" v-model=\"email.body\"></cp-editor>\n              <button class=\"cp-button-standard save-button\" @click=\"saveEmail()\">Save</button>\n              <button class=\"cp-button-standard save-button\" @click=\"showPreviewModal = true, emailContent()\">Preview Document</button>\n            </form>\n        </div>\n        <section class=\"cp-modal-standard\" v-if=\"showPreviewModal\" @click=\"showPreviewModal = false\" transition=\"modal\">\n            <div class=\"cp-modal-body markdown-preview\" @click.stop.prevent>\n              <div class=\"cp-panel-standard\">\n                <p>Please Note: The following display is a preview of how the email will be sent to the recipient. The actual display of the content may vary based on different email clients, browsers, operating systems, or other factors. </p>\n              </div>\n              <div class=\"live-preview\" v-html=\"content\"></div>\n              <div class=\"cp-modal-controls\">\n                <button class=\"cp-button-standard right\" @click=\"showPreviewModal = false\">Close</button>\n              </div>\n            </div>\n        </section>\n    </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/events/CpEventsOrders.vue:script


      sms.vComponent('assets/js/components/events/CpEventsOrders.vue', {"name":"CpEventsOrders","path":"assets/js/components/events/CpEventsOrders.vue"}, (require,exports,module)=>{
        
const Events = require('../../resources/EventsAPIv0.js')
const Orders = require('../../resources/OrdersAPIv0.js')
module.exports = {
  name: 'CpEventsOrders',
  routing: [
    {
      name: 'site.CpEventsOrders',
      path: '/events/:id',
      meta: {
        title: 'Event Details'
      },
      props: true
    }
  ],
  data: () => ({
    loading: false,
    noResults: false,
    event: null,
    orders: [],
    pageError: null
  }),
  props: {
    eventProp: {
      type: Object,
      default () {
        return null
      }
    },
    id: {
      type: String
    }
  },
  created () {
    if (!this.eventProp) {
      this.getEvent()
    } else {
      this.event = this.eventProp
    }
  },
  mounted () {
    this.getOrders()
  },
  methods: {
    getEvent () {
      Events.getEvent({}, this.id)
        .then((response) => {
          if (response.error) {
            if (response.code == 404) {
              this.pageError = 'Event missing'
            } else {
              this.pageError = (!response.message.message ? 'Unexpected error. Please try again later' : response.message.message)
            }
          } else {
            this.event = response
          }
        })
    },
    getOrders () {
      this.loading = true
      let request = {
        event_id: this.id
      }
      Orders.getOrders(request).then((response) => {
        this.loading = false
        if (response.data.length === 0) {
          this.noResults = true
        }
        this.orders = response.data
      })
    }
  }
}
;
        module.exports.template = "\n  <div id=\"\" v-if=\"event\">\n    <p v-if=\"pageError\"><strong class=\"errorText\">{{ pageError }}</strong></p>\n    <div class=\"event-data\">\n      <table>\n        <tr>\n          <th>Date:</th>\n          <td>{{ event.date | cpStandardDate(true) }}</td>\n        </tr>\n        <tr>\n          <th>Location:</th>\n          <td>{{ event.location }}</td>\n        </tr>\n        <tr>\n          <th>Host:</th>\n          <td>{{ event.host_name }}</td>\n        </tr>\n        <tr>\n          <th>Status:</th>\n          <td>{{ event.status }}</td>\n        </tr>\n      </table>\n    </div>\n    <h3>Orders for {{ event.name }}</h3>\n    <table class=\"cp-table-standard\">\n      <thead>\n        <tr>\n          <th>Receipt Id</th>\n          <th>Customer Name</th>\n          <th>Purchase Date</th>\n          <th>Order Status</th>\n          <th>Total</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"order in orders\">\n          <td><a :href=\"`/orders/${order.receipt_id}`\">{{ order.receipt_id }}</a></td>\n          <td>{{ order.buyer_first_name}} {{ order.buyer_last_name}}</td>\n          <td>{{ order.paid_at | cpStandardDate(true) }}</td>\n          <td>{{ order.status }}</td>\n          <td>{{ order.subtotal_price | currency }}</td>\n        </tr>\n      </tbody>\n    </table>\n    <div class=\"align-center\">\n      <div class=\"no-results\" v-if=\"noResults\">\n            <span>No orders for this {{ $getGlobal('events_title').value.single.toLowerCase() }}</span>\n        </div>\n      <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/ewallet/admin/processing-fees.vue:script

sms.vComponent('assets/js/components/ewallet/admin/processing-fees.vue', { name: 'CpProcessingFees', routing: { name: 'site.CpProcessingFees', meta: { title: 'Processing Fees' }, path: 'ewallet/processing-fees', props: true } }, (require, exports, module)=>{

const Ewallet = require('../../../resources/ewallet.js');

module.exports = {
    data: function () {
        return {
            loading: false,
            fees: [],
            pagination: {
                current_page: 1
            },
            asc: false,
            salesRequest: {
                order: 'ASC',
                column: 'name',
                per_page: 15,
                search_term: '',
                page: 1
            },
            quantity: [],
            reverseSort: false,
        }
    },
    computed: {},
    ready: function () {
        this.getFees();
    },
    methods: {
        getFees: function(){
            this.loading = true;
            this.salesRequest.page = this.pagination.current_page;
            Ewallet.processingFees(this.salesRequest).then((response) => {
                if (response.error) {
                      return this.$broadcast('errorMessage', response.message)
                }
                this.fees = response.data;
                this.pagination = response;
                this.loading = false;
            });
        },
        sortColumn: function(column) {
            this.reverseSort = !this.reverseSort
            this.salesRequest.column = column;
            this.asc = !this.asc;
            if (this.asc === true) {
                this.salesRequest.order = 'asc';
            } else {
                this.salesRequest.order = 'desc';
            }
            this.getFees();
        }
    },
    events: {
        'search_term': function (term) {
            this.salesRequest.search_term = term;
            this.pagination.current_page = 1;
            this.getFees();
        }
    },
    components: {
        'SearchBox': require('../../SearchBox.vue')
    }
}

;module.exports.template = "\n    <div v-show=\"!loading\">\n        <search-box></search-box>\n        <div v-show=\"fees.length == 0\">No fees to report yet</div>\n        <table class=\"cp-table-standard\">\n            <thead>\n                <th @click=\"sortColumn('transaction_id')\">Transaction ID\n                    <span v-show=\"salesRequest.column == 'transaction_id'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('date')\">Date\n                    <span v-show=\"salesRequest.column == 'date'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('gross_amount')\">Gross Amount\n                    <span v-show=\"salesRequest.column == 'gross_amount'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('payment_batch_id')\">Payment Batch ID\n                    <span v-show=\"salesRequest.column == 'payment_batch_id'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('rep_id')\">{{$getGlobal('title_rep').value}} ID\n                    <span v-show=\"salesRequest.column == 'rep_id'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('rep_name')\">{{$getGlobal('title_rep').value}} Name\n                    <span v-show=\"salesRequest.column == 'rep_name'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('sales_tax')\">Sales Tax\n                    <span v-show=\"salesRequest.column == 'sales_tax'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('shipping')\">Shipping\n                    <span v-show=\"salesRequest.column == 'shipping'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('processing')\">Processing\n                    <span v-show=\"salesRequest.column == 'processing'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('transaction_fee')\">Transaction Fee\n                    <span v-show=\"salesRequest.column == 'transaction_fee'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('other')\">Other\n                    <span v-show=\"salesRequest.column == 'other'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('net_payment')\">Net Payment\n                    <span v-show=\"salesRequest.column == 'net_payment'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th>View Transaction</th>\n            </thead>\n            <tbody>\n                <tr v-for=\"fee in fees\">\n                    <td>{{ fee.transactionId }}</td>\n                    <td>{{ fee.date | cpStandardDate ['time']}}</td>\n                    <td>{{ fee.amount | currency('floor')}}</td>\n                    <td>{{ fee.payment_batch_id }}</td>\n                    <td>{{ fee.user.repId }}</td>\n                    <td>{{ fee.user.name }}</td>\n                    <td>{{ fee.salesTax | currency('floor')}}</td>\n                    <td>{{ fee.order.total_shipping | currency('floor')}}</td>\n                    <td>{{ fee.processing | currency('floor')}}</td>\n                    <td>{{ fee.transactionFee | currency('floor')}}</td>\n                    <td>{{ fee.other | currency('floor')}}</td>\n                    <td>{{ fee.netAmount | currency('floor') }}</td>\n                    <td><a href=\"/orders/{{ fee.order.receipt_id }}\">View</a></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class=\"align-center\">\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        <cp-pagination :pagination=\"pagination\" :callback=\"getFees\" :offset=\"2\"></cp-pagination>\n    </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/ewallet/admin/sales-tax.vue:script

sms.vComponent('assets/js/components/ewallet/admin/sales-tax.vue', { name: 'CpSalesTax', routing: { name: 'site.CpSalesTax', meta: { title: 'Sales Tax Report' }, path: 'ewallet/sales-tax', props: true } }, (require, exports, module)=>{

const Ewallet = require('../../../resources/ewallet.js');

module.exports = {
    data: function () {
        return {
            loading: false,
            salesTaxes: [],
            pagination: {
                current_page: 1
            },
            asc: false,
            indexRequest: {
                order: 'ASC',
                column: 'name',
                per_page: 15,
                search_term: '',
                page: 1
            },
            quantity: [],
            reverseSort: false,
        }
    },
    computed: {},
    ready: function () {
        this.getSalesTax();
    },
    methods: {
        getSalesTax: function(){
            this.loading = true;
            this.salesTaxes = {};
            this.indexRequest.page = this.pagination.current_page;
            Ewallet.salesTax(this.indexRequest).then((response) => {
                if (response.error) {
                      return this.$broadcast('errorMessage', response.message)
                }
                this.salesTaxes = response.data;
                this.pagination = response;
                this.loading = false;
            });
        },
        sortColumn: function(column) {
            this.reverseSort = !this.reverseSort
            this.indexRequest.column = column;
            this.asc = !this.asc;
            if (this.asc === true) {
                this.indexRequest.order = 'asc';
            } else {
                this.indexRequest.order = 'desc';
            }
            this.getSalesTax();
        }
    },
    events: {
        'search_term': function (term) {
            this.indexRequest.search_term = term;
            this.pagination.current_page = 1;
            this.getSalesTax();
        }
    },
    components: {
        'SearchBox': require('../../SearchBox.vue')
    }
}

;module.exports.template = "\n    <div class=\"ewallet-wrapper\">\n        <search-box></search-box>\n        <div v-show=\"salesTaxes.data.length == 0\">No sales tax to report yet</div>\n        <table class=\"cp-table-standard\">\n            <thead>\n                <th @click=\"sortColumn('transaction_id')\">Transaction ID\n                    <span v-show=\"indexRequest.column == 'transaction_id'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('batch_id')\">Batch ID\n                    <span v-show=\"indexRequest.column == 'batch_id'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('date_collected')\">Date Collected\n                    <span v-show=\"indexRequest.column == 'date_collected'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('zip_code')\">Zip Code\n                    <span v-show=\"indexRequest.column == 'zip_code'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('amount')\">Amount\n                    <span v-show=\"indexRequest.column == 'amount'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th>View Transaction</th>\n            </thead>\n            <tbody>\n                <tr v-for=\"salesTax in salesTaxes\">\n                    <td>{{ salesTax.transactionId }}</td>\n                    <td>{{ salesTax.batchId }}</td>\n                    <td>{{ salesTax.dateCollected | cpStandardDate ['time']}}</td>\n                    <td>{{ salesTax.order.billing_address.zip }}</td>\n                    <td>{{ salesTax.amount | currency('floor') }}</td>\n                    <td><a href=\"/orders/{{ salesTax.order.receipt_id }}\">View</a></td>\n                </tr>\n            </tbody>\n        </table>\n        <div class=\"align-center\">\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n            <cp-pagination :pagination=\"pagination\" :callback=\"getSalesTax\" :offset=\"2\"></cp-pagination>\n        </div>\n    </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/events/CpEventsPhotoUpload.vue:script


      sms.vComponent('assets/js/components/events/CpEventsPhotoUpload.vue', {"name":"CpEventsPhotoUpload","path":"assets/js/components/events/CpEventsPhotoUpload.vue"}, (require,exports,module)=>{
        
const Dropzone = require('dropzone')
const Media = require('../../resources/media.js')
const Auth = require('auth')

module.exports = {
  data: () => ({
    media: '',
    Auth: Auth
  }),
  props: {
    validationErrors: {},
    currentMedia: {
      default () {
        return ''
      }
    }
  },
  mounted () {
    this.uploadDropzone()
    this.initCurrentMedia()
  },
  methods: {
    initCurrentMedia () {
      this.media = this.currentMedia
    },
    uploadDropzone () {
      var $this = this
      var uploadZoneConfig = Media.dropzoneConfig('.mp4, .MP4, .mp3')
      uploadZoneConfig.success = function (file, response) {
        $this.media = response.url
        $this.$toast('File successfully uploaded.')
        $this.$emit('new-media', $this.media)
      }
      uploadZoneConfig.error = function (file, response) {
        $this.$toast(response, { error: true })
      }
      uploadZoneConfig.removedfile = function (file, response) {
        var _ref
        if (file.previewElement) {
          $this.media = ''
          if ((_ref = file.previewElement) != null) {
            _ref.parentNode.removeChild(file.previewElement)
          }
        }
        $this.media = null
        $this.$emit('new-media', null)
        return $this.uploadZone._updateMaxFilesReachedClass()
      }
      this.uploadZone = new Dropzone('#dropzoneEventsImport', uploadZoneConfig)
    }
  }
}
 ;
        module.exports.template = "\n <div id=\"events-photo-upload-wrapper\">\n   <section class=\"current-media product-grid edit\" v-if=\"media\">\n     <h4>CURRENT {{ $getGlobal('events_title').value.single.toUpperCase() }} IMAGE</h4>\n     <hr />\n     <div class=\"item\">\n       <img class=\"item_image\" :src=\"media\">\n       <span href=\"#\" class=\"tile-overlay pointer\" @click=\"media = null, $emit('new-media', null)\">DELETE</span>\n     </div>\n   </section>\n     <form v-show=\"$getGlobal('allow_reps_events_img').show && Auth.hasAnyRole('Rep') || Auth.hasAnyRole('Superadmin','Admin')\" action=\"/upload-media\" method=\"POST\" class=\"dropzone\" id=\"dropzoneEventsImport\" :class=\"{ 'image-error': validationErrors['images'] }\">\n         <input type=\"hidden\" name=\"title\">\n         <input type=\"hidden\" name=\"description\">\n         <input type=\"hidden\" name=\"is_public\">\n     </form>\n   <span\n     :class=\"{ 'cp-validation-errors': validationErrors['images'] }\"\n     v-if=\"validationErrors['images']\">{{ validationErrors['images'][0] }}</span>\n </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/ewallet/rep/CpPayTaxes.vue:script


      sms.vComponent('assets/js/components/ewallet/rep/CpPayTaxes.vue', {"name":"CpPayTaxes","path":"assets/js/components/ewallet/rep/CpPayTaxes.vue"}, (require,exports,module)=>{
        
const EWallet = require('../../../resources/ewallet.js')

module.exports = {
  data: function () {
    return {
      message: null,
      step: 1,
      title: 'Choose Payment Type',
      paymentModal: false,
      paymentType: 'ewallet',
      paymentData: {
        addresses: {
          billing: {}
        },
        account_name: null,
        account_number: null,
        routing_number: null,
        payment: {},
        total: 0.00
      },
      payTaxesButton: false,
      validationErrors: {}
    }
  },
  props: {
    callBack: {
      type: Function,
      required: true
    },
    modalShow: {
      type: Object
    },
    availableFunds: {
      required: true
    },
    taxesOwed: {
      required: true
    },
    user: {
      type: Object,
      required: true
    }
  },
  mounted () {
    this.paymentData.addresses.billing = this.user.billing_address
    if (this.checkPayEwallet() || this.checkPayCreditCard()) {
      this.payTaxesButton = true
    }
    this.paymentData.total = this.taxesOwed
  },
  methods: {
    payTaxes () {
      if (this.paymentType === 'credit-card') {
        EWallet.payTaxesCreditCard(this.paymentData)
        .then((response) => {
          this.responseMessage(response)
        })
      } else if (this.paymentType === 'echeck') {
        EWallet.payTaxesEcheck(this.paymentData)
        .then((response) => {
          this.responseMessage(response)
        })
      } else if (this.paymentType === 'ewallet') {
        EWallet.payTaxesEwallet(this.paymentData)
        .then((response) => {
          this.responseMessage(response)
        })
      } else {
        this.title = 'Error'
        this.message = 'Payment type not selected correctly.'
      }
    },
    responseMessage (response) {
      if (response.success) {
        this.title = 'Success'
        this.message = 'Your payment was successful.'
        this.step = 4
        this.paymentData.total = 0
        this.callBack()
        return
      } else if (!response.success && response.description) {
        this.title = 'Error'
        this.message = response.description
        this.step = 4
        return
      } else {
        if (response.code === 422) {
          this.step = 2
          this.validationErrors = response.message
        }
        return
      }
    },
    checkAmount () {
      if (this.paymentData.total > this.taxesOwed) {
        this.paymentData.total = this.taxesOwed
      }
      if (this.paymentType === 'ewallet' && this.paymentData.total > this.availableFunds) {
        this.paymentData.total = this.availableFunds
      }
    },
    next (place) {
      switch (place) {
        case 1:
          this.step = 1
          this.title = 'Pay Taxes'
          break
        case 2:
          this.step = 2
          if (this.paymentType === 'credit-card') {
            this.title = 'Pay Taxes with Credit Card'
          } else if (this.paymentType === 'echeck') {
            this.title = 'Pay Taxes with eCheck'
          } else {
            this.title = 'Pay Taxes with eWallet'
          }
          break
        case 3:
          this.step = 3
          this.title = 'Please Confirm'
          break
        case 4:
          this.payTaxes(this.paymentData)
          break
        default:
          this.step = 1
          this.title = 'Pay Taxes'
      }
    },
    checkPayEwallet () {
      if (this.user.seller_type_id === 1 && this.$getGlobal('affiliate_ewallet_taxes_balance').show) {
        return true
      }
      if (this.user.seller_type_id === 2 && this.$getGlobal('reseller_ewallet_taxes_balance').show) {
        return true
      }
      return false
    },
    checkPayCreditCard () {
      if (this.user.seller_type_id === 1 && this.$getGlobal('affiliate_ewallet_taxes_credit_card').show) {
        return true
      }
      if (this.user.seller_type_id === 2 && this.$getGlobal('reseller_ewallet_taxes_credit_card').show) {
        return true
      }
      return false
    },
    checkPayEcheck () {
      if (this.user.seller_type_id === 1 && this.$getGlobal('affiliate_ewallet_taxes_ach').show) {
        return true
      }
      if (this.user.seller_type_id === 2 && this.$getGlobal('reseller_ewallet_taxes_ach').show) {
        return true
      }
      return false
    },
    setPaymentType () {
      let ewallet = this.checkPayEwallet()
      let card = this.checkPayCreditCard()
      if (ewallet && card) {
        this.paymentModal = true
      } else if (ewallet) {
        this.paymentModal = true
        this.paymentType = 'ewallet'
        this.step = 2
        this.title = 'Pay Taxes with Ewallet'
      } else if (card) {
        this.paymentModal = true
        this.paymentType = 'credit-card'
        this.title = 'Pay Taxes with Credit Card'
        this.step = 2
      }
    }
  },
  components: {
    CpTotalsBanner: require('../../reports/CpTotalsBanner.vue'),
    CpPaymentForm: require('../../payment/CpPaymentForm.vue'),
    CpAchForm: require('../../payment/CpAchForm.vue'),
    CpInput: require('../../../cp-components-common/inputs/CpInput.vue'),
    CpTooltip: require('../../../custom-plugins/CpTooltip.vue')

  }
}
;
        module.exports.template = "\n  <div class=\"pay-taxes\">\n  <div>\n    <span v-if=\"payTaxesButton === true\">\n      <button class=\"cp-button-standard\" @click=\"setPaymentType()\">Pay Taxes</button>\n    </span>\n  </div>\n\n  <transition name='fade'>\n    <section class=\"cp-modal-standard\" v-if=\"paymentModal === true\">\n      <div class=\"cp-modal-body\">\n        <div class=\"cp-modal-header\">\n          <h2>{{ title }}</h2>\n          <span @click=\"paymentModal = !paymentModal\"><i class=\"mdi mdi-close\"></i></span>\n        </div>\n\n        <div v-show=\"step == 1\">\n          <div class='cp-modal-body'>\n            <div v-if=\"checkPayEwallet()\">\n              <input type=\"radio\" class='' id='ewallet' value='ewallet' v-model=\"paymentType\"></input>\n              <label @click=\"paymentType = 'ewallet'\">eWallet</label>\n            </div>\n            <div v-if=\"checkPayEcheck()\">\n              <input type=\"radio\" class='' id='echeck' value='echeck' v-model=\"paymentType\"></input>\n              <label @click=\"paymentType = 'echeck'\">eCheck</label>\n            </div>\n            <div v-if=\"checkPayCreditCard()\">\n              <input type=\"radio\" class='' id='credit-card' value='credit-card' v-model=\"paymentType\"></input>\n              <label @click=\"paymentType = 'credit-card'\">Credit Card</label>\n              <cp-tooltip :options=\"{ content: 'To pay with a credit card you must pay a minimum of $5.00' }\"></cp-tooltip>\n            </div>\n          </div>\n          <div class=\"modal-footer-single\">\n            <button type=\"button\" class=\"cp-button-standard\" @click=\"next(step + 1)\">Next</button>\n          </div>\n        </div>\n\n        <div v-show=\"step == 2\">\n          <div class='cp-modal-body'>\n          <div v-show=\"paymentType == 'ewallet'\" class=\"balance\">\n            <label class=\"payment-information\">\n              Available Funds {{ availableFunds | currency('floor') }}\n            </label>\n          </div>\n          <div v-show=\"paymentType == 'echeck'\">\n            <cp-ach-form :payment-data=\"paymentData\" :validation-errors=\"validationErrors\"></cp-ach-form>\n          </div>\n          <div v-show=\"paymentType == 'credit-card'\">\n            <form class=\"cp-form-standard credit-card-form\">\n              <cp-payment-form :payment-data=\"paymentData\" :validation-errors=\"validationErrors\"></cp-payment-form>\n            </form>\n          </div>\n          <div class=\"payment-information taxes\">\n            <label>Taxes Owed {{ taxesOwed | currency('floor') }}</label>\n          </div>\n          <div class=\"payment-information\">\n            <label>Enter Amount</label>\n            <span><label>$</label><input class='cp-input-standard amount-input' type=\"number\" v-model=\"paymentData.total\" v-on:keyup=\"checkAmount\"></input></span>\n            <span v-show=\"paymentType === 'credit-card'\"><cp-tooltip  :options=\" { content: 'To pay with a credit card you must pay a minimum of $5.00' }\"></cp-tooltip></span>\n          </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"cp-button-standard\" @click=\"next(step - 1)\">Back</button>\n            <span v-if=\"paymentType !== 'credit-card' && paymentData.total > 0 || paymentType === 'credit-card' && paymentData.total >= 5\">\n              <button type=\"button\" class=\"cp-button-standard\" @click=\"next(step + 1)\">Next</button>\n            </span>\n            <span v-else>\n              <button type=\"button\" class=\"cp-button-standard\" disabled>Next</button>\n            </span>\n          </div>\n        </div>\n\n        <div v-show=\"step == 3\">\n          <div>\n            <div class=\"cp-modal-body\">\n              <p>You're about to pay {{ paymentData.total | currency('floor') }} to your open sales tax.</p>\n            </div>\n            <div class=\"modal-footer\">\n              <button type=\"button\" class=\"cp-button-standard\" @click=\"next(step - 1)\">Back</button>\n              <button type=\"button\" class=\"cp-button-standard\" @click=\"next(step + 1)\">Confirm</button>\n            </div>\n          </div>\n        </div>\n\n        <div v-show=\"step == 4\" class=\"align-center\">\n          <div class=\"modal-body\">\n            <p>{{ message }}</p>\n          </div>\n          <div class=\"modal-footer-single\">\n            <button class=\"cp-button-standard\" @click=\"paymentModal = !paymentModal\">OK</button>\n          </div>\n        </div>\n      </div>\n    </section>\n  </transition>\n</div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/ewallet/rep/CpLedger.vue:script


      sms.vComponent('assets/js/components/ewallet/rep/CpLedger.vue', {"name":"CpLedger","path":"assets/js/components/ewallet/rep/CpLedger.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')
const EWallet = require('../../../resources/ewallet.js')
const Payman = require('../../../resources/PaymanAPI.js')
const Users = require('../../../resources/users.js')
const moment = require('moment-timezone')

module.exports = {
  data: function () {
    return {
      Auth: Auth,
      loading: false,
      transactions: {},
      transactionId: null,
      transactionDetails: {},
      transactionDetailsModal: false,
      pagination: {},
      report: {},
      downloading: false,
      downloadHelper: {
        params: {},
        timezone: null,
        transactions: []
      },
      selectedTransaction: {},
      indexRequest: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        search_term: null,
        column: 'last_name',
        order: 'ASC',
        per_page: 15,
        page: 1
      }
    }
  },
  mounted: function () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
    this.getTransactions()
  },
  props: {
    source: {
      type: String,
      default: 'Rep',
      required: false
    }
  },
  methods: {
    getTransactions: function () {
      this.loading = true
      let request = JSON.parse(JSON.stringify(this.indexRequest))
      request.page = this.pagination.current_page
      request.source = this.source
      if (request.end_date < request.start_date) {
        request.end_date = request.start_date
      }
      EWallet.ledger(request)
        .then((response) => {
          if (!response.error) {
            this.pagination = response
            this.transactions = response.data
            this.loading = false
            return response
          }
        })
    },
    getTransactionData: function (transactionId) {
      EWallet.transaction(transactionId)
        .then((response) => {
          if (!response.error) {
            this.transactionDetails = response
            this.transactionDetailsModal = true
          }
        })
    },
    format: function (string) {
      if (string) {
        string = string.replace('e-wallet-', '')
        string = string.replace('merchant', 'amount')
        return string.split('-').map(function (string) {
          return string.charAt(0).toUpperCase() + string.substring(1)
        }).join(' ')
      }
    },
    formatType: function (transaction) {
      if (transaction.description === 'Rep Transfer') {
        return 'Rep Transfer'
      } else if (transaction.description === 'Affiliate') {
        return (transaction.order ? transaction.order.type : 'Affiliate Sale')
      }
      switch (transaction.transactionType) {
        case 'e-wallet-sale': // For now this is only inventory purchase
          return 'Inventory Purchase'
        case 'credit-card-sale':
          return 'Credit Card Sale'
        case 'debit-card-sale':
          return 'Debit Card Sale'
        case 'e-wallet-withdraw':
          return 'Withdraw'
        case 'e-wallet-deposit':
          return 'Deposit'
        case 'e-wallet-debit':
          return 'Debit'
        case 'e-wallet-payment-tax':
          return 'eWallet Tax Payment'
        default:
          let string = transaction.transactionType.replace('e-wallet', 'eWallet')
          return string.split('-').map(function (string) {
            return string.charAt(0).toUpperCase() + string.substring(1)
          }).join(' ')
      }
    },
    writeCsv: function () {
      // If this.downloadHelper.transaction is empty then show message
      if (this.downloadHelper.transactions.length == 0) {
        this.$toast('No items found for download.', { error: true })
        return false
      }
      let csvFile = "Date,Receipt ID,Type,Amount,Fees,Sales Tax,Net,Balance\n" // Header
      let transaction = null
      let timezone = (this.downloadHelper.timezone ? this.downloadHelper.timezone : moment.tz.guess())
      for (let i = 0; i < this.downloadHelper.transactions.length; i++) {
        transaction = this.downloadHelper.transactions[i]
        csvFile = csvFile
        + moment.tz(transaction.date, 'YYYY-MM-DD HH:mm:ss', 'utc').tz(timezone).format('D MMM YYYY h:mm:ss A z') + ','
        + transaction.orderId + ','
        + this.formatType(transaction) + ','
        + '"' + window.Vue.options.filters.currency(transaction.amount) + '",'
        + '"' + window.Vue.options.filters.currency(transaction.fees) + '",'
        + '"' + window.Vue.options.filters.currency(transaction.salesTax) + '",'
        + '"' + window.Vue.options.filters.currency(transaction.net) + '",'
        + '"' + window.Vue.options.filters.currency(transaction.balance, true) + "\",\n"
      }
      // Download text as file
      var uri = window.URL.createObjectURL(new window.Blob([csvFile], {
        type: 'text/plain'
      }))
      var a = document.createElement('a')
      document.body.appendChild(a)
      a.style = 'display: none'
      a.href = uri
      a.download = 'LedgerBalance.csv'
      a.click()
      window.URL.revokeObjectURL(uri)
      a.parentNode.removeChild(a)
      this.$toast('Finished.', { error: false })
    },
    csvPaginateLoop: function (response, start) {
      if (start === false) {
        // This is the loop check
        if (response.error) {
          this.$toast('Unexpected error. Please try again later.', { error: true })
          downloading = false
          return false
        }
        this.downloadHelper.transactions = this.downloadHelper.transactions.concat(response.data) // add transactions to array
        if (this.downloadHelper.params.page >= response.totalPage || response.data.length == 0) {
          this.writeCsv()
          downloading = false
          return false
        }
        this.downloadHelper.params.page += 1 // next page
      }
      Payman.getEWalletLedger(this.downloadHelper.params)
        .then((response) => {
          this.csvPaginateLoop(response, false)
        })
    },
    downloadCsv: function () {
      downloading = true
      this.downloadHelper.transactions = []
      this.downloadHelper.params = {
        teamId: 'rep',
        userId: Auth.getOwnerId().toString(),
        startDate: moment(this.indexRequest.start_date, 'YYYY-MM-DD').startOf('day').utc().format('YYYY-MM-DD HH:mm:ss.SSS'),
        endDate: moment(this.indexRequest.end_date, 'YYYY-MM-DD').endOf('day').utc().format('YYYY-MM-DD HH:mm:ss.SSS'),
        page: 1,
        count: 50
      }
      Users.userSettings(Auth.getOwnerId()).then((response) => {
        if (response.timezone) {
          this.downloadHelper.timezone = response.timezone
        }
        // Start loop
        this.csvPaginateLoop(null, true)
      })
    }
  },
  filters: {
    currency5: function (value) {
      var currency = '$'
      if (value < 0) {
        value *= -1
        currency = '-$'
      }
      var parts = value.toFixed(5).toString().split('.')
      return currency + parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ',') + '.' + parts[1]
    }
  },
  computed: {
    csvLink () {
      return '/api/v1/ewallet/csv-ledger?order=' + this.indexRequest.order + '&start_date=' + this.indexRequest.start_date + '&end_date=' + this.indexRequest.end_date + '&per_page=100&source=' + this.source
    }
  },
  components: {
    CpTableControls: require('../../../cp-components-common/tables/CpTableControls.vue'),
    CpWithdraw: require('../../ewallet/rep/CpWithdraw.vue'),
    CpTooltip: require('../../../custom-plugins/CpTooltip.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"cp-ledger-scoped\">\n    <div>\n      <button class=\"cp-button-link\" download :disabled=\"downloading\" @click=\"downloadCsv()\">Ledger CSV</button>\n      <cp-table-controls\n        :date-picker=\"true\"\n        :date-range=\"indexRequest\"\n        :index-request=\"indexRequest\"\n        :resource-info=\"pagination\"\n        :search-box=\"false\"\n        :get-records=\"getTransactions\">\n      </cp-table-controls>\n      <span class=\"column-right\"> Note: All values are rounded. Please view transaction details for exact amounts.</span>\n      <div class=\"index-table\">\n        <table class=\"cp-table-standard desktop\">\n          <thead>\n            <tr>\n              <th>Details</th>\n              <th>Order Date</th>\n              <th>Posted Date</th>\n              <th>Receipt ID</th>\n              <th>Type</th>\n              <th>Amount</th>\n              <th>Fees</th>\n              <th>Sales Tax</th>\n              <th>Net</th>\n              <th v-if=\"Auth.hasAnyRole('Rep')\">Balance</th>\n            </tr>\n          </thead>\n          <tbody v-if=\"!loading\">\n            <tr v-for=\"transaction in transactions\">\n              <td><a v-if=\"transaction.transactionId\" @click=\"getTransactionData(transaction.transactionId), selectedTransaction = transaction\">View</a></td>\n              <td v-if=\"transaction.order\">{{ transaction.order.created_at | cpStandardDate }}</td>\n              <td v-else></td>\n              <td>{{ transaction.date | cpStandardDate }}</td>\n              <td v-if=\"transaction.order\"><a  v-bind:href=\"'/orders/' + transaction.order.receipt_id\" >{{ transaction.order.receipt_id }}</a></td>\n              <td v-else></td>\n              <td v-if=\"transaction.transactionType\">{{ formatType(transaction) }}</td>\n              <td v-else>{{ transaction.description }}</td>\n              <td v-if=\"transaction.withdraw < 0\">{{ transaction.withdraw | currency }}</td>\n              <td v-else-if=\"transaction.affiliate > 0\">{{ (transaction.order ? transaction.order.subtotal - transaction.order.discount : transaction.transactionAmount) | currency }}</td>\n              <td v-else>{{ transaction.amount | currency }} </td>\n              <td>{{ transaction.fees | currency }}</td>\n              <td>{{ transaction.salesTax | currency }}</td>\n              <td>{{ transaction.net | currency }}</td>\n              <td v-if=\"Auth.hasAnyRole('Rep')\">{{ transaction.balance | currency('floor') }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <section class=\"cp-table-mobile\" v-if=\"!loading\">\n       <div v-for=\"transaction in transactions\">\n         <div><span>Details: </span><span><a v-if=\"transaction.transactionId\" @click=\"getTransactionData(transaction.transactionId), selectedTransaction = transaction\">View</a></span></div>\n         <div><span>Date: </span><span>{{ transaction.date | cpStandardDate }}</span></div>\n         <div v-if=\"transaction.order\"><span>Receipt ID: </span><span><a v-bind:href=\"'/orders/'+ transaction.order.receipt_id\">{{ transaction.order.receipt_id }}</a></span></div>\n         <div><span></span></div>\n         <div v-if=\"transaction.transactionType\"><span>Type: </span><span>{{ formatType(transaction) }}</span></div>\n         <div v-else><span>Type: </span><span>{{ transaction.description }}</span></div>\n         <div v-if=\"transaction.withdraw < 0\"><span>Amount: </span><span>{{ transaction.withdraw | currency }}</span></div>\n         <div v-else-if=\"transaction.affiliate > 0\"><span>Amount: </span><span>{{ (transaction.order ? transaction.order.subtotal - transaction.order.discount : transaction.transactionAmount) | currency }}</span></div>\n         <div v-else><span>Amount: </span><span>{{ transaction.amount | currency }}</span></div>\n         <div><span>Fees: </span><span>{{ transaction.fees | currency }}</span></div>\n         <div><span>Sales Tax: </span><span>{{ transaction.salesTax | currency }}</span></div>\n         <div><span>Net: </span><span>{{ transaction.net | currency }}</span></div>\n         <div v-if=\"Auth.hasAnyRole('Rep')\"><span>Balance: </span><span>{{ transaction.balance | currency('floor') }}</span></div>\n       </div>\n      </section>\n\n      <div class=\"align-center\">\n          <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n          <cp-pagination :pagination=\"pagination\" :callback=\"getTransactions\" :offset=\"2\"></cp-pagination>\n      </div>\n    </div>\n\n    <transition name='modal'>\n      <section class=\"cp-modal-standard\" v-if=\"transactionDetailsModal == true\">\n        <div class=\"cp-modal-body\">\n          <div class=\"cp-modal-header\">\n            <h2>Transaction Details</h2>\n            <span @click=\"transactionDetailsModal = false\"><i class=\"mdi mdi-close\"></i> </span>\n          </div>\n            <div class=\"modal-left\">\n              <div v-show=\"transactionDetails.accountHolder\">\n                <strong>\n                  Account Holder\n                </strong>\n                <span class=\"column-right\">\n                  {{ transactionDetails.accountHolder }}\n                </span>\n            </div>\n              <div>\n                <strong>\n                  Date\n                </strong>\n                <span class=\"column-right\">\n                  {{ transactionDetails.date | cpStandardDate }}\n                </span>\n              </div>\n              <div v-show=\"selectedTransaction.receipt_id\">\n                <strong>\n                  Receipt ID\n                </strong>\n                <span class=\"column-right\">\n                  {{ selectedTransaction.receipt_id }}\n               </span>\n              </div>\n              <div v-if=\"transactionDetails.transactionType\">\n                <strong>\n                  Type\n                </strong>\n                <span class=\"column-right\">\n                  {{ formatType(transactionDetails) }}\n                </span>\n              </div>\n              <br>\n              <div v-if=\"selectedTransaction\">\n                <strong>\n                  Amount\n                </strong>\n                <span class=\"column-right\" v-if=\"selectedTransaction.amount\">\n                   {{ selectedTransaction.amount | currency }}\n                </span>\n              </div>\n\n          <div v-for=\"details in transactionDetails.entries\">\n              <span v-show=\"details.description\">\n                      <strong v-if=\"details.description === 'Credit Card Sale'\">\n                          <span>\n                              {{ format(details.description) + ' Fee'}}\n                          </span>\n                      </strong>\n                      <strong v-else-if=\"details.description != 'Credit Card Sale'\">\n                          <span>\n                              {{ format(details.description) }}\n                          </span>\n                      </strong>\n                  <strong v-else>\n                      <span >\n                          {{ format(details.type) }}\n                      </span>\n                  </strong>\n                      <span class=\"column-right\" v-if=\"details.amount\">\n                          {{ details.amount | currency5 }}\n                      </span>\n                  </span>\n              </div>\n          <div>\n            <strong>\n               Sales Tax\n            </strong>\n            <span class=\"column-right\" v-if=\"selectedTransaction.salesTax\">\n               {{ selectedTransaction.salesTax | currency5 }}\n            </span>\n          </div>\n          <div>\n              <strong>\n                  Net\n              </strong>\n              <span class=\"column-right\" v-if=\"selectedTransaction.net\">\n                  {{ selectedTransaction.net | currency5 }}\n              </span>\n          </div>\n          <div>\n            <strong>\n              Balance\n            </strong>\n            <span class=\"column-right\" v-if=\"selectedTransaction.balance\">\n              {{ selectedTransaction.balance | currency5 }}\n            </span>\n          </div>\n          <div v-show=\"selectedTransaction.gatewayReferenceId\">\n            <strong>\n              Gateway Transaction ID\n            </strong>\n            <span class=\"column-right\">\n              {{ selectedTransaction.gatewayReferenceId }}\n            </span>\n          </div>\n        </div>\n      </div>\n    </section>\n  </transition>\n</div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/ewallet/rep/CpTaxLedger.vue:script


      sms.vComponent('assets/js/components/ewallet/rep/CpTaxLedger.vue', {"name":"CpTaxLedger","path":"assets/js/components/ewallet/rep/CpTaxLedger.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')
const EWallet = require('../../../resources/ewallet.js')
const moment = require('moment')

module.exports = {
  data: function () {
    return {
      Auth: Auth,
      loading: false,
      transactions: {},
      transactionId: null,
      transactionDetails: {},
      transactionDetailsModal: false,
      pagination: {},
      report: {},
      selectedTransaction: {},
      indexRequest: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        search_term: null,
        column: 'last_name',
        order: 'ASC',
        per_page: 15,
        page: 1
      }
    }
  },
  mounted: function () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
    this.getTransactions()
  },
  methods: {
    getReport: function () {
      EWallet.salesTaxLedger()
        .then((response) => {
          this.report = response
          this.loading = false
        })
    },
    getTransactions: function () {
      this.loading = true
      let request = JSON.parse(JSON.stringify(this.indexRequest))
      request.page = this.pagination.current_page
      if (request.end_date < request.start_date) {
        request.end_date = request.start_date
      }
      EWallet.salesTaxLedger(request)
        .then((response) => {
          if (!response.error) {
            this.pagination = response
            this.transactions = response.data
            this.loading = false
            return response
          }
        })
    },
    getTransactionData: function (transactionId) {
      this.loading = true
      EWallet.transaction(transactionId)
        .then((response) => {
          if (!response.error) {
            this.transactionDetails = response
            this.loading = false
            this.transactionDetailsModal = true
          }
        })
    },
    format: function (string) {
      if (string) {
        string = string.replace('e-wallet-', '')
        string = string.replace('merchant', 'amount')
        return string.split('-').map(function (string) {
          return string.charAt(0).toUpperCase() + string.substring(1)
        }).join(' ')
      }
    }
  },
  events: {
  },
  computed: {
    csvLink () {
      return '/api/v1/ewallet/csv-sales-tax?order=' + this.indexRequest.order + '&start_date=' + this.indexRequest.start_date + '&end_date=' + this.indexRequest.end_date + '&per_page=100'
    }
  },
  components: {
    CpTableControls: require('../../../cp-components-common/tables/CpTableControls.vue'),
    CpWithdraw: require('../../ewallet/rep/CpWithdraw.vue'),
    CpTooltip: require('../../../custom-plugins/CpTooltip.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"sales-tax-ledger\">\n      <a class=\"cp-button-link\" download :href=\"csvLink\">Sales Tax Ledger CSV</a>\n      <cp-tooltip :options=\"{ content: 'Max count of 100'}\"></cp-tooltip>\n      <!-- <br/>\n      <br/> -->\n      <cp-table-controls\n        :date-picker=\"true\"\n        :date-range=\"indexRequest\"\n        :index-request=\"indexRequest\"\n        :resource-info=\"pagination\"\n        :search-box=\"false\"\n        :get-records=\"getTransactions\">\n      </cp-table-controls>\n      <div class=\"index-table\">\n        <table class=\"cp-table-standard desktop\">\n          <thead>\n            <tr>\n              <th>Details</th>\n              <th>Date</th>\n              <th>Receipt ID</th>\n              <th>Type</th>\n              <th>Amount</th>\n              <th>Sales Tax</th>\n              <th>Net</th>\n              <th v-if=\"Auth.hasAnyRole('Rep')\">Balance</th>\n            </tr>\n          </thead>\n          <tbody v-if=\"!loading\">\n            <tr v-for=\"transaction in transactions\">\n              <td><a v-if=\"transaction.transactionId\" @click=\"getTransactionData(transaction.transactionId), selectedTransaction = transaction\">View</a></td>\n              <td>{{ transaction.date | cpStandardDate }}</td>\n              <td v-if=\"transaction.receipt_id\"><a :href=\"'/orders/' + transaction.receipt_id\" >{{ transaction.receipt_id }}</a></td>\n              <td v-else></td>\n              <td v-if=\"transaction.transactionType\">{{ format(transaction.transactionType) }}</td>\n              <td v-else>{{ format(transaction.description) }}</td>\n              <td v-if=\"transaction.withdraw < 0\">{{ transaction.withdraw | currency('floor') }}</td>\n              <td v-else>{{ transaction.amount | currency('floor') }}</td>\n              <td>{{ transaction.salesTax | currency('floor') }}</td>\n              <td>{{ transaction.net | currency('floor') }}</td>\n              <td v-if=\"Auth.hasAnyRole('Rep')\">{{ transaction.balance | currency('floor') }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <section class=\"cp-table-mobile\" v-if=\"!loading\">\n       <div v-for=\"transaction in transactions\">\n         <div><span>Details: </span><span><a v-if=\"transaction.transactionId\" @click=\"getTransactionData(transaction.transactionId), selectedTransaction = transaction\">View</a></span></div>\n         <div><span>Date: </span><span>{{ transaction.date | cpStandardDate }}</span></div>\n         <div v-if=\"transaction.receipt_id\"><span>Receipt ID: </span><span><a v-bind:href=\"'/orders/' + transaction.receipt_id\">{{ transaction.receipt_id }}</a></span></div>\n         <div v-else><span></span></div>\n         <div v-if=\"transaction.transactionType\"><span>Type: </span><span>{{ format(transaction.transactionType) }}</span></div>\n         <div v-else><span>Type: </span><span>{{ format(transaction.description) }}</span></div>\n         <div v-if=\"transaction.withdraw < 0\"><span>Amount: </span><span>{{ transaction.withdraw | currency('floor') }}</span></div>\n         <div v-else><span>Amount: </span><span>{{ transaction.amount | currency('floor') }}</span></div>\n         <div><span>Fees: </span><span>{{ transaction.fees | currency('floor') }}</span></div>\n         <div><span>Sales Tax: </span><span>{{ transaction.salesTax | currency('floor') }}</span></div>\n         <div><span>Net: </span><span>{{ transaction.net | currency('floor') }}</span></div>\n         <div v-if=\"Auth.hasAnyRole('Rep')\"><span>Balance: </span><span>{{ transaction.balance | currency('floor') }}</span></div>\n       </div>\n      </section>\n      <div class=\"align-center\">\n          <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n          <cp-pagination :pagination=\"pagination\" :callback=\"getTransactions\" :offset=\"2\"></cp-pagination>\n      </div>\n    <transition name=\"fade\">\n      <section class=\"cp-modal-standard\" v-if=\"transactionDetailsModal === true\">\n        <div class=\"cp-modal-body\">\n          <div class=\"cp-modal-header\">\n            <h3>Transaction Details</h3>\n            <span @click=\"transactionDetailsModal = false\"><i class=\"mdi mdi-close\"></i> </span>\n          </div>\n          <div class=\"modal-left\">\n            <div v-show=\"transactionDetails.accountHolder\">\n              <strong>Account Holder</strong>\n              <span class=\"column-right\">\n                {{ transactionDetails.accountHolder }}\n              </span>\n            </div>\n            <div>\n              <strong>Date</strong>\n              <span class=\"column-right\">\n                {{ transactionDetails.date | cpStandardDate('time') }}\n              </span>\n           </div>\n            <div>\n              <strong>Receipt ID</strong>\n              <span class=\"column-right\">\n                {{ selectedTransaction.receipt_id }}\n              </span>\n            </div>\n            <div>\n                <div v-show=\"selectedTransaction.gatewayReferenceId\">\n                   <strong>Gateway Transaction ID</strong>\n                    <span class=\"column-right\">\n                        {{ selectedTransaction.gatewayReferenceId }}\n                    </span>\n                </div>\n            </div>\n            <div>\n                <div>\n                    <strong>Type</strong>\n                    <span class=\"column-right\">\n                        {{ format(transactionDetails.transactionType) }}\n                    </span>\n                </div>\n            </div>\n            <div>\n                <strong>Net</strong>\n                <span class=\"column-right\">\n                    {{ selectedTransaction.net | currency('floor') }}\n                </span>\n              </div>\n            </div>\n          </div>\n      </section>\n    </transition>\n</div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/inventory/AdminRepIndex.vue:script

sms.vComponent('assets/js/components/inventory/AdminRepIndex.vue', { name: 'CpAdminRepIndex', routing: { name: 'site.CpAdminRepIndex', meta: { title: 'Inventory' }, path: 'inventory/admin-rep-index', props: true } }, (require, exports, module)=>{

const Users = require('../../resources/users.js')

module.exports = {
  data () {
    return {
      reps: [],
      loading: false,
      selectedRep: null,
      showInventory: false,
      indexRequest: {
        column: 'last_name',
        role: 5, // rep - reseller and affiliate
        search_term: '',
        page: 1,
        order: 'asc',
        per_page: 15
      },
      pagination: {},
      asc: true,
      reverseSort: true
    }
  },
  mounted () {
    this.getReps()
  },
  methods: {
    getReps () {
      this.loading = true
      this.indexRequest.page = this.pagination.current_page
      Users.index(this.indexRequest)
        .then((response) => {
          this.loading = false
          if (!response.error) {
            this.pagination = response
            this.reps = response.data
          }
        })
    },
    sortColumn (column) {
      this.reverseSort = !this.reverseSort
      this.indexRequest.column = column
      this.asc = !this.asc
      if (this.asc === true) {
        this.indexRequest.order = 'asc'
      } else {
        this.indexRequest.order = 'desc'
      }
      this.getReps()
    }
  }
}

;module.exports.template = "\n  <div class=\"rep-inventory-manager\">\n    <!-- INDEX OF REPS  -->\n    <div class=\"index-of-reps\" v-show=\"!showInventory\">\n\n        <cp-table-controls\n        :date-picker=\"false\"\n        :index-request=\"indexRequest\"\n        :resource-info=\"pagination\"\n        :get-records=\"getReps\"></cp-table-controls>\n\n      <table class=\"cp-table-standard\">\n        <thead>\n          <th @click=\"sortColumn('id')\">ID\n            <span v-show=\"indexRequest.column == 'id'\">\n              <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n              <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n            </span>\n          </th>\n          <th @click=\"sortColumn('last_name')\">Representative\n            <span v-show=\"indexRequest.column == 'last_name'\">\n              <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n              <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n            </span>\n          </th>\n          <th>\n            <!-- edit -->\n          </th>\n        </thead>\n        <tbody v-if=\"!loading\">\n          <tr v-for=\"rep in reps\" @click=\"\">\n            <td>{{ rep.id }}</td>\n            <td>{{ rep.last_name }}, {{ rep.first_name }}</td>\n            <td class=\"edit-button\"><button class=\"cp-button-standard\" @click=\"showInventory = true, selectedRep = rep\">Edit</button></td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"align-center\">\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        <cp-pagination\n        :pagination=\"pagination\"\n        :callback=\"getReps\"\n        :offset=\"2\"></cp-pagination>\n      </div>\n    </div>\n    <!-- INVENTORY -->\n    <div v-if=\"showInventory && selectedRep\">\n      <div class=\"rep-inventory-header\">\n        <button class=\"cp-button-standard back-button\" @click=\"showInventory = false\">BACK</button>\n        <h3>{{ selectedRep.first_name }} {{ selectedRep.last_name }}'s Inventory</h3>\n      </div>\n      <div class=\"\">\n        <cp-inventory v-if=\"showInventory && selectedRep\" :selectedRep=\"selectedRep\"></cp-inventory>\n      </div>\n    </div>\n  </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/ewallet/rep/my-payments.vue:script

sms.vComponent('assets/js/components/ewallet/rep/my-payments.vue', { name: 'CpMyPayments', routing: { name: 'site.CpMyPayments', meta: { title: 'My Payments' }, path: 'ewallet/my-payments', props: true } }, (require, exports, module)=>{

const EWallet = require('../../../resources/ewallet.js')

module.exports = {
    data: function () {
        return {
            loading: false,
            transactions: [],
            pagination: {
                current_page: 1
            },
            asc: false,
            indexRequest: {
                order: 'ASC',
                column: 'name',
                per_page: 15,
                search_term: '',
                page: 1
            },
            quantity: [],
            reverseSort: false,
        }
    },
    computed: {},
    ready: function () {
        Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
        this.getTransactions();
    },
    methods: {
        getTransactions: function(){
            this.loading = true;
            this.indexRequest.page = this.pagination.current_page;
            EWallet.payments(this.indexRequest)
            .then((response) => {
                if (response.error) {
                    return this.$broadcast('errorMessage', response.message)
                }
                this.transactions = response.data;
                this.pagination = response.data;
                this.loading = false;
            })
        },
        sortColumn: function(column) {
            this.reverseSort = !this.reverseSort
            this.indexRequest.column = column;
            this.asc = !this.asc;
            if (this.asc === true) {
                this.indexRequest.order = 'asc';
            } else {
                this.indexRequest.order = 'desc';
            }
            this.getTransactions();
        }
    },
    events: {
        'search_term': function (term) {
            this.indexRequest.search_term = term;
            this.pagination.current_page = 1;
            this.getTransactions();
        }
    },
    components: {
        'SearchBox': require('../../SearchBox.vue')
    }
}

;module.exports.template = "\n    <div class=\"ewallet-wrapper\">\n        <search-box :placeholder=\"'Search Payments'\"></search-box>\n        <div>\n            <table class=\"cp-table-standard\">\n                <thead>\n                    <th @click=\"sortColumn('status')\">Status\n                        <span v-show=\"indexRequest.column == 'status'\">\n                            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        </span>\n                    </th>\n                    <th @click=\"sortColumn('order.receipt_id')\">Invoice ID\n                        <span v-show=\"indexRequest.column == 'order.receipt_id'\">\n                            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        </span>\n                    </th>\n                    <th @click=\"sortColumn('createdAt')\">Date of Sale\n                        <span v-show=\"indexRequest.column == 'CreatedAt'\">\n                            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        </span>\n                    </th>\n                    <th @click=\"sortColumn('amount')\">Amount\n                        <span v-show=\"indexRequest.column == 'amount'\">\n                            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        </span>\n                    </th>\n                    <th @click=\"sortColumn('accountHolder')\">Card Holder\n                        <span v-show=\"indexRequest.accountHolder == 'cardHolderName'\">\n                            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        </span>\n                    </th>\n                    <th @click=\"sortColumn('fees')\">Fees\n                        <span v-show=\"indexRequest.column == 'fees'\">\n                            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        </span>\n                    </th>\n                    <th @click=\"sortColumn('salesTax')\">Sales Tax\n                        <span v-show=\"indexRequest.column == 'salesTax'\">\n                            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        </span>\n                    </th>\n                    <th @click=\"sortColumn('shipping')\">Shipping\n                        <span v-show=\"indexRequest.column == 'shipping'\">\n                            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        </span>\n                    </th>\n                    <th @click=\"sortColumn('order.paid_at')\">Date Paid\n                        <span v-show=\"indexRequest.column == 'order.paid_at'\">\n                            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        </span>\n                    </th>\n                    <th @click=\"sortColumn('netAmount')\">Net Amount\n                        <span v-show=\"indexRequest.column == 'netAmount'\">\n                            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        </span>\n                    </th>\n                    <th @click=\"sortColumn('cashSale')\">Cash Sale\n                        <span v-show=\"indexRequest.column == 'cashSale'\">\n                            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        </span>\n                    </th>\n                    <th @click=\"sortColumn('orderType.name')\">Source of Sale\n                        <span v-show=\"indexRequest.column == 'orderType.name'\">\n                            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        </span>\n                    </th>\n                </thead>\n                <tbody>\n                    <tr v-for=\"transaction in transactions\">\n                        <td>{{ transaction.status }} </td>\n                        <td><a href=\"/ewallet/invoice-details/{{ transaction.order.receipt_id }}\">{{ transaction.order.receipt_id }}</a></td>\n                        <td>{{ transaction.createdAt | cpStandardDate}}</td>\n                        <td>{{ transaction.amount | currency('floor') }}</td>\n                        <td>{{ transaction.cardHolderName || transaction.order.customer.first_name}}</td>\n                        <td>{{ transaction.fees | currency('floor') }}</td>\n                        <td>{{ transaction.salesTax | currency('floor') }}</td>\n                        <td>{{ transaction.order.total_shipping | currency('floor') }}</td>\n                        <td>{{ transaction.datePaid | cpStandardDate}}</td>\n                        <td>{{ transaction.netAmount | currency('floor') }}</td>\n                        <td>{{ transaction.transactionCharges }}</td>\n                        <td>{{ transaction.order.source || 'Web' }}</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n        <div class=\"align-center\">\n            <div class=\"no-results\" v-if=\"transactions.length === 0\">No payments to report yet</div>\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        </div>\n    </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/invoices/index.vue:script

sms.vComponent('assets/js/components/invoices/index.vue', { name: 'CpInvoiceIndex', routing: { name: 'site.CpInvoiceIndex', meta: { title: 'Invoices' }, path: 'invoices', props: true } }, (require, exports, module)=>{

const Auth = require('auth')
const Invoices = require('../../resources/invoice.js')
const moment = require('moment')
const _ = require('lodash')

module.exports = {
  data: function () {
    return {
      Auth: Auth,
      orderDownloadModal: false,
      downloadTitle: 'Invoice Download',
      downloadType: null,
      noResults: false,
      loading: false,
      reverseSort: false,
      statusUpdate: null,
      invoices: [],
      invoiceActive: {
        invoices: true
      },
      invoicesToUpdate: [],
      status: 'none',
      pagination: {
        per_page: 100
      },
      asc: false,
      dates: {
        start_date: moment().subtract(31, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD')
      },
      indexRequest: {
        start_date: moment().subtract(31, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        order: 'DESC',
        column: 'created_at',
        per_page: 100,
        search_term: '',
        status: 'owner'
      },
      disableSelectBox: true
    }
  },
  computed: {
    invoicesActiveJson: function () {
      return JSON.stringify(this.invoiceActive)
    }
  },
  mounted: function () {
    this.prepareIndexRequest('invoices')
    this.getInvoices()
  },
  methods: {
    checkinvoicesLength: _.debounce(function () {
      if (this.invoicesToUpdate.length >= 1) {
        this.disableSelectBox = false
      } else {
        this.disableSelectBox = true
      }
    }, 100),
    getInvoices: function () {
      this.prepareIndexRequest('invoices')

      Invoices.index(this.indexRequest)
        .then((response) => {
          if (response.total === 0) {
            this.showNoResultsMessage()
          }
          this.handleinvoiceResponse(response)
        })
      this.invoicesToUpdate = []
    },
    invoiceStatus: function (name) {
      if (name) {
        switch (name) {
          case 'ALL':
            this.indexRequest.status = ''
            this.getInvoices()
            break
          case 'Corporate Invoices':
            this.indexRequest.status = 'owner'
            this.getInvoices()
            break
          case this.$getGlobal('title_rep').value + ' Invoices':
            this.indexRequest.status = 'rep'
            this.getInvoices()
            break
          default:
            this.indexRequest.status = 'owner'
            this.getInvoices()
        }
      }
    },
    handleinvoiceResponse: function (response) {
      this.loading = false
      if (response.error) {
        this.$toast(response.message, {error: true})
      } else {
        this.invoices = response.orders.data
        response.orders.per_page = parseInt(response.orders.per_page)
        this.pagination = response.orders
      }
    },
    prepareIndexRequest: function (endpoint) {
      this.invoices = {}
      this.loading = true
      this.indexRequest.page = this.pagination.current_page
      if (!moment(this.indexRequest.start_date).isValid() || !moment(this.indexRequest.end_date).isValid()) {
        return this.$toast('Invalid Date.', {error: true, dismiss: false})
      }
    },
    sortColumn: function (column) {
      this.reverseSort = !this.reverseSort
      this.indexRequest.column = column
      this.asc = !this.asc
      if (this.asc === true) {
        this.indexRequest.order = 'asc'
      } else {
        this.indexRequest.order = 'desc'
      }
      this.getInvoices()
    },
    updateInvoiceStatuses: function () {
      let request = {
        invoices: this.invoicesToUpdate,
        status: this.statusUpdate
      }
      var invoices = this.invoices
      this.invoicesToUpdate.forEach(function (invoiceId) {
        invoices = $.grep(invoices, function (e) {
          return e.uid !== invoiceId
        })
      })
      this.invoices = invoices
      Invoices.updateInvoiceStatus(request)
        .then((response) => {
          this.handleUpdateResponse(response)
          this.disableSelectBox = true
          this.statusUpdate = null
          return this.$toast('Invoice has been cancelled and deleted!', {error: false, dismiss: false})
        })
    },
    handleUpdateResponse: function (response) {
      if (response.error) {
        this.$toast(response.message, {error: true})
      } else {
        this.$toast('Successfully updated!')
        this.status = 1
      }
      this.invoicesToUpdate = []
    },
    showNoResultsMessage: function () {
      this.noResults = true
      setTimeout(function () {
        this.noResults = false
      }.bind(this), 3000)
    },
    showDownloadModal (type) {
      this.downloadType = type
      this.orderDownloadModal = true
    }
  },
  components: {
    'CpShippo': require('../shipping/CpShippo.vue'),
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue'),
    CpTabs: require('../../cp-components-common/navigation/CpTabs.vue'),
    CpOrderDownloadModal: require('../orders/CpOrderDownloadModal.vue')
  }
}

;module.exports.template = "\n  <div>\n    <div class=\"invoice-index-wrapper\">\n        <div class=\"cp-download-buttons\">\n          <a class=\"cp-button-link\" @click=\"showDownloadModal('invoice-list')\">Download Invoices</a>\n        </div>\n        <cp-tabs\n          v-if=\"Auth.hasAnyRole('Superadmin', 'Admin')\"\n          :items=\"[\n            { name: 'Corporate Invoices', active: true },\n            { name: $getGlobal('title_rep').value + ' Invoices', active: false },\n            { name: 'ALL', active: false },\n          ]\"\n          :callback=\"invoiceStatus\"></cp-tabs>\n        <cp-table-controls\n          :date-picker=\"true\"\n          :date-range=\"indexRequest\"\n          :index-request=\"indexRequest\"\n          :resource-info=\"pagination\"\n          :get-records=\"getInvoices\">\n        </cp-table-controls>\n         <div class=\"status-select\">\n              <select v-model=\"statusUpdate\" @change=\"updateInvoiceStatuses()\" :class=\"{ 'disable-select-box': disableSelectBox }\">\n                  <option :value=\"null\" selected disabled>Change Status to:</option>\n                  <option value='cancelled'>Cancelled</option>\n              </select>\n          </div>\n        <table class=\"cp-table-standard desktop\">\n            <thead>\n                  <th><!-- checkbox field --> </th>\n                <th @click=\"sortColumn('receipt_id')\">Receipt ID\n                    <span v-show=\"indexRequest.column === 'receipt_id'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('created_at')\">Date Created\n                    <span v-show=\"indexRequest.column === 'created_at'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('expires_at')\" >Date Expires\n                    <span v-show=\"indexRequest.column === 'expires_at'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('users.last_name')\">Customer Name\n                    <span v-show=\"indexRequest.column === 'users.last_name'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('subtotal_price')\">Subtotal\n                    <span v-show=\"indexRequest.column === 'subtotal_price'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th v-if=\"indexRequest.status !== 'owner'\" @click=\"sortColumn('seller.last_name')\">Seller Name\n                    <span v-show=\"indexRequest.column === 'seller.last_name'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n            </thead>\n            <tbody>\n                <tr v-for=\"(invoice, index) in invoices\" :key=\"index\">\n                    <td><input type=\"checkbox\" :id=\"invoice.uid\" :value=\"invoice.uid\" v-model=\"invoicesToUpdate\" @click=\"checkinvoicesLength()\"/></td>\n                    <td><a :href=\"`/invoices/${invoice.receipt_id}`\">{{ invoice.uid }} </a></td>\n                    <td>{{ invoice.created_at | cpStandardDate}}</td>\n                    <td>{{ invoice.expires_at | cpStandardDate(true)}}</td>\n                    <td>{{ invoice.customer_last_name }}, {{ invoice.customer_first_name }}</td>\n                    <td>{{ invoice.subtotal_price | currency }}</td>\n                    <td v-if=\"indexRequest.status !== 'owner'\">{{invoice.seller_last_name}}, {{ invoice.seller_first_name }}</td>\n                </tr>\n            </tbody>\n        </table>\n        <section class=\"cp-table-mobile\" >\n          <div v-for=\"invoice in invoices\">\n            <div><span>Receipt ID: </span><a :href=\"`/invoices/${invoice.receipt_id}`\">{{ invoice.uid }}</a></div>\n            <div><span>Date Created: </span><span>{{ invoice.created_at | cpStandardDate}}</span></div>\n            <div><span>Date Expires: </span><span>{{ invoice.expires_at | cpStandardDate(true)}}</span></div>\n            <div><span>Name: </span><span>{{ invoice.customer_last_name }}, {{ invoice.customer_first_name }} </span></div>\n            <div><span>Subtotal: </span><span>{{ invoice.subtotal_price | currency}}</span></div>\n            <div v-if=\"indexRequest.status !== 'owner'\"><span>Seller ID: </span><span>{{ invoice.store_owner_user_id }}</span></div>\n          </div>\n        </section>\n        <div class=\"align-center\">\n            <div class=\"no-results\" v-if=\"noResults\">\n                <span>No results for this timeframe</span>\n            </div>\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n            <cp-pagination :pagination=\"pagination\" :callback=\"getInvoices\" :offset=\"2\"></cp-pagination>\n        </div>\n    </div>\n    <cp-order-download-modal v-if=\"orderDownloadModal\" @close=\"orderDownloadModal = false\"\n      :title=\"downloadTitle\" :start-date=\"indexRequest.start_date\"\n      :end-date=\"indexRequest.end_date\" :type=\"downloadType\"\n      :sort-column=\"indexRequest.column\" :sort-order=\"indexRequest.order\"\n      :search-term=\"indexRequest.search_term\"\n      :status=\"indexRequest.status\"></cp-order-download-modal>\n  </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/ewallet/rep/dashboard.vue:script

sms.vComponent('assets/js/components/ewallet/rep/dashboard.vue', { name: 'CpEwalletDashboard', routing: { name: 'site.CpEwalletDashboard', meta: { title: 'Ewallet Dashboard' }, path: 'ewallet/dashboard', props: true } }, (require, exports, module)=>{

const Auth = require('auth')
const EWallet = require('../../../resources/ewallet.js')

module.exports = {
  data: function () {
    return {
      loading: true,
      user: {
        seller_type_id: 2
      },
      report: {
        balance: {},
        commission: {}
      },
      Auth: Auth,
      activeLedger: {
        salesLedger: false,
        commissionsLedger: false,
        salesTaxLedger: false,
      },
      banner: [],
      tabs: [{name: ''}],
      balanceWithdraw: false,
      commissionWithdraw: false
    }
  },
  mounted: function () {
    this.getUser()
    this.getReport()
  },
  methods: {
    redirectToPayQuicker () {
      EWallet
        .getPayQuickerRedirectLink()
        .then(res => (window.location = res.invitationUrl))
    },
    getUser () {
      EWallet.getUser()
        .then((response) => {
          this.user = response
        })
    },
    getReport: function () {
      EWallet.dashboard()
        .then((response) => {
          this.report = response
          this.getSettings()
          this.loading = false
        })
    },
    getSettings: function () {
      var tabs = this.tabs.length
      for (i = 0; i <= tabs; i++) {
        this.tabs.pop()
      }
      var banner = this.banner.length
      for (i = 0; i <= banner; i++) {
        this.banner.pop()
      }
      var active = true
      if (Auth.hasAnyRole('Admin', 'Superadmin')) {
        this.tabs.push({ name: 'Company Balance Ledger', active: active })
        this.banner.push({title:'Current Balance', amount: this.report.balance.eWalletBalance})
        this.activeLedger.salesLedger = active
        active = false
        this.tabs.push({ name: 'Sales Tax Ledger', active: active})
        this.banner.push({title:'Sales Tax Owed', amount: this.report.balance.pendingTaxTotal})
      } else if (Auth.hasAnyRole('Rep')) {
        if (this.$getGlobal('affiliate_ewallet_balance').show && this.user.seller_type_id === 1 ||
            this.$getGlobal('reseller_ewallet_balance').show && this.user.seller_type_id === 2 ) {
              this.tabs.push({ name: 'My Balance Ledger', active: active})
              this.banner.push({title:'Current Balance', amount: this.report.balance.eWalletBalance})
              this.balanceWithdraw = true
              this.activeLedger.salesLedger = active
              active = false
        }
        if (this.$getGlobal('affiliate_ewallet_commission').show && this.user.seller_type_id === 1 ||
            this.$getGlobal('reseller_ewallet_commission').show && this.user.seller_type_id === 2 ) {
              this.tabs.push({ name: 'Commissions Ledger', active: active})
              this.banner.push({title:'Current Commissions Balance', amount: this.report.commission.eWalletBalance})
              this.commissionWithdraw = true
              this.activeLedger.commissionsLedger = active
              active = false
        }
        if (this.$getGlobal('affiliate_ewallet_taxes').show && this.user.seller_type_id === 1 ||
            this.$getGlobal('reseller_ewallet_taxes').show && this.user.seller_type_id === 2 ) {
              this.tabs.push({ name: 'Sales Tax Ledger', active: active})
              this.banner.push({title:'Sales Tax Owed', amount: this.report.balance.pendingTaxTotal})
              this.activeLedger.salesTaxLedger = active
              active = false
        }
      }

    },
    selectLedger (name) {
      this.activeLedger.salesLedger = false
      this.activeLedger.salesTaxLedger = false
      this.activeLedger.commissionsLedger = false
      switch (name) {
        case 'Company Balance Ledger':
          this.activeLedger.salesLedger = true
          break
        case 'My Balance Ledger':
          this.activeLedger.salesLedger = true
          break
        case 'Sales Tax Ledger':
          this.activeLedger.salesTaxLedger = true
          break
        case 'Commissions Ledger':
          this.activeLedger.commissionsLedger = true
          break
      }
    },
    checkPayTaxesFirst: function () {
      if (this.user.seller_type_id === 1 && this.$getGlobal('affiliate_ewallet_taxes_paid_first').show && this.report.balance.pendingTaxTotal > 0) {
        return false
      }
      if (this.user.seller_type_id === 2 && this.$getGlobal('reseller_ewallet_taxes_paid_first').show && this.report.balance.pendingTaxTotal > 0) {
        return false
      }
      return true
    },
    checkWithdraw: function () {
      if (this.Auth.hasAnyRole('Rep')) {
        if (this.user.seller_type_id === 1 && this.$getGlobal('affiliate_ewallet_withdraw').show) {
          return true
        }
        if (this.user.seller_type_id === 2 && this.$getGlobal('reseller_ewallet_withdraw').show) {
          return true
        }
      }
      return false
    },
    checkPayTaxes: function () {
      if (this.Auth.hasAnyRole('Rep')) {
        if (this.user.seller_type_id === 1 && this.report.balance.pendingTaxTotal > 0 && (
          this.$getGlobal('affiliate_ewallet_taxes_balance').show ||
          this.$getGlobal('affiliate_ewallet_taxes_ach').show ||
          this.$getGlobal('affiliate_ewallet_taxes_credit_card').show
        )) {
          return true
        }
        if (this.user.seller_type_id === 2 && this.report.balance.pendingTaxTotal > 0 && (
          this.$getGlobal('reseller_ewallet_taxes_balance').show ||
          this.$getGlobal('reseller_ewallet_taxes_ach').show ||
          this.$getGlobal('reseller_ewallet_taxes_credit_card').show
        )) {
          return true
        }
      }
      return false
    },
    showPending: function () {
      if (this.Auth.hasAnyRole('Rep')) {
        if (this.user.seller_type_id === 1 && this.$getGlobal('affiliate_ewallet_pending_balance').show) {
          return true
        }
        if (this.user.seller_type_id === 2 && this.$getGlobal('reseller_ewallet_pending_balance').show) {
          return true
        }
      }
      return false
    }
  },
  components: {
    CpTotalsBanner: require('../../reports/CpTotalsBanner.vue'),
    CpWithdraw: require('../../ewallet/rep/CpWithdraw.vue'),
    CpTableControls: require('../../../cp-components-common/tables/CpTableControls.vue'),
    CpPayTaxes: require('../../ewallet/rep/CpPayTaxes.vue'),
    CpLedger: require('../../ewallet/rep/CpLedger.vue'),
    CpTabs: require('../../../cp-components-common/navigation/CpTabs.vue'),
    CpTaxLedger: require('../../ewallet/rep/CpTaxLedger.vue'),
    CpTooltip: require('../../../custom-plugins/CpTooltip.vue')
  }
}


;module.exports.template = "\n  <div class=\"cp-ewallet-dashboard-scope\">\n    <span class=\"ewallet-block\" v-if=\"checkWithdraw()\">\n        <span v-if=\"checkPayTaxesFirst()\">\n            <cp-withdraw :call-back=\"getReport\" :modal-show=\"report\" :available-funds=\"report.balance.eWalletBalance\" :available-commissions=\"report.commission.eWalletBalance\" :balance-withdraw=\"balanceWithdraw\" :commission-withdraw=\"commissionWithdraw\" class=\"ewallet-payment-button\"></cp-withdraw>\n        </span>\n        <span v-else>\n            <button type=\"button\" class=\"cp-button-standard\" disabled>Get Paid</button>\n        </span>\n        <span v-show=\"!checkPayTaxesFirst()\">\n            <cp-tooltip :options=\" {content: 'All open sales tax needs to be paid before you can withdraw.'}\"></cp-tooltip>\n        </span>\n    </span>\n    <span class=\"ewallet-block\" v-if=\"checkPayTaxes()\">\n        <cp-pay-taxes :call-back=\"getReport\" :modal-show=\"report\" :available-funds=\"report.balance.eWalletBalance\" :taxes-owed=\"report.balance.pendingTaxTotal\" :user=\"user\"></cp-pay-taxes>\n    </span>\n    <span class=\"ewallet-block\">\n        <span></span>\n        <span>\n            <a class=\"cp-button-link\" href=\"javascript:void(0)\" @click=\"redirectToPayQuicker()\" v-show=\"$getGlobal('payquicker').show && Auth.hasAnyRole('Rep')\">PayQuicker</a>\n        </span>\n    </span>\n    <div>\n    <cp-totals-banner\n      :totals=\"banner\"\n      :floor=\"true\"></cp-totals-banner>\n    </div>\n    <cp-tabs\n    :items=\"tabs\"\n    :callback=\"selectLedger\"></cp-tabs>\n      <cp-totals-banner v-if=\"activeLedger.salesLedger && showPending()\"\n        :totals=\"[\n        {title:'Pending Sales', amount: report.balance.pendingSalesTotal},\n        {title:'Pending Sales Count', amount: report.balance.pendingSalesCount, currency: false}]\"\n        :floor=\"true\">\n      </cp-totals-banner>\n      <cp-totals-banner v-if=\"activeLedger.salesTaxLedger\"\n        :totals=\"[\n        {title:'Pending Tax Count', amount: report.balance.pendingTaxCount, currency: false}]\"\n        :floor=\"true\">\n      </cp-totals-banner>\n        <cp-ledger key=\"Company\" v-if=\"activeLedger.salesLedger && Auth.hasAnyRole('Superadmin', 'Admin')\" source=\"Rep\"></cp-ledger>\n        <cp-ledger key=\"Rep\" v-if=\"activeLedger.salesLedger && Auth.hasAnyRole('Rep')\" source=\"Rep\"></cp-ledger>\n        <cp-ledger key=\"Commissions\" v-if=\"activeLedger.commissionsLedger && Auth.hasAnyRole('Rep')\" source=\"Company\"></cp-ledger>\n        <cp-tax-ledger v-if=\"activeLedger.salesTaxLedger\"></cp-tax-ledger>\n    </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/ewallet/rep/CpWithdraw.vue:script


      sms.vComponent('assets/js/components/ewallet/rep/CpWithdraw.vue', {"name":"CpWithdraw","path":"assets/js/components/ewallet/rep/CpWithdraw.vue"}, (require,exports,module)=>{
        
const EWallet = require('../../../resources/ewallet.js')

module.exports = {
  data () {
    return {
      total: '5.00',
      message: null,
      step: 0,
      title: 'Get Paid',
      getPaidModal: false,
      source: 'Rep'
    }
  },
  props: {
    callBack: {
      type: Function,
      required: true
    },
    availableFunds: {
      required: true
    },
    availableCommissions: {
      required: true
    },
    balanceWithdraw: {
      type: Boolean,
      required: true
    },
    commissionWithdraw: {
      type: Boolean,
      required: true
    }
  },
  computed: {},
  mounted () {
  },
  methods: {
    withdraw: function () {
      EWallet.withdraw({total: this.total, source: this.source})
      .then((response) => {
        this.response = response
        this.step = 3
        this.title = 'Payment Results'
        if (response.success) {
          this.callBack()
             this.message = "Success! $" + parseFloat(this.total).toFixed(2) + " is being transferred to your account on file. We will process this as soon as possible. Thank you!"
        } else {
          this.message = this.response.description
        }
      })
    },
    checkAmount: function () {
      if (this.total > this.availableFunds) {
        this.total = Math.floor(this.availableFunds * 100) / 100
      }
    },
    checkSource: function () {
      this.step = 1
      if (this.balanceWithdraw) {
        this.source = 'Rep'
      } else if (this.commissionWithdraw) {
        this.source = 'Company'
      }
      if (this.balanceWithdraw && this.commissionWithdraw) {
        this.step = 0
      }
      title = 'Get Paid'
    }
  },
  components: {
    CpTotalsBanner: require('../../reports/CpTotalsBanner.vue')
  }
}

;
        module.exports.template = "\n  <div class=\"withdraw\">\n    <span>\n      <button class=\"cp-button-standard\" @click=\"checkSource(), getPaidModal = !getPaidModal\">Get Paid</button>\n    </span>\n    <transition name='fade'>\n      <section class=\"cp-modal-standard\" v-if=\"getPaidModal === true\">\n        <div class=\"cp-modal-body\">\n          <div class=\"cp-modal-header\">\n            <h2>Account Withdraw</h2>\n            <span @click=\"getPaidModal = !getPaidModal\"><i class=\"mdi mdi-close\"></i> </span>\n          </div>\n          <div v-show=\"step == 0\">\n            <div class=\"cp-modal-body\">\n              <div class=\"payment-information\">\n                <input type=\"radio\" id='withdraw' value='Rep' v-model=\"source\"></input>\n                <label>Current Balance</label>\n                {{ availableFunds | currency('floor') }}\n              </div>\n              <div class=\"payment-information\">\n                <input type=\"radio\" id='withdraw' value='Company' v-model=\"source\"></input>\n                <label>Commissions Balance</label>\n                {{ availableCommissions | currency('floor') }}\n              </div>\n            </div>\n            <div class=\"modal-footer-single\">\n              <button type=\"button\" class=\"cp-button-standard\" @click=\"step = 1\">Next</button>\n            </div>\n          </div>\n\n          <div v-show=\"step == 1\">\n            <div class=\"cp-modal-body\">\n              <div class=\"payment-information\">\n                <label v-if=\"source == 'Rep'\">\n                  Available Funds {{ availableFunds | currency('floor') }}\n                </label>\n                <label v-if=\"source == 'Company'\">\n                  Available Funds {{ availableCommissions | currency('floor') }}\n                </label>\n              </div>\n              <div class=\"payment-information\">\n                <label>Enter Amount</label>\n                <span>$<input class='cp-input-standard amount-input' type=\"number\" v-model=\"total\" v-on:keyup=\"checkAmount\"></input></span>\n              </div>\n            </div>\n            <div class=\"modal-footer-single\">\n              <button v-if=\"total >= 5\" type=\"button\" class=\"cp-button-standard\" @click=\"step = 2, title = 'Please Confirm'\">Next</button>\n              <button v-else type=\"button\" class=\"cp-button-standard\" disabled>Next</button>\n            </div>\n          </div>\n\n          <div v-show=\"step == 2\">\n            <div class=\"cp-modal-body\">\n              <p>You're about to transfer {{ total | currency('floor') }} to your bank account.</p>\n            </div>\n            <div class=\"modal-footer-single\">\n              <button type=\"button\" class=\"cp-button-standard\" @click=\"withdraw\">Confirm</button>\n            </div>\n          </div>\n\n          <div v-show=\"step == 3\" class=\"align-center\">\n            <div class=\"cp-modal-body\">\n              <p>{{ message }}</p>\n            </div>\n            <div class=\"modal-footer-single\">\n              <button class=\"cp-button-standard\" @click=\"getPaidModal = !getPaidModal\">OK</button>\n            </div>\n          </div>\n        </div>\n      </section>\n    </transition>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/history/index.vue:script

sms.vComponent('assets/js/components/history/index.vue', { name: 'CpHistoryIndex', routing: { name: 'site.CpHistoryIndex', meta: { title: 'History' }, path: '/history', props: true } }, (require, exports, module)=>{

const History = require('../../resources/history.js')

module.exports = {
  data: function () {
    return {
      loading: true,
      history: [],
      pagination: {},
      asc: false,
      indexRequest: {
        order: 'ASC',
        column: 'name',
        per_page: 15,
        search_term: '',
        page: 1
      },
      reverseSort: false
    }
  },
  computed: {},
  mounted: function () {
    this.getHistory()
  },
  methods: {
    getHistory: function () {
      this.indexRequest.page = this.pagination.current_page
      History.index(this.indexRequest)
              .then((response) => {
                if (response.error) {
                  return this.$toast(response.message, {error: true})
                }
                this.loading = false
                this.history = response.data
                this.pagination = response
              })
    }
  }
}

;module.exports.template = "\n    <div class=\"cp-history-index\">\n        <table class=\"cp-table-standard\">\n            <thead>\n                <th>Username</th>\n                <th>Action</th>\n                <th>Model</th>\n                <th>Model ID</th>\n                <th>Model Name</th>\n                <th>Before</th>\n                <th>After</th>\n                <th>IP</th>\n                <th>Updated At</th>\n            </thead>\n            <tbody>\n                <tr v-for=\"(history, index) in history\">\n                    <td v-if=\"history.username\">{{ history.username.full_name}}</td>\n                    <td v-else>Action taken by non-registered actor.</td>\n                    <td>{{ history.action }}</td>\n                    <td>{{ history.historable_type }}</td>\n                    <td>{{ history.historable_id }}</td>\n                    <td>{{ history.model_name || \"N/A\"}}</td>\n                    <td>\n                        <ul v-if=\"history.before\" class=\"history-sublist\">\n                            <li v-for=\"(value, key) in history.before\">\n                                <strong>{{ key }}:</strong> {{ value }}\n                            </li>\n                        </ul>\n                    </td>\n                    <td>\n                        <ul v-if=\"history.after\" class=\"history-sublist\">\n                            <li v-for=\"(value, key) in history.after\">\n                                <strong>{{ key }}:</strong> {{ value }}\n                            </li>\n                        </ul>\n                     </td>\n                    <td>{{ history.ip }}</td>\n                    <td>{{ history.updated_at | cpStandardDate(['time']) }}</td>\n                </tr>\n            </tbody>\n        </table>\n        <div class=\"align-center\">\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n            <cp-pagination :pagination=\"pagination\" :callback=\"getHistory\" :options=\"{offset:2}\"></cp-pagination>\n        </div>\n    </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/inventory/CpVariantGallery.vue:script


      sms.vComponent('assets/js/components/inventory/CpVariantGallery.vue', {"name":"CpVariantGallery","path":"assets/js/components/inventory/CpVariantGallery.vue"}, (require,exports,module)=>{
        
const Inventory = require('../../resources/InventoryAPIv0.js')
const Auth = require('auth')

module.exports = {
  data: () => ({
    showId: null,
    loading: false,
    showVariant: {},
    variantsCurrentPage: [],
    variants: [],
    indexRequest: {
      expands: ['variants', 'variant_images'],
      per_page: 15,
      search_term: '',
      page: 1
    }
  }),
  mounted () {
    this.getVariants()
  },
  methods: {
    getVariants () {
      this.loading = true
      if (Auth.hasAnyRole('Superadmin', 'Admin')) {
        this.indexRequest.user_id = 1
      }
      if (this.userId !== undefined) {
        this.indexRequest.user_id = this.userId
      } else {
        this.indexRequest.user_id = Auth.getOwnerId()
      }
      this.indexRequest.page = this.pagination.current_page
      this.indexRequest.search_term = this.searchTerm
      Inventory.getProduct(this.indexRequest, this.productId)
        .then((response) => {
          this.loading = false
          if (response.error) {
            return this.$toast(response.message)
          }
          this.variants = response.variants
          this.checkVariants()
        })
    },
    checkVariants () {
      if (this.variants.length === 1) {
        this.showId = 0
      }
    },
    setOpen (index) {
      if (index === this.showId) {
        this.showId = null
      } else {
        this.showId = index
      }
    }
  },
  props: ['productId', 'ownerId', 'userId', 'pagination', 'searchTerm'],
  components: {
    CpItemGallery: require('./CpItemGallery.vue')
  }
}
;
        module.exports.template = "\n  <div id=\"variant-gallery\">\n    <div v-if=\"!loading && variantsCurrentPage\" class=\"cp-accordion\" v-for=\"(variant, index) in variantsCurrentPage\" :key=\"index\">\n      <div class=\"header cp-accordion-head\" @click=\"setOpen(index)\">\n        <div v-if=\"variant.images[0]\" class=\"col\">\n          <img :src=\"variant.images[0].url | imageSize('url_xxs')\" alt=\"\">\n        </div>\n        <div v-else class=\"col\">\n          <div class=\"image-holder\"></div>\n        </div>\n        <div class=\"col\">\n          <h4>{{variant.name}}</h4>\n        </div>\n      </div>\n      <div class=\"cp-accordion-body\" v-if=\"showId === index\">\n        <cp-item-gallery \n        :variant-id=\"variant.id\" \n        :option-label=\"variant.option_label\" \n        :owner-id=\"ownerId\" \n        :user-id=\"userId\">\n        </cp-item-gallery>\n      </div>\n    </div>\n    <div class=\"align-center\">\n      <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n      <cp-array-pagination  v-if=\"!loading\" :per-page=\"5\" :data=\"variants\" @current-page=\"function (val) { variantsCurrentPage = val; showId = null }\"></cp-array-pagination>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/media/CpMediaCreate.vue:script


      sms.vComponent('assets/js/components/media/CpMediaCreate.vue', {"name":"CpMediaCreate","path":"assets/js/components/media/CpMediaCreate.vue"}, (require,exports,module)=>{
        
const Dropzone = require('dropzone')
const Media = require('../../resources/media.js')
const Auth = require('auth')

module.exports = {
  data: function () {
    return {
      media: {
        description: '',
        title: '',
        is_public: 0
      },
      errorMessages: {},
      uploading: false,
      uploadZone: {},
      Auth: Auth
    }
  },
  props: {
    modalDisplay: {
      type: Boolean,
      required: false,
      default: false
    },
    getMedia: {
      type: Function
    }
  },
  mounted: function () {
    this.uploadDropzone()
  },
  methods: {
    uploadDropzone: function () {
      var $this = this
      var uploadZoneConfig = Media.dropzoneConfig('.mp4, .MP4, .mp3')
      uploadZoneConfig.success = function (file, response) {
        $this.media = response
        $this.uploading = false
        $this.$toast('File successfully uploaded.')
        $this.$emit('input', false)
      }
      uploadZoneConfig.queuecomplete = function (file, resposne) {
        $this.getMedia()
      }
      uploadZoneConfig.error = function (file, response) {
        $this.uploading = false
        $this.$toast('There was an error uploading your image. Try again or contact support.', { error: true })
      }
      uploadZoneConfig.autoProcessQueue = false
      this.uploadZone = new Dropzone('#createMediaZone', uploadZoneConfig)
    },
    uploadMedia: function () {
      if (this.uploadZone.files.length < 1) {
        this.$toast('No file selected.', { error: true })
        return
      }
      this.uploading = true
      this.uploadZone.processQueue()
    }
  },
  components: {
  }
}
;
        module.exports.template = "\n    <div class=\"media-upload-wrapper\">\n        <h4>Upload Media File</h4>\n        <section class=\"media-file\">\n            <div>\n                <form action=\"/api/v1/media/process\" method=\"POST\" class=\"dropzone\" id=\"createMediaZone\">\n                    <input type=\"hidden\" name=\"title\" :value=\"media.title\">\n                    <input type=\"hidden\" name=\"description\" :value=\"media.description\">\n                    <input type=\"hidden\" name=\"is_public\" :value=\"media.is_public\">\n                </form>\n            </div>\n        </section>\n        <form class=\"cp-form-standard media-details\">\n            <label>Title</label>\n            <input type=\"text\" name=\"title\" v-model=\"media.title\">\n            <span v-show=\"errorMessages.title\" class=\"cp-warning-message\">{{ errorMessages.title }}</span>\n            <label>Description</label>\n            <input type=\"text\" name=\"description\" v-model=\"media.description\">\n            <span v-show=\"errorMessages.description\" class=\"cp-warning-message\">{{ errorMessages.description }}</span>\n            <div class=\"media-checkbox\" v-if=\"Auth.hasAnyRole('Superadmin', 'Admin')\">\n                <input type=\"checkbox\" name=\"is_public\" v-model=\"media.is_public\"><label>Make available for {{$getGlobal('title_rep').value}}s</label>\n            </div>\n        </form>\n        <button class=\"cp-button-standard close-button\" @click=\"uploadMedia()\" v-if=\"!uploading\">Upload</button>\n        <button class=\"cp-button-standard close-button\" v-else>Uploading . . .</button>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/media/media-index.vue:script

sms.vComponent('assets/js/components/media/media-index.vue', { name: 'CpMediaIndex', routing: { name: 'site.CpMediaIndex', meta: { title: 'Media Library' }, path: 'media', props: true } }, (require, exports, module)=>{

const Media = require('../../resources/media.js')
const Auth = require('auth')

module.exports = {
  data: function () {
    return {
      pendingDelete: [],
      showConfirm: false,
      media: [],
      showMediaModal: false,
      editMediaModal: false,
      uploadMediaModal: false,
      updating: false,
      uploading: false,
      selectedFile: {},
      pagination: {},
      loading: true,
      count: {
        'all': 0,
        'image': 0,
        'document': 0,
        'sheet': 0,
        'presentation': 0,
        'pdf': 0,
        'video': 0,
        'fileSize': 0
      },
      mediaRequest: {
        status: 'All',
        search_term: '',
        per_page: 15
      },
      Auth: Auth
    }
  },
  mounted: function () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.mediaRequest.per_page = '100' : this.mediaRequest.per_page = '15'
    this.getTypeCount()
    this.getMedia()
  },
  methods: {
    deleteMedia: function (media) {
      Media.delete(media)
        .then((response) => {
          this.loading = false
          if (response.error) {
            return this.$toast(response.message, {error: true})
          }
          this.$toast('Media successfully deleted!', {error: false})
          this.getTypeCount()
          this.getMedia()
        })
    },
    getMedia: function () {
      this.loading = true
      this.mediaRequest.page = this.pagination.current_page
      Media.index(this.mediaRequest)
        .then((response) => {
          this.loading = false
          if (response.error) {
            return this.$toast(response.message, {error: true})
          }
          this.media = response.data
          response.per_page = parseInt(response.per_page)
          this.pagination = response
        })
    },
    updateMedia: function () {
      this.updating = true
      Media.update(this.selectedFile.id, this.selectedFile)
        .then((response) => {
          if (response.error) {
            this.editMediaModal = false
            this.updating = false
            return this.$toast(response.message, {error: true})
          }
          this.editMediaModal = false
          this.updating = false
          this.getMedia()
          return this.$toast('The file was successfully updated.')
        })
    },
    mediaShow: function (file) {
      this.selectedFile = file
      this.showMediaModal = true
      window.scrollTo(0, 0)
    },
    mediaEdit: function (file) {
      this.selectedFile = JSON.parse(JSON.stringify(file)) // needs to be it's own instance
      this.editMediaModal = true
      window.scrollTo(0, 0)
    },
    exitMediaModal: function () {
      this.showMediaModal = false
      this.editMediaModal = false
      this.uploadMediaModal = false
      this.selectedFile = {}
    },
    resetIndexRequest: function (status) {
      this.mediaRequest.status = status
      this.getMedia()
    },
    getTypeCount: function () {
      Media.mediaTypeCount(this.mediaRequest)
        .then((response) => {
          if (response.error) {
            return this.$toast('errorMessage', response.message)
          }
          this.count = response
        })
    }
  },
  events: {
    'childMessage': function (child) {
      if (child.error === true) {
        this.$toast(child.message, {error: true})
      } else {
        this.$toast(child.message, {error: false})
        this.getTypeCount()
        this.getMedia()
      }
    }
  },
  components: {
    CpMedia: require('./CpMedia.vue'),
    CpMediaEdit: require('./CpMediaEdit.vue'),
    CpMediaCreate: require('./CpMediaCreate.vue'),
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue'),
    CpConfirm: require('../../cp-components-common/CpConfirm.vue')
  }
}

;module.exports.template = "\n  <div class=\"media-index-wrapper\">\n        <div class=\"space-between\">\n            <div>\n                <button v-if=\"Auth.hasAnyRole('Superadmin', 'Admin')\" @click=\"uploadMediaModal = true, selectedFile = {}\" :disabled=\"count.fileSize > 250\" class=\"cp-button-link\">Upload File</button>\n                  <button v-else @click=\"uploadMediaModal = true, selectedFile = {}\" :disabled=\"count.fileSize > 25\" class=\"cp-button-link\">Upload File</button>\n                <p v-if=\"Auth.hasAnyRole('Superadmin', 'Admin')\">You are using {{count.fileSize}} MB out of 250 MB</p>\n                <p v-else>You are using {{count.fileSize}} MB out of 25 MB</p>\n            </div>\n        </div>\n        <div class=\"cp-tabs-standard\">\n            <button @click=\"resetIndexRequest('All')\" v-if=\"count.all > 0\">All </button>\n            <button @click=\"resetIndexRequest('Image')\" v-if=\"count.image > 0\">Images </button>\n            <button @click=\"resetIndexRequest('Video')\"v-if=\"count.video > 0\">Video </button>\n            <button @click=\"resetIndexRequest('Document')\" v-if=\"count.document > 0\">Documents </button>\n            <button @click=\"resetIndexRequest('Spreadsheet')\" v-if=\"count.sheet > 0\">Spreadsheet </button>\n            <button @click=\"resetIndexRequest('PDF')\" v-if=\"count.pdf > 0\">PDF </button>\n            <button @click=\"resetIndexRequest('Presentation')\" v-if=\"count.presentation > 0\">Presentation </button>\n        </div>\n        <cp-table-controls\n          :date-picker=\"false\"\n          :index-request=\"mediaRequest\"\n          :resource-info=\"pagination\"\n          :get-records=\"getMedia\">\n        </cp-table-controls>\n        <div class=\"products\" v-show=\"media.length > 0\">\n            <ul class=\"tiles product-grid\">\n                <li class=\"no-bullets item\"  v-for=\"file in media\" v-if=\"file.type === 'Image' && mediaRequest.status === 'Image'\">\n                    <div class=\"product-img-wrapper\">\n                        <img :src=\"file.url_sm || ''\" :title=\"file.title\">\n                        <div class=\"mobile-buttons\">\n                        <i class=\"mdi mdi-eye\" @click=\"mediaShow(file)\"></i>\n                        <i class=\"mdi mdi-pencil\" v-if=\"Auth.hasAnyRole('Superadmin', 'Admin') || media.is_public !== 0\" @click=\"mediaEdit(file)\"></i>\n                        <a class=\"mdi mdi-download\" :href=\"file.url\" :download=\"file.url\"></a>\n                        <i class=\"mdi mdi-delete\" @click=\"showConfirm = true; pendingDelete[0] = file.id\"></i>\n                      </div>\n                    </div>\n                        <div class=\"options tile-overlay\" @click=\"$event.stopPropagation();\">\n                                <a @click=\"mediaShow(file)\" class=\"media\">View File</a>\n                                <a v-if=\"Auth.hasAnyRole('Superadmin', 'Admin') || media.is_public !== 0\" @click=\"mediaEdit(file)\" class=\"media\" >Edit</a>\n                                <a :href=\"file.url\" :download=\"file.url\" class=\"media\">Download</a>\n                                <a class=\"media\" @click=\"showConfirm = true; pendingDelete[0] = file.id\">Delete</a>\n                        </div>\n                </li>\n            </ul>\n            <table class=\"cp-table-standard desktop\">\n              <thead v-if=\"mediaRequest.status !== 'Image'\">\n                <th><!-- icon --></th>\n                <th>Title</th>\n                <th>Description</th>\n                <th>Edit</th>\n                <th>Download</th>\n                <th>{{$getGlobal('title_rep').value}}s Viewable </th>\n                <th>Delete</th>\n              </thead>\n              <tbody>\n                <tr v-for=\"file in media\" v-if=\"mediaRequest.status !== 'Image'\">\n                    <td v-if=\"file.type === 'Document'\" class=\"mdi mdi-file-word\"></td>\n                    <td v-if=\"file.type === 'Spreadsheet'\" class=\"mdi mdi-file-excel\"></td>\n                    <td v-if=\"file.type === 'PDF'\" class=\"mdi mdi-file-pdf\"></td>\n                    <td v-if=\"file.type === 'Presentation'\" class=\"mdi mdi-file-powerpoint\"></td>\n                    <td v-if=\"file.type === 'Video'\"><a @click=\"mediaShow(file)\" class=\"media, mdi mdi-file-video\"></a></td>\n                    <td v-if=\"file.type === 'Image'\"><a @click=\"mediaShow(file)\" class=\"media mdi mdi-file-image\"><img :src=\"file.url_sm\" alt=\"\"></a></td>\n                    <td>{{ file.title }}</td>\n                    <td>{{ file.description }}</td>\n                    <td><a v-if=\"Auth.hasAnyRole('Superadmin', 'Admin') || media.is_public !== 0\" @click=\"mediaEdit(file)\" class=\"media, mdi mdi-pencil\" ></a></td>\n                    <td> <a :href=\"file.url\" :download=\"file.url\" class=\"media, mdi mdi-download\"></a></td>\n                    <td v-if=\"file.is_public\"><i class=\"mdi mdi-check\"></i></td>\n                    <td v-else></td>\n                    <td><a class=\"media mdi mdi-delete\" @click=\"showConfirm = true; pendingDelete[0] = file.id\"></a></td>\n                </tr>\n              </tbody>\n            </table>\n            <section v-if=\"mediaRequest.status !== 'Image'\" class=\"cp-table-mobile\">\n              <div v-for=\"file in media\">\n              <div><span></span><span>\n                <div v-if=\"file.type === 'Document'\" class=\"mdi mdi-file-word\"></div>\n                <div v-if=\"file.type === 'Spreadsheet'\" class=\"mdi mdi-file-excel\"></div>\n                <div v-if=\"file.type === 'PDF'\" class=\"mdi mdi-file-pdf\"></div>\n                <div v-if=\"file.type === 'Presentation'\" class=\"mdi mdi-file-powerpoint\"></div>\n                <div v-if=\"file.type === 'Video'\"><a @click=\"mediaShow(file)\" class=\"media, mdi mdi-file-video\"></a></div>\n                <div v-if=\"file.type === 'Image'\"><a @click=\"mediaShow(file)\" class=\"media, mdi mdi-file-image\"></a></div></span></div>\n              <div><span>Title: </span><span>{{ file.title }}</span></div>\n              <div><span>Description: </span><span>{{ file.description }}</span></div>\n              <div v-if=\"Auth.hasAnyRole('Superadmin', 'Admin') || media.is_public !== 0\"><span>Edit: </span><span><a @click=\"mediaEdit(file)\" class=\"media, mdi mdi-pencil\" ></a></span></div>\n              <div><span>Download: </span><span><a :href=\"file.url\" :download=\"file.url\" class=\"media, mdi mdi-download\"></a></span></div>\n              <div  v-if=\"file.is_public\"><span>{{$getGlobal('title_rep').value}}s Viewable: </span><span><div class=\"mdi mdi-check\"></div></span></div>\n              <div v-else><span>{{$getGlobal('title_rep').value}}s Viewable: </span><span></span></div>\n              <div><span>Delete: </span><span><a class=\"media, mdi mdi-delete\" @click=\"showConfirm = true; pendingDelete[0] = file.id\"></a></span></div>\n            </div>\n            </section>\n        </div>\n        <div class=\"products\" v-show=\"media.length <= 0\">\n          <p>No Media found</p>\n        </div>\n        <transition name=\"modal\">\n        <section class=\"cp-modal-standard\" v-if=\"showMediaModal\" @click=\"showMediaModal = false, selectedFile = {}\">\n            <div class=\"cp-modal-body\" @click=\"$event.stopPropagation();\">\n                <cp-media :media=\"selectedFile\" ></cp-media>\n                <button class=\"cp-button-standard close-button\" @click=\"exitMediaModal()\">Close</button>\n            </div>\n        </section>\n      </transition>\n      <transition name=\"modal\">\n        <section class=\"cp-modal-standard\" v-if=\"editMediaModal\" @click=\"editMediaModal = false, selectedFile = {}\">\n            <div class=\"cp-modal-body\" @click=\"$event.stopPropagation();\">\n                <cp-media-edit :media=\"selectedFile\" v-model=\"selectedFile\"></cp-media-edit>\n                <button class=\"cp-button-standard close-button\" @click=\"updateMedia()\" v-if=\"!updating\">Update</button>\n                <button class=\"cp-button-standard close-button\" v-else>Updating . . .</button>\n                <button class=\"cp-button-standard close-button\" @click=\"exitMediaModal()\">Cancel</button>\n            </div>\n        </section>\n      </transition>\n        <transition name=\"modal\">\n        <section class=\"cp-modal-standard\" v-if=\"uploadMediaModal\" @click=\"uploadMediaModal = false, selectedFile = {}\">\n            <div class=\"cp-modal-body\" @click=\"$event.stopPropagation();\">\n                <cp-media-create :modal-display=\"uploadMediaModal\" :get-media=\"getMedia\" v-model=\"uploadMediaModal\"></cp-media-create>\n                <button class=\"cp-button-standard close-button\" @click=\"exitMediaModal()\">Cancel</button>\n            </div>\n        </section>\n      </transition>\n        <div class=\"align-center\">\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n            <cp-pagination :pagination=\"pagination\" :callback=\"getMedia\" :offset=\"2\"></cp-pagination>\n        </div>\n        <cp-confirm\n        :show=\"showConfirm\"\n        :message=\"'Are you sure you want to delete this media?'\"\n        v-model=\"showConfirm\"\n        :callback=\"deleteMedia\"\n        :params=\"pendingDelete\"></cp-confirm>\n    </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/inventory/CpInventory.vue:script


      sms.vComponent('CpInventory', {"path":"assets/js/components/inventory/CpInventory.vue"}, (require,exports,module)=>{
        
const Inventory = require('../../resources/InventoryAPIv0.js')
const Auth = require('auth')
const Users = require('../../resources/UsersAPIv0.js')
const Dropzone = require('dropzone')
const _ = require('lodash')
const Media = require('../../resources/media.js')

module.exports = {
  routing: [{
    name: 'site.CpInventory',
    path: '/inventory',
    meta: {
      title: 'Inventory'
    }
  }],
  data: () => ({
    Auth: Auth,
    instructionsModal: false,
    importModal: false,
    importSteps: true,
    importSuccess: false,
    loading: false,
    reps: [],
    items: [],
    tabs: [
      { name: 'IN STOCK', active: true },
      { name: 'SOLD OUT', active: false },
      { name: 'ALL', active: false }
    ],
    showProduct: {},
    showVariant: {},
    pagination: {},
    media: {},
    validationErrors: {},
    importRequest: {
      id: '',
      name: ''
    },
    indexRequest: {
      expands: ['product', 'variant', 'variant_images', 'product_images'],
      per_page: 15,
      sort_by: 'product_name',
      search_term: '',
      available: true,
      page: 1
    }
  }),
  props: {
    selectedRep: {
      type: Object,
      required: false,
      default: undefined
    }
  },
  mounted () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
    this.getItems()
    this.uploadDropzone()
  },
  methods: {
    getItems () {
      this.loading = true
      this.indexRequest.page = this.pagination.current_page
      if (this.selectedRep !== undefined) {
        this.indexRequest.user_id = this.selectedRep.id
        this.importRequest = {
          id: this.selectedRep.id,
          full_name: this.selectedRep.first_name + " " + this.selectedRep.last_name + " (" + this.selectedRep.id + ")"
        }
      } else {
        this.indexRequest.user_id = Auth.getOwnerId()
      }
      Inventory.getItems(this.indexRequest)
        .then((response) => {
          this.loading = false
          if (response.error) {
            return this.$toast(response.message)
          }
          this.items = response.data
          this.pagination = response
        })
    },
    changeTab (name) {
      // Start back at page one and filter items
      this.indexRequest.page = 1
      this.pagination.current_page = 1
      switch(name) {
        default:
        case 'ALL':
          delete this.indexRequest.available
          break
        case 'IN STOCK':
          this.indexRequest.available = true
          break
        case 'SOLD OUT':
          this.indexRequest.available = false
          break
      }
      this.getItems()
    },
    searchReps: _.debounce(function (searchTerm) {
      Users.index({search_term: searchTerm, limit: 10, role_id: [5, 8]})
        .then(response => {
          if (!response.error) {
            let users = response.data
            for (var i = 0; i < users.length; i++) {
                users[i].full_name = users[i].first_name + " " + users[i].last_name + " (" + users[i].id + ")"
            }
            this.reps = users
          }
        })
    }, 800),
    changeQuantity: _.debounce(function (item) {
      if (item.update_quantity === undefined || item.update_quantity === '' || item.update_quantity === null) {
        this.$toast('Invalid quantity entered. Please check input and try again.')
        return
      }
      let userId = null
      if (this.selectedRep !== undefined) {
        userId = this.selectedRep.id
      } else {
        userId = Auth.getOwnerId()
      }
      var request = {
        user_id: userId,
        quantity: parseInt(item.update_quantity)
      }
      Inventory.updateInventory(request, item.id)
        .then((response) => {
          if (!response.error) {
            item.quantity_available = response.quantity_available
            item.update_quantity = null
            return this.$toast(item.variant.name + ': ' + item.variant.option_label + ' ' + item.option + ' has been updated.', { dismiss: false })
          } else {
            return this.$toast(response.message, { error: true, dismiss: true })
          }
        })
    }, 800),
    updateInventory: function (item) {
      let userId = null
      if (this.selectedRep !== undefined) {
        userId = this.selectedRep.id
      } else {
        userId = Auth.getOwnerId()
      }
      var request = {
        user_id: userId,
        disable: item.disable
      }
      Inventory.updateInventory(request, item.id)
        .then((response) => {
          if (!response.error) {
            return this.$toast(item.variant.name + ': ' + item.variant.option_label + ' ' + item.option + ' has been ' + (response.disable ? 'disabled' : 'enabled'), { dismiss: false })
          } else {
            return this.$toast(response.message, { error: true, dismiss: true })
          }
        })
    },
    lowQuantity: function () {
      let setting = null;
      if (Auth.hasAnyRole('Rep') || this.selectedRep !== undefined) {
        setting = this.$getGlobal('low_inventory_alert_rep')
      } else {
        setting = this.$getGlobal('low_inventory_alert_corp')
      }
      // If setting is off lets alert for negative inventory
      return setting.show ? setting.value : -1
    },
    updateSort: function (sortBy) {
      if (this.indexRequest.sort_by.includes(sortBy)) {
        if (this.indexRequest.sort_by.indexOf('-') == 0) {
          this.indexRequest.sort_by = sortBy
        } else {
          this.indexRequest.sort_by = '-' + sortBy
        }
      } else {
        this.indexRequest.sort_by = sortBy
      }
      this.getItems()
    },
    uploadDropzone: function () {
      var $this = this
      var uploadZoneConfig = Media.dropzoneConfig('.csv')
      uploadZoneConfig.success = function (file, response) {
        $this.media = response
        $this.uploading = false
        $this.importModal = false
        $this.$toast('File successfully uploaded.')
        $this.importRequest = {
          id: '',
          name: ''
        }
      }
      uploadZoneConfig.queuecomplete = function (file, response) {
        this.removeAllFiles(true)
      }
      uploadZoneConfig.error = function (file, response) {
        $this.uploading = false
        $this.$toast(response, { error: true })
      }
      uploadZoneConfig.autoProcessQueue = true
      this.uploadZone = new Dropzone('#createMediaZone', uploadZoneConfig)
    },
    preventDefault: function (event) {
      event.stopPropagation()
    },
    getDefaultImage (imgs) {
      let images = JSON.parse(JSON.stringify(imgs))
      let reg = /(?:\.([^.]+))?$/
      if (images.length > 0) {
        let image = images[0].url
        let ext = reg.exec(image)[1]
        image = image.replace(/\.[^/.]+$/, '')
        return image + '-url_sm.' + ext
      }
      return ''
    }
  },
  computed: {
    itemError () {
      return function (index) {
        return JSON.stringify(this.validationErrors).includes('items.' + index + '.')
      }
    }
  },
  components: {
    CpTypeahead: require('../../cp-components-common/inputs/CpTypeahead.vue'),
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue'),
    CpVariantGallery: require('./CpVariantGallery.vue')
  }
}
;
        module.exports.template = "\n  <div id=\"inventory-wrapper\">\n    <div class=\"action-btn-wrapper\" v-if=\"Auth.hasAnyRole('Admin', 'Superadmin')\">\n      <a class=\"cp-button-standard\" @click=\"instructionsModal = true\">Import Inventory</a>\n      <a class=\"cp-button-standard\"  download href='/api/v1/inventory/csv-export?template=0'>Export Inventory</a>\n      <router-link class=\"cp-button-standard\" to='/products/create'>New Product</router-link>\n    </div>\n    <cp-tabs :items=\"tabs\" :callback=\"changeTab\"></cp-tabs>\n    <cp-table-controls\n    :date-picker=\"false\"\n    :index-request=\"indexRequest\"\n    :resource-info=\"pagination\"\n    :get-records=\"getItems\"></cp-table-controls>\n\n    <div class=\"item-list item-list-container\">\n      <div class=\"inventory-header item-container\">\n        <div class=\"column-name\">Image</div>\n        <div class=\"group-container\">\n          <div class=\"item-info-container\">\n            <div class=\"cp-clickable\" @click=\"updateSort('product_name')\">\n              <div class=\"column-name\">Product<i v-show=\"indexRequest.sort_by.includes('product_name')\" :class=\"['mdi', '', indexRequest.sort_by.indexOf('-') == 0 ? 'mdi-sort-descending' : 'mdi-sort-ascending']\"></i></div>\n            </div>\n            <div class=\"column-name\">Variant</div>\n            <div class=\"column-name\">Prices</div>\n          </div>\n          <div class=\"item-quantity-container\">\n            <div class=\"column-name\">Size</div>\n            <div class=\"cp-clickable\" @click=\"updateSort('quantity_available')\">\n              <div class=\"column-name\">Quantity<i v-show=\"indexRequest.sort_by.includes('quantity_available')\" :class=\"['mdi', '', indexRequest.sort_by.indexOf('-') == 0 ? 'mdi-sort-descending' : 'mdi-sort-ascending']\"></i></div>\n            </div>\n            <div class=\"column-name\">+/- Inventory</div>\n            <div class=\"column-name\" v-if=\"!Auth.hasAnyRole('Rep') || $getGlobal('replicated_site').show\">Hide in Store</div>\n          </div>\n        </div>\n      </div>\n      <div v-for=\"(item, index) in items\" v-if=\"!loading\" class=\"item-container\">\n        <div>\n          <img v-if=\"item.variant.images.length > 0\" :src=\"item.variant.images[0].url | imageSize('url_xxs')\" alt=\"\">\n          <img v-else-if=\"item.variant.product.images.length > 0\" :src=\"item.variant.product.images[0].url | imageSize('url_xxs')\" alt=\"\">\n        </div>\n        <div class=\"group-container\">\n          <div class=\"item-info-container\">\n            <div>\n              <a v-if=\"Auth.hasAnyRole('Admin', 'Superadmin')\" :href=\"'/products/' + item.variant.product_id + '/edit'\"\n                class=\"attribute\"\n                data-name=\"Product\">{{ item.variant.product.name }}</a>\n              <div v-else class=\"attribute\" data-name=\"Product\">{{ item.variant.product.name }}</div>\n              <div class=\"attribute\" data-name=\"SKU\"><span>SKU: </span>{{ item.sku }}</div>\n            </div>\n            <div class=\"attribute\" data-name=\"Variant\">{{ item.variant.name }}</div>\n            <div>\n              <div class=\"attribute\" data-name=\"Retail:\"><span>Retail: </span>{{ item.retail_price | currency }}</div>\n              <div class=\"attribute\" data-name=\"Wholesale\"><span>Wholesale: </span>{{ item.wholesale_price | currency }}</div>\n            </div>\n          </div>\n          <div class=\"item-quantity-container\">\n            <div class=\"attribute\" data-name=\"Size\">{{ item.option }}</div>\n            <div class=\"attribute\" data-name=\"Quantity\"><div>{{ item.quantity_available }} <i v-if=\"item.quantity_available <= lowQuantity()\" class='errorText mdi mdi-alert' title=\"Low Quantity\"/></div></div>\n            <div class=\"attribute\" data-name=\"+/- Inventory\"><div><input class=\"quantity-update\" type=\"number\" @keyup.enter=\"changeQuantity(item)\" v-model=\"item.update_quantity\"></input><button class=\"cp-button-standard\" @click=\"changeQuantity(item)\">Update</button></div></div>\n            <div v-if=\"!Auth.hasAnyRole('Rep') || $getGlobal('replicated_site').show\" class=\"attribute attribute-center\" data-name=\"Hide in Store\">\n              <input type=\"checkbox\" v-model=\"item.disable\" @change=\"updateInventory(item)\"></input>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"align-center\">\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        <cp-pagination\n        :pagination=\"pagination\"\n        :callback=\"getItems\"\n        :offset=\"2\"></cp-pagination>\n    </div>\n    <section class=\"import-modal\" v-show=\"instructionsModal\" @click=\"instructionsModal = false\">\n        <div class=\"instructions-wrapper\" @click=\"preventDefault\">\n            <h3>Import Products Via CSV</h3>\n            <p>To get started, please download our import template. You'll be able to open it in any spreadsheet application, such as Microsoft Excel or Apple Numbers.</p>\n            <div class=\"action-btn-wrapper\">\n                <a class=\"cp-button-standard left\" download href='/api/v1/inventory/csv-export?template=1'>Download Template</a>\n                <button class=\"cp-button-standard import-button\" @click=\"instructionsModal = false, importModal = true\">Ready to Import</button>\n            </div>\n        </div>\n    </section>\n    <section class=\"import-modal\" v-show=\"importModal\" @click=\"importModal = false, importSuccess = false, importSteps = true\">\n      <div class=\"instructions-wrapper\" @click=\"preventDefault\">\n        <div v-show=\"importSteps\">\n          <h1>Import Inventory</h1>\n          <h3>Step 1: Search for User</h3>\n          <form class=\"cp-form-registration\" @submit.prevent>\n              <cp-typeahead\n              v-model=\"importRequest\"\n              :options=\"reps\"\n              :name-value=\"{ name: 'full_name', value: 'id' }\"\n              @options-cleared=\"function (val) { reps = val }\"\n              :search-function=\"searchReps\"\n              ></cp-typeahead>\n          </form>\n\n          <h4 v-show=\"importRequest.full_name\">Upload inventory for <span class=\"full-name\"><i> {{importRequest.full_name}}</i></span></h4>\n          <h3>Step 2: Upload template by dropping in box below</h3>\n          <form action=\"/api/v1/inventory/csv-import\" method=\"POST\" class=\"dropzone\" id=\"createMediaZone\">\n              <input type=\"hidden\" name=\"title\" v-model=\"media.title\">\n              <input type=\"hidden\" name=\"is_public\" v-model=\"media.is_public\">\n              <input type=\"hidden\" name=\"userId\" v-model=\"importRequest.id\">\n          </form>\n        </div>\n        <div class=\"align-center\" v-show=\"importSuccess\">\n          <h2>Success!</h2>\n          <p>Inventory has been updated!</p>\n        </div>\n      </div>\n    </section>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/inventory/CpItemGallery.vue:script


      sms.vComponent('assets/js/components/inventory/CpItemGallery.vue', {"name":"CpItemGallery","path":"assets/js/components/inventory/CpItemGallery.vue"}, (require,exports,module)=>{
        
const Inventory = require('../../resources/InventoryAPIv0.js')
const Auth = require('auth')
const _ = require('lodash')

module.exports = {
  data: () => ({
    Auth: Auth,
    quantity: null,
    items: {},
    option: '',
    loading: false,
    inventoryTooltip: 'Either the enter key or button will update inventory. Add a "-" if you want to reduce inventory.'
  }),
  mounted () {
    this.getVariantWithItems()
  },
  methods: {
    getVariantWithItems () {
      this.loading = true
      let request = {}
      if (this.userId === null || this.userId === undefined) {
        request['user_id'] = Auth.getOwnerId()
      } else {
        request['user_id'] = this.userId
      }
      Inventory.getVariant(request, this.variantId)
        .then((response) => {
          this.loading = false
          if (response.error) {
            return this.$toast(response.message)
          }
          this.items = response.items
        })
    },
    updateInventory: _.debounce(function (item, inventoryUpdate, type) {
      let id = null
      if (this.userId !== undefined) {
        id = this.userId
      } else {
        id = Auth.getOwnerId()
      }
      if (type === 'quantity') {
        if (inventoryUpdate === undefined || inventoryUpdate === '' || inventoryUpdate === null) {
          this.$toast('Invalid quantity entered. Please check input and try again.')
          return
        }
        var request = {
          user_id: id,
          quantity: parseInt(inventoryUpdate)
        }
      } else if (type === 'price') {
        request = {
          user_id: id,
          inventory_price: inventoryUpdate
        }
      } else {
        request = {
          user_id: id,
          disable: inventoryUpdate
        }
      }
      Inventory.updateInventory(request, item.id)
        .then((response) => {
          if (!response.error) {
            item.quantity_available = response.quantity_available
            item.update_quantity = null
            return this.$toast(this.optionLabel + ' ' + item.option + ' has been updated.', { dismiss: false })
          } else {
            return this.$toast(response.message, { error: true, dismiss: true })
          }
        })
    }, 500)
  },
  props: ['variantId', 'optionLabel', 'ownerId', 'userId']
}
;
        module.exports.template = "\n  <div id=\"item-gallery-wrapper\">\n    <table class=\"cp-table-standard\" v-if=\"!loading\">\n      <thead>\n        <th>{{ this.optionLabel }}</th>\n        <th>Quantity Available</th>\n        <th v-if=\"$getGlobal('rep_edit_inventory').show && Auth.hasAnyRole('Rep') || Auth.hasAnyRole('Admin', 'Superadmin')\"> +/- Quantity<cp-tooltip :options=\"{ content: inventoryTooltip }\"></cp-tooltip></th>\n        <th v-else>Quantity</th>\n        <th v-if=\"$getGlobal('rep_edit_inventory').show && Auth.hasAnyRole('Rep') || Auth.hasAnyRole('Admin', 'Superadmin')\"> <!--placeholder for Edit Quantity Button--></th>\n        <th>Wholesale Price</th>\n        <th v-if=\"Auth.hasAnyRole('Admin', 'Superadmin')\">Premium Price</th>\n        <th v-if=\"Auth.hasAnyRole('Rep') && $getGlobal('rep_custom_prices').show\">Your Price</th>\n        <th v-if=\"Auth.hasAnyRole('Rep') && $getGlobal('replicated_site').show\">Hide in Store</th>\n        <th>SKU</th>\n      </thead>\n      <tbody v-for=\"item in items\" :key=\"item.key\">\n        <tr>\n          <td>{{ item.option }}</td>\n          <td> {{ item.quantity_available }}</td>\n          <td v-if=\"$getGlobal('rep_edit_inventory').show && Auth.hasAnyRole('Rep')\"><input type=\"number\" @keyup.enter=\"updateInventory(item, item.update_quantity, 'quantity')\" v-model=\"item.update_quantity\"/></td>\n          <td v-else-if=\"ownerId === item.user_id && $getGlobal('reseller_create_product').show || Auth.hasAnyRole('Superadmin', 'Admin')\"><input type=\"number\" @keyup.enter=\"updateInventory(item, item.update_quantity, 'quantity')\" v-model=\"item.update_quantity\"/></td>\n          <td v-else>{{ item.quantity_available }}</td>\n          <td v-if=\"$getGlobal('rep_edit_inventory').show && Auth.hasAnyRole('Rep') || Auth.hasAnyRole('Admin', 'Superadmin')\"><button class=\"cp-button-standard\" :disabled=\"!item.update_quantity\" @click=\"updateInventory(item, item.update_quantity, 'quantity')\">Update</button></td>\n          <td>{{ item.wholesale_price}}</td>\n          <td v-if=\"Auth.hasAnyRole('Admin', 'Superadmin')\">{{ item.premium_price}}</td>\n          <td v-if=\"Auth.hasAnyRole('Rep') && $getGlobal('rep_custom_prices').show\"><input type=\"number\" v-model=\"item.inventory_price\" @keyup=\"updateInventory(item, item.inventory_price, 'price')\"></input></td>\n          <td v-if=\"Auth.hasAnyRole('Rep') && $getGlobal('replicated_site').show\"> <input type=\"checkbox\" v-model=\"item.disable\" @change=\"updateInventory(item, item.disable, 'disable')\"></input></td>\n          <td>{{ item.sku }}</td>\n        </tr>\n      </tbody>\n    </table>\n    <div class=\"align-center\">\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/orders/CpConfirmation.vue:script


      sms.vComponent('assets/js/components/orders/CpConfirmation.vue', {"name":"CpConfirmation","path":"assets/js/components/orders/CpConfirmation.vue"}, (require,exports,module)=>{
        
module.exports = {
  props: {
    order: {
      type: Object,
      required: true
    }
  }
}
;
        module.exports.template = "\n    <section class=\"confirmation\">\n    <h1>Successful Payment!</h1>\n    <p>Thanks for making an order with {{$getGlobal('company_name').value}}. We recently processed a successful payment from you. </p>\n    <div class=\"details\">\n        <div class=\"space-between\">\n        <span>Customer: </span>\n        <span>{{order.buyer_first_name}}&nbsp;{{order.buyer_last_name}}</span>\n    </div>\n        <div class=\"space-between\">\n        <span>Amount: </span>\n        <span>{{order.total_price | currency}}</span>\n    </div>\n    <div class=\"space-between\">\n        <span>Method: </span>\n        <span>Credit Card Payment</span>\n    </div>\n    <div class=\"space-between\">\n        <span>Receipt ID: </span>\n        <span>{{order.receipt_id}}</span>\n    </div>\n    </div>\n    <p>If you have any questions or concerns, please contact customer support.</p>\n    </section>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/media/CpMedia.vue:script


      sms.vComponent('assets/js/components/media/CpMedia.vue', {"name":"CpMedia","path":"assets/js/components/media/CpMedia.vue"}, (require,exports,module)=>{
        
module.exports = {
    data: function () {
        return {}
    },
    props: {
        media: {
            type: Object,
            required: true
        }
    }
}
;
        module.exports.template = "\n    <div class=\"media-show-wrapper\">\n        <h3>{{ media.title }}</h3>\n        <section class=\"media-display\">\n            <div v-if=\"media.type === 'Image'\">\n                <img :src=\"media.url_sm || ''\">\n            </div>\n            <div v-if=\"media.type === 'Video'\">\n                <div v-if=\"media.extension === 'swf'\">\n                    <embed :src=\"media.url\" width=\"600\" />\n                </div>\n                <div else>\n                    <video width=\"600\" controls>\n                        <source :src=\"media.url\" :type=\"'video/' + media.extension\">\n                        Your browser does not support HTML5 video. Please use or update to the latest version of Chrome or Firefox browsers for best results.\n                    </video>\n                </div>\n            </div>\n        </section>\n        <table class=\"cp-table-standard media-table\">\n            <tr>\n                <th>Title:</th>\n                <td>{{ media.title }}</td>\n            </tr>\n            <tr>\n                <th>Description:</th>\n                <td>{{ media.description }}</td>\n            </tr>\n            <tr>\n                <th>Type:</th>\n                <td>{{ media.type }}</td>\n            </tr>\n            <tr>\n                <th>Owner:</th>\n                <td><a :href=\"'/users/' + media.user_id\">{{ media.owner }}</a></td>\n            </tr>\n        </table>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/orders/CpOrderDownloadModal.vue:script


      sms.vComponent('assets/js/components/orders/CpOrderDownloadModal.vue', {"name":"CpOrderDownloadModal","path":"assets/js/components/orders/CpOrderDownloadModal.vue"}, (require,exports,module)=>{
        
  const CpOrdersFile = require('../../libraries/CpOrdersFile.js')
  const Auth = require('auth')
  const Moment = require('moment-timezone')
  module.exports = {
    fileGen: null,
    props: {
      title: {type: String, required: true},
      type: {type: String, required: true},
      orderId: [String, Number],
      status: String,
      startDate: String,
      endDate: String,
      searchTerm: String,
      sortColumn: {
        Type: String,
        default: function () {
          return 'created_at'
        }
      },
      sortOrder: {
        Type: String,
        default: function () {
          return 'asc'
        }
      }
    },
    data: function () {
      return {
        errorMessage: '',
        checkedNames: [],
        processing: false,
        fileName: null
      }
    },
    components: {
      CpInput: require('../../cp-components-common/inputs/CpInput.vue')
    },
    created: function () {
      var filePrefix = 'Orders-'
      if (['invoice', 'invoice-list'].includes(this.type)) {
        filePrefix = 'Invoices-'
      }
      this.fileName = filePrefix + Moment().format('YYYYMMDD')
    },
    methods: {
      start () {
        this.processing = true
        this.createFiles()
      },
      createFiles () {
        if (!this.processing) {
          return
        }

        var params = null
        if (['invoice', 'order', 'picklist-single'].includes(this.type)) {
          // Single order
          params = {orderId: this.orderId}
        } else {
          params = {
            start_date: this.startDate,
            end_date: this.endDate,
            sort_by: this.sortColumn,
            search_term: this.searchTerm,
            in_order: (this.sortOrder ? this.sortOrder.toLowerCase() : 'asc')
          }
          if (Auth.hasAnyRole('Admin', 'Superadmin')) {
            params.type_id = [1, 2, 5, 6, 7, 9]
          } else {
            switch (this.type) {
              case 'sales':
                params.type_id = [3, 4, 9]
                params.seller_id = Auth.getAuthId()
                break
              case 'purchase':
                params.buyer_id = Auth.getAuthId()
                params.type_id = [1]
                break
              case 'transfer':
                params.type_id = [11]
                params.seller_id = Auth.getAuthId()
                break
              default:
                params.seller_id = Auth.getAuthId()
                params.type_id = [3, 4, 10] // TODO should affiliate be included? it shows up on the backoffice
                break
            }
          }
          if (this.status && this.status !== 'all') {
            params.status = this.status
          }
        }
        this.ordersFile = new CpOrdersFile(this.$data.fileName, this.checkedNames, this.type, params)
        this.ordersFile.run((response) => {
          if (response.error) {
            this.processing = false
            // TODO show error
            this.errorMessage = response.message
          } else {
            this.close()
          }
        })
      },
      close () {
        this.processing = false
        if (this.ordersFile) {
          this.ordersFile.cancel()
          this.ordersFile = null
        }
        this.$emit('close')
      }
    }
  }
;
        module.exports.template = "\n  <div class=\"cp-order-download-wrapper\">\n    <transition name=\"modal\">\n        <section class=\"cp-modal-standard\">\n            <div class=\"cp-modal-body\">\n\n\n            <h2>{{ title }}</h2>\n\n            <div class=\"modal-body\">\n                <div v-if=\"!processing\">\n                    <cp-input custom-class=\"input-width\" label=\"File Name:  \" type=\"text\" v-model=\"fileName\"></cp-input>\n                    <div>\n                        <label>PDF:</label>\n                        <input type=\"checkbox\" value=\"pdf\" v-model=\"checkedNames\">\n                    </div>\n                    <div>\n                        <label>CSV:</label>\n                        <input type=\"checkbox\"  value=\"csv\" v-model=\"checkedNames\">\n                    </div>\n                    <span v-if=\"errorMessage !== ''\" class=\"error-message\"><h4>{{errorMessage}}</h4></span>\n                </div>\n                <div class=\"align-center\" v-if=\"processing\">\n                    <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\">\n                </div>\n\n                <div class=\"buttton-wrapper\">\n                    <button class=\"cp-button-standard\" @click=\"close\">\n                      Cancel\n                    </button>\n                    <button class=\"cp-button-standard\" @click=\"start\" :disabled=\"processing\">\n                      Create\n                    </button>\n                </div>\n              </div>\n            </div>\n        </section>\n    </transition>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/orders/CpMyOrders.vue:script


      sms.vComponent('assets/js/components/orders/CpMyOrders.vue', {"name":"CpMyOrders","path":"assets/js/components/orders/CpMyOrders.vue"}, (require,exports,module)=>{
        
const Orders = require('../../resources/OrdersAPIv0.js')
const moment = require('moment')
const Auth = require('auth')

module.exports = {
  name: 'CpMyOrders',
  routing: [
    {
      name: 'site.CpMyOrders',
      path: 'my-orders',
      meta: {
        title: 'Orders',
        nosubscription: true
      },
      props: true
    }
  ],
  data: function () {
    return {
      Auth: Auth,
      noResults: false,
      loading: false,
      orders: [],
      pagination: {
        per_page: 15
      },
      asc: false,
      dates: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD')
      },
      indexRequest: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        order: 'DESC',
        column: 'created_at',
        per_page: 15,
        search_term: '',
        page: 1
      },
      reverseSort: false,
      showConfirm: false,
      selectedOrder: {}
    }
  },
  mounted () {
    this.getOrders()
  },
  methods: {
    getOrders: function () {
      this.loading = true
      // Refactor to new structure
      let request = JSON.parse(JSON.stringify(this.indexRequest))
      request.page = this.pagination.current_page
      request.sort_by = this.indexRequest.column.toLowerCase()
      request.in_order = this.indexRequest.order.toLowerCase()
      request.start_date = moment(this.dates.start_date, 'YYYY-MM-DD').startOf('day').utc().format('YYYY-MM-DD HH:mm:ss.SSS')
      request.end_date = moment(this.dates.end_date, 'YYYY-MM-DD').endOf('day').utc().format('YYYY-MM-DD HH:mm:ss.SSS')
      request.buyer_id = Auth.getAuthId()

      this.orders = {}
      Orders.getOrders(request)
        .then((response) => {
          if (response.error) {
            return this.$toast(response.message, {error: true})
          }
          if (response.total === 0) {
            this.noResults = true
            setTimeout(function () {
              this.noResults = false
            }.bind(this), 3000)
          }
          this.loading = false
          this.orders = response.data
          response.per_page = parseInt(response.per_page)
          this.pagination = response
        })
    }
  },
  components: {
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"my-orders-wrapper\">\n        <cp-table-controls\n            :date-picker=\"true\"\n            :date-range=\"dates\"\n            :index-request=\"indexRequest\"\n            :resource-info=\"pagination\"\n            :get-records=\"getOrders\">\n        </cp-table-controls>\n        <table class=\"cp-table-standard desktop\">\n            <thead>\n                <th>Order ID</th>\n                <th>Date of order</th>\n                <th>Customer Name</th>\n                <th>Subtotal</th>\n                <th>Tax</th>\n                <th>Shipping</th>\n                <th>Order Total</th>\n                <th>Order Status</th>\n            </thead>\n            <tbody>\n                <tr v-for=\"order in orders\" :class=\"{'hold-order': order.status === 'hold' }\">\n                       <td><a :href=\"'/orders/' + order.receipt_id\">{{ order.id }}</a></td>\n                       <td>{{ order.created_at | cpStandardDate}}</td>\n                       <td>{{ order.buyer_last_name }}, {{ order.buyer_first_name }}</td>\n                       <td>{{ order.subtotal_price | currency }}</td>\n                       <td>{{ order.total_tax | currency }}</td>\n                       <td>{{ order.total_shipping | currency }}</td>\n                       <td>{{ order.total_price | currency }}</td>\n                       <td>{{ order.status}}</td>\n                </tr>\n            </tbody>\n        </table>\n\n            <section class=\"cp-table-mobile\">\n                <div v-for='order in orders'>\n                    <div></div><span></span>\n                    <div>\n                        <span>Order ID: </span><span><a :href=\"'/orders/' + order.receipt_id\">{{ order.id }}</a></span>\n                    </div>\n                    <div>\n                        <span>Date of orders: </span><span>{{ order.created_at | cpStandardDate}}</span>\n                    </div>\n                    <div>\n                        <span>Customer Name: </span><span>{{ order.buyer_last_name }}, {{ order.buyer_first_name }}</span>\n                    </div>\n                    <div>\n                        <span>Subtotal:</span><span>{{ order.subtotal_price | currency }}</span>\n                    </div>\n                    <div>\n                        <span>Tax: </span><span>{{ order.total_tax | currency }}</span>\n                    </div>\n                    <div>\n                        <span>Shipping: </span><span>{{ order.total_shipping | currency }}</span>\n                    </div>\n                    <div>\n                        <span>Order Total: </span><span>{{ order.total_price | currency }}</span>\n                    </div>\n                    <div>\n                        <span>Order Status: </span><span>{{ order.status}}</span>\n                    </div>\n                </div>\n            </section>\n\n        <div class=\"align-center\">\n            <div class=\"no-results\" v-if=\"noResults\">\n                <span>No results for this timeframe</span>\n            </div>\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n            <cp-pagination :pagination=\"pagination\" :callback=\"getOrders\" :offset=\"2\"></cp-pagination>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/media/CpMediaEdit.vue:script


      sms.vComponent('assets/js/components/media/CpMediaEdit.vue', {"name":"CpMediaEdit","path":"assets/js/components/media/CpMediaEdit.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')

module.exports = {
  data: function () {
    return {
      Auth: Auth
    }
  },
  props: {
    media: {
      type: Object,
      required: true
    }
  }
}
;
        module.exports.template = "\n    <div class=\"media-edit-wrapper\">\n        <h4>{{ media.title }}</h4>\n        <section class=\"media-file\">\n            <div v-if=\"media.type === 'Image'\">\n                <img :src=\"media.url_md || ''\">\n            </div>\n            <div v-if=\"media.type === 'Video'\">\n                <div v-if=\"media.extension === 'swf'\">\n                    <embed :src=\"media.url\" width=\"600\" />\n                </div>\n                <div else>\n                    <video width=\"600\" controls>\n                        <source :src=\"media.url\" :type=\"'video/' + media.extension\">\n                        Your browser does not support HTML5 video. Please use or update to the latest version of Chrome or Firefox browsers for best results.\n                    </video>\n                </div>\n            </div>\n        </section>\n        <form class=\"cp-form-standard media-details\">\n            <label>Title</label>\n            <input type=\"text\" v-model=\"media.title\">\n            <label>Description</label>\n            <input type=\"text\" v-model=\"media.description\">\n            <div class=\"media-checkbox\" v-if=\"Auth.hasAnyRole('Superadmin', 'Admin')\">\n                <input type=\"checkbox\" v-model=\"media.is_public\"><label>Make available for {{$getGlobal('title_rep').value}}s</label>\n            </div>\n        </form>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/orders/order.vue:script


      sms.vComponent('assets/js/components/orders/order.vue', {"name":"CpOrder","path":"assets/js/components/orders/order.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')
const Orders = require('../../resources/OrdersAPIv0.js')
const Invoice = require('../../resources/invoice.js')

module.exports = {
  name: 'CpOrder',
  routing: [
    {
      name: 'site.CpOrder',
      path: 'orders/:receipt_id',
      alias: 'invoices/:receipt_id',
      meta: {
        title: 'Order',
        nosubscription: !Auth.hasAnyRole('Rep')
      },
      props: true
    }
  ],
  data: function () {
    return {
      loading: true,
      authUserId: '',
      showReturns: false,
      order: {
        customer: {},
        shipping_address: {},
        billing_address: {}
      },
      fulfilledByCorpShow: false
    }
  },
  props: {
    receipt_id: {
      type: String,
      required: true
    },
    typeOfOrder: {
      type: String,
      default: function () {
        let path = this.$route.path
        if (!path.includes('orders')) {
          return 'invoice'
        }
        return 'order'
      }
    },
    hideHold: {
      type: Boolean
    }
  },
  computed: {
    allowReturns () {
      return (Auth.hasAnyRole('Admin', 'Superadmin')
        || (Auth.hasAnyRole('Rep') && Auth.getClaims().sellerType === 'Reseller' && this.$getGlobal('reseller_returns').show)
        || (Auth.hasAnyRole('Rep') && Auth.getClaims().sellerType === 'Affiliate' && this.$getGlobal('affiliate_returns').show))
    }
  },
  mounted: function () {
    this.getOrder()
  },
  methods: {
    getOrder: function () {
      this.loading = true
      if (this.typeOfOrder === 'order') {
        Orders.getByReceiptId({orderlines: 1, tracking: 1}, this.receipt_id)
        .then((response) => {
          this.order = response
          this.loading = false
        })
      } else {
        Invoice.getOrderByID(this.receipt_id)
            .then((response) => {
              response.buyer_first_name = response.customer.first_name
              response.buyer_last_name = response.customer.last_name
              response.buyer_email = response.customer.email
              if (response.store_owner) {
                response.seller_name = response.store_owner.full_name
              }
              if (response.shipping_address) {
                response.shipping_address.line_1 = response.shipping_address.address_1
                response.shipping_address.line_2 = response.shipping_address.address_2
              }
              if (response.billing_address) {
                response.billing_address.line_1 = response.billing_address.address_1
                response.billing_address.line_2 = response.billing_address.address_2
              }
              this.order = response
              this.order.lines = response.invoice_items
              this.order.truncated_token = response.token.substring(6, 0) + '...'
              this.loading = false
            })
      }
    }
  },
  components: {
    'CpOrderDetail': require('./CpOrderDetail.vue'),
    'CpReturnDetail': require('./partials/CpReturnDetail.vue'),
    'CpItemDetail': require('./partials/CpItemDetail.vue')
  }
}
;
        module.exports.template = "\n      <div class=\"order-view\" v-if=\"!loading\">\n          <cp-order-detail :order=\"order\" :hide-hold=\"hideHold\" ></cp-order-detail>\n          <cp-return-detail v-if=\"allowReturns && showReturns\" :order=\"order\"></cp-return-detail>\n          <cp-item-detail v-if=\"!showReturns\" :order=\"order\"></cp-item-detail>\n        <div class=\"button-wrapper\">\n          <button v-if=\"allowReturns && !order.token && !showReturns\" v-show=\"order.status === 'fulfilled'\" class=\"cp-button-standard pull-right\" @click=\"showReturns = true\">Returns</button>\n          <button v-if=\"allowReturns && showReturns\" class=\"cp-button-standard pull-right back\" @click=\"showReturns = false\">Cancel</button>\n        </div>\n      </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/orders/partials/CpItemDetail.vue:script


      sms.vComponent('assets/js/components/orders/partials/CpItemDetail.vue', {"name":"CpItemDetail","path":"assets/js/components/orders/partials/CpItemDetail.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')
module.exports = {
  data: function () {
    return {
      Auth,
      fulfilledByCorpShow: false
    }
  },
  props: {
    order: {
      type: Object,
      required: true
    }
  },
  computed: {
    filteredLines() {
      if (!this.order.pid) {
        return []
      }
      return this.order.lines.filter(line => {
        if (!line.item_id ^ !line.bundle_id) {
          return line
        }
        return false
      })
    }
  }
}
;
        module.exports.template = "\n  <div>\n    <table v-if=\"order.lines\" class=\"cp-table-standard orderlines-detail\">\n        <thead>\n            <th>Product</th>\n            <th>Variant</th>\n            <th>Option</th>\n            <th>Quantity</th>\n            <th>Price</th>\n            <th>Discount</th>\n            <th v-if=\"Auth.hasAnyRole('rep') && $getGlobal('allow_reps_events').value || Auth.hasAnyRole('admin', 'superadmin')\" >Event Id</th>\n            <th>SKU</th>\n        </thead>\n        <tbody>\n            <template v-if=\"order.uid\">\n              <tr v-for=\"line in order.lines\">\n                  <td>{{ line.name || line.product.name }}</td>\n                  <td>{{ line.variant.name || line.variant }}</td>\n                  <td>{{ line.option }}</td>\n                  <td v-if=\"line.quantity || line.quantity == 0\">{{ line.quantity }}</td>\n                  <td v-else>{{line.pivot.quantity}}</td>\n                  <td v-if=\"line.price\">{{ line.price | currency }}</td>\n                  <td v-else-if=\"line.msrp\">{{ line.msrp.price | currency }}</td>\n                  <td v-else></td>\n                  <td v-if=\"line.discount_amount\">{{ line.discount_amount | currency }}</td>\n                  <td v-else>N/A</td>\n                  <td v-if=\"Auth.hasAnyRole('rep') && $getGlobal('allow_reps_events').value ||  Auth.hasAnyRole('superadmin', 'admin')\"> {{ line.event_id }}</td>\n                  <td>{{ line.manufacturer_sku }}</td>\n              </tr>\n            </template>\n            <template v-else>\n              <tr v-for=\"line in filteredLines\">\n                <td>{{ line.item_id ? line.items[0].product_name : line.bundle_name }}</td>\n                <td>{{ line.item_id ? line.items[0].variant_name : '' }}</td>\n                <td>{{ line.item_id ? line.items[0].option : '' }}</td>\n                <td>{{ line.quantity }}</td>\n                <td>{{ (line.price - (line.discount ? line.discount : 0)) * line.quantity | currency }}</td>\n                <td>{{ line.discount }}</td>\n                <td v-if=\"Auth.hasAnyRole('rep') && $getGlobal('allow_reps_events').value ||  Auth.hasAnyRole('superadmin', 'admin')\"> {{ line.event_id }}</td>\n                <td>{{ line.manufacturer_sku }}</td>\n              </tr>\n            </template>\n        </tbody>\n    </table>\n    <br>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/orders/CpCartTotals.vue:script


      sms.vComponent('assets/js/components/orders/CpCartTotals.vue', {"name":"CpCartTotals","path":"assets/js/components/orders/CpCartTotals.vue"}, (require,exports,module)=>{
        
const Shipping = require('../../resources/shipping.js')
const Auth = require('auth')

module.exports = {
  data () {
    return {
      defaultRate: 0,
      Auth: Auth
    }
  },
  props: {
    request: {
      required: true,
      type: Object
    },
    editTotals: {
      type: Boolean,
      default: false
    },
    calculateTotals: {
      type: Function,
      required: false
    }
  },
  mounted () {
    this.getShippingCost()
  },
  methods: {
    discountLimit () {
      this.request.cart.msrp_subtotal = Math.round(this.request.cart.msrp_subtotal * 100) / 100
      if (this.request.cart.discount > this.request.cart.msrp_subtotal) {
        this.request.cart.discount = 0
        this.$toast('You cannot have a negative discount', {error: true})
      }
      this.$emit('input', this.request)
      this.calculateTotals()
    },
    getShippingCost: function () {
        Shipping.getShippingCostByAuth({ total_price: this.request.cart.msrp_subtotal })
            .then((response) => {
                if (response.error) {
                    this.$toast('There was an error calculating the shipping cost.', {error: true});
                } else {
                    this.defaultRate = parseFloat(response.amount);
                }
            });
    }
  },
  events: {
      'get_shipping_rates': function() {
          this.getShippingCost()
      }
  }
}
;
        module.exports.template = "\n    <div>\n        <div class=\"cart-totals-wrapper\">\n            <h3>Cart Totals</h3>\n            <div class=\"line-wrapper\">\n                <label>Cart Subtotal</label>\n                <div>\n                    <span>{{ request.cart.msrp_subtotal | currency }}</span>\n                </div>\n            </div>\n            <div class=\"line-wrapper discount\">\n                <label>Discount</label>\n                <div>\n                    <span v-if=\"editTotals\">-<input type=\"number\" v-model=\"request.cart.discount\" @change=\"discountLimit()\"></span>\n                    <span v-else>-{{ request.cart.discount | currency}}</span>\n                </div>\n            </div>\n            <div class=\"line-wrapper order-total\">\n                <label>Shipping <span class=\"small\">(Default Rate: <span>{{ defaultRate | currency }}</span>)</span></label>\n                <div>\n                    <span v-if=\"editTotals\">$\n                        <input type=\"number\" v-model=\"request.cart.total_shipping\" @change=\"calculateTotals()\"style=\"max-width: 50px;\">\n                    </span>\n                    <span v-else>{{ request.cart.total_shipping | currency }}</span>\n\n                </div>\n            </div>\n            <div class=\"line-wrapper order-total\" v-if=\"Auth.hasAnyRole('Admin', 'Superadmin') && editTotals\">\n                <span>\n                  <input type=\"checkbox\" v-model=\"request.cart.tax_not_charged\" @change=\"calculateTotals()\">\n                <span><label>Do not calculate or charge sales tax on this order</label></span></span>\n            </div>\n            <div v-if=\"!editTotals\">\n                <div v-if=\"this.$getGlobal('tax_calculation').show\">\n                    <div class=\"line-wrapper order-total\"  v-if=\"request.cart.tax_not_charged\">\n                        <label v-if=\"request.cart.tax_not_charged = true\">Tax (Not calculated on order)</label>\n                        <span>{{ request.cart.total_tax | currency }}</span>\n                    </div>\n                    <div class=\"line-wrapper order-total\"  v-else>\n                        <label>Tax</label>\n                        <span> {{ request.cart.total_tax | currency }}</span>\n                    </div>\n                </div>\n                <div class=\"line-wrapper order-total\">\n                    <label>Order Total</label>\n                    <span>{{ request.cart.total_price | currency }}</span>\n                </div>\n            </div>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/orders/CpEInvoice.vue:script


      sms.vComponent('assets/js/components/orders/CpEInvoice.vue', {"name":"CpEInvoice","path":"assets/js/components/orders/CpEInvoice.vue"}, (require,exports,module)=>{
        
const Checkout = require('../../resources/CheckoutAPIv0.js')
const Orders = require('../../resources/OrdersAPIv0.js')
const moment = require('moment')

module.exports = {
  routing: [
    { name: 'public.CpEInvoice', path: '/orders/invoice/:invoice_id', meta: { noauth: true }, props: true }
  ],
  data () {
    return {
      token: '',
      pageError: 'Unexpected error',
      activeNav: 0,
      processing: false,
      couponCode: null,
      order: {},
      checkout: {}
    }
  },
  mounted () {
    this.token = this.$pathParameterName()
    this.load()
  },
  methods: {
    load () {
      Checkout.getInvoice(this.token)
        .then((response) => {
          if (response.error) {
            if (response.code == 404) {
              this.pageError = 'Invoice not found'
            } else {
              this.pageError = 'Failed to load invoice. Please try again later.'
            }
            this.activeNav = -1
          } else if (response.order_id) {
            this.loadOrder(response.order_id)
          } else {
            this.createCheckout()
          }
        })
    },
    loadOrder (orderId) {
      // For use with already paid invoices on load
      Orders.get({}, orderId)
        .then((response) => {
          if (response.error) {
            this.pageError = 'Failed to load paid invoice receipt. Please try again later.'
            this.activeNav = -1
          } else {
            this.order = response
            this.activeNav = 4
          }
        })
    },
    createCheckout () {
      Checkout.createFromInvoice({}, this.token)
        .then((response) => {
          if (response.error) {
            this.pageError = 'Failed to load invoice. Please try again later.'
            this.activeNav = -1
            return
          }

          this.checkout = response
          this.$refs.shippingInfoForm.setCustomer(this.checkout.buyer)
          this.$refs.shippingInfoForm.setShippingAddress(this.checkout.shipping_address)
          this.$refs.shippingInfoForm.setBillingAddress(this.checkout.billing_address)
          this.activeNav = 1
        })
    },
    showAddressForm () {
      this.activeNav = 2
    },
    updateAddresses () {
      if (!this.$refs.shippingInfoForm.validate()) {
        return
      }
      let addresses = JSON.parse(JSON.stringify(this.$refs.shippingInfoForm.getAddresses()))
      let customer = this.$refs.shippingInfoForm.getCustomer()
      addresses.billingAddress.name = customer.first_name + ' ' + customer.last_name
      addresses.shippingAddress.name = customer.first_name + ' ' + customer.last_name

      request = {
        billing_address: addresses.billingAddress,
        shipping_address: addresses.shippingAddress
      }
      Checkout.update(request, this.checkout.pid)
        .then((response) => {
          if(response.error) {
            this.$toast((response.message ? response.message : 'Unexpected error. Please try again later.'), { error: true })
            return
          }
          this.checkout = response
          this.activeNav = 3
        })
    },
    applyCoupon () {
      this.processing = true
      if (!this.couponCode) {
        this.$toast('No coupon was entered.', {error: true})
        this.processing = false
      } else {
        Checkout.update({coupon_code: this.couponCode}, this.checkout.pid)
          .then((response) => {
            this.processing = false
            if (response.error) {
              this.$toast('The provided coupon code could not be validated.', { error: true})
              return
            }
            this.checkout = response
          })
      }
    },
    createOrder () {
      this.processing = true

      request = {
        source: (this.checkout.type === 'rep-transfer' ? 'Rep Transfer - Invoice' : 'Custom Order - Invoice'),
        payment: {
          amount: this.checkout.total
        },
        partial_reserve: true
      }
      let addresses = JSON.parse(JSON.stringify(this.$refs.shippingInfoForm.getAddresses()))
      request.buyer = this.$refs.shippingInfoForm.getCustomer()
      request.buyer.shipping_address = addresses.shippingAddress
      request.buyer.billing_address = addresses.billingAddress
      if (this.checkout.total > 0) {
        if (!this.$refs.paymentForm.validate()) {
          this.processing = false
          return
        }
        request.payment.type = 'card'
        request.payment.card = this.$refs.paymentForm.getCard()
      } else {
        request.payment.type = 'cash'
        request.payment.cash_type = 'Zero'
      }
      Checkout.process(request, this.checkout.pid)
        .then((response) => {
          if (response.error) {
            let message = null
            if (response.code == 422) {
              if (response.message.result_code) {
                message = response.message.message
                switch (response.message.result_code) {
                  case 3:
                    this.pageError = message + "\nPlease try again later."
                    this.activeNav = -1
                    break;
                  case 4:
                    window.alert('Some products were not available. Checkout updated to have remaining products and price.')
                    this.checkout = response.message.checkout
                    break;
                  case 5:
                    // message should be set to the transaction result already
                    break;
                  case 6:
                    this.activeNav = 2
                    break;
                  case 8:
                    window.alert('Coupon already used. Checkout updated to remove coupon.')
                    this.checkout = response.message.checkout
                    break;
                  default:
                    // Unexpected code, ignore for now
                }
              }
            } else {
              message = response.message
            }
            if (!message) {
              message = 'Unexpected error please try again later'
            }
            this.$toast(message, { error: true })
            this.processing = false
            return
          }
          this.order = response.order
          this.activeNav = 4
        })
    }
  },
  components: {
    CpPayment: require('../payment/CpPayment.vue'),
    CpShippingInfo: require('../orders/CpShippingInfo.vue'),
    CpConfirmation: require('../orders/CpConfirmation.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"eInvoice-wrapper\">\n        <section class=\"eInvoice-header\">\n            <ul class=\"nav-list\">\n                <li><span :class=\"{ active: activeNav === 1 }\">1</span><p>Order Details</p></li>\n                <li><span :class=\"{ active: activeNav === 2 }\">2</span><p>Shipping</p></li>\n                <li><span :class=\"{ active: activeNav === 3 }\">3</span><p>Payment</p></li>\n                <li><span :class=\"{ active: activeNav === 4 }\">4</span><p>Confirmation</p></li>\n            </ul>\n        </section>\n        <p v-if=\"activeNav === -1\"><strong class=\"errorText\">{{ pageError }}</strong></p>\n        <div class=\"step-one\" v-show=\"activeNav === 1\">\n          <section class=\"eInvoice-table\">\n              <table class=\"cart-table\">\n                      <thead>\n                          <th></th>\n                          <th>Product</th>\n                          <th>Variant</th>\n                          <th>Option</th>\n                          <th>Quantity</th>\n                          <th>Price</th>\n                      </thead>\n                  <tbody class=\"cart-body\">\n                      <tr v-for=\"line in checkout.lines\">\n                          <td class=\"preview\" data-label=\"image\">\n                              <span v-if=\"line.items[0].img_url\">\n                                  <img :src=\"line.items[0].img_url\" class=\"preview\">\n                              </span>\n                          </td>\n                          <td data-label=\"Title\">\n                              <span>{{line.items[0].product_name}}</span>\n                          </td>\n                          <td data-label=\"variant\">\n                              <span>{{line.items[0].variant_name}}</span>\n                          </td>\n                          <td data-label=\"Size\">\n                              <label class=\"qty\">Size:</label>\n                              <span>{{line.items[0].option}}</span>\n                          </td>\n                          <td data-label=\"Quantity\">\n                          <label class=\"qty\">Quantity:</label>\n                          <span>{{line.quantity}}</span>\n                          </td>\n                          <td data-label=\"Price\">\n                              <span>{{line.price * line.quantity | currency}}</span>\n                          </td>\n                      </tr>\n                  </tbody>\n              </table>\n          </section>\n          <section class=\"eInvoice-subtotal\">\n                  <div class=\"line-wrapper\">\n                      <label>Subtotal</label>\n                      <span>{{checkout.subtotal | currency}}</span>\n                  </div>\n                  <div class=\"line-wrapper\" v-if=\"checkout.discount\">\n                    <label>Discount</label>\n                    <span>{{-checkout.discount | currency}}</span>\n                  </div>\n                  <div class=\"line-wrapper\">\n                      <label>Shipping</label>\n                      <span>{{checkout.shipping | currency}}</span>\n                  </div>\n                  <div class=\"line-wrapper\" v-if=\"this.$getGlobal('tax_calculation').show\">\n                      <label>Sales Tax</label>\n                      <span v-if=\"checkout.tax > 0\">{{checkout.tax | currency}}</span>\n                      <span v-else>TBD</span>\n                  </div>\n                  <div class=\"line-wrapper\">\n                      <label>Total Price</label>\n                      <span>{{checkout.total | currency}}</span>\n                  </div>\n          </section>\n          <section class=\"eInvoice-total\">\n                  <div class=\"btn-wrapper\">\n                      <button class=\"cp-button-standard\" @click=\"showAddressForm()\">Continue</button>\n                  </div>\n          </section>\n        </div>\n\n        <section class=\"step-two\" v-show=\"activeNav === 2\">\n            <cp-shipping-info ref=\"shippingInfoForm\"></cp-shipping-info>\n            <div class=\"nav-btn\">\n                <button @click=\"activeNav = 1\" class=\"cp-button-standard\">Previous</button>\n                <button @click=\"updateAddresses()\" class=\"cp-button-standard\">Continue</button>\n            </div>\n        </section>\n        <section class=\"step-three\" v-show=\"activeNav === 3\">\n            <cp-payment ref=\"paymentForm\" :checkout=\"checkout\"></cp-payment>\n            <div class=\"apply-coupon-wrapper payment-page-wrapper\" v-if=\"(checkout.inventory_user_pid == $getGlobal('company_pid').value) ? $getGlobal('corp_coupons').show : $getGlobal('reseller_coupons').show\">\n              <div v-if=\"checkout.couponable\">\n                <cp-input\n                class=\"\"\n                type=\"text\"\n                placeholder=\"Do you have a coupon code?\"\n                v-model=\"couponCode\"></cp-input>\n                <button :disabled=\"processing\" class=\"cp-button-standard\" @click=\"applyCoupon()\">Apply</button>\n              </div>\n              <div class=\"coupon-applied-section\">\n                <span v-if=\"checkout.discount\">A discount of <i>{{checkout.discount | currency}}</i> was applied to your order.</span>\n              </div>\n            </div>\n            <div class=\"nav-btn\">\n                <button class=\"btn\" @click=\"activeNav = 2\">Previous</button>\n                <button class=\"cp-button-standard\" @click=\"createOrder()\" v-if=\"!processing\">Submit Payment</button>\n                <button class=\"cp-button-standard\" v-if=\"processing\">Processing..</button>\n            </div>\n            <div class=\"push-right\">By clicking Submit Payment above, you agree to the following <a href=\"/return-policy\" class=\"agree\" target=\"_blank\">terms</a></div>\n        </section>\n        <section class=\"step-four\" v-show=\"activeNav === 4\">\n            <cp-confirmation :order=\"order\"></cp-confirmation>\n        </section>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/orders/rep-order-index.vue:script


      sms.vComponent('assets/js/components/orders/rep-order-index.vue', {"name":"CpRepOrderIndex","path":"assets/js/components/orders/rep-order-index.vue"}, (require,exports,module)=>{
        
const Orders = require('../../resources/OrdersAPIv0.js')
const moment = require('moment')
const CpOrdersFile = require('../../libraries/CpOrdersFile.js')
const Auth = require('auth')

module.exports = {
  name: 'CpRepOrderIndex',
  routing: [
    {
      name: 'site.CpRepOrderIndex',
      path: 'inventory/rep-orders',
      meta: {
        title: 'Orders'
      },
      props: true
    }
  ],
  data: function () {
    return {
      Auth: Auth,
      downloadTitle: 'My Orders',
      downloadType: 'purchase',
      orderDownloadModal: false,
      noResults: false,
      loading: false,
      orders: [],
      pagination: {
        per_page: 15
      },
      asc: false,
      dates: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD')
      },
      indexRequest: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        order: 'DESC',
        column: 'created_at',
        per_page: 15,
        search_term: '',
        page: 1
      },
      reverseSort: false,
      showConfirm: false,
      selectedOrder: {}
    }
  },
  mounted () {
    this.getOrders()
  },
  methods: {
    resetSelectedOrder: function () {
      this.selectedOrder = {}
    },
    confrimInventory: function (order) {
      Orders.acceptInventory(order.id)
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, {error: true})
          } else {
            this.showConfirm = false
            this.selectedOrder.inventory_received_at = response.inventory_received_at
            this.selectedOrder = {}
            this.$toast('Inventory has been received.')
          }
        })
    },
    getOrders: function () {
      this.loading = true
      // Refactor to new structure
      let request = JSON.parse(JSON.stringify(this.indexRequest))
      request.page = this.pagination.current_page
      request.sort_by = this.indexRequest.column.toLowerCase()
      request.in_order = this.indexRequest.order.toLowerCase()
      request.start_date = moment(this.dates.start_date, 'YYYY-MM-DD').startOf('day').utc().format('YYYY-MM-DD HH:mm:ss.SSS')
      request.end_date = moment(this.dates.end_date, 'YYYY-MM-DD').endOf('day').utc().format('YYYY-MM-DD HH:mm:ss.SSS')
      request.buyer_id = Auth.getAuthId()

      // corp to rep, and transfer orders
      request.type_id = [1,11]

      this.orders = {}
      Orders.getOrders(request)
        .then((response) => {
          if (response.error) {
            return this.$toast(response.message, {error: true})
          }
          if (response.total === 0) {
            this.noResults = true
            setTimeout(function () {
              this.noResults = false
            }.bind(this), 3000)
          }
          this.loading = false
          this.orders = response.data
          response.per_page = parseInt(response.per_page)
          this.pagination = response
        })
    },
    printOrder: function (orderId) {
      new CpOrdersFile(null, ['pdf'], 'order', {orderId: orderId}).run()
    }
  },
  components: {
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"rep-index-wrapper\">\n        <div class=\"action-btn-wrapper\">\n            <a class=\"cp-button-link\" @click=\"orderDownloadModal = true\">Download</a>\n        </div>\n        <cp-table-controls\n            :date-picker=\"true\"\n            :date-range=\"dates\"\n            :index-request=\"indexRequest\"\n            :resource-info=\"pagination\"\n            :get-records=\"getOrders\">\n        </cp-table-controls>\n        <table class=\"cp-table-standard desktop\">\n            <thead>\n                <th>PDF</th>\n                <th>Receipt ID</th>\n                <th>Date of order</th>\n                <th>Customer Name</th>\n                <th>Subtotal</th>\n                <th>Tax</th>\n                <th>Shipping</th>\n                <th>Order Total</th>\n                <th>Date Paid</th>\n                <th>Cash Order</th>\n                <th>Source of Order</th>\n                <th>Order Status</th>\n                <th v-if=\"$getGlobal('inventory_confirmation').show\">Inventory Received</th>\n            </thead>\n            <tbody>\n                <tr v-for=\"order in orders\" :class=\"{'hold-order': order.status === 'hold' }\">\n                       <td><a @click=\"printOrder(order.id)\"><i class='mdi mdi-file'></i></a></td>\n                       <td><a :href=\"'/orders/' + order.receipt_id\">{{ order.receipt_id }}</a></td>\n                       <td>{{ order.created_at | cpStandardDate}}</td>\n                       <td>{{ order.buyer_last_name }}, {{ order.buyer_first_name }}</td>\n                       <td>{{ order.subtotal_price | currency }}</td>\n                       <td>{{ order.total_tax | currency }}</td>\n                       <td>{{ order.total_shipping | currency }}</td>\n                       <td>{{ order.total_price | currency }}</td>\n                       <td v-if=\"order.paid_at\">{{ order.paid_at | cpStandardDate}}</td>\n                       <td v-else>{{ 'unpaid' }}</td>\n                       <td>\n                           <span>{{ order.cash ? 'Yes' : 'No'}}</span>\n                       </td>\n                       <td>{{ order.source }}</td>\n                       <td>{{ order.status}}</td>\n                       <td v-if=\"$getGlobal('inventory_confirmation').show\">\n                         <button\n                            v-if=\"!order.inventory_received_at && order.buyer_id == Auth.getAuthId()\"\n                            class=\"cp-button-standard\"\n                            type=\"button\"\n                            name=\"button\"\n                            @click=\"showConfirm = true; selectedOrder = order\">Receive Inventory</button>\n                        <span v-else>{{order.inventory_received_at | cpStandardDate}}</span>\n                       </td>\n                </tr>\n            </tbody>\n        </table>\n\n            <section class=\"cp-table-mobile\">\n                <div v-for='order in orders'>\n                    <div></div><span></span>\n                    <div>\n                        <span>PDF: </span><span><a @click=\"printOrder(order.id)\"><i class='mdi mdi-file'></i></a></span>\n                    </div>\n                    <div>\n                        <span>Invoice ID: </span><span><a :href=\"'/orders/' + order.receipt_id\">{{ order.receipt_id }}</a></span>\n                    </div>\n                    <div>\n                        <span>Date of orders: </span><span>{{ order.created_at | cpStandardDate}}</span>\n                    </div>\n                    <div>\n                        <span>Customer Name: </span><span>{{ order.buyer_last_name }}, {{ order.buyer_first_name }}</span>\n                    </div>\n                    <div>\n                        <span>Subtotal:</span><span>{{ order.subtotal_price | currency }}</span>\n                    </div>\n                    <div>\n                        <span>Tax: </span><span>{{ order.total_tax | currency }}</span>\n                    </div>\n                    <div>\n                        <span>Shipping: </span><span>{{ order.total_shipping | currency }}</span>\n                    </div>\n                    <div>\n                        <span>Order Total: </span><span>{{ order.total_price | currency }}</span>\n                    </div>\n                    <div>\n                        <span>Date Paid: </span><span>{{ order.paid_at || 'unpaid' }}</span>\n                    </div>\n                    <div>\n                        <span>Cash Order: </span>\n                        <span v-if=\"order.cash === 1\">Yes</span>\n                        <span v-if=\"order.cash === 0\">No</span>\n                    </div>\n\n                    <div>\n                        <span>Source of Order: </span><span>{{ order.mobile || 'Web' }}</span>\n                    </div>\n                    <div>\n                        <span>Order Status: </span><span>{{ order.status}}</span>\n                    </div>\n                    <div v-if=\"$getGlobal('inventory_confirmation').show\">\n                        <span>Inventory Received: </span>\n                        <span v-if=\"order.inventory_received_at === null && order.buyer_id == Auth.getAuthId()\"><button class=\"cp-button-standard\" type=\"button\" name=\"button\" @click=\"showConfirm = true; selectedOrder = order\">Receive Inventory</button></span>\n                        <span v-else>{{order.inventory_received_at | cpStandardDate}}</span>\n                    </div>\n                </div>\n            </section>\n\n        <div class=\"align-center\">\n            <div class=\"no-results\" v-if=\"noResults\">\n                <span>No results for this timeframe</span>\n            </div>\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n            <cp-pagination :pagination=\"pagination\" :callback=\"getOrders\" :offset=\"2\"></cp-pagination>\n        </div>\n        <cp-confirm\n            :message=\"'You are about to transfer items from this order into your available inventory. This action cannot be undone. Would you like to continue?'\"\n            v-model=\"showConfirm\"\n            :show=\"showConfirm\"\n            :callback=\"confrimInventory\"\n            :on-canceled=\"resetSelectedOrder\"\n            :params=\"selectedOrder\"></cp-confirm>\n        <cp-order-download-modal v-if=\"orderDownloadModal\" @close=\"orderDownloadModal = false\"\n            :title=\"downloadTitle\" :start-date=\"dates.start_date\"\n            :end-date=\"dates.end_date\" :type=\"downloadType\"\n            :sort-column=\"indexRequest.column\" :sort-order=\"indexRequest.order\"></cp-order-download-modal>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/payment/CpCreditCardForm.vue:script


      sms.vComponent('assets/js/components/payment/CpCreditCardForm.vue', {"name":"CpCreditCardForm","path":"assets/js/components/payment/CpCreditCardForm.vue"}, (require,exports,module)=>{
        
const moment = require('moment')

module.exports = {
  data () {
    return {
      card: {
        name: null,
        number: null,
        month: null,
        year: null
      },
      validationErrors: {},
      years: [[]]
    }
  },
  props: {
    disabled: {
      type: Boolean,
      default () {
        return false
      }
    }
  },
  mounted () {
    this.getYears()
  },
  methods: {
    getYears: function () {
      var currentYear = new Date().getFullYear()
      for (var i = 0; i <= 10; i++) {
        this.years.push({name: currentYear + i})
      }
    },
    getCard: function () {
      return this.card
    },
    setCard: function (card) {
      this.card = card
    },
    setErrors: function (errors) {
      this.validationErrors = errors
    },
    validate: function () {
      let today = moment()
      let year = parseInt(today.format('YYYY'))
      let month = parseInt(today.format('M'))
      let cardYear = parseInt(this.card.year)
      let cardMonth = parseInt(this.card.month)
      let errors = {}
      if (this.$isBlank(this.card.name)) {
        errors['card.name'] = ['Required']
      }
      if (!this.isCardNumberValid()) {
        errors['card.number'] = ['Invalid']
      }
      if (isNaN(cardMonth) || cardMonth < 1 || cardMonth > 12) {
        errors['card.month'] = ['Must be between 1 and 12']
      } else if (isNaN(cardYear) || cardYear < year || (cardYear === year && cardMonth < month)) {
        errors['card.month'] = ['Expired']
      }
      if (!this.card.code || this.card.code.length < 3 || this.card.code.length > 4) {
        errors['card.code'] = ['Invalid']
      }
      if (Object.keys(errors).length > 0) {
        this.validationErrors = errors
        return false
      } else {
        this.validationErrors = {}
      }
      return true
    },
    isCardNumberValid: function () {
      // check sum
      if (!this.card.number || this.card.number.indexOf(' ') > -1 || isNaN(this.card.number) ||
          this.card.number.length < 13 || this.card.number.length > 16) {
        return false;
      }
      let length = this.card.number.length
      let checkSum = parseInt(this.card.number.substring(length - 1, length))
      let sum = 0
      let isOdd = true
      for (let i = length - 2; i >= 0; --i) {
        if (isOdd) {
          let res = 2 * parseInt(this.card.number.substring(i, i + 1))
          sum += res > 9 ? res - 9 : res
        } else {
          sum += parseInt(this.card.number.substring(i, i + 1))
        }
        isOdd = !isOdd
      }
      return ((sum + checkSum) % 10) === 0
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpSelect: require('../../cp-components-common/inputs/CpSelect.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"payment-form-simple\">\n    <!-- card -->\n    <cp-input\n      label=\"Name on Card\"\n      name=\"nameoncard\"\n      autocomplete=\"cc-name\"\n      type=\"text\"\n      v-model=\"card.name\"\n      :error=\"validationErrors['card.name']\"\n      :disabled=\"disabled\">\n    </cp-input>\n    <cp-input\n      label=\"Credit Card Number\"\n      name=\"ccnumber\"\n      autocomplete=\"cc-number\"\n      :error=\"validationErrors['card.number']\"\n      :type=\"(disabled ? 'text' : 'number')\"\n      placeholder=\"\"\n      v-model=\"card.number\"\n      :disabled=\"disabled\">\n    </cp-input>\n  <div class=\"cp-expiration-dates\">\n    <cp-select\n      label=\"Month\"\n      name=\"cc-exp-month\"\n      autocomplete=\"cc-exp-month\"\n      :options=\"[\n      { name: '01', value: 1 },\n      { name: '02', value: 2 },\n      { name: '03', value: 3 },\n      { name: '04', value: 4 },\n      { name: '05', value: 5 },\n      { name: '06', value: 6 },\n      { name: '07', value: 7 },\n      { name: '08', value: 8 },\n      { name: '09', value: 9 },\n      { name: '10', value: 10 },\n      { name: '11', value: 11 },\n      { name: '12', value: 12 }\n      ]\"\n      :error=\"validationErrors['card.month']\"\n      v-model=\"card.month\"\n      :disabled=\"disabled\">\n    </cp-select>\n    <cp-select\n      label=\"Year\"\n      name=\"cc-exp-year\"\n      autocomplete=\"cc-exp-year\"\n      type=\"number\"\n      v-model=\"card.year\"\n      :options=\"years\"\n      placeholder=\" \"\n      :error=\"validationErrors['card.year']\"\n      :key-value=\"{ name: 'name', value: 'name'}\"\n      :disabled=\"disabled\">\n    </cp-select>\n  </div>\n  <div class=\"cvv\">\n    <cp-input\n      label=\"CVV\"\n      name=\"cvv2\"\n      autocomplete=\"cc-csc\"\n      type=\"text\"\n      v-model=\"card.code\"\n      :error=\"validationErrors['card.code']\"\n      :disabled=\"disabled\">\n    </cp-input>\n    <img src=\"https://s3-us-west-2.amazonaws.com/controlpad/CreditCard-Icons.png\" class=\"credit-cards\">\n  </div>\n</div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/orders/CpShippingInfo.vue:script


      sms.vComponent('assets/js/components/orders/CpShippingInfo.vue', {"name":"CpShippingInfo","path":"assets/js/components/orders/CpShippingInfo.vue"}, (require,exports,module)=>{
        

module.exports = {
  data () {
    return {
      customer: {},
      sameAddress: false
    }
  },
  methods: {
    validate () {
      valid = true
      let addressFields = ['address_1', 'city', 'state', 'zip']
      if (!this.$refs.shippingAddressForm.validate(addressFields)) {
        valid = false
      }
      if (!this.$refs.billingAddressForm.validate(addressFields)) {
        valid = false
      }
      return valid
    },
    getAddresses () {
      addresses = {
        shippingAddress: this.$refs.shippingAddressForm.getAddress(),
        billingAddress: this.$refs.billingAddressForm.getAddress()
      }
      let name = this.customer.first_name + ' ' + this.customer.last_name
      addresses.shippingAddress.name = name
      addresses.billingAddress.name = name
      return addresses
    },
    setBillingAddress (address) {
      if (address) {
        this.$refs.billingAddressForm.setAddress(address)
      }
    },
    setShippingAddress (address) {
      if (address) {
        this.$refs.shippingAddressForm.setAddress(address)
      }
    },
    setSameAs (same) {
      this.sameAddress = same
    },
    setCustomer (customer) {
      this.customer = customer
    },
    getCustomer () {
      return this.customer
    },
    addressCopy (same) {
      if (same) {
        this.$refs.billingAddressForm.setAddress(this.$refs.shippingAddressForm.getAddress())
      }
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpAddressForm: require('../addresses/CpAddressForm.vue')
  }
}
;
        module.exports.template = "\n    <section class=\"customer-info\">\n        <div class=\"contact-info\">\n            <h3>Contact Information</h3>\n            <p>\n                <span>{{customer.first_name}}</span>&nbsp;<span>{{customer.last_name}}</span>\n            </p>\n            <p>{{customer.phone_number}}</p>\n            <p>{{customer.email}}</p>\n        </div>\n        <div class=\"col-wrapper\">\n            <div class=\"left-col\">\n              <h3>Shipping Address:</h3>\n              <cp-address-form\n                ref=\"shippingAddressForm\"\n                address-type=\"shipping_address\"\n                :hide-name-field=\"true\"></cp-address-form>\n            </div>\n            <div class=\"right-col\">\n              <h3>Billing Address:</h3>\n              <cp-address-form\n                ref=\"billingAddressForm\"\n                address-type=\"billing_address\"\n                :disabled=\"sameAddress\"\n                :hide-name-field=\"true\"></cp-address-form>\n            </div>\n          </div>\n        <div class=\"sameAs\">\n            <input type=\"checkbox\" v-model=\"sameAddress\" @change=\"addressCopy(sameAddress)\"><span>Check if same as shipping address</span>\n        </div>\n    </section>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/payment/CpECheckForm.vue:script


      sms.vComponent('assets/js/components/payment/CpECheckForm.vue', {"name":"CpECheckForm","path":"assets/js/components/payment/CpECheckForm.vue"}, (require,exports,module)=>{
        
const Payman = require('../../resources/PaymanAPI.js')

module.exports = {
  data () {
    return {
      account: {
        name: '',
        routing: '',
        number: '',
        bank_name: '',
        email: '',
        phone_number: ''
      },
      validationErrors: {}
    }
  },
  props: {
    disabled: {
      type: Boolean,
      default () {
        return false
      }
    }
  },
  methods: {
    getAccount: function () {
      return this.account
    },
    setAccount: function (account) {
      this.account = account
    },
    setErrors: function (errors) {
      this.validationErrors = errors
    },
    validate: function () {
      // Make sure fields are not blank
      if (this.$isBlank(this.account.routing)) {
        errors['account.routing'] = ['Required']
      } else if (!Payman.isRoutingNumberValid(this.account.routing)) {
        errors['account.routing'] = ['Invalid']
      }
      if (this.$isBlank(this.account.name)) {
        errors['account.name'] = ['Required']
      }
      if (this.$isBlank(this.account.bank_name)) {
        errors['account.bank_name'] = ['Required']
      }
      if (this.$isBlank(this.account.number)) {
        errors['account.number'] = ['Required']
      }
      if (this.$isBlank(this.account.email)) {
        errors['account.email'] = ['Required']
      } else {
        // TODO Validate email?
      }
      if (this.$isBlank(this.account.phone_number)) {
        errors['account.phone_number'] = ['Required']
      } else {
        // TODO Validate phone_number
      }

      if (Object.keys(errors).length > 0) {
        this.validationErrors = errors
        return false
      } else {
        this.validationErrors = {}
      }
      return true
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
  }
}
;
        module.exports.template = "\n  <div>\n    <cp-select\n      label=\"Account Type\"\n      v-model=\"account.type\"\n      :error=\"validationErrors['type']\"\n      :options=\"[\n        {name: 'Checking', value: 'checking'},\n        {name: 'Savings', value: 'savings'}\n      ]\"\n      :disabled=\"disabled\">\n    </cp-select>\n    <cp-input\n      label=\"Bank Routing Number\"\n      type=\"text\"\n      v-model=\"account.routing\"\n      :error=\"validationErrors['routing']\"\n      :disabled=\"disabled\">\n    </cp-input>\n    <cp-input\n      label=\"Account Number\"\n      :error=\"validationErrors['number']\"\n      type=\"text\"\n      placeholder=\"\"\n      v-model=\"account.number\"\n      :disabled=\"disabled\">\n    </cp-input>\n    <cp-input\n      label=\"Name on Account\"\n      type=\"text\"\n      v-model=\"account.name\"\n      :error=\"validationErrors['name']\"\n      :disabled=\"disabled\">\n    </cp-input>\n    <cp-input\n      label=\"Name of Bank\"\n      type=\"text\"\n      v-model=\"account.bank_name\"\n      :error=\"validationErrors['bank_name']\"\n      :disabled=\"disabled\">\n    </cp-input>\n    <cp-input\n      label=\"Email\"\n      type=\"email\"\n      v-model=\"account.email\"\n      :error=\"validationErrors['email']\"\n      :disabled=\"disabled\">\n    </cp-input>\n    <cp-input\n      label=\"Phone Number\"\n      type=\"text\"\n      v-model=\"account.phone_number\"\n      :error=\"validationErrors['phone_number']\"\n      :disabled=\"disabled\">\n    </cp-input>\n  </div>\n</div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/payment/CpAchForm.vue:script


      sms.vComponent('assets/js/components/payment/CpAchForm.vue', {"name":"CpAchForm","path":"assets/js/components/payment/CpAchForm.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
    }
  },
  props: {
    paymentData: {
      type: Object,
      required: true
    },
    validationErrors: {
      type: Object,
      required: false
    }
  },
  ready () {
  },
  methods: {
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"payment-form-simple\">\n    <form class=\"cp-form-standard credit-card-form\" >\n      <cp-input\n      label=\"Account Holder Name\"\n      type=\"text\"\n      :value=\"paymentData.account_name\"\n      ></cp-input>\n      <span v-show=\"validationErrors['account_name']\" class=\"cp-warning-message\">{{ validationErrors['account_name'] }}</span>\n      <cp-input\n      type=\"number\"\n      label=\"Account Number\"\n      :value=\"paymentData.account_number\"\n      ></cp-input>\n      <span v-show=\"validationErrors['account_number']\" class=\"cp-warning-message\">{{ validationErrors['account_number'] }}</span>\n      <cp-input\n      type=\"number\"\n      label=\"Routing Number\"\n      :value=\"paymentData.routing_number\"\n      ></cp-input>\n      <span v-show=\"validationErrors['routing_number']\" class=\"cp-warning-message\">{{ validationErrors['routing_number'] }}</span>\n    </form>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/payment/CpBanking.vue:script


      sms.vComponent('assets/js/components/payment/CpBanking.vue', {"name":"CpBanking","path":"assets/js/components/payment/CpBanking.vue"}, (require,exports,module)=>{
        
const Banking = require('../../resources/banking.js')
const Users = require('../../resources/users.js')
const Settings = require('../../resources/settings.js')

module.exports = {
  data () {
    return {
      verificationRequest: {
        amount1: '',
        amount2: ''
      },
      validationErrors: {},
      bankUpdate: false,
      bankModal: false,
      verifyModal: false,
      newbankRequest: {
        bankName: '',
        name: '',
        number: '',
        routing: '',
        type: '',
        validated: false,
        authorization: false
      },
      agreement: ''
    }
  },
  props: {
    bank: {
      default () {
        return null
      }
    },
    userId: {
      required: true
    }
  },
  mounted () {
    this.getBankingAuthorization()
  },
  methods: {
    verifyDeposit: function () {
      Banking.depositVerify(this.verificationRequest)
        .then((response) => {
          if (!response.error) {
            this.$toast('Account validated!', { error: false })
            this.bank.validated = true
            this.verifyModal = false
            this.getUser()
            this.verificationRequest = {
              amount1: '',
              amount2: ''
            }
          }
        })
    },
    addBank: function () {
      Banking.bankAdd()
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, { error: true })
          }
        })
    },
    updateBank: function () {
      Banking.bankUpdate(this.newbankRequest)
        .then((response) => {
          if (response.error) {
            this.validationErrors = response.message
          } else {
            this.getUser()
            this.bankModal = false
            this.newbankRequest = {
              bankName: '',
              name: '',
              number: '',
              routing: '',
              type: '',
              validated: false,
              authorization: false
            }
          }
        })
    },
    getUser () {
      Users.userAccount(this.userId)
        .then((response) => {
          if (response.error) {

          } else {
            this.bank = response.bank
          }
        })
    },
    getBankingAuthorization () {
      Settings.getCustomPage('bank-account-authorization')
        .then((response) => {
          if (response.error) {

          } else {
            this.agreement = response
          }
        })
    },
    scrollTop () {
      window.scrollTo(0, 0)
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpSelect: require('../../cp-components-common/inputs/CpSelect.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"banking-information-wrapper\">\n    <!-- BANKING BOX -->\n    <div class=\"cp-box-standard\">\n      <div class=\"cp-box-heading\">\n        <h5 >Financial Information</h5>\n        <h6 v-show=\"bank && !bank.validated\" class=\"verification\">PENDING VERIFICATION</h6>\n        <h6 v-show=\"bank && bank.validated\" class=\"verification\">VERIFIED</h6>\n      </div>\n      <div class=\"cp-box-body\">\n        <div class=\"line-wrapper action-wrapper\">\n          <h5>Banking Information</h5>\n          <button class=\"action-btn\" @click=\"bankModal = true\" v-show=\"!bank\">Add Bank Information</button>\n          <button class=\"action-btn\" v-show=\"bank && !bank.validated\" @click=\"verifyModal = true, scrollTop()\">Verify Deposit</button>\n          <button class=\"action-btn\" @click=\"bankModal = true, bankUpdate = true, scrollTop()\" v-show=\"bank && bank.number\">Update</button>\n        </div>\n        <div v-if=\"bank\">\n          <div class=\"line-wrapper\">\n            <span>Bank Name</span>\n            <p class=\"inactive\">{{bank.bankName}}</p>\n          </div>\n          <div class=\"line-wrapper\">\n            <span>Routing Number</span>\n            <p class=\"inactive\">{{bank.routing}}</p>\n          </div>\n          <div  class=\"line-wrapper\">\n            <span>Account Type</span>\n            <p class=\"inactive\">{{bank.type}}</p>\n          </div>\n          <div class=\"line-wrapper\">\n            <span>Account Name</span>\n            <p class=\"inactive\">{{bank.name}}</p>\n          </div>\n          <div class=\"line-wrapper\">\n            <span>Account Number</span>\n            <p class=\"inactive\">{{bank.number}}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- BANKING MODAL  -->\n    <section class=\"cp-modal-standard\" v-show=\"bankModal\" @click=\"bankModal = false, newbankRequest.authorization = false\">\n        <div class=\"cp-modal-body\" @click.stop.prevent>\n          <div class=\"cp-modal-header\">\n            <h5 v-show=\"bank\">Change Bank Information</h5>\n            <h5 v-show=\"!bank\">Add Bank Information</h5>\n          </div>\n          <div class=\"cp-form-standard\">\n              <cp-input\n              label=\"Account Holder\"\n              type=\"text\"\n              :error=\"validationErrors['name']\"\n              v-model=\"newbankRequest.name\"></cp-input>\n              <cp-select\n              label=\"Account Type\"\n              :error=\"validationErrors['type']\"\n               v-model=\"newbankRequest.type\"\n               :options=\"[\n               {name: 'checking', value: 'checking'},\n               {name: 'savings', value: 'savings'}]\"></cp-select>\n              <cp-input\n              label=\"Bank Name\"\n              type=\"text\"\n              :error=\"validationErrors['name']\"\n              v-model=\"newbankRequest.bankName\"></cp-input>\n              <cp-input\n              label=\"Routing Number\"\n              type=\"number\"\n              :error=\"validationErrors['name']\"\n              v-model=\"newbankRequest.routing\"></cp-input>\n              <cp-input\n              label=\"Account Number\"\n              type=\"number\"\n              :error=\"validationErrors['name']\"\n              v-model=\"newbankRequest.number\"></cp-input>\n            </div>\n            <div class=\"banking-image\">\n              <img src=\"https://s3-us-west-2.amazonaws.com/controlpad/routing_number.jpg\">\n            </div>\n            <div class=\"agreement-wrapper\">\n              <div>{{ agreement.content }}</div>\n            </div>\n            <div class=\"agree-wrapper\">\n                <input id=\"checkbox\" name=\"checkbox\" type=\"checkbox\" v-model=\"newbankRequest.authorization\" @click=\"newbankRequest.authorization = true\" v-if=\"!newbankRequest.authorization\">\n                <label for=\"bankAuthorization\" v-if=\"!newbankRequest.authorization\"><strong>I Accept</strong></label>\n                <label for=\"bankAuthorization\" v-if=\"newbankRequest.authorization\"><strong>Accepted</strong></label>\n            </div>\n            <div class=\"cp-modal-controls\">\n                <button class=\"right cp-button-standard\" @click=\"updateBank()\">Update Account</button>\n                <button class=\"left cp-button-standard\" @click=\"bankModal = false, newbankRequest.authorization=false\">Cancel</button>\n            </div>\n        </div>\n    </section>\n    <!-- VERIFY BANKING INFORMATION -->\n    <section class=\"cp-modal-standard\" v-show=\"verifyModal\" @click=\"verifyModal = false, verificationRequest.amount1 = '', verificationRequest.amount2 = '' \">\n        <div class=\"cp-modal-body\" @click.stop.prevent>\n          <div class=\"cp-modal-header\">\n            <h5>Verify Deposits</h5>\n          </div>\n            <div>\n                <p>Two to three days after your banking information is saved, you will receive two small deposits in your bank account. To verify that you are the owner of this bank account, enter the amounts received.</p>\n              </div>\n              <div class=\"cp-form-standard\">\n                <cp-input label=\"First Deposit\" :error=\"validationErrors['verificationRequest.amount1']\" type=\"number\" name=\"\" v-model=\"verificationRequest.amount1\" autofocus></cp-input>\n                <cp-input label=\"Second Deposit\" :error=\"validationErrors['verificationRequest.amount1']\" type=\"number\" name=\"\" v-model=\"verificationRequest.amount2\"></cp-input>\n              </div>\n              <div class=\"cp-modal-controls\">\n                <button class=\"left cp-button-standard\" @click=\"verifyModal = false, verificationRequest.amount1 = '', verificationRequest.amount2 = '' \">Cancel</button>\n                <button class=\"right cp-button-standard\" @click=\"verifyDeposit\">Verify Bank Account</button>\n              </div>\n        </div>\n    </section>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/payment/CpPayment.vue:script


      sms.vComponent('assets/js/components/payment/CpPayment.vue', {"name":"CpPayment","path":"assets/js/components/payment/CpPayment.vue"}, (require,exports,module)=>{
        

module.exports = {
  data  () {
    return {

    }
  },
  props:  {
    checkout: {
        type: Object,
        required: true
    }
  },
  methods: {
    preventDefault (event) {
      event.stopPropagation()
    },
    getCard () {
      return this.$refs.ccForm.getCard()
    },
    validate () {
      return this.$refs.ccForm.validate()
    }
  },
  components: {
    CpCreditCardForm: require('../payment/CpCreditCardForm.vue')
  }
}
;
        module.exports.template = "\n  <section class=\"payment-page-wrapper\">\n      <div class=\"order-summary\">\n        <h3>ORDER SUMMARY</h3>\n        <div class=\"space-between\">\n          <span>Subtotal</span>\n          <span>{{checkout.subtotal | currency}}</span>\n        </div>\n        <div class=\"space-between\" v-if=\"checkout.discount\">\n          <span>Discount</span>\n          <span>{{-checkout.discount | currency}}</span>\n        </div>\n        <div class=\"space-between\">\n          <span>Shipping</span>\n          <span>{{checkout.shipping | currency}}</span>\n        </div>\n        <div class=\"space-between\" v-if=\"this.$getGlobal('tax_calculation').show\">\n          <span>Tax</span>\n          <span>{{checkout.tax | currency}}</span>\n        </div>\n        <div class=\"space-between\">\n          <span>Total</span>\n          <span>{{checkout.total | currency}}</span>\n        </div>\n      </div>\n      <div class=\"payment-detail-wrapper\">\n        <cp-credit-card-form ref=\"ccForm\" class=\"cp-form-inverse border-pad\" :disabled=\"checkout.total == 0\"></cp-credit-card-form>\n        </div>\n    </div>\n  </section>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/payment/CpPaymentSection.vue:script


      sms.vComponent('assets/js/components/payment/CpPaymentSection.vue', {"name":"CpPaymentSection","path":"assets/js/components/payment/CpPaymentSection.vue"}, (require,exports,module)=>{
        
const Payments = require('../../resources/payments.js')

module.exports = {
  data: function () {
    return {
      sameAddress: false,
      processing: false,
      validationErrors: {},
      paymentData: {},
      Invoice: {
        addresses: {
          shipping: {},
          billing: {}
        }
      }
    }
  },
  props: {
    einvoice: {
      type: Object,
      required: true,
      default: {
        addresses: {
          shipping: {},
          billing: {}
        }
      }
    },
    closeModal: {
      type: Function
    }
  },
  mounted () {
    this.Invoice = this.einvoice
  },
  methods: {
    addressConfirm () {
      if (this.sameAddress) {
        this.Invoice.addresses.billing = this.Invoice.user.shipping_address
      }
    },
    createOrder () {
      this.processing = true
      this.Invoice.addresses.shipping = this.Invoice.user.shipping_address
      this.Invoice.addresses.shipping.label = 'Shipping'
      this.Invoice.addresses.billing.label = 'Billing'
      this.Invoice.cart.cash = false
      this.Invoice.cart.total_price = this.Invoice.cart.total_price
      Payments.pay(this.Invoice)
          .then((response) => {
            this.processing = false
            if (response.error) {
              var responseMessage = JSON.stringify(response.message)
              // we need to format backend responses like this better
              if (responseMessage.includes('Card failed')) {
                this.$toast(response.message[0], { error: true })
              } else {
                if (responseMessage.includes('cart.total_price')) {
                  this.closeModal()
                  this.$toast(response.message['cart.total_price'], { error: true })
                }
                if (response.code === 422) {
                  this.validationErrors = response.message
                }
              }
              return this.$emit('input', this.Invoice)
            }
            this.closeModal()
            this.Invoice = {
              cart: {
                subtotal: 0,
                subtotal_price: 0,
                msrp_subtotal: 0,
                discount: 0,
                total_shipping: 0,
                total_tax: '',
                cash: false
              },
              items: [],
              payment: { card_number: '', security: '', month: '', year: '', name: '' },
              user: {
                first_name: '',
                last_name: '',
                phone: { number: '', label: 'Mobile', type: 'Personal' },
                email: '',
                shipping_address: {},
                billing_address: {},
                role: ''
              },
              addresses: {
                shipping: {label: '', address_1: '', address_2: '', city: '', state: '', zip: ''},
                billing: {label: '', address_1: '', address_2: '', city: '', state: '', zip: ''}
              }
            }
            this.$emit('input', this.Invoice)
            this.$toast('Payment successful.')
          })
    }
  },
  components: {
    CpPaymentForm: require('./CpPaymentForm.vue')
  }
}
;
        module.exports.template = "\n    <section class=\"payment-section\">\n      <form class=\"cp-form-standard\" @submit.prevent>\n        <cp-payment-form\n          v-model=\"Invoice\"\n          :payment-data=\"einvoice\"\n          :validation-errors=\"validationErrors\"\n          :hide-address=\"true\"></cp-payment-form>\n      </form>\n        <div class=\"submit-wrapper\">\n            <button v-if=\"!processing\" class=\"cp-button-standard\" @click=\"createOrder()\">Submit Payment</button>\n            <button v-if=\"processing\" class=\"cp-button-standard\">Processing . . .</button>\n              <small>By clicking Place Order above, you agree to the following <a href=\"/return-policy\" class=\"agree\" target=\"_blank\">terms</a></small>\n        </div>\n    </section>\n\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/orders/CpOrderDetail.vue:script


      sms.vComponent('assets/js/components/orders/CpOrderDetail.vue', {"name":"CpOrderDetail","path":"assets/js/components/orders/CpOrderDetail.vue"}, (require,exports,module)=>{
        
const Orders = require('../../resources/orders.js')
const Clipboard = require('clipboard')
const Auth = require('auth')
const CpOrdersFile = require('../../libraries/CpOrdersFile.js')

module.exports = {
  data: function () {
    return {
      downloadTitle: null,
      downloadType: null,
      downloadId: null,
      Auth: Auth,
      url: window.location.hostname + '/orders/invoice/',
      status: '',
      orders: [],
      showConfirm: false,
    }
  },
  props: {
    order: {
      type: Object,
      required: true
    },
    // hideHold: {
    //   type: Boolean,
    //   required: true
    // }
  },
  methods: {
    confrimInventory: function (params) {
      Orders.transferInventory(params.receipt_id)
      .then((response) => {
        if (response.error) {
          this.$toast(response.message, {error: true})
        } else {
          this.showConfirm = false
          this.order.inventory_received_at = response
          this.$toast('Inventory has been received.')
        }
      })
    },
    copyUrl: function () {
      var thisClipboard = this
      var clipboard = new Clipboard('.cp-button-standard')
      clipboard.on('success', (e) => {
        thisClipboard.$toast('URL Copied to Clipboard!', {success: true, dismiss: false})
      })
      clipboard.on('error', (e) => {
        thisClipboard.$toast('URL did not copy to clipboard!', {error: true, dismiss: false})
      })
    },
    printOrder (type) {
      var orderId
      if (type === 'invoice') {
        orderId = this.order.uid
      } else {
        orderId = this.order.id
      }
      new CpOrdersFile(null, ['pdf'], type, {orderId: orderId}).run()
    },
    formatPaymentType(paymentType) {
      switch(paymentType) {
        case 'cash':
          return 'Cash'
        case 'e-wallet':
          return 'eWallet'
        case 'credit-card':
        case 'card-token':
          return 'Credit Card'
        default:
          return 'Unknown'
      }
    },
    holdOrder: function () {
      this.holdObject = {
        status: this.order.status,
        orders: [this.order.receipt_id]
      }
      Orders.updateStatus(this.holdObject)
      .then((response) => {
        if (response.error) {
          this.$toast(response.message, {error: true})
        } else {
          this.$toast('Successfully placed order on hold')
        }
      })
    },
    removeHold: function () {
      this.holdObject = {
        status: this.order.status,
        orders: [this.order.receipt_id]
      }
      Orders.updateStatus(this.holdObject)
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, {error: true})
          } else {
            this.$toast('Successfully removed hold')
          }
        })
    }
  },
  components: {}
}
;
        module.exports.template = "\n    <div class=\"order-detail-wrapper\">\n        <div class=\"order-detail-action-buttons\">\n            <button v-if=\"order.buyer_id == Auth.getAuthId() && order.inventory_received_at === null\" class=\"cp-button-standard\" type=\"button\" name=\"button\" @click=\"showConfirm = true\">Receive Inventory</button>\n            <button v-if=\"Auth.hasAnyRole('Admin', 'Superadmin') && !order.token\" class=\"cp-button-standard\" @click=\"printOrder('picklist-single')\">Print Picklist</button>\n            <button v-if=\"!order.token\" class=\"cp-button-standard\" @click=\"printOrder('order')\">Print Order</button>\n            <button v-if=\"order.token\" class=\"cp-button-standard\" @click=\"printOrder('invoice')\">Print</button>\n            <a v-if=\"$getGlobal('shipping_link').show && Auth.hasAnyRole('Rep') && order.buyer_id !== Auth.getAuthId()\" v-bind:href=\"$getGlobal('shipping_link').value\" target=\"_blank\" ><button class=\"cp-button-standard\">{{$getGlobal('shipping_link_text').value}}</button></a>\n            <!-- reps should not be able to hold orders that they have purchased -->\n            <span v-if=\"Auth.hasAnyRole('Admin', 'Superadmin') || order.store_owner_user_id === Auth.getAuthId() && order.type_id !== 9\">\n                <button class=\"cp-button-standard yellow\" v-show=\"order.status === 'unfulfilled'\" @click=\"order.status = 'hold', holdOrder()\">Hold Order</button>\n                <button class=\"cp-button-standard yellow\" v-show=\"order.status === 'hold'\" @click=\"order.status = 'unfulfilled', removeHold()\">Remove Hold</button>\n            </span>\n        </div>\n        <div class=\"order-detail\">\n            <div class=\"cp-box-standard\">\n                <div class=\"cp-box-heading\">\n                    Order Detail\n                </div>\n                <div class=\"cp-box-body\">\n                    <div v-if=\"order.token\"><strong>Invoice ID: </strong>{{ order.uid }}</div>\n                    <div v-else><strong>Receipt ID: </strong> {{ order.receipt_id }}</div>\n                    <div><strong>Customer Name: </strong>{{ order.buyer_first_name }} {{ order.buyer_last_name }}</div>\n                    <div><strong>Customer Email: </strong> {{ order.buyer_email }}</div>\n                    <div v-if=\"order.seller_name\"><strong>Purchased From: </strong> {{ order.seller_name}}</div>\n                    <div><strong>Order Date: </strong>{{ order.created_at | cpStandardDate('time') }}</div>\n                    <div><strong>Source of Sale: </strong>{{ order.source || 'Web' }}</div>\n                    <template v-if=\"!order.token\">\n                      <div><strong >Payment Type: </strong>{{ formatPaymentType(order.payment_type) }}</div>\n                      <div v-if=\"order.gateway_reference_id || order.payment_type === 'credit-card' || order.payment_type === 'card-token'\"><strong >Gateway Transaction ID: </strong>{{ order.gateway_reference_id }}</div>\n                      <div v-if=\"order.payment_type === 'cash'\"><strong >Cash Type: </strong>{{ order.cash_type }}</div>\n                    </template>\n                    <div><strong>Subtotal Price: </strong>{{ order.subtotal_price | currency }}</div>\n                    <div><strong>Shipping: </strong>{{ order.total_shipping | currency }}</div>\n                    <div v-if=\"order.token\"></div>\n                    <div v-else><strong>Tax: </strong>{{ order.total_tax | currency }}</div>\n                    <div v-if=\"order.total_discount\"><strong>Discount: </strong>{{ order.total_discount | currency }}</div>\n                    <div v-if=\"order.coupon\"><strong>Coupon Code: </strong>{{ order.coupon.code }}</div>\n                    <div v-if=\"order.token\"></div>\n                    <div v-else><strong>Total Price: </strong>{{ order.total_price | currency }}</div>\n                    <div v-if=\"order.token\" class=\"url-box\">\n                        <p>Share the E-Invoice URL by clicking the button below and pasting in a browser or email:</p>\n                        <p><a class=\"url\" :href=\"`http://${url + order.token}`\" target=\"_blank\">http://{{ url + order.truncated_token }}</a></p>\n                        <button class=\"cp-button-standard copy-btn\" type=\"button\" name=\"button\" :data-clipboard-text=\"url + order.token\" @click=\"copyUrl()\">Copy URL</button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"cp-box-standard middle-box\">\n                <div class=\"cp-box-heading\">\n                    Shipping To\n                </div>\n                <div class=\"cp-box-body\"  v-if=\"order.shipping_address !== null\">\n                    <div v-if='order.shipping_address.name'><strong>Name: </strong> {{ order.shipping_address.name}}</div>\n                    <div v-else><strong>Name: </strong> {{ order.buyer_first_name }} {{ order.buyer_last_name }}</div>\n                    <div><strong>Address: </strong>{{ order.shipping_address.line_1 }}</div>\n                    <div v-if=\"order.shipping_address.line_2\"><strong>Address 2: </strong>\n                        {{ order.shipping_address.line_2 }}\n                    </div>\n                    <div><strong>City: </strong>{{ order.shipping_address.city }}</div>\n                    <div><strong>State: </strong>{{ order.shipping_address.state }}</div>\n                    <div><strong>Zip: </strong>{{ order.shipping_address.zip }}</div>\n                    <div v-for=\"tracking in order.tracking\"><strong>Tracking Number: </strong>\n                      <a :href=\"tracking.url\" target=\"_blank\">{{ tracking.number }}</a>\n                      <br />\n                      <strong v-if=\"tracking.shipped_at\">Shipped At: </strong> {{ tracking.shipped_at | cpStandardDate('time') }}\n                    </div>\n                </div>\n            </div>\n            <div class=\"cp-box-standard\">\n                <div class=\"cp-box-heading\">\n                    Billing To\n                </div>\n                <div class=\"cp-box-body\"  v-if=\"order.billing_address !== null\">\n                    <div v-if='order.billing_address.name'><strong>Name: </strong> {{ order.billing_address.name }}</div>\n                    <div v-else><strong>Name: </strong> {{ order.buyer_first_name }} {{ order.buyer_last_name }}</div>\n                    <div><strong>Address: </strong>{{ order.billing_address.line_1 }}</div>\n                    <div v-if=\"order.billing_address.line_2\"><strong>Address 2: </strong>\n                        {{ order.billing_address.line_2 }}\n                    </div>\n                    <div><strong>City: </strong>{{ order.billing_address.city }}</div>\n                    <div><strong>State: </strong>{{ order.billing_address.state }}</div>\n                    <div><strong>Zip: </strong>{{ order.billing_address.zip }}</div>\n                </div>\n            </div>\n        </div>\n        <cp-confirm\n        :message=\"'You are about to transfer items from this order into your available inventory. This action cannot be undone. Would you like to continue?'\"\n        v-model=\"showConfirm\"\n        :show=\"showConfirm\"\n        :callback=\"confrimInventory\"\n        :params=\"{receipt_id: order.receipt_id}\"></cp-confirm>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/payment/CpPaymentSectionCash.vue:script


      sms.vComponent('assets/js/components/payment/CpPaymentSectionCash.vue', {"name":"CpPaymentSectionCash","path":"assets/js/components/payment/CpPaymentSectionCash.vue"}, (require,exports,module)=>{
        
const Payments = require('../../resources/payments.js')

module.exports = {
  data: function () {
    return {
      sameAddress: false,
      processing: false,
      invoice: {}
    }
  },
  props: {
    einvoice: {
      type: Object,
      required: true,
      default: {
        addresses: {
          shipping: {},
          billing: {}
        }
      }
    },
    closeModal: {
      type: Function
    }
  },
  mounted () {
    this.invoice = this.einvoice
  },
  methods: {
    addressConfirm () {
      if (this.sameAddress) {
        this.invoice.addresses.billing = this.invoice.user.shipping_address
      }
    },
    createOrder () {
      if (this.invoice.cashType === 'none' && this.invoice.is_cash) {
        return this.$toast('Please select payment method', { error: true, dismiss: false })
      }
      this.processing = true
      this.invoice.addresses.shipping = this.invoice.user.shipping_address
      this.invoice.addresses.shipping.label = 'Shipping'
      this.invoice.addresses.billing.label = 'Billing'
      this.invoice.cart.cash = true
      Payments.pay(this.invoice)
          .then((response) => {
            this.processing = false
            if (response.error) {
              return
            }
            this.closeModal()
            this.invoice = {
              cart: {
                subtotal: 0,
                subtotal_price: 0,
                msrp_subtotal: 0,
                discount: 0,
                total_shipping: 0,
                total_tax: '',
                cash: false
              },
              items: [],
              payment: { card_number: '', security: '', month: '', year: '' },
              user: {
                first_name: '',
                last_name: '',
                phone: { number: '', label: 'Mobile', type: 'Personal' },
                email: '',
                shipping_address: {},
                billing_address: {},
                role: ''
              },
              addresses: {
                shipping: {label: '', address_1: '', address_2: '', city: '', state: '', zip: ''},
                billing: {label: '', address_1: '', address_2: '', city: '', state: '', zip: ''}
              },
              cashType: ''
            }
            this.$emit('input', this.invoice)
            this.$toast('Payment successful.', { dismiss: false })
          })
    }
  }
}
;
        module.exports.template = "\n  <div>\n    <section class=\"payment-section\">\n        <div class=\"submit-wrapper\">\n             <select v-show=\"einvoice.is_cash\" v-model=\"invoice.cashType\">\n                 <option :value=\"'none'\" selected disabled>Payment Method</option>\n                 <option>Apple Pay</option>\n                 <option>Cash/Check</option>\n                 <option>Google Wallet</option>\n                 <option>PayPal</option>\n                 <option>Square</option>\n                 <option>Square Cash</option>\n                 <option>Venmo</option>\n                 <option>Zelle</option>\n                 <option>Other</option>\n             </select>\n            <button v-if=\"!processing\" class=\"cp-button-standard\" @click=\"createOrder\">Submit Payment</button>\n            <button v-if=\"processing\" class=\"cp-button-standard\">Processing . . .</button>\n        </div>\n    </section>\n\n    <small>By clicking Place Order above, you agree to the following <a href=\"/return-policy\" class=\"agree\" target=\"_blank\">terms</a></small>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/products/CpDescriptionAssignment.vue:script


      sms.vComponent('assets/js/components/products/CpDescriptionAssignment.vue', {"name":"CpDescriptionAssignment","path":"assets/js/components/products/CpDescriptionAssignment.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
      newDescription: null
    }
  },
  mounted () {
    this.newDescription = this.description
  },
  props: {
    title: {},
    validationErrors: {
      default () {
        return {}
      }
    },
    description: ''
  },
  methods: {
    emitInput (value) {
      this.$emit('input', value)
    }
  },
  components: {
    CpTextArea: require('../../cp-components-common/inputs/CpTextArea.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"cp-box-standard\">\n    <div class=\"cp-box-heading\">\n      {{ title }}\n    </div>\n    <div class=\"cp-box-body\">\n      <cp-text-area\n        label=\"\"\n        type=\"textarea\"\n        :error=\"null\"\n        :value=\"description\"\n        @input=\"emitInput\"></cp-text-area>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/products/CpItemAssignment.vue:script


      sms.vComponent('assets/js/components/products/CpItemAssignment.vue', {"name":"CpItemAssignment","path":"assets/js/components/products/CpItemAssignment.vue"}, (require,exports,module)=>{
        
const Inventory = require('../../resources/InventoryAPIv0.js')

module.exports = {
  data () {
    return {
      newItem: {
        premium_price: {
          price: null
        },
        msrp: {
          price: null
        },
        wholesale_price: {
          price: null
        }
      },
      showId: null,
      newAddedItems: []
    }
  },
  props: {
    items: {
      default () {
        return {}
      }
    },
    addedItems: {
      type: Array,
      default () {
        return []
      }
    },
    validationErrors: {
      default () {
        return {}
      }
    }
  },
  mounted () {
    this.newAddedItems = this.addedItems
  },
  computed: {
    itemError () {
      return function (index) {
        return JSON.stringify(this.validationErrors).includes('items.' + index + '.')
      }
    }
  },
  methods: {
    updateItems () {
      this.$emit('input', this.newAddedItems)
    },
    restrictChar (event) {
      if (event.keyCode > 185 && event.keyCode < 223) {
        event.preventDefault()
      }
    },
    showItem (index) {
      if (index === this.showId) {
        this.showId = null
      } else {
        this.showId = index
      }
    },
    addItem (item) {
      if (item) {
        let newItem = JSON.parse(JSON.stringify(item))
        if (this.addedItems.length < 1) {
          newItem.is_default = true
        } else {
          newItem.is_default = false
        }
        this.newAddedItems.push(newItem)
        this.$emit('input', this.newAddedItems)
      }
    },
    removeItem (item, index) {
      var itemIsDefualt = false
      if (item && item.is_default === true && this.newAddedItems.length > 0 || item && item.is_default === 1 && this.newAddedItems.length > 0) {
        itemIsDefualt = true
      }
      // delete it from the database if it already exists
      if (this.newAddedItems[index].id) {
        this.deleteItem(this.newAddedItems[index].id, index)
      } else {
        this.newAddedItems.splice(index, 1)
        this.$emit('input', this.newAddedItems)
      }
      if (itemIsDefualt && this.newAddedItems[0]) {
        this.addDefault(this.newAddedItems[0], 0)
      }
    },
    /* deletes exisiting itme fom database */
    deleteItem (id, index) {
      Inventory.deleteItem(id)
        .then((response) => {
          if (!response.error) {
            this.newAddedItems.splice(index, 1)
            this.$emit('input', this.newAddedItems)
            this.$toast('Successfully removed item from system.', { dismiss: false })
          }
        })
    },
    addDefault (item, index, event) {
      if (item && item.is_default) {
        event.preventDefault()
        return
      }
      item.is_default = true
      for (var i = 0; i < this.newAddedItems.length; i++) {
        if (index !== i) {
          this.newAddedItems[i].is_default = false
        }
      }
      this.$emit('input', this.newAddedItems)
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpItemForm: require('../products/CpItemForm.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"cp-box-standard add-items-wrapper\">\n    <div class=\"cp-box-heading\">\n      ADD ITEMS\n    </div>\n    <div class=\"cp-box-body add-item-body\">\n      <div :class=\"{ 'new-item-error': validationErrors['items'] }\">\n        <cp-item-form :validation-errors=\"validationErrors\" :item=\"newItem\"></cp-item-form>\n      </div>\n      <span :class=\"{ 'cp-validation-errors': validationErrors['items'] }\" v-if=\"validationErrors['items']\">{{ validationErrors['items'][0] }}</span>\n      <div class=\"add-item-wrapper\">\n        <button class=\"cp-button-standard\" @click=\"addItem(newItem)\">Add Item</button>\n      </div>\n      <div class=\"added-items\">\n        <h4>ADDED ITEMS</h4>\n        <hr />\n        <div class=\"cp-accordion\" v-for=\"(item, index) in newAddedItems\" @change=\"updateItems()\">\n            <div class=\"cp-accordion-head\" :class=\"{ 'item-error': itemError(index) }\" @click=\"showItem(index)\">\n              <h5>Manufacturer SKU: {{item.manufacturer_sku}}</h5>\n              <span class=\"arrow\" v-if=\"showId !== index\"><i class=\"mdi mdi-chevron-down\"></i></span>\n              <span class=\"arrow\" v-if=\"showId === index\"><i class=\"mdi mdi-chevron-up\"></i></span>\n            </div>\n            <div class=\"cp-accordion-body\" :class=\"{ closed: showId !== index }\">\n                <div class=\"cp-accordion-body-wrapper\">\n                  <div class=\"delete-or-default\">\n                    <div>\n                      <input\n                      type=\"checkbox\"\n                      :id=\"index\"\n                      :checked=\"item.is_default\"\n                      @click=\"addDefault(item, index, $event)\">\n                      <label>Default Item</label>\n                    </div>\n                    <i class=\"mdi mdi-close pointer right\" @click=\"removeItem(item, index)\"></i>\n                  </div>\n                  <cp-item-form :validation-errors=\"validationErrors\" :item-index=\"index\" :item=\"item\"></cp-item-form>\n                </div>\n            </div>\n        </div>\n      </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/products/CpBundleForm.vue:script


      sms.vComponent('assets/js/components/products/CpBundleForm.vue', {"name":"CpBundleForm","path":"assets/js/components/products/CpBundleForm.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')
const Inventory = require('../../resources/InventoryAPIv0.js')

module.exports = {
  name: 'CpBundleForm',
  routing: [
    {
      name: 'site.CpBundleForm',
      path: 'bundles/create',
      meta: {
        title: 'Create Pack'
      },
      props: true
    },
    {
      name: 'site.CpBundleEdit',
      path: 'bundles/:id/edit',
      meta: {
        title: 'Edit Pack'
      },
      props: true
    }
  ],
  data () {
    return {
      validationErrors: {},
      disableSubmit: false,
      newImages: [],
      categoryIds: [],
      update: false,
      updatedTags: [],
      updatedVisibilities: [],
      loadingBundle: true,
      loadingTypes: true,
      bundle: {
        name: '',
        type_id: null,
        min: null,
        max: null,
        items: [],
        images: [],
        roles: [],
        categories: [],
        slug: '',
        tags: [],
        tax_class: '',
        long_description: '',
        short_description: '',
        duration: '',
        wholesale_price: 0.00,
        visibilities: []
      },
      itemMap: {},
      starterKit: { show: true, value: false }
    }
  },
  mounted () {
    var bundleId = this.$pathParameter()
    if (bundleId) {
      this.disableSubmit = true
      this.update = true
      this.getBundle(bundleId)
    } else {
      this.loadingBundle = false
    }
  },
  computed: {
    slug () {
      if (!this.bundle.name) {
        return null
      }
      let text = this.bundle.name
      text = text.toLowerCase()
      text = text.replace(/ a /g, '-')
      text = text.replace(/ an /g, '-')
      text = text.replace(/ it /g, '-')
      text = text.replace(/ the /g, '-')
      text = text.replace(/\ and /g, '-')
      text = text.replace(/\ /g, '-')
      text = text.replace(/\,/g, '-')
      text = text.replace(/\./g, '-')
      text = text.replace(/\&/g, '-')
      text = text.replace(/\?/g, '-')
      text = text.replace(/\!/g, '-')
      text = text.replace(/\@/g, '-')
      text = text.replace(/\#/g, '-')
      text = text.replace(/\$/g, '-')
      text = text.replace(/\%/g, '-')
      text = text.replace(/\^/g, '-')
      text = text.replace(/\*/g, '-')
      text = text.replace(/\(/g, '-')
      text = text.replace(/\)/g, '-')
      text = text.replace(/\+/g, '-')
      text = text.replace(/\=/g, '-')
      text = text.replace(/\~/g, '-')
      text = text.replace(/\`/g, '-')
      text = text.replace(/\:/g, '-')
      text = text.replace(/\;/g, '-')
      text = text.replace(/\'/g, '-')
      text = text.replace(/\'/g, '-')
      text = text.replace(/\[/g, '-')
      text = text.replace(/\{/g, '-')
      text = text.replace(/\]/g, '-')
      text = text.replace(/\}/g, '-')
      text = text.replace(/\\/g, '-')
      text = text.replace(/\|/g, '-')
      text = text.replace(/\</g, '-')
      text = text.replace(/\>/g, '-')
      text = text.replace(/\--/g, '')
      text = text.replace(/\__/g, '')
      text = text.replace(/\_-/g, '')
      text = text.replace(/\-_/g, '')
      return text
    }
  },
  methods: {
    prepareRequest () {
      this.disableSubmit = true
      let request = JSON.parse(JSON.stringify(this.bundle))
      request.slug = this.slug
      request.images = []
      this.newImages.forEach(i => request.images.push({id: i}))
      request.categories = []
      this.categoryIds.forEach(c => request.categories.push({id: c}))
      request.tags = this.updatedTags
      if (this.starterKit.show) {
        request.starter_kit = 0
        this.bundle.visibilities.forEach(v => {
          if (v.id == 4) {
            request.starter_kit = 1
          }
        })
      }
      request.type_id = 1
      return request
    },
    getBundle (id) {
      Inventory.getBundle({expands: ['items', 'visibilities', 'categories', 'bundle_images']}, id)
        .then((response) => {
          if (!response || response.error) {
            this.$toast('Bundle not found')
            return
          }
          this.bundle = response
          this.starterKit.value = !!this.bundle.starter_kit
          // Load variants for bundle
          this.disableSubmit = false
          this.loadingBundle = false
        })
    },
    createBundle () {
      let request = this.prepareRequest()
      request.user_id = Auth.getOwnerId()
      Inventory.createBundle(request)
        .then((response) => {
          this.disableSubmit = false
          if (response.error) {
            this.validationErrors = response.message
            return
          }
          this.$toast('Pack successfully created.')
          window.location.href = '/inventory'
        })
    },
    updateBundle () {
      let request = this.prepareRequest()
      Inventory.updateBundle(request, request.id)
        .then((response) => {
          this.disableSubmit = false
          if (response.error) {
            this.validationErrors = response.message
            return
          }
          this.$toast('Pack successfully updated.')
        })
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpSelect: require('../../cp-components-common/inputs/CpSelect.vue'),
    CpPhotos: require('../../cp-components-common/temp-dependencies/CpPhotos.vue'),
    CpCategoryAssignment: require('../products/CpCategoryAssignment.vue'),
    CpTaxClassAssignment: require('../products/CpTaxClassAssignment.vue'),
    CpVariantAssignment: require('../products/CpVariantAssignment.vue'),
    CpDescriptionAssignment: require('../products/CpDescriptionAssignment.vue'),
    CpSearchTerms: require('../products/CpSearchTerms.vue'),
    CpVisibilityAssignment: require('../products/CpVisibilityAssignment.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"bundle-form-wrapper\" v-if=\"!loadingBundle\">\n    <div class=\"cp-form-standard\">\n      <div class=\"cp-box-standard two-column-grid\">\n        <div class=\"col\">\n          <cp-input\n            label=\"Pack Name\"\n            type=\"text\"\n            :error=\"validationErrors['name']\"\n            v-model=\"bundle.name\"></cp-input>\n        </div>\n        <div class=\"col right\">\n          <!-- needs be empty? -->\n        </div>\n      </div>\n      <cp-photos\n        @new-media=\"function (val) { newImages = val }\"\n        :media=\"newImages\"\n        :current-media=\"bundle.images\"\n        :validation-errors=\"validationErrors\"></cp-photos>\n      <cp-category-assignment\n        :added-categories=\"bundle.categories\"\n        @category-ids=\"(c) => categoryIds = c\"\n        ></cp-category-assignment>\n      <cp-tax-class-assignment\n        v-if=\"$getGlobal('tax_classes_required').show\"\n        :tax-class=\"bundle.tax_class\"\n        v-model=\"bundle.tax_class\"\n        :validation-errors=\"validationErrors\"></cp-tax-class-assignment>\n      <cp-variant-assignment\n        :bundle=\"bundle\"\n        :validation-errors=\"validationErrors\"></cp-variant-assignment>\n      <!-- DESCRIPTIONS -->\n      <div class=\"two-column-grid\">\n        <div class=\"col\">\n          <cp-description-assignment\n            title=\"BRIEF DESCRIPTION\"\n            :description=\"bundle.short_description\"\n            :validation-errors=\"validationErrors\"\n            v-model=\"bundle.short_description\"></cp-description-assignment>\n        </div>\n        <div class=\"col\">\n          <cp-description-assignment\n            title=\"LONG DESCRIPTION\"\n            :description=\"bundle.long_description\"\n            :validation-errors=\"validationErrors\"\n            v-model=\"bundle.long_description\"></cp-description-assignment>\n        </div>\n      </div>\n      <cp-search-terms\n        :tags=\"bundle.tags\"\n        :validation-errors=\"validationErrors\"\n        @new-tags=\"function (val) { updatedTags = val }\"></cp-search-terms>\n      <cp-visibility-assignment\n       :selected-visibilities=\"bundle.visibilities\"\n       :validation-errors=\"validationErrors\"\n       :starter-kit=\"starterKit\"\n       @selected-visibilities=\"(v) => bundle.visibilities = v\"></cp-visibility-assignment>\n      <button v-if=\"!update\" class=\"cp-button-standard product-create-button\" type=\"button\" @click=\"createBundle()\" :disabled=\"disableSubmit\">Create</button>\n      <button v-if=\"update\" class=\"cp-button-standard product-create-button\" type=\"button\" @click=\"updateBundle()\" :disabled=\"disableSubmit\">Update</button>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/products/CpCategoryAssignmentBeta.vue:script


      sms.vComponent('assets/js/components/products/CpCategoryAssignmentBeta.vue', {"name":"CpCategoryAssignmentBeta","path":"assets/js/components/products/CpCategoryAssignmentBeta.vue"}, (require,exports,module)=>{
        
const Categories = require('../../resources/categories.js')

module.exports = {
  data () {
    return {
      loadingCategories: true,
      parentSelect: null,
      childSelect: null,
      categories: [],
      subCategories: [],
      selectedCategory: {},
      filteredSubcategories: [],
      addedCategoryIds: [],
      newAddedCategories: []
    }
  },
  props: {
    addedCategories: {
      type: Array,
      default () {
        return []
      }
    }
  },
  mounted () {
    this.newAddedCategories = this.addedCategories
    this.getCategories()
    this.getSubCategories()
  },
  methods: {
    getCategories () {
      this.loadingCategories = true
      Categories.categoriesGet()
        .then((response) => {
          if (response.error) {
            this.validationErrors = response.message
            return
          }
          this.loadingCategories = false
          this.categories = response
        })
    },
    getSubCategories () {
      Categories.subCategoriesGet()
        .then((response) => {
          if (response.error) {
            this.validationErrors = response.message
            return
          }
          this.subCategories = response
        })
    },
    removeCategory (id, index) {
      this.newAddedCategories.splice(index, 1)
      for (var j = 0; j < this.addedCategoryIds.length; j++) {
        if (this.addedCategoryIds[j] === id) {
          this.addedCategoryIds.splice(j, 1)
        }
      }
    },
    addCategory (categoryId) {
      let category = this.obtainCategoryObject(categoryId, this.filteredSubcategories)
      if (category && category.name !== 'None') {
        this.newAddedCategories.push(category)
      } else {
        let parentCategory = this.obtainCategoryObject(this.parentSelect, this.categories)
        this.newAddedCategories.push(parentCategory)
      }
      this.childSelect = 'none'
      this.$emit('categories', this.newAddedCategories)
    },
    obtainCategoryObject (parentId, categoryArray) {
      for (var i = 0; i < categoryArray.length; i++) {
        if (!categoryArray[i].id) {
          continue
        } else if (categoryArray[i].id === parentId || categoryArray[i].id.toString() === parentId) {
          return categoryArray[i]
        }
      }
    },
    filterSubcategories (parentId) {
      let parent = this.obtainCategoryObject(parentId, this.categories)

      this.filteredSubcategories = [
        { name: 'Add Subcategory', id: 'none' },
        { name: 'None', id: null }
      ]
      if (!parent) {
        return []
      }
      for (var i = 0; i < this.subCategories.length; i++) {
        if (parent.id === this.subCategories[i].parent_id || this.subCategories[i].id === 'none') {
          this.filteredSubcategories.push(this.subCategories[i])
        }
      }
    }
  },
  components: {
    CpSelect: require('../../cp-components-common/inputs/CpSelect.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"cp-box-standard category-select-wrapper\">\n    <div class=\"cp-box-heading\">\n      CATEGORIES\n    </div>\n    <div class=\"cp-box-body\">\n      <div class=\"category-select-body\">\n        <div class=\"col\">\n          <cp-select\n          v-if=\"!loadingCategories\"\n          label=\"Select Parent Category\"\n          type=\"text\"\n          :options=\"categories\"\n          :key-value=\"{ name: 'name', value: 'id' }\"\n          v-model=\"parentSelect\"\n          @input=\"filterSubcategories(parentSelect)\"></cp-select>\n        </div>\n        <div class=\"col\">\n          <cp-select\n          label=\"Select Child Category\"\n          type=\"text\"\n          :options=\"filteredSubcategories\"\n          :key-value=\"{ name: 'name', value: 'id' }\"\n          v-model=\"childSelect\"\n          @input=\"addCategory(childSelect)\">\n          </cp-select>\n        </div>\n      </div>\n      <div v-if=\"addedCategories && addedCategories.length > 0\">\n        <h4>ADDED CATEGORIES </h4>\n        <hr />\n      </div>\n      <div class=\"selected-category-list category-select-body\" v-for=\"(category, index) in newAddedCategories\">\n          <span v-if=\"category.parent\" class=\"col\">{{ category.parent.name}}</span>\n          <span v-else class=\"col\">{{ category.name}}</span>\n          <span class=\"col\" v-if=\"category.parent\">{{ category.name }}</span>\n          <i class=\"mdi mdi-close pointer right\" @click=\"removeCategory(category.id, index)\"></i>\n      </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/orders/partials/CpReturnDetail.vue:script


      sms.vComponent('assets/js/components/orders/partials/CpReturnDetail.vue', {"name":"CpReturnDetail","path":"assets/js/components/orders/partials/CpReturnDetail.vue"}, (require,exports,module)=>{
        
const Returns = require('../../../resources/returns.js')
const Orders = require('../../../resources/orders.js')
const _ = require('lodash')

module.exports = {
  data: function () {
    return {
      loading: false,
      returned: {},
      reasons: [],
      reasonForReturn: '',
      returnedQuantity: 0,
      totalReturned: 0,
      validationErrors: {},
      orderReturned: {}
    }
  },
  props: {
    order: {
      type: Object,
      required: true
    }
  },
  mounted () {
    this.previousReturn(this.order.id)
    this.returnReason()
    this.getOrder(this.order.receipt_id)
  },
  methods: {
    addReturnItems: function () {
      var request = { return_items: [] }
      var quantity = 0
      var items = JSON.parse(JSON.stringify(this.orderReturned))
      for (var i = 0; i <= items.lines.length - 1; i++) {
        if (items.lines[i].checked === undefined) {
          items.lines[i].checked = 0
          this.$set(items.lines[i], 'checked', 0)
        }
        if (items.lines[i].checked === 1) {
          if (items.lines[i].return_quantity === undefined) {
            quantity = 0
          } else {
            quantity = items.lines[i].return_quantity
          }
          if (quantity === 0) {
            this.$toast('Quantity cannot equal 0', { error: true })
            return
          }
          if (items.lines[i].reasonForReturn == null) {
            this.$toast('You need a reason for the return ' + items.lines[i].name, {error: true})
            return
          }
          request.return_items.push({
            orderline_id: items.lines[i].id,
            return_quantity: quantity,
            comments: items.lines[i].comment,
            order_id: items.id,
            reason_id: items.lines[i].reasonForReturn,
            customer: items.customer_id
          })
          items.lines[i].comment = ''
          items.lines[i].reasonForReturn = ''
          items.lines[i].checked = 0
          this.$set(items.lines[i], 'checked', 0)
          items.lines[i].quantity_remaining = items.lines[i].quantity_remaining - quantity
          items.lines[i].return_quantity = ''
        }
      }
      this.orderReturned = items
      this.sendRequest(request)
    },
    sendRequest: function (request) {
      Returns.return(request)
        .then((response) => {
          if (response.error) {
            this.validationErrors = response.message
            this.$toast(response.message.return_items[0], { error: true })
          } else {
            this.$toast('Successful return request made.')
            this.previousReturn(this.order.id)
          }
        })
    },
    getOrder: function (receiptId) {
      Orders.show(receiptId)
        .then((response) => {
          if (response.error) {
          } else {
            this.orderReturned = response
            for (var i = 0; i < this.orderReturned.lines.length; i++) {
              this.$set(this.orderReturned.lines[i], 'checked', 0)
            }
          }
        })
    },
    previousReturn: function (orderId) {
      Returns.returned(orderId)
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, {error: true})
          } else {
            this.returned = response
          }
        })
    },
    returnReason: function () {
      Returns.reason()
        .then((response) => {
          this.reasons = response
        })
    },
    quantityCheck: _.debounce(function (line) {
      if (line.quantity_remaining < line.return_quantity) {
        this.$toast(line.quantity_remaining + ' is the max quantity that can be returned.', {dismiss: true, error: true})
        line.return_quantity = line.quantity_remaining
      }
    }, 800)
  },
  components: {
    'CpReturnHistory': require('../../returns/CpReturnHistory.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"returns-wrapper\">\n        <cp-return-history :order-id=\"order.id\"></cp-return-history>\n\n        <div v-if=\"returned.length >0\">\n            <h3>Pending Return</h3>\n            <table class=\"cp-table-standard\">\n                <thead>\n                    <tr>\n                      <th>Date</th>\n                      <th>Products Returned</th>\n                      <th>Return Id</th>\n                      <th>Price</th>\n                      <th>Request Amount</th>\n                      <th>Status</th>\n                    </tr>\n                </thead>\n                <tbody v-for=\"returns in returned\">\n                    <tr v-for=\"lines in returns.lines\">\n                      <td>{{ returns.updated_at | cpStandardDate}}</td>\n                       <td>{{ lines.name || '' }}</td>\n                       <td>{{ returns.id }}</td>\n                       <td>{{ lines.price | currency }}</td>\n                       <td>{{ lines.quantity }}</td>\n                       <td>{{ returns.status.name || '' }}</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n        <div>\n          <h3>Request Return</h3>\n            <table class=\"cp-table-standard\">\n                <thead>\n                    <tr>\n                        <th></th>\n                        <th>Products</th>\n                        <th>Variant</th>\n                        <th>Option</th>\n                        <th>Price</th>\n                        <th>Quantity</th>\n                        <th>Amount to be Returned</th>\n                        <th>Reason for Return</th>\n                        <th>Comment</th>\n                    </tr>\n                </thead>\n                <tbody v-for=\"line in orderReturned.lines\" v-if=\"line.quantity_remaining > 0 && line.type !== 'Bundle'\">\n                    <tr>\n                      <td>\n                        <input type=\"checkbox\" v-model=\"line.checked\" :true-value=\"1\" :false-value=\"0\">\n                      </td>\n                        <td>{{ line.name}}</td>\n                        <td>{{ line.item.print }}</td>\n                        <td>{{ line.item.size }}</td>\n                        <td>{{ line.price | currency }}</td>\n                        <td>{{ line.quantity }}</td>\n                        <td>\n                          <input\n                          :placeholder=\"line.quantity_remaining + ' or less'\"\n                          type='number'\n                          @keyup=\"quantityCheck(line)\"\n                          :max=\"line.quantity\"\n                          v-model='line.return_quantity'\n                          required\n                          :disabled=\"!line.checked\">\n                        </td>\n                        <td>\n                            <div v-for=\"(reason, index) in reasons\">\n                                <input\n                                :name=\"'reason-selection' + line.id\"\n                                :id=\"reason.id\"\n                                type=\"radio\"\n                                :value=\"reason.id\"\n                                v-model=\"line.reasonForReturn\"\n                                :disabled=\"!line.checked\">\n                                <label for=\"reason.id\"> {{reason.name}}</label>\n                            </div>\n                        </td>\n                        <td>\n                            <textarea v-model=\"line.comment\" :disabled=\"!line.checked\"></textarea>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n        <div class=\"return-btn\">\n            <button @click=\"addReturnItems()\" class=\"cp-button-standard send-request\">Send Return Request</button>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/products/CpItemFormBeta.vue:script


      sms.vComponent('assets/js/components/products/CpItemFormBeta.vue', {"name":"CpItemFormBeta","path":"assets/js/components/products/CpItemFormBeta.vue"}, (require,exports,module)=>{
        
const Inventory = require('../../resources/InventoryAPIv0.js')

module.exports = {
  routing: [
    { name: 'site.CpItemFormBeta', path: '/products/create', meta: { title: 'Create Product' } }
  ],
  data: () => ({
    validationErrors: {},
    optionType: '',
    disableSubmit: false
  }),
  props: {
    item: {
      type: Object,
      default () {
        return {
          variant_id: null,
          option: '',
          sku: '',
          location: '',
          premium_price: null,
          wholesale_price: null,
          retail_price: null,
          premium_shipping_cost: null
        }
      }
    },
    variants: {
      type: Array,
      default () {
        return null
      }
    }
  },
  computed: {
    optionLabel () {
      if (this.item.variant_id) {
        for (var i = 0; i < this.variants.length; i++) {
          if (this.variants[i].id.toString() === this.item.variant_id.toString() && this.variants[i].option_label !== '') {
            return this.variants[i].option_label
          }
        }
      }
      return 'Option'
    }
  },
  methods: {
    validatePrices () {
      if (this.item.premium_price === '') {
        this.item.premium_price = null
      }
      if (this.item.wholesale_price === '') {
        this.item.wholesale_price = null
      }
      if (this.item.retail_price === '') {
        this.item.retail_price = null
      }
      if (this.item.premium_shipping_cost === '') {
        this.item.premium_shipping_cost = null
      }
      if (this.item.weight === '') {
        this.item.weight = null
      }
    },
    createItem () {
      this.validatePrices()
      Inventory.createItem(this.item)
        .then((response) => {
          if (response.error) {
            this.validationErrors = response.message
            return
          }
          this.validationErrors = {}
          this.$emit('added-variant')
          this.$toast('Item successfully created.')
        })
    },
    updateItem () {
      this.validatePrices()
      Inventory.updateItem(this.item, this.item.id)
        .then((response) => {
          if (response.error) {
            this.validationErrors = response.message
            return
          }
          this.validationErrors = {}
          this.$emit('added-variant')
          this.$toast('Item successfully updated.')
        })
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpSelect: require('../../cp-components-common/inputs/CpSelect.vue')
  }
}
;
        module.exports.template = "\n  <div id=\"item-form\">\n     <div class=\"item-form-wrapper cp-form-standard\">\n       <div class=\"col\">\n          <cp-select\n          :label=\"'Variant Name'\"\n          :options=\"variants\"\n          :key-value=\"{ name: 'name', value: 'id' }\"\n          v-model=\"item.variant_id\"></cp-select>\n        <cp-input\n          :label=\"optionLabel\"\n          type=\"text\"\n          :error=\"validationErrors['option']\"\n          v-model=\"item.option\"></cp-input>\n        <cp-input\n          :label=\"'SKU'\"\n          type=\"text\"\n          :error=\"validationErrors['sku']\"\n          v-model=\"item.sku\"></cp-input>\n        <cp-input\n          :label=\"'Weight (Optional)'\"\n          type=\"number\"\n          :error=\"validationErrors['weight']\"\n          v-model=\"item.weight\"></cp-input>\n          <cp-input\n          :label=\"'Location (Optional)'\"\n          type=\"text\"\n          :error=\"validationErrors['location']\"\n          v-model=\"item.location\"></cp-input>\n      </div>\n      <div class=\"col\">\n        <cp-input\n          :label=\"'Premium Price'\"\n          type=\"number\"\n          :error=\"validationErrors['premium_price']\"\n          v-model=\"item.premium_price\"></cp-input>\n        <cp-input\n          :label=\"'Wholesale Price'\"\n          type=\"number\"\n          :error=\"validationErrors['wholesale_price']\"\n          v-model=\"item.wholesale_price\"></cp-input>\n        <cp-input\n          :label=\"'Retail Price'\"\n          type=\"number\"\n          :error=\"validationErrors['retail_price']\"\n          v-model=\"item.retail_price\"></cp-input>\n        <cp-input\n          :label=\"'Premium Shipping Cost (Optional)'\"\n          type=\"number\"\n          :error=\"validationErrors['premium_shipping_cost']\"\n          v-model=\"item.premium_shipping_cost\"></cp-input>\n        </div>\n      </div>\n      <button v-if=\"!item.id\" class=\"cp-button-standard item\" @click=\"createItem()\" :disabled=\"disableSubmit\">Add Item</button>\n      <button v-if=\"item.id\" class=\"cp-button-standard item\" @click=\"updateItem()\" :disabled=\"disableSubmit\">Update Item</button>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/products/CpItemForm.vue:script


      sms.vComponent('assets/js/components/products/CpItemForm.vue', {"name":"CpItemForm","path":"assets/js/components/products/CpItemForm.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {}
  },
  props: {
    validationErrors: {},
    item: {
      type: Object,
      default () {
        return {
          msrp: { price: null },
          wholesale_price: { price: null },
          premium_price: { price: null }
        }
      }
    },
    itemIndex: {
      default: ''
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"four-column-grid\">\n    <div class=\"col\">\n      <h4>PRODUCT ID</h4>\n      <hr />\n      <cp-input\n        label=\"Manufacturer SKU\"\n        type=\"text\"\n        :error=\"validationErrors['items.'+itemIndex+'.manufacturer_sku']\"\n        :value=\"item.manufacturer_sku\"\n        v-model=\"item.manufacturer_sku\"></cp-input>\n      <cp-input\n        label=\"Custom SKU\"\n        type=\"text\"\n        :error=\"validationErrors['items.'+itemIndex+'.custom_sku']\"\n        :value=\"item.custom_sku\"\n        v-model=\"item.custom_sku\"></cp-input>\n      <cp-input\n        label=\"Product Warehouse Location (Optional)\"\n        type=\"text\"\n        :error=\"validationErrors['items.'+itemIndex+'.custom_sku']\"\n        :value=\"item.location\"\n        v-model=\"item.location\"></cp-input>\n    </div>\n    <div class=\"col\">\n      <h4>VARIANT</h4>\n      <hr />\n      <cp-input\n        label=\"Print\"\n        type=\"text\"\n        :error=\"validationErrors['items.'+itemIndex+'.print']\"\n        :value=\"item.print\"\n        v-model=\"item.print\"></cp-input>\n      <cp-input\n        label=\"Size\"\n        type=\"text\"\n        :error=\"validationErrors['items.'+itemIndex+'.size']\"\n        :value=\"item.size\"\n        v-model=\"item.size\"></cp-input>\n    </div>\n    <div class=\"col\">\n      <h4>DIMENSIONS</h4>\n      <hr />\n      <cp-input\n        label=\"Width\"\n        type=\"number\"\n        :error=\"validationErrors['items.'+itemIndex+'.width']\"\n        :value=\"item.width\"\n        v-model=\"item.width\"></cp-input>\n      <cp-input\n        label=\"Length\"\n        type=\"number\"\n        :error=\"validationErrors['items.'+itemIndex+'.length']\"\n        :value=\"item.length\"\n        v-model=\"item.length\"></cp-input>\n      <cp-input\n        label=\"Height\"\n        type=\"number\"\n        :error=\"validationErrors['items.'+itemIndex+'.height']\"\n        :value=\"item.height\"\n        v-model=\"item.height\"></cp-input>\n      <cp-input\n        label=\"Weight\"\n        type=\"number\"\n        :error=\"validationErrors['items.'+itemIndex+'.weight']\"\n        :value=\"item.weight\"\n        v-model=\"item.weight\"></cp-input>\n    </div>\n    <div class=\"col\">\n      <h4>PRICE</h4>\n      <hr />\n      <cp-input\n        label=\"Premium\"\n        type=\"number\"\n        :error=\"validationErrors['items.'+itemIndex+'.premium_price.price']\"\n        :value=\"item.premium_price.price\"\n        v-model=\"item.premium_price.price\"></cp-input>\n      <cp-input\n        label=\"Wholesale\"\n        type=\"number\"\n        :error=\"validationErrors['items.'+itemIndex+'.wholesale_price.price']\"\n        :value=\"item.wholesale_price.price\"\n        v-model=\"item.wholesale_price.price\"></cp-input>\n      <cp-input\n        label=\"MSRP\"\n        type=\"number\"\n        :error=\"validationErrors['items.'+itemIndex+'.msrp.price']\"\n        :value=\"item.msrp.price\"\n        v-model=\"item.msrp.price\"></cp-input>\n      <cp-input\n        label=\"Premium Shipping Cost (Optional)\"\n        type=\"number\"\n        :error=\"validationErrors['items.'+itemIndex+'.premium_shipping_cost']\"\n        :value=\"item.premium_shipping_cost\"\n        v-model=\"item.premium_shipping_cost\"></cp-input>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/products/CpPhotoUpload.vue:script


      sms.vComponent('assets/js/components/products/CpPhotoUpload.vue', {"name":"CpPhotoUpload","path":"assets/js/components/products/CpPhotoUpload.vue"}, (require,exports,module)=>{
        
const Dropzone = require('dropzone')
const Media = require('../../resources/media.js')
Dropzone.autoDiscover = false

module.exports = {
  data () {
    return {
      newMedia: [],
      newCurrentMedia: []
    }
  },
  props: {
    dropZoneId: {
      type: String,
      default () {
        return 'createMediaZone'
      }
    },
    currentMedia: {
      type: Array,
      default () {
        return []
      }
    },
    media: {
      type: Array,
      default () {
        return []
      }
    },
    validationErrors: {}
  },
  mounted () {
    this.newMedia = this.media
    this.newCurrentMedia = this.currentMedia
    this.uploadDropzone()
    this.initCurrentMedia()
  },
  methods: {
    initCurrentMedia () {
      for (var i = 0; i < this.newCurrentMedia.length; i++) {
        this.newMedia.push(this.newCurrentMedia[i])
      }
      this.$emit('new-media', this.newMedia)
    },
    deleteMedia (image, index) {
      for (var i = 0; i < this.newMedia.length; i++) {
        if (this.newMedia[i].id === image.id) {
          this.newMedia.splice(i, 1)
          this.newCurrentMedia.splice(index, 1)
        }
        this.$toast('Image has been deleted.')
        this.$emit('new-media', this.newMedia)
      }
    },
    uploadDropzone () {
      var $this = this
      var uploadZoneConfig = Media.dropzoneConfig('.mp4, .MP4, .mp3')
      uploadZoneConfig.maxFiles = 8
      uploadZoneConfig.success = function (file, response) {
        file.imageId = response.id
        $this.newMedia.push(response)
        $this.$toast('File successfully uploaded.')
        $this.$emit('new-media', $this.newMedia)
      }
      uploadZoneConfig.error = function (file, response) {
        $this.$toast('There was an error uploading your image. Try again or contact support.', { error: true })
      }
      uploadZoneConfig.removedfile = function (file, response) {
        var _ref
        if (file.previewElement) {
          if ((_ref = file.previewElement) != null) {
            _ref.parentNode.removeChild(file.previewElement)
          }
        }
        for (var i = 0; i < $this.newMedia.length; ++i) {
          if ($this.newMedia[i].id === file.imageId) {
            $this.newMedia.splice(i, 1)
          }
        }
        $this.$emit('new-media', this.newMedia)
        return $this.uploadZone._updateMaxFilesReachedClass()
      }
      this.uploadZone = new Dropzone('#' + this.dropZoneId, uploadZoneConfig)
    }
  }
}
;
        module.exports.template = "\n    <div class=\"cp-box-standard\">\n    <div class=\"cp-box-heading\">\n      PHOTOS\n    </div>\n    <div class=\"cp-box-body\">\n      <section class=\"current-media product-grid edit\" v-if=\"currentMedia.length > 0\">\n        <h4>CURRENT</h4>\n        <hr />\n        <div class=\"item\" v-for=\"(media, index) in newCurrentMedia\" :key=\"media.id\">\n          <img v-if=\"media.url_sm\" class=\"item_image\" :src=\"media.url_sm\">\n          <img v-else class=\"item_image\" :src=\"media.url\">\n          <span href=\"#\" class=\"tile-overlay pointer\" @click=\"deleteMedia(media, index)\">DELETE</span>\n        </div>\n      </section>\n      <h4 class=\"add-new\">ADD NEW</h4>\n      <hr />\n      <form action=\"/upload-media\" method=\"POST\" class=\"dropzone\" :id=\"dropZoneId\" :class=\"{ 'image-error': validationErrors['images'] }\">\n          <input type=\"hidden\" name=\"title\">\n          <input type=\"hidden\" name=\"description\">\n          <input type=\"hidden\" name=\"is_public\">\n      </form>\n      <span\n        :class=\"{ 'cp-validation-errors': validationErrors['images'] }\"\n        v-if=\"validationErrors['images']\">{{ validationErrors['images'][0] }}</span>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/products/CpProductForm.vue:script


      sms.vComponent('assets/js/components/products/CpProductForm.vue', {"name":"CpProductForm","path":"assets/js/components/products/CpProductForm.vue"}, (require,exports,module)=>{
        
const Inventory = require('../../resources/InventoryAPIv0.js')
const Auth = require('auth')

const slugRegex = /(\ba\b|\ban\b|\bit\b|\bthe\b|\band\b|[\s,.&?!@#$%^*()+=~`:;'"[{\]}\\/|<>-_])+/g
const slugTrimRegex = /(^-+|-+$)/g

module.exports = {
  name: 'CpProductForm',
  routing: [
    {
      name: 'site.CpProductFormEdit',
      path: 'products/:id/edit',
      meta: {
        title: 'Edit Product'
      },
      props: true
    },
    {
      name: 'site.CpProductFormCreate',
      path: 'products/create',
      meta: {
        title: 'Create Product'
      },
      props: true
    }
  ],
  data () {
    return {
      productCreated: false,
      loading: false,
      update: false,
      addTab: 'variant',
      productTypes: [
        {
          id: 1,
          name: 'Product'
        },
        {
          id: 6,
          name: 'Business Tools'
        }
      ],
      resellOptions: [
        { name: 'Yes', value: true},
        { name: 'No', value: false}
      ],
      validationErrors: {},
      disableSubmit: false,
      loadingTypes: true,
      newImages: [],
      product: {
        name: '',
        type_id: null,
        min: null,
        max: null,
        items: [],
        images: [],
        expands: ['variants', 'categories', 'product_images', 'variant_images', 'visibilities'],
        visibilities: [],
        categories: [],
        slug: '',
        tax_class: '',
        long_description: '',
        short_description: '',
        id: null,
        variants: []
      }
    }
  },
  props: {
    productId: {
      default () {
        return this.$pathParameter()
      }
    }
  },
  mounted () {
    this.checkIfUpdate()
    if (Auth.hasAnyRole('Admin', 'Superadmin')) {
      this.product.corp = 1
    }
  },
  computed: {
    slug () {
      return this.product.name
        .toLowerCase()
        .replace(slugRegex, '-')
        .replace(slugTrimRegex, '')
    }
  },
  methods: {
    changeTabs (tab) {
      if (tab === 'Add Variant') {
        this.addTab = 'variant'
      } else if (tab === 'Add Item') {
        this.addTab = 'item'
      }
    },
    checkIfUpdate () {
      if (this.productId !== undefined) {
        this.loading = true
        this.productCreated = true
        this.update = true
        return this.getProduct(parseInt(this.productId))
      }
      this.loading = false
    },
    createProduct () {
      if (this.$getGlobal('tax_classes_required').show && this.product.tax_class === '') {
        this.validationErrors = {
          tax_class: ['the tax class field is required']
        }
        return this.$toast('Tax class is required')
      }
      this.validationErrors = {}
      this.product.images = this.newImages
      this.disableSubmit = true
      this.product.slug = this.slug
      this.setMinAndMaxToNull()
      Inventory.createProduct(this.product)
        .then((response) => {
          this.disableSubmit = false
          if (response.error) {
            this.validationErrors = response.message
            return
          }
          this.product = response
          this.$toast('Product successfully created.')
          this.disableSubmit = false
          this.update = true
          this.productCreated = true
          // window.location.href = '/inventory'
        })
    },
    // set min and max on a product to null if set to 0
    setMinAndMaxToNull () {
      if (this.product.min === 0) {
        this.product.min = null
      }
      if (this.product.max === 0) {
        this.product.max = null
      }
    },
    getProduct (id) {
      this.loading = true
      if (id === null || id === undefined) {
        id = this.product.id
      }
      let params = {
        expands: ['variants', 'categories', 'product_images', 'variant_images', 'visibilities']
      }
      Inventory.getProduct(params, id)
        .then((response) => {
          if (response.error) {
            this.validationErrors = response.message
            return
          }
          this.product = response
          this.loading = false
        })
    },
    updateProduct () {
      this.validationErrors = {}
      if (this.$getGlobal('tax_classes_required').show && this.product.tax_class === '') {
        this.validationErrors = {
          tax_class: ['the tax class field is required']
        }
        return this.$toast('Tax class is required', { error: true })
      }
      this.disableSubmit = true
      this.product.images = this.newImages
      this.product.slug = this.slug
      this.setMinAndMaxToNull()
      Inventory.updateProduct(this.product, this.product.id)
        .then((response) => {
          this.disableSubmit = false
          if (response.error) {
            this.validationErrors = response.message

            return
          }
          this.$toast('Product successfully updated.')
        })
    }
  }
}
;
        module.exports.template = "\n  <div v-if=\"!loading\" class=\"product-form-wrapper\">\n    <div class=\"cp-form-standard cp-box-standard\">\n        <div class=\"product-form-grid\">\n          <cp-input\n            class=\"cp-cell\"\n            label=\"Name\"\n            type=\"text\"\n            :error=\"validationErrors['name']\"\n            v-model=\"product.name\"></cp-input>\n          <cp-input\n            class=\"cp-cell\"\n            label=\"Variant Label\"\n            type=\"text\"\n            :error=\"validationErrors['variant_label']\"\n            v-model=\"product.variant_label\"></cp-input>\n          <cp-select\n            class=\"cp-cell cp-select\"\n            label=\"Type\"\n            :options=\"productTypes\"\n            :key-value=\"{ name: 'name', value: 'id' }\"\n            :error=\"validationErrors['type_id']\"\n            @input=\"(value) => { product.resellable = (value == '1') }\"\n            v-model=\"product.type_id\"></cp-select>\n          <cp-select\n            class=\"cp-cell cp-select\"\n            label=\"Resellable\"\n            :options=\"resellOptions\"\n            :error=\"validationErrors['resellable']\"\n            :disabled=\"product.type_id != 1\"\n            v-model=\"product.resellable\"\n            @input=\"(value) => { product.resellable = value == 'true' }\">\n          </cp-select>\n        </div>\n      <cp-photo-upload\n        @new-media=\"function (val) { newImages = val }\"\n        :drop-zone-id=\"'productMedia'\"\n        :media=\"newImages\"\n        :current-media=\"product.images\"\n        :validation-errors=\"validationErrors\"></cp-photo-upload>\n      <cp-category-assignment\n        v-if=\"product\"\n        :added-categories=\"product.categories\"\n        @categories=\"function (val){ product.categories = val }\"\n        ></cp-category-assignment>\n        <cp-tax-class-assignment\n        v-if=\"$getGlobal('tax_classes_required').show || product.tax_class\"\n        :tax-class=\"product.tax_class\"\n        v-model=\"product.tax_class\"\n        v-model.trim=\"product.tax_class\"\n        :validation-errors=\"validationErrors\"></cp-tax-class-assignment>\n      <cp-min-max-assignment\n        @min=\"function (val) { product.min = Number(val) }\"\n        @max=\"function (val) { product.max = Number(val) }\"\n        :min=\"product.min\"\n        :max=\"product.max\"\n        :validation-errors=\"validationErrors\"></cp-min-max-assignment>\n      <!-- DESCRIPTIONS -->\n          <div class=\"two-column-grid\">\n            <div class=\"col\">\n              <cp-description-assignment\n                title=\"BRIEF DESCRIPTION\"\n                :description=\"product.short_description\"\n                :validation-errors=\"validationErrors\"\n                v-model=\"product.short_description\"></cp-description-assignment>\n            </div>\n            <div class=\"col\">\n              <cp-description-assignment\n                title=\"LONG DESCRIPTION\"\n                :description=\"product.long_description\"\n                :validation-errors=\"validationErrors\"\n                v-model=\"product.long_description\"></cp-description-assignment>\n            </div>\n          </div>\n        <cp-visibility-assignment-beta\n         :selected-visibilities=\"product.visibilities\"\n         :validation-errors=\"validationErrors\"\n         @selected-visibilities=\"function (val) { product.visibilities = val } \"></cp-visibility-assignment-beta>\n\n         <div class=\"button-box\">\n           <button v-if=\"!update\" class=\"cp-button-standard product-create-button\" @click=\"createProduct()\" :disabled=\"disableSubmit\">Create</button>\n           <button v-if=\"update\" class=\"cp-button-standard product-create-button\" @click=\"updateProduct()\" :disabled=\"disableSubmit\">Update</button>\n         </div>\n         <div v-if=\"productCreated\">\n            <cp-tabs\n              :items=\"[\n                { name: 'Add Variant', active: true },\n                { name: 'Add Item', active: false }\n              ]\"\n              :callback=\"changeTabs\">\n             </cp-tabs>\n              <cp-variant-form\n              :product-id=\"product.id\"\n              v-show=\"addTab === 'variant'\"\n              @added-variant='getProduct'></cp-variant-form>\n              <cp-item-form-beta\n              v-if=\"addTab === 'item'\"\n              :variants=\"product.variants\"\n              @added-variant='getProduct'>\n              </cp-item-form-beta>\n          </div>\n          <div v-if=\"productCreated\">\n            <cp-variants\n            v-if=\"product.variants\"\n            :added-items=\"product.variants\"\n            @update-product=\"getProduct\">\n            </cp-variants>\n          </div>\n    </div>\n      <div class=\"align-center\">\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n      </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/products/CpVariantForm.vue:script


      sms.vComponent('assets/js/components/products/CpVariantForm.vue', {"name":"CpVariantForm","path":"assets/js/components/products/CpVariantForm.vue"}, (require,exports,module)=>{
        
const Inventory = require('../../resources/InventoryAPIv0.js')

module.exports = {
  data () {
    return {
      newImages: [],
      disableSubmit: false,
      validationErrors: {}
    }
  },
  props: {
    itemIndex: '',
    productId: {
      type: Number
    },
    variant: {
      type: Object,
      default () {
        return {
        }
      }
    }
  },
  methods: {
    // set min and max on a variant to null if set to 0
    setMinAndMaxToNull () {
      if (this.variant.min === 0 || this.variant.min === '0' || this.variant.max === '') {
        this.variant.min = null
      }
      if (this.variant.max === 0 || this.variant.max === '0' || this.variant.max === '') {
        this.variant.max = null
      }
    },
    createVariant () {
      this.variant.product_id = this.productId
      if (!this.variant.product_id) {
        return this.$toast('You must create a product first')
      }
      this.disableSubmit = true
      this.variant.images = this.newImages
      this.setMinAndMaxToNull()
      Inventory.createVariant(this.variant)
      .then((response) => {
        this.disableSubmit = false
        if (response.error) {
          this.validationErrors = response.message
          return
        }
        this.validationErrors = {}
        this.$emit('added-variant')
        this.$toast('Variant successfully created.')
      })
    },
    updateVariant () {
      this.variant.images = this.newImages
      this.setMinAndMaxToNull()
      Inventory.updateVariant(this.variant, this.variant.id)
      .then((response) => {
        if (response.error) {
          this.validationErrors = response.message
          return
        }
        this.validationErrors = {}
        this.$emit('added-variant')
        this.$toast('Variant successfully updated.')
      })
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpTooltip: require('../../custom-plugins/CpTooltip.vue'),
    CpPhotoUpload: require('../products/CpPhotoUpload.vue'),
    CpDescriptionAssignment: require('../products/CpDescriptionAssignment.vue'),
  }
}
;
        module.exports.template = "\n  <div id=\"cp-variant-form\">\n    <div class=\"variant-form-wrapper\">\n      <div class=\"cp-form-standard\">\n            <cp-input\n              label=\"Name\"\n              type=\"text\"\n              :error=\"validationErrors['name']\"\n              :value=\"variant.name\"\n              v-model=\"variant.name\"></cp-input>\n            <div class=\"min-max-wrapper\">\n              <div class=\"min-max-col padding-right\">\n                <cp-input\n                label=\"Min\"\n                type=\"number\"\n                :error=\"validationErrors['min']\"\n                v-model=\"variant.min\"></cp-input>\n              </div>\n              <div class=\"min-max-col\">\n                <cp-input\n                label=\"Max\"\n                type=\"number\"\n                :error=\"validationErrors['max']\"\n                v-model=\"variant.max\"></cp-input>\n              </div>\n            </div>\n          <cp-input\n            label=\"Option Label\"\n            type=\"text\"\n            :error=\"validationErrors['option_label']\"\n            :value=\"variant.option_label\"\n            v-model=\"variant.option_label\"></cp-input>\n        </div>\n          <div>\n            <cp-photo-upload\n              @new-media=\"function (val) { newImages = val }\"\n              :drop-zone-id=\"'variantImages' + itemIndex\"\n              :media=\"newImages\"\n              :current-media=\"variant.images\"\n              :validation-errors=\"validationErrors\"></cp-photo-upload>\n          </div>\n          <cp-description-assignment\n            title=\"DESCRIPTION\"\n            :description=\"variant.description\"\n            :validation-errors=\"validationErrors\"\n            v-model=\"variant.description\"></cp-description-assignment>\n        </div>\n        <div class=\"variant-form-submit-buttons\">\n          <button v-if=\"!variant.id\" class=\"cp-button-standard\" @click=\"createVariant()\" :disabled=\"disableSubmit\">Add Variant</button>\n          <button v-if=\"variant.id\" class=\"cp-button-standard\" @click=\"updateVariant()\" :disabled=\"disableSubmit\">Update Variant</button>\n        </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/products/CpTaxClassAssignment.vue:script


      sms.vComponent('assets/js/components/products/CpTaxClassAssignment.vue', {"name":"CpTaxClassAssignment","path":"assets/js/components/products/CpTaxClassAssignment.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
      taxClassModalShow: false,
      newTaxClass: {}
    }
  },
  props: {
    taxClass: {},
    validationErrors: {
      default () {
        return {}
      }
    }
  },
  methods: {
    openTaxModal () {
      this.taxClassModalShow = true
      window.scrollTo(1, 1)
    }
  },
  mounted () {
    this.newTaxClass = this.taxClass
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"cp-box-standard tax-class-wrapper\">\n    <div class=\"cp-box-heading\">\n      TAX CLASSES\n    </div>\n    <div class=\"cp-box-body tax-inputs\">\n        <cp-input\n        label=\"Tax Class\"\n        type=\"text\"\n        :error=\"validationErrors['tax_class']\"\n        v-model=\"newTaxClass\"\n        @input=\"$emit('input', newTaxClass)\"></cp-input>\n        <button class=\"cp-button-standard\" @click=\"openTaxModal()\">See Tax Classes</button>\n    </div>\n    <!-- tax class modal -->\n    <div class=\"cp-modal-standard\" v-show=\"taxClassModalShow\" @click=\"taxClassModalShow = !taxClassModalShow\">\n        <div class=\"cp-modal-body\" @click=\"$event.stopPropagation()\">\n            <table class=\"tax-class-table\">\n                <thead class=\"heading\">\n                    <tr>\n                        <th>\n                            <h3>Tax Code</h3>\n                        </th>\n                        <th>\n                            <h3>Description</h3>\n                        </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr><td>2038112</td><td>Annual events, regional events, training events</td></tr>\n                    <tr><td>2038710</td><td>Business Kits and Materials</td></tr>\n                    <tr><td>2038356</td><td>Clothing</td></tr>\n                    <tr><td>2038895</td><td>Clothing accessories (hats, belts, purse, etc)</td></tr>\n                    <tr><td>2038887</td><td>Cosmetics, skin care</td></tr>\n                    <tr><td>2038305</td><td>Food</td></tr>\n                    <tr><td>2038710</td><td>General retail items</td></tr>\n                    <tr><td>2039004</td><td>Sale of gift card non-taxable</td></tr>\n                    <tr><td>2038908</td><td>Supplements</td></tr>\n                    <tr><td>2038112</td><td>Training and coaching</td></tr>\n                </tbody>\n            </table>\n            <div class=\"tax-class-controls\">\n              <button class=\"cp-button-standard\" @click=\"taxClassModalShow = !taxClassModalShow\">Close</button>\n            </div>\n        </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/products/CpVariantAssignment.vue:script


      sms.vComponent('assets/js/components/products/CpVariantAssignment.vue', {"name":"CpVariantAssignment","path":"assets/js/components/products/CpVariantAssignment.vue"}, (require,exports,module)=>{
        
const Inventory = require('../../resources/InventoryAPIv0.js')
const _ = require('lodash')

module.exports = {
  data () {
    return {
      searchResults: [],
      showId: null,
      totalWholesaleValue: 0,
      totalQuantity: 0,
      variants: [],
      itemMap: {}
    }
  },
  props: {
    bundle: {},
    validationErrors: {}
  },
  created () {
    this.loadItems(this.bundle.items)
  },
  methods: {
    clearSearchOptions: _.debounce(function () {
      this.searchResults = []
    }, 400),
    getTotalWholesaleValue () {
      let total = 0
      let quantity = 0
      this.variants.forEach(v => {
        v.items.forEach(i => {
          if (i.id in this.itemMap) {
            quantity += this.itemMap[i.id]
            total += this.itemMap[i.id] * i.wholesale_price
          }
        })
      })

      this.totalQuantity = quantity
      this.totalWholesaleValue = total
    },
    loadItems (items) {
      // TODO loading
      // Convert bundle items to a map of quantities
      this.itemMap = {}
      if (items.length == 0) {
        return
      }
      let variantIds = new Set();
      items.forEach(i => {
        this.itemMap[i.id] = i.quantity
        variantIds.add(i.variant_id)
      })
      // Search and save variants for existing items
      Inventory.getVariants({variant_ids: [...variantIds], expands: ['product', 'variant_images']})
        .then((response) => {
          if (response.error) {
            // TODO report failure and lock page so bundle doesn't get mangled
          } else {
            this.variants = response.data
            this.refresh()
          }
        })
    },
    showVariant (index) {
      if (index === this.showId) {
        this.showId = null
      } else {
        this.showId = index
      }
    },
    searchVariants (searchTerm) {
      // call search product endpoint
      Inventory.getVariants({ search_term: searchTerm, user_id: 1, expands: ['product', 'variant_images'] })
        .then((response) => {
          if (!response.error) {
            this.searchResults = []
            response.data.forEach(v => this.searchResults.push({name: (v.product.name != v.name ? v.product.name + ' - ' + v.name : v.product.name), id: v.id, variant: v}))
          }
        })
    },
    inVariants (id) {
      for (var i = 0; i < this.variants.length; i++) {
        if (this.variants[i].id === id) {
          return true
        }
      }
      return false
    },
    addVariant (variantWrapper) {
      if (!this.inVariants(variantWrapper.variant.id)) {
        this.variants.push(variantWrapper.variant)
      }
      this.refresh()
    },
    updateQuantity (item, value) {
      console.log('updateQuantity', item, value)
      if (value == 0 || this.$isBlank(value)) {
        delete this.itemMap[item.id]
      } else {
        this.itemMap[item.id] = parseInt(value)
      }
      this.refresh()
    },
    refresh () {
      this.bundle.items = this.getItems()
      this.getTotalWholesaleValue()
      this.$forceUpdate()
    },
    removeVariant (variant, index) {
      this.showId = null
      this.variants.splice(index, 1)
      variant.items.forEach((i) => {delete this.itemMap[i.id]})
      this.refresh()
    },
    getItems () {
      // Convert item map to array of objects for bundle to use
      let items = []
      for(let key in this.itemMap) {
        items.push({id: key, quantity: this.itemMap[key]})
      }
      return items
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpTypeahead: require('../../cp-components-common/inputs/CpTypeahead.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"product-assignment-wrapper cp-box-standard\">\n    <div class=\"cp-box-heading\">\n      PRODUCTS\n    </div>\n    <div class=\"cp-box-body\">\n      <span :class=\"{ 'cp-validation-errors': validationErrors['items'] }\" v-if=\"validationErrors['items']\">{{ validationErrors['items'][0] }}</span>\n      <label for=\"\">Search Products</label>\n      <cp-typeahead\n        @input=\"addVariant\"\n        :options=\"searchResults\"\n        :clear-dropdown=\"clearSearchOptions\"\n        :name-value=\"{ name: 'name', value: 'id'}\"\n        @options-cleared=\"clearSearchOptions\"\n        :search-function=\"searchVariants\"></cp-typeahead>\n        <label for=\"\">Added Products</label>\n        <hr />\n        <div class=\"cp-accordion\" v-for=\"(variant, index) in variants\">\n            <div class=\"cp-accordion-head\" @click=\"showVariant(index)\">\n              <h5>{{(variant.product.name != variant.name ? variant.product.name + ' - ' + variant.name : variant.product.name)}}</h5>\n              <span class=\"arrow\" v-if=\"showId !== index\"><i class=\"mdi mdi-chevron-down\"></i></span>\n              <span class=\"arrow\" v-if=\"showId === index\"><i class=\"mdi mdi-chevron-up\"></i></span>\n            </div>\n            <div class=\"cp-accordion-body\" :class=\"{ closed: showId !== index }\">\n                <div class=\"cp-accordion-body-wrapper\">\n                  <div class=\"delete-or-default\">\n                    <i class=\"mdi mdi-close pointer right\" @click=\"removeVariant(variant, index)\"></i>\n                  </div>\n                  <img v-if=\"variant.images.length > 0\" :src=\"variant.images[0].url\" style=\"max-width: 75px\" />\n                  <table class=\"cp-table-inverse\">\n                    <tr>\n                      <th>SIZE</th>\n                      <th>PRICE</th>\n                      <th>QUANTITY</th>\n                    </tr>\n                    <tr v-for=\"(item, index) in variant.items\">\n                        <td>{{ item.option }}</td>\n                        <td>{{ item.wholesale_price }}</td>\n                        <td>\n                          <cp-input\n                            @input=\"(value) => updateQuantity(item, value)\"\n                            type=\"number\"\n                            :error=\"validationErrors[item.id]\"\n                            :value=\"itemMap[item.id]\"></cp-input>\n                        </td>\n                    </tr>\n                  </table>\n                </div>\n            </div>\n        </div>\n        <div class=\"product-totals-grid\">\n          <hr />\n          <div class=\"col\">\n            <h4>TOTAL PRICE</h4>\n            <hr />\n            {{ totalWholesaleValue | currency }}\n          </div>\n          <div class=\"col\">\n            <h4>TOTAL QTY.</h4>\n            <hr />\n            {{ totalQuantity }}\n          </div>\n          <div class=\"col\">\n            <h4>PACK PRICE</h4>\n            <hr />\n            <cp-input\n              type=\"text\"\n              :error=\"validationErrors['wholesale_price']\"\n              v-model=\"bundle.wholesale_price\"></cp-input>\n          </div>\n        </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/orders/CpOrderIndex.vue:script


      sms.vComponent('assets/js/components/orders/CpOrderIndex.vue', {"name":"CpOrderIndex","path":"assets/js/components/orders/CpOrderIndex.vue"}, (require,exports,module)=>{
        
const Orders = require('../../resources/OrdersAPIv0.js')
const OrdersOld = require('../../resources/orders.js')
const OrderStatus = require('../../resources/order-status.js')
const moment = require('moment')
const Auth = require('auth')
const _ = require('lodash')

module.exports = {
  name: 'CpOrderIndex',
  routing: [
    {
      name: 'site.CpOrderIndex',
      path: 'orders',
      meta: {
        title: 'All Orders'
      },
      props: true
    }
  ],
  data: function () {
    return {
      downloadTitle: null,
      downloadType: null,
      Auth: Auth,
      shippoModal: false,
      noResults: false,
      loading: false,
      reverseSort: false,
      showStatus: false,
      showUpdateStatus: true,
      statusUpdate: null,
      showConfirm: false,
      orders: [],
      ordersToUpdate: [],
      orderStatuses: {},
      tabs: [{
        name: 'ALL',
        active: false
      }],
      status: 'none',
      selectedStatus: 'all',
      orderActive: {
        all: true,
        open: false,
        closed: false
      },
      pagination: {
        total: 0,
        per_page: 15
      },
      asc: false,
      indexRequest: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        order: 'DESC',
        column: 'created_at',
        per_page: 15,
        search_term: '',
        status: 'all'
      },
      markers: [],
      orderDownloadModal: false,
      center: {
        lat: 42,
        lng: -111.6946
      },
      selectAll: false,
      currentFulfillment: 'open',
      disableSelectBox: true
    }
  },
  computed: {
    ordersActiveJson: function () {
      return JSON.stringify(this.orderActive)
    }
  },
  mounted: function () {
    let per_page = Auth.hasAnyRole('Superadmin', 'Admin') ? '100' : '15'
    this.indexRequest.per_page = per_page
    this.pagination.per_page = per_page
    this.getStatuses()
  },
  methods: {
    checkOrdersLength: _.debounce(function () {
      if (this.ordersToUpdate.length >= 1) {
        this.disableSelectBox = false
      } else {
        this.disableSelectBox = true
      }
    }, 100),
    changeTab (name) {
      this.selectedStatus = name.toLowerCase()
      this.resetIndexRequest()
      this.getOrders()
    },
    getOrders () {
      this.loading = true
      this.orders = []
      // Refactor to new structure
      let request = JSON.parse(JSON.stringify(this.indexRequest))
      request.page = this.pagination.current_page
      request.sort_by = this.indexRequest.column.toLowerCase()
      request.in_order = this.indexRequest.order.toLowerCase()
      request.start_date = moment(request.start_date, 'YYYY-MM-DD').startOf('day').utc().format('YYYY-MM-DD HH:mm:ss.SSS')
      request.end_date = moment(request.end_date, 'YYYY-MM-DD').endOf('day').utc().format('YYYY-MM-DD HH:mm:ss.SSS')
      if (request.status === 'all') {
        delete request.status
      }
      if (Auth.hasAnyRole('Superadmin', 'Admin')) {
        request.type_id = [1,2,5,9]
      } else {
        request.type_id = [3,4,10,11]
      }
      Orders.getOrders(request)
        .then((response) => {
          this.loading = false
          if (response.total === 0) {
            this.showNoResultsMessage()
          }
          this.handleOrderResponse(response)
        })
    },
    getTender(paymentType) {
      switch(paymentType) {
        case 'cash':
          return 'Cash'
        case 'e-wallet':
          return 'eWallet'
        case 'credit-card':
        case 'card-token':
          return 'Credit Card'
        default:
          return 'Unknown'
      }
    },
    pageSelect () {
      this.ordersToUpdate = []
      this.disableSelectBox = true
      this.statusUpdate = null
      if (this.selectAll) {
        for (var i = 0, len = this.orders.length; i < len; i++) {
          if (this.orders[i].status !== 'cancelled') {
            this.ordersToUpdate.push(this.orders[i].receipt_id)
          }
        }
        this.disableSelectBox = false
      }
    },
    printLabel (labelUrl) {
      window.open(labelUrl, '_blank')
    },
    statusShow (statusName) {
      if (this.selectedStatus === 'unfulfilled') {
        return true
      } else if (statusName === 'cancelled') {
        return false
      }
      return true
    },
    showDownloadModal (type) {
      this.downloadType = type
      this.downloadTitle = (type === 'order-list' ? 'Order Download' : 'Picklist Download')
      this.orderDownloadModal = true
    },
    purchaseShipping: function (order) {
      this.$refs.shippoForm.setOrder(JSON.parse(JSON.stringify(order)))
      this.shippoModal = true
    },
    handleOrderResponse: function (response) {
      this.markers = []
      if (response.error) {
        this.$toast(response.message, {
          error: true
        })
      } else {
        this.orders = response.data
        response.per_page = parseInt(response.per_page)
        this.pagination = response
        this.markers = response.markers
        this.ordersToUpdate = []
      }
    },
    resetIndexRequest: function () {
      this.reverseSort = false
      this.indexRequest = {
        start_date: this.indexRequest.start_date,
        end_date: this.indexRequest.end_date,
        order: 'DESC',
        column: 'created_at',
        status: this.selectedStatus.toLowerCase(),
        per_page: this.indexRequest.per_page,
        search_term: this.indexRequest.search_term,
        page: 1
      }
      this.pagination.current_page = 1
      this.selectAll = false
    },
    sortColumn: function (column) {
      this.reverseSort = !this.reverseSort
      this.indexRequest.column = column
      this.asc = !this.asc
      if (this.asc === true) {
        this.indexRequest.order = 'asc'
      } else {
        this.indexRequest.order = 'desc'
      }
      this.getOrders()
    },
    updateStatuses: function () {
      if (this.selectAll === true && this.statusUpdate.toLowerCase() === 'cancelled') {
        this.$toast('You cannot cancel orders on a mass select', {
          error: true,
          dismiss: true
        })
        return
      }
      if (this.statusUpdate) {
        let request = {
          orders: this.ordersToUpdate,
          status: this.statusUpdate.toLowerCase()
        }
        OrdersOld.updateStatus(request)
          .then((response) => {
            this.handleUpdateResponse(response)
            this.statusUpdate = null
            this.disableSelectBox = true
            this.selectAll = false
            this.getOrders()
          })
      }
    },
    handleUpdateResponse: function (response) {
      if (response.error) {
        this.$toast(response.message, {
          error: true
        })
      } else {
        this.$toast('Successfully updated!')
        this.status = 1
      }
      this.ordersToUpdate = []
    },
    showNoResultsMessage: function () {
      this.noResults = true
      setTimeout(function () {
        this.noResults = false
      }.bind(this), 3000)
    },
    getStatuses: function () {
      OrderStatus.getIndex()
        .then((response) => {
          this.orderStatuses = response
          var all = this.tabs.pop()
          for (var i = 0, len = this.orderStatuses.length; i < len; i++) {
            if ((!!this.orderStatuses[i].visible) === true) {
              var active = false
              if (i === 0) {
                active = true
                this.selectedStatus = this.orderStatuses[i].name.toLowerCase()
                this.indexRequest.status = this.orderStatuses[i].name
              }
              this.tabs.push({
                name: this.orderStatuses[i].name.toUpperCase(),
                active: active
              })
            }
          }
          this.tabs.push(all)
          this.getOrders()
        })
    }
  },
  components: {
    CpOrderDownloadModal: require('./CpOrderDownloadModal.vue'),
    CpShippo: require('../shipping/CpShippo.vue'),
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue'),
    CpTabs: require('../../cp-components-common/navigation/CpTabs.vue')
  }
}
;
        module.exports.template = "\n<div>\n  <div class=\"order-index-wrapper\">\n    <div class=\"cp-download-buttons\">\n      <a v-if=\"Auth.hasAnyRole('Admin', 'Superadmin') && selectedStatus === 'unfulfilled'\" class=\"cp-button-link\" @click=\"showDownloadModal('picklist')\">Download Picklist</a>\n      <a class=\"cp-button-link\" @click=\"showDownloadModal('order-list')\">Download Orders</a>\n      <a v-if=\"$getGlobal('shipping_link').show && Auth.hasAnyRole('Rep')\" v-bind:href=\"$getGlobal('shipping_link').value\" target=\"_blank\" class=\"cp-button-link\">{{$getGlobal('shipping_link_text').value}}</a>\n    </div>\n    <cp-tabs :items=\"tabs\" :callback=\"changeTab\"></cp-tabs>\n    <cp-table-controls :date-picker=\"true\" :date-range=\"indexRequest\" :index-request=\"indexRequest\" :resource-info=\"pagination\" :get-records=\"getOrders\"></cp-table-controls>\n    <div class=\"status-select\">\n      <select v-model=\"statusUpdate\" @change=\"showConfirm = true\" :class=\"{ 'disable-select-box': disableSelectBox }\">\n        <option :value='null' selected disabled>Change Status to:</option>\n        <option v-for=\"status in orderStatuses\" :value=\"status.name\" v-show=\"statusShow(status.name)\">{{status.name.charAt(0).toUpperCase() + status.name.slice(1)}}</option>\n      </select>\n    </div>\n    <table class=\"cp-table-standard desktop\">\n      <thead>\n        <th><input v-if=\"orders.length > 0\" type=\"checkbox\" :id=\"'all'\" :value=\"'all'\" v-model=\"selectAll\" @change=\"pageSelect()\" /></th>\n        <th>Receipt ID</th>\n        <th @click=\"sortColumn('updated_at')\">Last Updated\n          <span v-show=\"indexRequest.column == 'updated_at'\">\n            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n          </span>\n        </th>\n        <th @click=\"sortColumn('customer_id')\" v-if=\"orderActive.all\">Buyer ID\n          <span v-show=\"indexRequest.column == 'customer_id'\">\n            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n          </span>\n        </th>\n        <th v-else>Buyer ID</th>\n        <th @click=\"sortColumn('buyer_first_name')\">First Name\n          <span v-show=\"indexRequest.column == 'buyer_first_name'\">\n            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n          </span>\n        </th>\n        <th @click=\"sortColumn('buyer_last_name')\">Last Name\n          <span v-show=\"indexRequest.column == 'buyer_last_name'\">\n            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n          </span>\n        </th>\n        <th>Order Type\n          <span v-show=\"indexRequest.column == 'type'\">\n            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n          </span>\n        </th>\n        <th>Tender\n          <span v-show=\"indexRequest.column == 'cash'\">\n            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n          </span>\n        </th>\n        <th @click=\"sortColumn('created_at')\">Date Paid\n          <span v-show=\"indexRequest.column == 'created_at'\">\n            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n          </span>\n        </th>\n        <th @click=\"sortColumn('status')\">Order Status\n          <span v-show=\"indexRequest.column == 'status'\">\n            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n          </span>\n        </th>\n        <th @click=\"sortColumn('total_price')\">Total\n          <span v-show=\"indexRequest.column == 'total_price'\">\n            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n          </span>\n        </th>\n\n      </thead>\n      <tbody>\n        <tr v-for=\"(order, index) in orders\" :key=\"index\" :class=\"{'hold-order': order.status === 'hold' }\">\n          <td v-if=\"order.token\"><input type=\"checkbox\" :id=\"order.id\" :value=\"order.receipt_id\" v-model=\"ordersToUpdate\" @click=\"checkOrdersLength()\" /></td>\n          <td v-else><input v-if=\"order.status != 'cancelled'\" type=\"checkbox\" :id=\"order.id\" :value=\"order.receipt_id\" v-model=\"ordersToUpdate\" @click=\"checkOrdersLength()\" v-show=\"showUpdateStatus\" /></td>\n          <td><a :href=\"`/orders/${order.receipt_id}`\">{{ order.confirmation_code }}</a></td>\n          <td>{{ order.updated_at | cpStandardDate }}</td>\n          <td>{{ order.buyer_id }}</td>\n          <td>{{ order.buyer_first_name }}</td>\n          <td>{{ order.buyer_last_name }}</td>\n          <td v-if=\"order.type_description\">{{ order.type_description }}</td>\n          <td v-else>N/A</td>\n          <td>{{ getTender(order.payment_type) }}</td>\n          <td>{{ order.created_at | cpStandardDate}}</td>\n          <td>{{ order.status.toUpperCase() }}</td>\n          <td>{{ order.total_price | currency }}</td>\n          <td v-if=\"order.status === 'unfulfilled' && $getGlobal('enable_shipping_label_creation').show\"><button class=\"cp-button-standard\" @click=\"purchaseShipping(order)\">Purchase Shipping</button></td>\n          <td v-if=\"order.shipment\">\n            <div>\n              <button class=\"cp-button-standard\" @click=\"printLabel(order.shipment.label_url)\">Print Label</button>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <section class=\"cp-table-mobile\">\n      <div v-for=\"order in orders\">\n        <div><span>Receipt ID: </span><span><a :href=\"`/orders/${order.receipt_id}`\">{{ order.receipt_id }}</a></span></div>\n        <div><span>Last Updated: </span><span>{{ order.updated_at | cpStandardDate}}</span></div>\n        <div><span>Buyer ID: </span><span>{{ order.buyer_id }}</span></div>\n        <div><span>First Name: </span><span>{{ order.buyer_first_name }}</span></div>\n        <div><span>Last Name: </span><span>{{ order.buyer_last_name }}</span></div>\n        <div v-if=\"order.type_description\"><span>Order Type: </span><span>{{ order.type_description }}</span></div>\n        <div v-else><span>N/A</span></div>\n        <div v-if=\"order.cash\"><span>Tender: </span><span>Cash</span></div>\n        <div v-else><span>Tender: </span><span>CC</span></div>\n        <div v-if=\"order.token\"><span>Date Paid: </span><span>unpaid</span></div>\n        <div v-else><span>Date Paid: </span><span>{{ order.created_at | cpStandardDate}}</span></div>\n        <div><span>Order Status: </span><span>{{ order.status.toUpperCase() }}</span></div>\n        <div><span>Total: </span><span>{{ order.total_price | currency }}</span></div>\n        <div v-if=\"order.status === 'unfulfilled' && $getGlobal('enable_shipping_label_creation').show\"><button class=\"cp-button-standard\" @click=\"purchaseShipping(order)\"><span>Purchase Shipping</span></button><span></span></div>      </div>\n    </section>\n    <cp-dialog :open=\"shippoModal\" @close=\"shippoModal = false\">\n        <div slot=\"content\" v-show=\"shippoModal\">\n          <cp-shippo ref=\"shippoForm\" :show-modal=\"shippoModal\" :get-orders=\"getOrders\" v-model=\"shippoModal\" @close=\"shippoModal = false\"></cp-shippo>\n        </div>\n    </cp-dialog>\n    <div class=\"align-center\">\n      <div class=\"no-results\" v-if=\"noResults\">\n        <span>No results for this timeframe</span>\n      </div>\n      <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n      <cp-pagination :pagination=\"pagination\" :callback=\"getOrders\" :offset=\"2\"></cp-pagination>\n    </div>\n    <cp-order-download-modal\n      v-if=\"orderDownloadModal\"\n      @close=\"orderDownloadModal = false\"\n      :title=\"downloadTitle\"\n      :start-date=\"indexRequest.start_date\"\n      :end-date=\"indexRequest.end_date\"\n      :type=\"downloadType\"\n      :status=\"indexRequest.status\"\n      :sort-column=\"indexRequest.column\"\n      :sort-order=\"indexRequest.order\">\n    </cp-order-download-modal>\n  </div>\n  <cp-confirm\n  :message=\"'Update status to ' + statusUpdate + ' for selected orders?'\"\n  v-model=\"showConfirm\"\n  :show=\"showConfirm\"\n  :callback=\"updateStatuses\"\n  :onCancelled=\"() => { statusUpdate = null }\"\n  :params=\"{}\"></cp-confirm>\n</div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/products/CpMinMaxAssignment.vue:script


      sms.vComponent('assets/js/components/products/CpMinMaxAssignment.vue', {"name":"CpMinMaxAssignment","path":"assets/js/components/products/CpMinMaxAssignment.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
      newMin: null,
      newMax: null
    }
  },
  mounted: function () {
    this.newMin = this.min
    this.newMax = this.max
  },
  props: {
    min: {
      default () {
        return null
      }
    },
    max: {
      default () {
        return null
      }
    },
    validationErrors: {
      default () {
        return {}
      }
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"cp-box-standard\">\n    <div class=\"cp-box-heading\">\n      ASSIGN MINIMUM AND MAXIMUM QUANTITIES AVAILABLE FOR PURCHASE (optional)\n    </div>\n    <div class=\"cp-box-body min-max-grid\">\n      <div class=\"col\">\n        <cp-input\n        label=\"Min\"\n        type=\"number\"\n        :error=\"validationErrors['min']\"\n        v-model=\"newMin\"\n        @input=\"$emit('min', newMin)\"></cp-input>\n      </div>\n      <div class=\"col\">\n        <cp-input\n        label=\"Max\"\n        type=\"number\"\n        :error=\"validationErrors['max']\"\n        v-model=\"newMax\"\n        @input=\"$emit('max', newMax)\"></cp-input>\n      </div>\n      </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/products/CpVariants.vue:script


      sms.vComponent('assets/js/components/products/CpVariants.vue', {"name":"CpVariants","path":"assets/js/components/products/CpVariants.vue"}, (require,exports,module)=>{
        
const Inventory = require('../../resources/InventoryAPIv0.js')

module.exports = {
  data () {
    return {
      newImages: [],
      variants: {},
      newAddedItems: [],
      showId: null,
      showIdChild: null,
      validationErrors: {}
    }
  },
  props: {
    addedItems: {
      type: Array,
      default () {
        return []
      }
    }
  },
  mounted () {
  },
  computed: {
    itemError () {
      return function (index) {
        return JSON.stringify(this.validationErrors).includes('items.' + index + '.')
      }
    }
  },
  methods: {
    showItem (index) {
      if (index === this.showId) {
        this.showId = null
      } else {
        this.showId = index
      }
    },
    showItemChild (index) {
      if (index === this.showIdChild) {
        this.showIdChild = null
      } else {
        this.showIdChild = index
      }
    },
    deleteItem (type, item, index) {
      // delete it from the database if it already exists
      if (type === 'item') {
        Inventory.deleteItem(item.id)
        .then((response) => {
          if (response.error) {
            this.validationErrors = response.message
            return
          }
          this.$emit('update-product')
          return this.$toast('Item successfuly removed.')
        })
      } else {
        Inventory.deleteVariant(item.id)
        .then((response) => {
          if (response.error) {
            this.validationErrors = response.message
            return
          }
          this.$emit('update-product')
          return this.$toast('Variant successfuly removed.')
        })
      }
    }
  },
  components: {
    CpVariantForm: require('../products/CpVariantForm.vue'),
    CpItemForm: require('../products/CpItemFormBeta.vue')
  }
}
;
        module.exports.template = "\n  <div id=\"variants\">\n    <div class=\"added-items\">\n      <h4>ADDED Variants</h4>\n      <hr />\n      <div class=\"cp-accordion\" v-for=\"(variant, index) in addedItems\">\n          <div class=\"cp-accordion-head\" :class=\"{ 'item-error': itemError(index) }\" @click=\"showItem(index)\">\n            <div v-if=\"variant\" class=\"variant-header\">\n              <div class=\"col\" v-if=\"variant.images[0]\">\n                <img class=\"variant-img\" :src=\"variant.images[0].url\" alt=\"\">\n              </div>\n              <div class=\"col\" v-else>\n                <h5 class=\"variant-img\" >No Image</h5>\n              </div>\n              <div class=\"col\">\n                <h5 class=\"col\">{{variant.name}}</h5>\n              </div>\n              <div class=\"col\">\n                <h5 class=\"col\">{{variant.items.length}}</h5>\n              </div>\n            </div>\n            <div class=\"col\">\n              <span class=\"arrow\" v-if=\"showId !== index\"><i class=\"mdi mdi-chevron-down\"></i></span>\n              <span class=\"arrow\" v-if=\"showId === index\"><i class=\"mdi mdi-chevron-up\"></i></span>\n            </div>\n          </div>\n          <div class=\"cp-accordion-body\" :class=\"{ closed: showId !== index }\">\n              <div class=\"cp-accordion-body-wrapper\">\n                <div class=\"right\">\n                  <i class=\"mdi mdi-close pointer\" @click=\"deleteItem('variant', variant, index)\"></i>\n                </div>\n                <cp-variant-form\n                :variant=\"variant\"\n                :product-id=\"variant.product_id\"\n                :item-index=\"index\"></cp-variant-form>\n                <section class=\"cp-panel-border\">\n                  <label for=\"items-list\">Variant Items: </label>\n                  <div v-if=\"variant.items\" class=\"cp-accordion item\" v-for=\"(item, index) in variant.items\">\n                    <div class=\"cp-accordion-head\" :class=\"{ 'item-error': itemError(index) }\" @click=\"showItemChild(index)\">\n                      <div class=\"item-header\">\n                        <h5>{{variant.option_label}}: {{item.option}} - SKU: {{item.sku}}</h5>\n                      </div>\n                      <span class=\"arrow\" v-if=\"showIdChild !== index\"><i class=\"mdi mdi-chevron-down\"></i></span>\n                      <span class=\"arrow\" v-if=\"showIdChild === index\"><i class=\"mdi mdi-chevron-up\"></i></span>\n                    </div>\n                    <div class=\"cp-accordion-body\" :class=\"{ closed: showIdChild !== index }\">\n                      <div class=\"cp-accordion-body-wrapper\">\n                        <div class=\"right\">\n                          <i class=\"mdi mdi-close pointer\" @click=\"deleteItem('item', item, index)\"></i>\n                        </div>\n                        <cp-item-form\n                        :item-index=\"index\"\n                        :item=\"item\"\n                        :variants=\"addedItems\"></cp-item-form>\n                      </div>\n                    </div>\n                  </div>\n                </section>\n              </div>\n          </div>\n      </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/products/CpSearchTerms.vue:script


      sms.vComponent('assets/js/components/products/CpSearchTerms.vue', {"name":"CpSearchTerms","path":"assets/js/components/products/CpSearchTerms.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
      selectedTag: [],
      newTags: []
    }
  },
  props: {
    tags: {
      default () {
        return []
      }
    },
    validationErrors: {
      default () {
        return {}
      }
    }
  },
  mounted () {
    this.initPreviousTags()
  },
  methods: {
    initPreviousTags () {
      var tags = []
      for (var i = 0; i < this.tags.length; i++) {
        if (this.tags[i].name) {
          tags.push(this.tags[i].name)
        }
      }
      this.newTags = tags
      this.$emit('new-tags', this.newTags)
    },
    addTag () {
      if (this.selectedTag === null) {
        return false
      }
      let tags = this.selectedTag.split(', ')
      for (var i = 0; i < tags.length; i++) {
        this.newTags.push(tags[i])
      }
      this.$emit('new-tags', this.newTags)
      this.selectedTag = null
    },
    deleteTag (index) {
      this.newTags.splice(index, 1)
      this.$emit('new-tags', this.newTags)
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"cp-box-standard search-term-wrapper\">\n    <div class=\"cp-box-heading\">\n      SEARCH TERMS\n    </div>\n    <div class=\"cp-box-body\">\n      <span class=\"seperate\">Separate terms with commas to add a list</span>\n      <form class=\"\" @submit.prevent>\n        <div class=\"search-term-input\">\n          <cp-input\n          label=\"Name\"\n          type=\"text\"\n          :error=\"null\"\n          v-model=\"selectedTag\"></cp-input>\n          <button class=\"cp-button-standard\" @click=\"addTag()\">Add</button>\n        </div>\n        <ul class=\"cp-list-tags\">\n          <li v-for=\"(tag, index) in newTags\">\n            <span>{{tag}}</span>\n            <span><i class=\"mdi mdi-close pointer\" @click=\"deleteTag(index)\" v-show=\"newTags.length > 0\"></i></span>\n          </li>\n        </ul>\n      </form>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/products/index.vue:script


      sms.vComponent('assets/js/components/products/index.vue', {"name":"CpIndex","path":"assets/js/components/products/index.vue"}, (require,exports,module)=>{
        
    const Inventory = require('../../resources/InventoryAPIv0.js')
    const Auth = require('auth')

    module.exports = {
      name: 'CpProductIndex',
      routing: [
        {
          name: 'site.CpProductIndex',
          path: 'products',
          meta: {
            title: 'Products'
          },
          props: true
        }
      ],
      data: function () {
        return {
          Auth: Auth,
          loading: false,
          products: [],
          bundles: [],
          type: 'PRODUCTS',
          pagination: {
            current_page: 1
          },
          asc: false,
          indexRequest: {
            sort_by: '-updated_at',
            per_page: 15,
            search_term: '',
            page: 1
          },
          quantity: [],
          showProducts: true,
          showBundles: false,
          activeTab1: true,
          activeTab2: false
        }
      },
      mounted: function () {
        Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
        this.getProducts()
      },
      methods: {
        selectProductType (type) {
          this.type = type
          this.indexRequest.page = 1
          this.pagination.current_page = 1
          switch (type) {
            case 'PRODUCTS':
              this.showBundles = false
              this.showProducts = true
              break
            case 'BUNDLES':
              this.showProducts = false
              this.showBundles = true
              break
            default:
          }
          this.getProducts()
        },
        getProducts () {
          this.loading = true
          this.products = []
          if (this.type == 'PRODUCTS') {
            let params = JSON.parse(JSON.stringify(this.indexRequest))
            params.expands = ['product_images', 'categories']
            params.owner_id = Auth.getOwnerId()
            params.page = this.pagination.current_page
            Inventory.getProducts(params)
            .then((response) => {
              if (response.error) {
                this.$toast('Successfully updated.', { dismiss: false })
              }
              this.products = response.data
              this.pagination = response
              this.loading = false
            })
          } else if (this.type == 'BUNDLES') {
            this.indexRequest.per_page = 15
            let params = JSON.parse(JSON.stringify(this.indexRequest))
            params.page = this.pagination.current_page
            params.expands = ['bundle_images', 'categories']
            params.user_id = Auth.getOwnerId()
            Inventory.getBundles(params)
              .then((response) => {
                if (response.error) {
                  this.$toast('Successfully updated.', { dismiss: false })
                }
                this.products = response.data
                this.pagination = response
                this.loading = false
              })
          }

        },
        sortColumn: function (column) {
          this.asc = !this.asc
          this.indexRequest.sort_by = (this.asc ? '' : '-') + column
          this.getProducts()
        },
        deleteProduct: function (id) {
          this.loading = true
          Inventory.deleteProduct(id)
          .then((response) => {
            this.loading = false
            if (response.error) {
              this.$toast(response.message.message, { error: true })
              return
            }
            this.$toast('Product deleted')
            this.getProducts()
          })
        }
      },
      components: {
        CpTabs: require('../../cp-components-common/navigation/CpTabs.vue'),
        CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue')
      }
    }
;
        module.exports.template = "\n<div class=\"product-index-wrapper\">\n    <cp-tabs v-if=\"Auth.hasAnyRole('Admin', 'Superadmin')\"\n     :items=\"[\n       { name: 'PRODUCTS', active: true },\n       { name: 'BUNDLES', active: false }\n     ]\"\n     :callback=\"selectProductType\"></cp-tabs>\n    <cp-tabs v-if=\"Auth.hasAnyRole('Rep')\"\n     :items=\"[\n       { name: 'PRODUCTS', active: true },\n     ]\"\n     :callback=\"selectProductType\"></cp-tabs>\n    <cp-table-controls\n    :date-picker=\"false\"\n    :search-place-holder=\"'Search Products'\"\n    :index-request.sync=\"indexRequest\"\n    :resource-info.sync=\"pagination\"\n    :get-records=\"getProducts\"></cp-table-controls>\n    <table class=\"cp-table-standard\">\n        <thead>\n            <th>Image</th>\n            <th @click=\"sortColumn('name')\">Name\n                <span v-show=\"indexRequest.sort_by.includes('name')\">\n                    <span v-show=\"asc\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!asc\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n            </th>\n            <th>Category\n                <span v-show=\"indexRequest.sort_by.includes('category_name')\">\n                    <span v-show=\"asc\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!asc\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n            </th>\n            <th @click=\"sortColumn('updated_at')\">Last Updated\n                <span v-show=\"indexRequest.sort_by.includes('updated_at')\">\n                    <span v-show=\"asc\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!asc\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n            </th>\n            <th>\n                Delete\n            </th>\n        </thead>\n        <tbody v-show=\"!loading\">\n            <tr v-for=\"product in products\" track-by=\"$index\">\n                <td>\n                    <a v-if=\"showProducts && product.images[0]\" :href=\"`/products/${ product.id }/edit`\">\n                        <img class=\"thumb\" :src=\"product.images[0].url\">\n                    </a>\n                    <a v-if=\"showBundles && product.images[0]\" :href=\"`/bundles/${ product.id }/edit`\">\n                        <img class=\"thumb\" :src=\"product.images[0].url\">\n                    </a>\n                </td>\n                <td>\n                    <a v-if=\"showProducts\" :href=\"'/products/' + product.id + '/edit'\">{{ product.name }}</a>\n                    <a v-if=\"showBundles\" :href=\"'/bundles/' + product.id + '/edit'\">{{ product.name }}</a>\n                    <br>\n                    <span class=\"label label-default\" v-for=\"(tag, index) in product.tags\">\n                      {{ tag.name }}\n                    </span>\n                </td>\n                <td>\n                    <span v-if=\"product.categories[0]\">\n                      {{ product.categories[0].name }} &nbsp;\n                    </span>\n                </td>\n                <td>\n                    {{ product.updated_at | cpStandardDate }}\n                </td>\n                <td>\n                    <span><i class=\"mdi mdi-close cursor-pointer\" @click=\"deleteProduct(product.id)\"></i></span>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n    <div class=\"align-center\">\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        <cp-pagination :pagination=\"pagination\" :callback=\"getProducts\" :offset=\"2\"></cp-pagination>\n    </div>\n</div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/registration/CpModal.vue:script


      sms.vComponent('assets/js/components/registration/CpModal.vue', {"name":"CpModal","path":"assets/js/components/registration/CpModal.vue"}, (require,exports,module)=>{
        
// PPA stands for payment process account
module.exports = {
  data: function () {
    return {
      einInfo: false,
      accountInfo: false
    }
  },
  props: {
    userInfo: {
      required: true
    },
    validationErrors: {
      default () {
        return {
          user: this.userInfo
        }
      }
    },
    ppa: {   // PAYMENT PROCESS ACCOUNT
      type: Object,
      twoWay: true,
      default () {
        return {
          type: null,
          businessAddress: {},
          businessAccount: {}
        }
      }
    }
  },
  methods: {
    eInInfo: function () {
      this.$toast("The Employer Identification Number (EIN), also known as the Federal Employer Identification Number (FEIN). If you don't have one please select Sole Proprietor above.", {dismiss: false})
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpInputMask: require('../../cp-components-common/inputs/CpInputMask.vue'),
    CpSelect: require('../../cp-components-common/inputs/CpSelect.vue'),
    AddressForm: require('../addresses/AddressForm.vue')
  }
}
;
        module.exports.template = "\n<div class=\"splash-form-wrapper\">\n  <div class=\"splash-get-paid-form\">\n    <div class=\"registration-title\">\n      <h2>Get Paid</h2>\n      <h4>We need some basic information to pay you</h4>\n      <h4><strong>NOTE:</strong> This information must be entered as it appears on your tax return.</h4>\n    </div>\n    <form class=\"cp-form-registration\" @submit.prevent>\n        <div class=\"col\">\n          <h5>General Account Information</h5>\n          <cp-select\n            label=\"Select your business type\"\n            :options=\"[\n              { name: 'Sole Proprietor', value: '0' },\n              { name: 'Business', value: '1' },\n              { name: 'Limited Liability Company', value: '2' },\n              { name: 'Partnership', value: '3' },\n              { name: 'Association', value: '4' },\n              { name: 'Non-profit Organiztion', value: '5' },\n              { name: 'Government Organization', value: '6' }\n            ]\"\n            :error=\"validationErrors['type']\"\n            :value.sync=\"ppa.type\"></cp-select>\n              <!-- all others -->\n              <cp-input v-if=\"ppa.type !== '0'\"\n                label=\"Business Name\"\n                type=\"text\"\n                :error=\"validationErrors['name']\"\n                :value.sync=\"ppa.name\"></cp-input>\n              <cp-input-mask v-if=\"ppa.type !== '0'\"\n                label=\"Business Phone\"\n                type=\"text\"\n                mask=\"###-###-####\"\n                :masked=\"true\"\n                :error=\"validationErrors['phone']\"\n                :value.sync=\"ppa.phone\"></cp-input-mask>\n              <cp-input v-if=\"ppa.type !== '0'\"\n                label=\"Date Established\"\n                type=\"date\"\n                :error=\"validationErrors['established']\"\n                :value.sync=\"ppa.established\"></cp-input>\n              <cp-input-mask\n                v-if=\"ppa.type !== '0'\"\n                label=\"EIN\"\n                mask=\"##-#######\"\n                :masked=\"true\"\n                type=\"text\"\n                :error=\"validationErrors['ein']\"\n                :value.sync=\"ppa.ein\"></cp-input-mask>\n                <p v-if=\"ppa.type !== '0'\"><i class=\"mdi mdi-help-circle\" @click=\"eInInfo()\"></i>What is an EIN</p>\n                <cp-input\n                label=\"DBA (Doing Business As)\"\n                type=\"text\"\n                :error=\"validationErrors['name']\"\n                :value.sync=\"ppa.dba\"></cp-input>\n              <h5>Business Address</h5>\n              <address-form\n              :address.sync=\"ppa.address\"\n              :validation-errors=\"validationErrors\"\n              :address-type=\"'address'\"\n              :hide-name-field=\"true\"></address-form>\n\n              <h5>Tell us where to send your money</h5>\n              <cp-input\n                label=\"Routing Number\"\n                type=\"text\"\n                :error=\"validationErrors['account.routing']\"\n                :value.sync=\"ppa.account.routing\"></cp-input>\n              <cp-input\n                label=\"Account Number\"\n                type=\"text\"\n                :error=\"validationErrors['account.number']\"\n                :value.sync=\"ppa.account.number\"></cp-input>\n              <cp-select\n                label=\"Account Type\"\n                :options=\"[\n                  { name: 'Checking', value: 'checking' },\n                  { name: 'Savings', value: 'savings' }\n                ]\"\n                :error=\"validationErrors['account.type']\"\n                :value.sync=\"ppa.account.type\"></cp-select>\n\n        </div>\n        <div class=\"col\">\n            <h5>Business Owner</h5>\n            <cp-input\n            label=\"First Name\"\n            type=\"text\"\n            :error=\"validationErrors['owner.last_name']\"\n            :value.sync=\"ppa.owner.first_name\"></cp-input>\n            <cp-input\n            label=\"Last Name\"\n            type=\"text\"\n            :error=\"validationErrors['owner.first_name']\"\n            :value.sync=\"ppa.owner.last_name\"></cp-input>\n            <cp-input\n            label=\"Date of Birth\"\n            type=\"date\"\n            :error=\"validationErrors['owner.dob']\"\n            :value.sync=\"ppa.owner.dob\"></cp-input>\n            <cp-input-mask\n            label=\"Phone\"\n            type=\"text\"\n            mask=\"###-###-####\"\n            :masked=\"true\"\n            :error=\"validationErrors['owner.phone']\"\n            :value.sync=\"ppa.owner.phone\"></cp-input-mask>\n            <cp-input\n            label=\"Email\"\n            type=\"text\"\n            :error=\"validationErrors['owner.email']\"\n            :value.sync=\"ppa.owner.email\"></cp-input>\n            <cp-input v-if=\"ppa.type !== '0'\"\n            label=\"Percentage of Ownership\"\n            type=\"number\"\n            placeholder=\"%\"\n            :error=\"validationErrors['ownership']\"\n            :value.sync=\"ppa.owner.ownership\"></cp-input>\n            <cp-input\n            label=\"SSN\"\n            type=\"text\"\n            :error=\"validationErrors['owner.ssn']\"\n            :value.sync=\"ppa.owner.ssn\"></cp-input>\n\n            <div v-if=\"ppa.type !== '0'\">\n            <h5>Business Owner's Address</h5>\n            <address-form :address.sync=\"ppa.owner.address\" :validation-errors=\"validationErrors\" :address-type=\"'owner.address'\" :hide-name-field=\"true\"></address-form>\n            </div>\n          </div>\n    </form>\n  </div>\n</div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/products/CpVisibilityAssignment.vue:script


      sms.vComponent('assets/js/components/products/CpVisibilityAssignment.vue', {"name":"CpVisibilityAssignment","path":"assets/js/components/products/CpVisibilityAssignment.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
      newSelectedVisibilities: [],
      visibilities: []
    }
  },
  props: {
    selectedVisibilities: {
      type: Array,
      default () {
        return []
      }
    },
    validationErrors: {
      default () {
        return {}
      }
    },
    starterKit: {
      default () {
        return {
          show: false,
          value: null
        }
      }
    }
  },
  created () {
    this.newSelectedVisibilities = this.selectedVisibilities
    if (this.starterKit.show) {
      this.visibilities = [
        {
          id: 4,
          name: 'Registration',
          description: 'Registration purchase.'
        },
        {
          id: 5,
          name: 'Wholesale',
          description: 'Wholesale purchase.'
        }
      ]
    } else {
      this.visibilities = [
        {
          id: 1,
          name: 'Corp Retail',
          description: 'Retail store for corporate.'
        },
        {
          id: 2,
          name: 'Affiliate',
          description: 'Affiliate stores.'
        },
        {
          id: 3,
          name: 'Reseller Retail',
          description: 'Reseller sites.'
        },
        {
          id: 5,
          name: 'Wholesale',
          description: 'Wholesale purchase.'
        },
        {
          id: 6,
          name: 'Preferred Retail',
          description: 'Preferred Retail purchase in backoffice'
        }
      ]
    }
  },
  methods: {},
  components: {
    CpTooltip: require('../../custom-plugins/CpTooltip.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"cp-box-standard visibility-wrapper\">\n    <div class=\"cp-box-heading\">\n      VISIBLE TO\n    </div>\n    <div class=\"cp-box-body visible-inputs\">\n      <ul class=\"\">\n          <li class=\"\" v-for=\"(visibility, index) in visibilities\">\n              <input type=\"checkbox\"\n                      v-model=\"newSelectedVisibilities\"\n                      :name=\"visibility.name\"\n                      :value=\"{ id: visibility.id, name: visibility.name }\"\n                      :id='visibility.id'\n                      @change=\"$emit('selected-visibilities', newSelectedVisibilities)\"/>\n              <label for=\"visibilities\">\n                  <span>{{ visibility.name }}</span>\n                  <cp-tooltip :options=\"{ content: visibility.description }\"></cp-tooltip>\n              </label>\n              <span :class=\"{ 'cp-validation-errors': validationErrors['visibilities.' + (index + 1) ] }\" v-if=\"validationErrors['visibilities.' + (index + 1)]\">{{ validationErrors['visibilities.' + (index + 1)][0] }}</span>\n          </li>\n      </ul>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/release-notes/CpReleaseNotes.vue:script

sms.vComponent('assets/js/components/release-notes/CpReleaseNotes.vue', { name: 'CpReleaseNotes', routing: { name: 'site.CpReleaseNotes', meta: { title: 'Release Notes' }, path: '/release', props: true } }, (require, exports, module)=>{

const Git = require('../../resources/gitlab.js')
module.exports = {
  data () {
    return {
      releaseNotes: [],
      loading: false
    }
  },
  mounted () {
    this.gitReleaseNotes()
  },
  methods: {
    gitReleaseNotes () {
      this.loading = true
      Git.gitlabReleaseNotes()
        .then((response) => {
          this.releaseNotes = response
          this.loading = false
        })
    }
  },
  components: {
  }
}

;module.exports.template = "\n  <div class=\"release-notes-wrapper\">\n    <h2>Release Notes:</h2>\n    <div class=\"cp-panel-standard\">\n        <ul>\n          <div v-for=\"(note, index) in releaseNotes\">\n            <li v-if=\"note.merged_at\">{{ note.title }} - ({{ note.updated_at | cpStandardDate }})</li>\n          </div>\n        </ul>\n    </div>\n    <div class=\"align-center\">\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n    </div>\n  </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/products/CpVisibilityAssignmentBeta.vue:script


      sms.vComponent('assets/js/components/products/CpVisibilityAssignmentBeta.vue', {"name":"CpVisibilityAssignmentBeta","path":"assets/js/components/products/CpVisibilityAssignmentBeta.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
      newSelectedVisibilities: [],
      visibilities: []
    }
  },
  props: {
    selectedVisibilities: {
      type: Array,
      default () {
        return []
      }
    },
    validationErrors: {
      default () {
        return {}
      }
    },
    starterKit: {
      default () {
        return {
          show: false,
          value: null
        }
      }
    }
  },
  created () {
    this.newSelectedVisibilities = this.selectedVisibilities
    if (this.starterKit.show) {
      this.visibilities = [
        {
          id: 4,
          name: 'Registration',
          description: 'Registration purchase.'
        },
        {
          id: 5,
          name: 'Wholesale',
          description: 'Wholesale purchase.'
        }
      ]
    } else {
      this.visibilities = [
        {
          id: 1,
          name: 'Corp Retail',
          description: 'Retail store for corporate.'
        },
        {
          id: 2,
          name: 'Affiliate',
          description: 'Affiliate stores.'
        },
        {
          id: 3,
          name: 'Reseller Retail',
          description: 'Reseller sites.'
        },
        {
          id: 5,
          name: 'Wholesale',
          description: 'Wholesale purchase.'
        },
        {
          id: 6,
          name: 'Preferred Retail',
          description: 'Preferred Retail purchase in backoffice'
        }
      ]
    }
  },
  methods: {},
  components: {
    CpTooltip: require('../../custom-plugins/CpTooltip.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"cp-box-standard visibility-wrapper\">\n    <div class=\"cp-box-heading\">\n      VISIBLE TO\n    </div>\n    <div class=\"cp-box-body visible-inputs\">\n      <ul class=\"\">\n          <li class=\"\" v-for=\"(visibility, index) in visibilities\">\n              <input type=\"checkbox\"\n                      v-model=\"newSelectedVisibilities\"\n                      :name=\"visibility.name\"\n                      :value=\"{ id: visibility.id, name: visibility.name }\"\n                      :id='visibility.id'\n                      @change=\"$emit('selected-visibilities', newSelectedVisibilities)\"/>\n              <label for=\"visibilities\">\n                  <span>{{ visibility.name }}</span>\n                  <cp-tooltip :options=\"{ content: visibility.description }\"></cp-tooltip>\n              </label>\n              <span :class=\"{ 'cp-validation-errors': validationErrors['visibilities.' + (index + 1) ] }\" v-if=\"validationErrors['visibilities.' + (index + 1)]\">{{ validationErrors['visibilities.' + (index + 1)][0] }}</span>\n          </li>\n      </ul>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/registration/CpRegistrationPayment.vue:script


      sms.vComponent('assets/js/components/registration/CpRegistrationPayment.vue', {"name":"CpRegistrationPayment","path":"assets/js/components/registration/CpRegistrationPayment.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')
const Checkout = require('../../resources/CheckoutAPIv0.js')
const Users = require('../../resources/UsersAPIv0.js')

module.exports = {
  data () {
    return {
      selectedPaymentType: {type: null, display: null},
      paymentTypes: [],
      validationErrors: {},
      acceptAgreement: false
    }
  },
  props: {
    selectedKit: {
      type: Object,
      required: true
    },
    selectedPlan: {
      type: Object,
      required: true
    },
    shippingAmount: {
      type: Number,
      required: false,
      default: 0
    },
    planTax: {
      type: Number,
      required: false,
      default: 0
    }
  },
  created () {
    console.log('created')
    this.updatePaymentTypes()
  },
  methods: {
    validate () {
      if (!this.acceptAgreement) {
        this.validationErrors = {agree: ['Required']}
        return false
      } else {
        this.validationErrors = {}
      }
      // Only validate credit card form
      switch (this.selectedPaymentType.type) {
        case 'credit-card':
          return this.$refs.ccForm.validate()
        case 'e-check':
          return this.$refs.echeckForm.validate()
        default:
          return true
      }
    },
    updatePaymentTypes () {
      console.log('updatePaymentTypes')
      let types = []
      if (this.total > 0) {
        let optionsSetting = this.$getGlobal('registration_payment_options').value
        if (optionsSetting.credit_card) {
          types.push({type: 'credit-card', display: 'Credit Card'})
        }
        if (optionsSetting.e_check) {
          types.push({type: 'e-check', display: 'Checking Account'}) // TODO do we need to distinguish account type?
        }
      } else {
        types.push({type: 'zero-cash', display: 'Free'})
      }
      this.paymentTypes = types
      this.selectedPaymentType = types[0]
    },
    getPayment () {
      switch (this.selectedPaymentType.type) {
        case 'zero-cash':
          return {
            type: 'cash',
            cash_type: 'Zero',
            amount: this.total
          }
        case 'credit-card':
          return {
            type: 'card',
            card: this.$refs.ccForm.getCard(),
            amount: this.total
          }
        case 'e-check':
          return {
            type: 'e-check',
            account: this.$refs.echeckForm.getAccount(),
            amount: this.total
          }
        default:
          return null
      }
    },
  },
  computed: {
    total () {
      return (this.selectedKit ? this.selectedKit.wholesale_price : 0.00) + (this.selectedPlan ? this.selectedPlan.price.price : 0.00)
    }
  },
  components: {
    CpCreditCardForm: require('../payment/CpCreditCardForm.vue'),
    CpECheckForm: require('../payment/CpECheckForm.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"payment-form\">\n    <div class=\"reg-form\">\n      <form class=\"cp-form-inverse registration-form\" v-if=\"total > 0\">\n        <div v-if=\"paymentTypes.length > 1\">\n          <span>Select payment type</span><br>\n          <select class=\"payment-selector\" v-model=\"selectedPaymentType\">\n            <option v-for=\"paymentType in paymentTypes\" :value=\"paymentType\">{{ paymentType.display }}</option>\n          </select>\n        </div>\n        <cp-credit-card-form v-if=\"selectedPaymentType.type == 'credit-card'\" ref=\"ccForm\"></cp-credit-card-form>\n        <cp-e-check-form v-if=\"selectedPaymentType.type == 'e-check'\" ref=\"echeckForm\"></cp-e-check-form>\n        <div class=\"payment-message-section\" v-if=\"selectedPaymentType.type === 'zero-cash'\">\n          <span><strong>No payment required. Order total is $0.00</strong></span>\n        </div>\n\n        <input class=\"agree\" type=\"checkbox\" :class=\"{ error: validationErrors['agree'] }\" name=\"agree\" v-model=\"acceptAgreement\" required>\n        <span>I agree to the <a href=\"/terms-conditions/rep\" target=\"_blank\">terms and conditions</a> and to be charged a {{ selectedPlan.duration == 0 ? 'one-time' : 'subscription' }} fee of {{ selectedPlan.price.price | currency }}.</span>\n        <span v-show=\"validationErrors['agree']\" class=\"cp-warning-message\">{{ validationErrors['agree'] }}</span>\n      </form>\n\n    </div>\n    <div class=\"reg-form\">\n      <h2>Summary of Charges</h2>\n      <br />\n      <div>\n        <div v-if=\"selectedKit !== null && selectedKit.id !== null\" class=\"summary-item-container\">\n          <div class=\"left\">Starter Kit: </div><div class=\"right\">{{ selectedKit.wholesale_price | currency }}</div>\n        </div>\n        <div v-if=\"shippingAmount > 0\" class=\"summary-item-container\">\n          <div class=\"left\">Shipping: </div><div class=\"right\">{{ shippingAmount | currency }}</div>\n        </div>\n        <div v-if=\"selectedPlan.free_trial_time == 0\" class=\"summary-item-container\">\n          <div class=\"left\">{{ selectedPlan.duration == 0 ? 'One-Time' : 'Plan' }}: </div><div class=\"right\">{{ selectedPlan.price.price | currency }}</div>\n        </div>\n        <div v-if=\"planTax > 0\" class=\"summary-item-container\">\n          <div class=\"left\">Plan Tax: </div><div class=\"right\">{{ planTax | currency }}</div>\n        </div>\n        <div class=\"summary-item-container\">\n          <div class=\"left\"><strong>Total</strong>: </div><div class=\"right\">{{ total | currency }}</div>\n        </div>\n      </div>\n      <input v-show=\"selectedPlan.price.price+shippingAmount==0\" class=\"agree\" type=\"checkbox\" :class=\"{ error: validationErrors['agree'] }\" name=\"agree\" v-model=\"acceptAgreement\" required>\n      <span v-show=\"selectedPlan.price.price+shippingAmount==0\">I agree to the <a href=\"/rep-terms\" target=\"_blank\" rel=\"noopener\">terms and conditions</a></span>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/registration/CpRegistration.vue:script

sms.vComponent('assets/js/components/registration/CpRegistration.vue', { name: 'CpRegistration', routing: [{ name: 'public.CpRegistration', meta: { noauth: true }, path: '/join', props: true },{ name: 'public.CpRegistrationWithSponsor', meta: { noauth: true }, path: '/sign-up-with/:sponsorId', props: true },{ name: 'public.CpRegistrationWithToken', meta: { noauth: true }, path: '/join/:token', props: true }] }, (require, exports, module)=>{

const marked = require('marked')
const Step = require('../../libraries/step.js')
const Payments = require('../../resources/payments.js')
const Inventory = require('../../resources/InventoryAPIv0.js')
const { states } = require('../../resources/states.js')
const Users = require('../../resources/users.js')
const Shipping = require('../../resources/shipping.js')
const Subscription = require('../../resources/subscription.js')
const _ = require('lodash')
const Auth = require('auth')
const moment = require('moment')

module.exports = {
  data () {
    return {
      sponsorIdValue: this.sponsorId,
      registration_code: '',
      shippingCost: 0,
      user: {
        email: '',
        password: '',
        public_id: '',
        first_name: '',
        last_name: '',
        phone: ''
      },
      ppa: {
        businessAddress: {},
        businessAccount: {}
      },
      host_name: window.location.hostname,
      showPassword: false,
      kits: [],
      states: states,
      years: [],
      Step: Step,
      validPublicId: false,
      validPublicIdMessage: '',
      validationErrors: {},
      selectedPlan: {
        id: null,
        free_trial_time: 0
      },
      selectedKit: {
        id: null,
        wholesale_price: {
          price: 0
        }
      },
      paymentData: {
        user: {},
        payment: {
          month: null,
          year: null
        },
        addresses: {
          billing: { address_2: '' },
          shipping: { address_2: '' }
        },
        starter_kit_id: null,
        user_id: null,
        subtotal_price: null
      },
      processing: false,
      disableSponsor: false,
      subscriptionTax: 0,
      taxInvoicePid: null,
      plans: []
    }
  },
  props: {
    token: {
      default: null
    },
    sponsorId: {
      default: null
    }
  },
  filters: {
    marked: marked
  },
  mounted () {
    if (this.sponsorId) {
      this.disableSponsor = false
    }
    if (this.token) {
      this.getRegistrationToken(this.token)
    }
    // if a user token is a user object of a preregistered user
    // through an external system that needs to finish registration here
    this.getKits()
    this.initSteps()
    this.getPlans()
    // TODO: Use when Oath is working again
    // if (this.oauthUser && this.oauthUser.email && this.oauthUser.email.length > 0) {
    //   this.user.email = this.oauthUser.email
    //   this.user.first_name = this.oauthUser.first_name
    //   this.user.last_name = this.oauthUser.last_name
    // }
  },
  computed: {
    fullStoreURL () {
      return this.$getGlobal('rep_url').value.replace('%s', this.user.public_id || '')
    },
    shippingRequired () {
      return (this.selectedKit !== null && this.selectedKit.id !== null) ||
              (this.selectedPlan.seller_type_id == 2 && this.$getGlobal('reseller_purchase_inventory').show) ||
              (this.selectPlan.seller_type_id == 1 && this.$getGlobal('affiliate_purchase_inventory').show)
    },
    billingRequired () {
      return (!this.shippingRequired || (this.selectedKit !== null && this.selectedKit.wholesale_price > 0) || this.selectedPlan.price.price + this.shippingCost > 0)
    }
  },
  methods: {
    getPlans () {
      Subscription.getSubscriptionOnJoin().then(response => { this.plans.push(...response) })
    },
    getRegistrationToken (token) {
      Users.getRegistrationToken(token)
        .then(response => {
          this.user = response
        })
    },
    validateAddresses () {
      let errors = {}
      if (this.shippingRequired) {
        if (this.$isBlank(this.paymentData.addresses.shipping.address_1)) {
          errors['shipping_address.address_1'] = ['Required']
        }
        if (this.$isBlank(this.paymentData.addresses.shipping.zip)) {
          errors['shipping_address.zip'] = ['Required']
        }
        if (this.$isBlank(this.paymentData.addresses.shipping.city)) {
          errors['shipping_address.city'] = ['Required']
        }
        if (this.$isBlank(this.paymentData.addresses.shipping.state)) {
          errors['shipping_address.state'] = ["Required"]
        }
      } else {
        this.paymentData.addresses.shipping = this.paymentData.addresses.billing
      }

      if (this.billingRequired) {
        if (this.$isBlank(this.paymentData.addresses.billing.address_1)) {
          errors['billing_address.address_1'] = ['Required']
        }
        if (this.$isBlank(this.paymentData.addresses.billing.zip)) {
          errors['billing_address.zip'] = ['Required']
        }
        if (this.$isBlank(this.paymentData.addresses.billing.city)) {
          errors['billing_address.city'] = ['Required']
        }
        if (this.$isBlank(this.paymentData.addresses.billing.state)) {
          errors['billing_address.state'] = ['Required']
        }
      } else {
        this.paymentData.addresses.billing = this.paymentData.addresses.shipping
      }

      if (Object.keys(errors).length > 0) {
        this.validationErrors = errors
        return false
      } else {
        this.validationErrors = {}
      }

      if (this.selectedPlan.free_trial_time == 0) {
        // get taxes
        let taxRequest = {
          billing_address: this.paymentData.addresses.billing,
          shipping_address: this.paymentData.addresses.shipping,
          subscription: this.selectedPlan
        }
        Subscription.getTax(taxRequest)
          .then((response) => {
            this.subscriptionTax = response.tax
            this.taxInvoicePid = response.pid
          })
      }
      this.handleStep()
    },
    initSteps () {
      // init steps - only one step should be set to true
      let steps = {
        one: true,
        two: false,
        three: false,
        four: false
      }
      this.Step.init(steps, 300)
    },
    getShippingCost: function () {
      if (this.selectedKit !== null && this.$getGlobal('registration_shipping').value) {
        Shipping.shippingCost({ total_price: this.selectedKit.wholesale_price })
          .then((response) => {
            if (response.error) {
              this.$toast(response.message, { error: true })
              return
            }
            this.shippingCost = parseFloat(response.data.amount)
          })
      } else {
        this.shippingCost = 0.00
      }
    },
    checkPublicId: _.debounce(function (publicId) {
      if (!publicId || publicId === '') {
        this.validPublicIdMessage = ''
        this.validPublicId = false
        this.validPublicIdMessage = 'A store name is required.'
        return
      }
      Users.checkPublicId(publicId)
        .then((response) => {
          if (response.error) {
            this.validPublicId = false
            this.validPublicIdMessage = ''
            if (response.code === 422) {
              this.validPublicIdMessage = response.message.public_id
            }
          } else {
            this.validPublicId = true
            this.validPublicIdMessage = response
          }
        })
    }, 500),
    cleanPhone (phone) {
      if (phone) {
        phone = phone.replace(/-/g, '').replace(/\(|\)/g, '')
        phone = parseInt(phone)
      }
      return phone
    },
    validateUserInfo () {
      this.validationErrors = {}
      if (!this.$getGlobal('replicated_site').show) {
        this.user.public_id = this.user.first_name + this.user.last_name + Math.floor((Math.random() * 100) + 1)
      }
      let request = {
        user: JSON.parse(JSON.stringify(this.user)),
        registration_code: this.registration_code,
        sponsor_id: this.sponsorIdValue
      }
      if (request.user.phone) {
        request.user.phone = this.cleanPhone(request.user.phone)
      }
      Users.validateNewUser(request)
        .then((response) => {
          if (response.error) {
            this.validationErrors = response.message
          } else {
            this.handleStep()
          }
        })
    },
    copyAddress () {
      // copy shipping address to be same as billing
      this.paymentData.addresses.billing = JSON.parse(JSON.stringify(this.paymentData.addresses.shipping))
    },
    selectPlan (plan) {
      this.selectedPlan = plan
      if (this.kits.length < 1) {
        this.selectKit(null)
      }
    },
    getKits () {
      Inventory.getBundles({starter_kit: 1, user_id: 1})
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, { error: true })
          }
          // reposne is an object. Needs to be converted to array to use kits.length
          this.kits = _.values(response.data)
        })
    },
    selectKit (kit) {
      this.selectedKit = kit
      this.handleStep()
      this.getShippingCost()
    },
    submitPayment () {
      this.processing = true
      // in case of further errors these need to be cleared
      this.validPublicIdMessage = ''
      this.validPublicId = false
      this.validationErrors = {}
      if (!this.$refs.paymentForm.validate()) {
        this.processing = false
        return
      }
      this.paymentData.payment = this.$refs.paymentForm.getPayment()
      // request prep
      this.paymentData.user = JSON.parse(JSON.stringify(this.user))
      if (this.paymentData.user.phone) {
        this.paymentData.phone = { number: this.cleanPhone(this.paymentData.user.phone) }
      }
      this.paymentData.total_tax = this.subscriptionTax
      this.paymentData.tax_invoice_pid = this.taxInvoicePid
      this.paymentData.subscription_id = this.selectedPlan.id
      this.paymentData.registration_code = this.registration_code
      this.paymentData.sponsor_id = this.sponsorIdValue
      this.paymentData.ppa = this.ppa
      if (this.selectedKit) {
        this.paymentData.starter_kit_id = this.selectedKit.id
      } else {
        delete this.paymentData.starter_kit_id
      }

      this.paymentData.timezone = moment.tz.guess()
      Payments.subscriptionPayment(this.paymentData)
        .then((response) => {
          if (response.error) {
            this.processing = false
            this.validationErrors = response.message
            this.checkForUserErrors(response.message)
            return
          }
          Auth.setJwtToken(response.jwtToken)
          if (this.$getGlobal('join_redirect').show) {
            window.location.href = this.$getGlobal('join_redirect').value + '?return_url=' + window.location.hostname + '/my-settings'
          } else {
            window.location.href = '/my-settings'
          }
        })
    },
    checkForUserErrors (message) {
      for (var key in message) {
        if (key.includes('user')) {
          this.handleStep('one')
          return
        } else if (key.includes('address')) {
          this.handleStep('three')
          return
        }
      }
    },
    parseDuration (duration) {
      switch(duration) {
        case 1:
          return 'PER MONTH'
        case 3:
          return 'PER QUARTER'
        case 12:
          return 'PER YEAR'
        default:
          return ''
      }
    },
    handleStep (stepName) {
      if (!stepName) {
        Step.next()
        window.scrollTo(0, 0)
        return
      }
      Step.skipTo(stepName)
      window.scrollTo(0, 0)
    }
  },
  components: {
    CpRegistrationPayment: require('../registration/CpRegistrationPayment.vue'),
    CpTooltip: require('../../custom-plugins/CpTooltip.vue'),
    CpInputMask: require('../../cp-components-common/inputs/CpInputMask.vue'),
    CpAddressForm: require('../addresses/CpAddressForm.vue')
  }
}

;module.exports.template = "\n<div class=\"registration-wrapper\">\n  <section class=\"no-registration\" v-if=\"!$getGlobal('register_without_controlpad_api').show\">\n    <div>\n    Registration is not available at this time.\n    <p>Click <a href=\"/login\">Here</a> to sign in.</p>\n    </div>\n  </section>\n  <div v-if=\"$getGlobal('register_without_controlpad_api').show\">\n    <transition name='fade'>\n        <section class=\"registration-step step-form-wrapper cp-panel-standard\" v-show=\"Step.get('one')\">\n            <div class=\"reg-form\">\n                <div class=\"cp-form-inverse registration-form\">\n                    <cp-input\n                    v-if=\"$getGlobal('require_registration_code').show\"\n                    label=\"Registration Code\"\n                    :error=\"validationErrors['registration_code']\"\n                    type=\"text\"\n                    v-model=\"registration_code\"\n                    placeholder=\"\"></cp-input>\n                    <!-- appears when the commission engine is in use -->\n                    <cp-input\n                    v-if=\"$getGlobal('collect_sponsor_id').show\"\n                    :tooltip=\"'If you have a sponsor you can receive a link or ID directly from her or him.'\"\n                    :label=\"'Sponsor ID'\"\n                    :subtext=\"'(optional)'\"\n                    :setting=\"$getGlobal('require_sponsor_id_on_registration').show\"\n                    :error=\"validationErrors['sponsor_id']\"\n                    type=\"text\"\n                    v-model=\"sponsorIdValue\"\n                    placeholder=\"\"\n                    :set-disabled=\"disableSponsor\"></cp-input>\n                    <cp-input\n                    label=\"First Name\"\n                    :error=\"validationErrors['user.first_name']\"\n                    type=\"text\"\n                    v-model=\"user.first_name\"\n                    placeholder=\"\"\n                    :set-disabled=\"token\"></cp-input>\n                    <cp-input\n                    label=\"Last Name\"\n                    :error=\"validationErrors['user.last_name']\"\n                    type=\"text\"\n                    v-model=\"user.last_name\"\n                    placeholder=\"\"\n                    :set-disabled=\"token\"></cp-input>\n                    <!-- phone -->\n                    <cp-input-mask\n                    v-if=\"$getGlobal('collect_phone_on_registration').show\"\n                    label=\"Phone Number\"\n                    type=\"text\"\n                    mask=\"###-###-####\"\n                    :error=\"validationErrors['user.phone']\"\n                    v-model=\"user.phone\">\n                    </cp-input-mask>\n                    <cp-input\n                     v-if=\"$getGlobal('replicated_site').show\"\n                    label=\"Store Name\"\n                    :subtext=\"'(Public Id)'\"\n                    type=\"text\"\n                    v-model=\"user.public_id\"\n                    placeholder=\"\"\n                    @input=\"checkPublicId(user.public_id)\"></cp-input>\n                    <span :class=\"{'cp-warning-message': !validPublicId, 'cp-success-message': validPublicId }\">{{ validPublicIdMessage }}</span>\n                    <div class=\"store-name\" v-if=\"$getGlobal('replicated_site').show\">\n                        <label>Preview: </label>\n                        <span><strong>{{ fullStoreURL }}</strong></span>\n                    </div>\n                    <cp-input\n                    label=\"Email\"\n                    :error=\"validationErrors['user.email']\"\n                    type=\"text\"\n                    v-model=\"user.email\"\n                    :set-disabled=\"token\"></cp-input>\n                    <div class=\"show-hide-password\">\n                        <cp-input\n                        label=\"Password\"\n                        :error=\"validationErrors['user.password']\"\n                        type=\"password\"\n                        v-model=\"user.password\"\n                        v-show=\"!showPassword\"\n                        placeholder=\"\"></cp-input><button class=\"cp-button-standard\" v-show=\"!showPassword\" @click=\"showPassword=true\">Show</button>\n                        <cp-input\n                        label=\"Password\"\n                        :error=\"validationErrors['user.password']\"\n                        type=\"text\"\n                        v-model=\"user.password\"\n                        v-show=\"showPassword\"\n                        placeholder=\"\"></cp-input><button class=\"cp-button-standard\" v-show=\"showPassword\" @click=\"showPassword=false\">Hide</button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"sign-in\">\n                <button class=\"cp-button-standard\" @click=\"validateUserInfo()\">Get Started</button>\n                <div class=\"login-redirect\">\n                    Already have an account? <a href=\"/login\">Sign in</a>\n                </div>\n            </div>\n        </section>\n    </transition>\n\n      <!-- STEP 2: AGREE TO TERMS SELECT PLAN AND/OR STARTER KIT -->\n      <transition name='fade'>\n          <section class=\"registration-step\" v-show=\"Step.get('two')\">\n              <h2>Choose a subscription</h2>\n              <div class=\"selection-container\">\n                  <div class=\"cp-panel-border select-plan\" :class=\"{ selectedplan: selectedPlan.id === plan.id}\" v-for=\"(plan, index) in plans\">\n                      <div>\n                          <p class=\"plan-price\">{{ plan.price.price | currency }}</p>\n                          <p><strong>{{ parseDuration(plan.duration) }}</strong></p>\n                          <div class=\"membership-details\">\n                              <h2>{{plan.title}}</h2>\n                              <div v-html=\"plan.description\"></div>\n                          </div>\n                      </div>\n                      <button class=\"cp-button-standard\" :class=\"{ selectedplan: selectedPlan.id === plan.id}\" @click=\"selectPlan(plan)\">Choose</button>\n                  </div>\n              </div>\n              <div v-if=\"kits.length > 0\" class=\"selection-container\" v-show=\"selectedPlan.id\" transition=\"expand\">\n                  <h2>Select a starter kit</h2>\n                  <div class=\"cp-panel-border select-plan\" v-for=\"(kit, index) in kits\">\n                      <div class=\"\">\n                        <p class=\"plan-price\" v-if=\"kit.wholesale_price > 0\">{{ kit.wholesale_price | currency }}</p>\n                        <p class=\"plan-price\" v-else>Free</p>\n                        <p><strong>{{ kit.name }}</strong></p>\n                        <p> {{ kit.long_description }}</p>\n                      </div>\n                      <button class=\"cp-button-standard\" :class=\"{ selectedplan: selectedKit.id === kit.id }\" @click=\"selectKit(kit)\">Choose</button>\n                  </div>\n\n            </div>\n              </section>\n      </transition>\n      <!-- STEP 3: MAKE A PAYMENT -->\n      <transition name='fade'>\n          <section class=\"registration-step step-form-wrapper cp-panel-standard\" v-if=\"Step.get('three')\">\n            <div class=\"payment-form\">\n              <div class=\"reg-form\" v-if=\"shippingRequired\">\n                  <h2>Shipping Information</h2>\n                  <form class=\"cp-form-inverse registration-form\" @submit.prevent>\n                      <cp-address-form\n                      :address=\"paymentData.addresses.shipping\"\n                      address-type=\"shipping_address\"\n                      :validation-errors=\"validationErrors\"\n                      :hide-name-field=\"true\"\n                      >\n                    </cp-address-form>\n                      <input v-if=\"selectedPlan.price.price+shippingCost>0\" class=\"agree\" type=\"checkbox\" @click=\"copyAddress()\" name=\"same-as\"><span v-if=\"selectedPlan.price.price+shippingCost>0\">Billing is the same as shipping</span>\n                  </form>\n              </div>\n              <div class=\"reg-form\" v-if=\"billingRequired\">\n                <h2>Billing Information</h2>\n                <form class=\"cp-form-inverse registration-form\" @submit.prevent>\n                    <cp-address-form\n                      :address=\"paymentData.addresses.billing\"\n                      address-type=\"billing_address\"\n                      :validation-errors=\"validationErrors\"\n                      :hide-name-field=\"true\"></cp-address-form>\n                </form>\n              </div>\n            </div>\n            <div class=\"payment-buttons\">\n              <button class=\"cp-button-standard\" @click=\"Step.previous()\">Back</button>\n              <button class=\"cp-button-standard\" @click=\"validateAddresses()\">Next</button>\n            </div>\n          </section>\n          <section class=\"registration-step step-form-wrapper cp-panel-standard\" v-if=\"Step.get('four')\">\n            <cp-registration-payment\n              ref=\"paymentForm\"\n              :selectedKit=\"selectedKit\"\n              :selectedPlan=\"selectedPlan\"\n              :shippingAmount=\"shippingCost\"\n              :planTax=\"subscriptionTax\">\n            </cp-registration-payment>\n            <div class=\"payment-buttons\">\n              <button class=\"cp-button-standard\" @click=\"Step.previous()\">Back</button>\n              <button class=\"cp-button-standard\" @click=\"submitPayment()\" v-show=\"!processing && selectedPlan.price.price+shippingCost>0\">Make Your Payment</button>\n              <button class=\"cp-button-standard\" @click=\"submitPayment()\" v-show=\"!processing && selectedPlan.price.price+shippingCost==0\">Submit</button>\n              <button class=\"cp-button-standard\" v-show=\"processing\">Processing...</button>\n            </div>\n            <div v-if=\"validationErrors.payment\" class=\"errorText\">\n              Payment Error: {{ validationErrors.payment[0] }}\n            </div>\n          </section>\n      </transition>\n    </div>\n  </div>\n</div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/reports/CpAffiliateDetailsReport.vue:script


      sms.vComponent('assets/js/components/reports/CpAffiliateDetailsReport.vue', {"name":"CpAffiliateDetailsReport","path":"assets/js/components/reports/CpAffiliateDetailsReport.vue"}, (require,exports,module)=>{
        
const Sales = require('../../resources/sales.js')
const moment = require('moment')
const Auth = require('auth')
const CpOrdersFile = require('../../libraries/CpOrdersFile.js')

module.exports = {
  data: function () {
    return {
      noResults: false,
      loading: false,
      sales: [],
      pagination: {
        per_page: 15
      },
      asc: false,
      dates: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD')
      },
      indexRequest: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        order: 'DESC',
        column: 'created_at',
        per_page: 15,
        search_term: '',
        page: 1
      },
      reverseSort: false,
      Auth: Auth
    }
  },
  props: {
    userId: {
      required: true
    }
  },
  mounted: function () {
    this.getReptoCustomer()
  },
  methods: {
    getReptoCustomer () {
      this.loading = true
      this.indexRequest.start_date = moment(this.dates.start_date).format('YYYY-MM-DD')
      this.indexRequest.end_date = moment(this.dates.end_date).format('YYYY-MM-DD')
      this.indexRequest.page = this.pagination.current_page
      this.sales = {}
      Sales.getAffiliate(this.userId, this.indexRequest)
          .then((response) => {
            if (response.error) {
              return
            }
            if (response.total === 0) {
              this.noResults = true
              setTimeout(function () {
                this.noResults = false
              }.bind(this), 3000)
            }
            this.loading = false
            this.sales = response.data
            response.per_page = parseInt(response.per_page)
            this.pagination = response
          })
    },
    fulfilledAmount: function (lines) {
      var amount = 0
      lines.forEach(function (line) {
        amount = amount + line.price
      })
      this.saleAmount = amount
      return this.saleAmount
    },
    sortColumn: function (column) {
      this.reverseSort = !this.reverseSort
      this.indexRequest.column = column
      this.asc = !this.asc
      if (this.asc === true) {
        this.indexRequest.order = 'asc'
      } else {
        this.indexRequest.order = 'desc'
      }
      this.getReptoCustomer()
    },
    printOrder: function (orderId) {
      new CpOrdersFile(null, ['pdf'], 'order', {orderId: orderId}).run()
    }
  },
  events: {
    'search_term': function (term) {
      this.indexRequest.search_term = term
      this.pagination.current_page = 1
      this.getReptoCustomer()
    }
  },
  components: {
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"sales-index-wrapper\">\n            <cp-table-controls\n            :date-picker=\"true\"\n            :date-range=\"dates\"\n            :index-request=\"indexRequest\"\n            :resource-info=\"pagination\"\n            :get-records=\"getReptoCustomer\"></cp-table-controls>\n        <table class=\"cp-table-standard\">\n            <thead>\n                <th>PDF</th>\n                <th @click=\"sortColumn('receipt_id')\">Receipt ID\n                    <span v-show=\"indexRequest.column == 'receipt_id'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('created_at')\">Date of Sale\n                    <span v-show=\"indexRequest.column == 'created_at'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('customer_last_name')\">Customer Name\n                    <span v-show=\"indexRequest.column == 'customer_last_name'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('subtotal_price')\">Subtotal\n                    <span v-show=\"indexRequest.column == 'subtotal_price'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('total_tax')\">Tax\n                    <span v-show=\"indexRequest.column == 'total_tax'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('total_shipping')\">Shipping\n                    <span v-show=\"indexRequest.column == 'total_shipping'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('total_price')\">Total\n                    <span v-show=\"indexRequest.column == 'total_price'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('cash')\">Cash Sale\n                    <span v-show=\"indexRequest.column == 'cash'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('type_id')\">Order Type\n                    <span v-show=\"indexRequest.column == 'type_id'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n            </thead>\n            <tbody>\n                <tr v-for=\"sale in sales\" >\n                    <td v-if=\"sale.type_id !== 6 && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">\n                      <a @click=\"printOrder(sale.id)\"><i class='mdi mdi-file'></i></a></td>\n                    <td v-else></td>\n                    <td v-if=\"sale.type_id !== 6 && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\"><a v-bind:href=\"'/orders/' + sale.receipt_id\">{{ sale.receipt_id }}</a></td>\n                    <td v-else>{{ sale.receipt_id }}</td>\n                    <td>{{ sale.created_at | cpStandardDate}}</td>\n                    <td>{{ sale.customer_last_name }}, {{ sale.customer_first_name }}</td>\n                    <td v-if=\"sale.type_id !== 6  && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">{{ sale.subtotal_price | currency }}</td>\n                    <td v-else>{{fulfilledAmount(sale.lines) | currency}}</td>\n                    </td>\n                    <td>{{ sale.total_tax | currency }}</td>\n                    <td>{{ sale.total_shipping | currency }}</td>\n                    <td>{{ sale.total_price | currency }}</td>\n                    <td>\n                        <span v-if=\"sale.cash === 1\">Yes</span>\n                        <span v-if=\"sale.cash === 0\">No</span>\n                    </td>\n                    <td>{{ sale.order_type.name }}</td>\n                </tr>\n            </tbody>\n        </table>\n        <div class=\"align-center\">\n            <div class=\"no-results\" v-if=\"noResults\">\n                <span>No results for this timeframe</span>\n            </div>\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n            <cp-pagination :pagination=\"pagination\" :callback=\"getReptoCustomer\" :offset=\"2\"></cp-pagination>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/reports/AffiliateSalesReport.vue:script


      sms.vComponent('assets/js/components/reports/AffiliateSalesReport.vue', {"name":"CpAffiliateSalesReport","path":"assets/js/components/reports/AffiliateSalesReport.vue"}, (require,exports,module)=>{
        
const Sales = require('../../resources/sales.js')
const moment = require('moment')
const Auth = require('auth')
module.exports = {
  data () {
    return {
      loading: true,
      noResults: false,
      reps: [],
      showDetails: false,
      selectedUser: null,
      salesTotal: null,
      pagination: {
        per_page: 15
      },
      reverseSort: false,
      indexRequest: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        order: 'ASC',
        column: 'last_name',
        per_page: 15,
        search_term: '',
        page: 1,
        name: 'affiliate'
      }
    }
  },
  props: {
    dates: {}
  },
  mounted: function () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
    this.getAffiliateTotals()
    this.getAffiliateIndex()
  },
  methods: {
    getRepIndexandTotals () {
      this.getAffiliateTotals()
      this.getAffiliateIndex()
    },
    getAffiliateTotals () {
      this.indexRequest.start_date = moment(this.dates.start_date).format('YYYY-MM-DD')
      this.indexRequest.end_date = moment(this.dates.end_date).format('YYYY-MM-DD')
      Sales.getAffiliateTotals(this.indexRequest)
        .then((response) => {
          this.salesTotal = response
        })
    },
    getAffiliateIndex () {
      this.loading = true
      this.indexRequest.start_date = moment(this.dates.start_date).format('YYYY-MM-DD')
      this.indexRequest.end_date = moment(this.dates.end_date).format('YYYY-MM-DD')
      this.indexRequest.page = this.pagination.current_page
      this.reps = {}
      Sales.getAffiliateIndex(this.indexRequest)
        .then((response) => {
          if (!response.error) {
            this.reps = response.data
            this.pagination = response
          }
          this.loading = false
        })
    },
    showAffiliateDetails (rep) {
      this.selectedUser = rep
      this.showDetails = true
    },
    hideAffiliateDetails () {
      this.showDetails = false
    },
    sortColumn (column) {
      this.reverseSort = !this.reverseSort
      this.indexRequest.column = column
      this.asc = !this.asc
      if (this.asc === true) {
        this.indexRequest.order = 'asc'
      } else {
        this.indexRequest.order = 'desc'
      }
      this.getAffiliateIndex()
    }
  },
  events: {
    'search_term': function (term) {
      this.indexRequest.search_term = term
      this.pagination.current_page = 1
      this.getAffiliateIndex()
      this.getAffiliateTotals()
    }
  },
  components: {
    CpTotalsBanner: require('../reports/CpTotalsBanner.vue'),
    CpAffiliateDetailsReport: require('../reports/CpAffiliateDetailsReport.vue'),
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"rep-sales-report\">\n    <br>\n    <a class=\"cp-button-link\" v-if=\"!showDetails\" download :href=\"'/api/v1/report/csv/affiliateTotal?search_term=' + indexRequest.search_term + '&column=' + indexRequest.column + '&order=' + indexRequest.order + '&start_date=' + indexRequest.start_date + '&end_date=' + indexRequest.end_date\">Affiliate Sales Totals CSV</a>\n    <a class=\"cp-button-link\" v-if=\"!showDetails\" download :href=\"'/api/v1/report/csv/affiliateOrder?search_term=' + indexRequest.search_term + '&column=' + indexRequest.column + '&order=' + indexRequest.order + '&start_date=' + indexRequest.start_date + '&end_date=' + indexRequest.end_date + '&name=affiliate'\">Affiliate Sales Orders CSV</a>\n       <div class=\"\" v-if=\"!showDetails\">\n        <cp-totals-banner\n        totals-title=\"All Affiliate Sales\"\n        :totals=\"[\n        {title:'Total Affiliate Sales', amount: salesTotal}]\"></cp-totals-banner>\n          <cp-table-controls\n          :date-picker=\"true\"\n          :date-range=\"dates\"\n          :index-request=\"indexRequest\"\n          :resource-info=\"pagination\"\n          :get-records=\"getRepIndexandTotals\"></cp-table-controls>\n      <!-- totals banner -->\n      <!-- data table  -->\n      <table class=\"cp-table-standard\">\n        <thead>\n          <th @click=\"sortColumn('id')\">ID\n            <span v-show=\"indexRequest.column == 'id'\">\n              <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n              <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n            </span>\n          </th>\n          <th @click=\"sortColumn('last_name')\">{{$getGlobal('title_rep').value}}\n            <span v-show=\"indexRequest.column == 'last_name'\">\n              <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n              <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n            </span>\n          </th>\n          <th @click=\"sortColumn('retail_total')\">Total Retail Sales\n            <span v-show=\"indexRequest.column == 'retail_total'\">\n              <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n              <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n            </span>\n          </th>\n        </thead>\n        <tbody>\n          <tr v-for=\"rep in reps\" >\n            <td>{{ rep.id }}</td>\n            <td><a @click=\"showAffiliateDetails(rep)\">{{ rep.full_name }}</a></td>\n            <td>{{ rep.retail_total | currency }}</td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"align-center\">\n        <div class=\"no-results\" v-if=\"noResults\">\n          <span>No results</span>\n        </div>\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        <cp-pagination :pagination=\"pagination\" :callback=\"getAffiliateIndex\" :offset=\"2\"></cp-pagination>\n      </div>\n    </div>\n    <div v-if=\"showDetails\" class=\"show-details\">\n      <h3>{{ selectedUser.full_name }}</h3>\n      <button class=\"cp-button-standard\" v-if=\"showDetails\" @click=\"hideAffiliateDetails()\"><i class=\"mdi mdi-chevron-left\"></i>\nBack to all Affiliate Sales</button>\n    </div>\n    <cp-affiliate-details-report v-if=\"showDetails\" :user-id=\"selectedUser.id\"></cp-affiliate-details-report>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/products/CpCategoryAssignment.vue:script


      sms.vComponent('assets/js/components/products/CpCategoryAssignment.vue', {"name":"CpCategoryAssignment","path":"assets/js/components/products/CpCategoryAssignment.vue"}, (require,exports,module)=>{
        
const Categories = require('../../resources/categories.js')

module.exports = {
  data () {
    return {
      loadingCategories: true,
      parentSelect: null,
      childSelect: null,
      categories: [],
      subCategories: [],
      selectedCategory: {},
      filteredSubcategories: [],
      addedCategoryIds: [],
      newAddedCategories: []
    }
  },
  props: {
    addedCategories: {
      type: Array,
      default () {
        return []
      }
    }
  },
  mounted () {
    this.newAddedCategories = this.addedCategories
    this.getCategories()
    this.getSubCategories()
    this.initCategoryIds()
  },
  methods: {
    initCategoryIds () {
      for (var i = 0; i < this.addedCategories.length; i++) {
        // all previous category ids are needed in the array
        this.addedCategoryIds.push(this.addedCategories[i].id)
      }
      this.$emit('category-ids', this.addedCategoryIds)
    },
    getCategories () {
      this.loadingCategories = true
      Categories.categoriesGet()
        .then((response) => {
          if (!response.error) {
            this.loadingCategories = false
            this.categories = response
          }
        })
    },
    getSubCategories () {
      Categories.subCategoriesGet()
        .then((response) => {
          if (!response.error) {
            this.subCategories = response
          }
        })
    },
    removeCategory (id, index) {
      this.newAddedCategories.splice(index, 1)
      for (var j = 0; j < this.addedCategoryIds.length; j++) {
        if (this.addedCategoryIds[j] === id) {
          this.addedCategoryIds.splice(j, 1)
        }
      }
    },
    addCategory (categoryId) {
      let category = this.obtainCategoryObject(categoryId, this.filteredSubcategories)
      if (category && category.name !== 'None') {
        this.addedCategoryIds.push(category.id)
        this.newAddedCategories.push(category)
      } else {
        let parentCategory = this.obtainCategoryObject(this.parentSelect, this.categories)
        this.addedCategoryIds.push(this.parentSelect)
        this.newAddedCategories.push(parentCategory)
      }
      this.childSelect = 'none'
      this.$emit('category-ids', this.addedCategoryIds)
    },
    obtainCategoryObject (parentId, categoryArray) {
      for (var i = 0; i < categoryArray.length; i++) {
        if (!categoryArray[i].id) {
          continue
        } else if (categoryArray[i].id === parentId || categoryArray[i].id.toString() === parentId) {
          return categoryArray[i]
        }
      }
    },
    filterSubcategories (parentId) {
      let parent = this.obtainCategoryObject(parentId, this.categories)

      this.filteredSubcategories = [
        { name: 'Add Subcategory', id: 'none' },
        { name: 'None', id: null }
      ]
      if (!parent) {
        return []
      }
      for (var i = 0; i < this.subCategories.length; i++) {
        if (parent.id === this.subCategories[i].parent_id || this.subCategories[i].id === 'none') {
          this.filteredSubcategories.push(this.subCategories[i])
        }
      }
    }
  },
  components: {
    CpSelect: require('../../cp-components-common/inputs/CpSelect.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"cp-box-standard category-select-wrapper\">\n    <div class=\"cp-box-heading\">\n      CATEGORIES\n    </div>\n    <div class=\"cp-box-body\">\n      <div class=\"category-select-body\">\n        <div class=\"col\">\n          <cp-select\n          v-if=\"!loadingCategories\"\n          label=\"Select Parent Category\"\n          type=\"text\"\n          :options=\"categories\"\n          :key-value=\"{ name: 'name', value: 'id' }\"\n          v-model=\"parentSelect\"\n          @input=\"filterSubcategories(parentSelect)\"></cp-select>\n        </div>\n        <div class=\"col\">\n          <cp-select\n          label=\"Select Child Category\"\n          type=\"text\"\n          :options=\"filteredSubcategories\"\n          :key-value=\"{ name: 'name', value: 'id' }\"\n          v-model=\"childSelect\"\n          @input=\"addCategory(childSelect)\">\n          </cp-select>\n        </div>\n      </div>\n      <div v-if=\"addedCategories && addedCategories.length > 0\">\n        <h4>ADDED CATEGORIES </h4>\n        <hr />\n      </div>\n      <div class=\"selected-category-list category-select-body\" v-for=\"(category, index) in newAddedCategories\">\n          <span v-if=\"category.parent\" class=\"col\">{{ category.parent.name}}</span>\n          <span v-else class=\"col\">{{ category.name}}</span>\n          <span class=\"col\" v-if=\"category.parent\">{{ category.name }}</span>\n          <i class=\"mdi mdi-close pointer right\" @click=\"removeCategory(category.id, index)\"></i>\n      </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/registration/CpSplashRegistration.vue:script


      sms.vComponent('assets/js/components/registration/CpSplashRegistration.vue', {"name":"CpSplashRegistration","path":"assets/js/components/registration/CpSplashRegistration.vue"}, (require,exports,module)=>{
        
const Payments = require('../../resources/payments.js')
const Step = require('../../libraries/step.js')
// PPA stands for payment process account
module.exports = {
  data: function () {
    return {
      Step: Step,
      einInfo: false,
      accountInfo: false,
      showPaymentAccountModal: false,
      user: this.userInfo,
      disableSubmit: false,
      showModal: false,
      loading: false,
      ppaProcessed: false,
      validationErrors: {},
      foo: 'foo'
    }
  },
  props: {
    userInfo: {
      required: true
    },
    ppa: {   // PAYMENT PROCESS ACCOUNT
      type: Object,
      required: true,
      default () {
        return {
          type: null,
          businessAddress: {},
          businessAccount: {}
        }
      }
    }
  },
  mounted () {
    this.initSteps()
  },
  methods: {
    eInInfo: function () {
      this.$toast("The Employer Identification Number (EIN), also known as the Federal Employer Identification Number (FEIN). If you don't have one please select Sole Proprietor above.", {dismiss: false})
    },
    initSteps () {
      // init steps - only one step should be set to true
      let steps = {
        one: true,
        two: false
      }
      this.Step.init(steps, 300)
    },
    /*
    * cleans dashes from specific numbers
    * @return object
    */
    cleanDashes (inputs) {
      if (inputs.phone) {
        inputs.phone = inputs.phone.replace(/-/g, '').replace(/\(|\)/g, '')
        inputs.phone = parseInt(inputs.phone)
      }
      if (inputs.ein) {
        inputs.ein = inputs.ein.replace(/-/g, '')
        inputs.ein = parseInt(inputs.ein)
      }
      if (inputs.owner.phone) {
        inputs.owner.phone = inputs.owner.phone.replace(/-/g, '').replace(/\(|\)/g, '')
        inputs.owner.phone = parseInt(inputs.owner.phone)
      }
      if (inputs.owner.ssn) {
        inputs.owner.ssn = inputs.owner.ssn.replace(/-/g, '')
      }
      return inputs
    },
    // accept-payments
    processPaymentAccount () {
      this.disableSubmit = true
      this.loading = true
      window.scrollTo(0,0);
      this.validationErrors = {}
      let request = JSON.parse(JSON.stringify(this.ppa))
      if (request.type !== '0') {
        request.provider = 'splash_option_2'
      } else {
        request.name = request.owner.first_name + ' ' + request.owner.last_name
        request.phone = request.owner.phone
        request.provider = 'splash_option_1'
      }
      request.owner.dob = moment(request.owner.dob).format("YYYY-MM-DD")
      if (request.established) {
        request.established = moment(request.established).format("YYYY-MM-DD")
      }
      if (!moment(request.established)) {
        this.loading = false
        this.disableSubmit = false
        this.validationErrors['established'] = ['Invalid date. Example: 2012-12-21'];
      }
      if (!moment(request.owner.dob).isValid()) {
        this.loading = false
        this.disableSubmit = false
        this.validationErrors['owner.dob'] = ['Invalid date. Example: 2012-12-21'];
        return
      }
      request = this.cleanDashes(request)
      Payments.createPaymentProcessingAccount(request)
        .then((response) => {
          this.loading = false
          this.disableSubmit = false
          if (response.error && response.code === 422) {
            this.validationErrors = response.message
            return
          } else if (response.error) {
            this.ppaMessage = response.message
            this.ppaProcessed = true
            return
          }
          console.log('success')
          this.showPaymentAccountModal = false
          this.$emit('account-processed');
          this.$toast('Your payment application was accepted.')
        })
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpInputMask: require('../../cp-components-common/inputs/CpInputMask.vue'),
    CpSelect: require('../../cp-components-common/inputs/CpSelect.vue'),
    CpAddressForm: require('../addresses/CpAddressForm.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"cp-splash-registration-wrapper\">\n       <button class=\"cp-button-standard accept-payment-button\" @click=\"showModal=true\">Accept Payments Now</button>\n       <transition name=\"modal\">\n       <div class=\"cp-modal-standard\" v-if=\"showModal\">\n         <div class=\"cp-modal-body\">\n           <span class=\"close-modal\"><i class=\"mdi mdi-close\" @click=\"showModal=false\"></i></span>\n           <div class=\"step-one\" v-show=\"Step.get('one')\">\n             <h1 class=\"business-title\">What kind of business are you?</h1>\n             <div class=\"business-wrapper\">\n               <div class=\"box cp-panel-standard\">\n               <h2 class=\"title-width\">Sole Proprietor</h2>\n               <div class=\"sol-prop-content\">\n                   <p>The simplest business structure is the sole proprietorship--the IRS classifies most new businesses with only one owner as a sole proprietorship.</p>\n                   <p>If you HAVE NOT formally incorporated or followed a process that makes your business a separate legal entity, the IRS considers your business a sole proprietorship.</p>\n                   <p>If you HAVE NOT applied for a EIN number the IRS will identify your business with your social security number.</p>\n               </div>\n                 <h4>I will submit my business taxes with my Social Security number</h4>\n                 <button type=\"button\"  class=\"cp-button-standard splash\" name=\"button\" @click=\"Step.next(), ppa.type = '0'\">I am a Sole Proprietor</button>\n               </div>\n               <div class=\"box cp-panel-standard\">\n                 <h2 class=\"title-width\">Business or Corporation</h2>\n                 <div class=\"bus-corp-content\">\n                     <p>Any business that has employees must obtain an EIN to file payroll and other taxes. The payroll tax deductions for the employees are filed using the employer identification number.</p>\n                     <p>Some businesses and corporations apply for and reveive and EIN if they would like to keep personal business tax filing under separate tax ID numbers.</p>\n                 </div>\n                 <h4>I submit my company taxes with an EIN number</h4>\n                 <button type=\"button\" class=\"cp-button-standard splash\" name=\"button\" @click=\"Step.next(), ppa.type = '1'\">I am a business or Corporation</button>\n               </div>\n             </div>\n           </div>\n           <div v-show=\"Step.get('two')\">\n             <div v-if=\"!loading && !ppaProcessed\" class=\"splash-get-paid-form\">\n               <div class=\"registration-title\">\n                 <h2>Get Paid</h2>\n                 <h4>We need some basic information to pay you</h4>\n                 <h4><strong>NOTE:</strong> This information must be entered as it appears on your tax return.</h4>\n               </div>\n               <form class=\"cp-form-registration\" @submit.prevent>\n                   <div class=\"col\">\n                     <h5>General Account Information</h5>\n                     <cp-select\n                       label=\"Select your business type\"\n                       :options=\"[\n                         { name: 'Sole Proprietor', value: '0' },\n                         { name: 'Business', value: '1' },\n                         { name: 'Limited Liability Company', value: '2' },\n                         { name: 'Partnership', value: '3' },\n                         { name: 'Association', value: '4' },\n                         { name: 'Non-profit Organiztion', value: '5' },\n                         { name: 'Government Organization', value: '6' }\n                       ]\"\n                       :error=\"validationErrors['type']\"\n                       v-model=\"ppa.type\"></cp-select>\n                         <!-- all others -->\n                         <cp-input v-if=\"ppa.type !== '0'\"\n                           label=\"Business Name\"\n                           type=\"text\"\n                           :error=\"validationErrors['name']\"\n                           v-model=\"ppa.name\"></cp-input>\n                         <cp-input-mask v-if=\"ppa.type !== '0'\"\n                           label=\"Business Phone\"\n                           type=\"text\"\n                           mask=\"(###)-###-####\"\n                           :error=\"validationErrors['phone']\"\n                           v-model=\"ppa.phone\"></cp-input-mask>\n                         <cp-input v-if=\"ppa.type !== '0'\"\n                           label=\"Date Established\"\n                           type=\"date\"\n                           :error=\"validationErrors['established']\"\n                           v-model=\"ppa.established\"></cp-input>\n                         <cp-input-mask\n                           v-if=\"ppa.type !== '0'\"\n                           label=\"EIN\"\n                           mask=\"##-#######\"\n                           type=\"text\"\n                           :error=\"validationErrors['ein']\"\n                           v-model=\"ppa.ein\"></cp-input-mask>\n                           <p v-if=\"ppa.type !== '0'\"><i class=\"mdi mdi-help-circle\" @click=\"eInInfo()\"></i>What is an EIN</p>\n                           <cp-input\n                           label=\"DBA (Doing Business As)\"\n                           type=\"text\"\n                           :error=\"validationErrors['dba']\"\n                           v-model=\"ppa.dba\"></cp-input>\n                         <h5>Business Address</h5>\n                         <cp-address-form\n                           :address=\"ppa.address\"\n                           :validation-errors=\"validationErrors\"\n                           :address-type=\"'address'\"\n                           :hide-name-field=\"true\"></cp-address-form>\n                         <h5>Tell us where to send your money</h5>\n                         <cp-input\n                           label=\"Routing Number\"\n                           type=\"text\"\n                           :error=\"validationErrors['account.routing']\"\n                           v-model=\"ppa.account.routing\"></cp-input>\n                         <cp-input\n                           label=\"Account Number\"\n                           type=\"text\"\n                           :error=\"validationErrors['account.number']\"\n                           v-model=\"ppa.account.number\"></cp-input>\n                         <cp-select\n                           label=\"Account Type\"\n                           :options=\"[\n                             { name: 'Checking', value: 'checking' },\n                             { name: 'Savings', value: 'savings' }\n                           ]\"\n                           :error=\"validationErrors['account.type']\"\n                           v-model=\"ppa.account.type\"></cp-select>\n                     </div>\n                     <div class=\"col\">\n                         <h5>Business Owner</h5>\n                         <cp-input\n                         label=\"First Name\"\n                         type=\"text\"\n                         :error=\"validationErrors['owner.first_name']\"\n                         v-model=\"ppa.owner.first_name\"></cp-input>\n                         <cp-input\n                         label=\"Last Name\"\n                         type=\"text\"\n                         :error=\"validationErrors['owner.last_name']\"\n                         v-model=\"ppa.owner.last_name\"></cp-input>\n                         <cp-input\n                         label=\"Date of Birth\"\n                         placeholder=\"Example: 1986-12-21\"\n                         type=\"date\"\n                         :error=\"validationErrors['owner.dob']\"\n                         v-model=\"ppa.owner.dob\"></cp-input>\n                         <cp-input-mask\n                           label=\"Phone\"\n                           mask=\"(###)-###-####\"\n                           :error=\"validationErrors['owner.phone']\"\n                           v-model=\"ppa.owner.phone\"></cp-input-mask>\n                         <cp-input\n                         label=\"Email\"\n                         type=\"text\"\n                         :error=\"validationErrors['owner.email']\"\n                         v-model=\"ppa.owner.email\"></cp-input>\n                         <cp-input v-if=\"ppa.type !== '0'\"\n                         label=\"Percentage of Ownership\"\n                         type=\"number\"\n                         placeholder=\"%\"\n                         :error=\"validationErrors['owner.ownership']\"\n                         v-model=\"ppa.owner.ownership\"></cp-input>\n                         <cp-input-mask\n                         label=\"SSN\"\n                         mask=\"###-##-####\"\n                         :error=\"validationErrors['owner.ssn']\"\n                         v-model=\"ppa.owner.ssn\"></cp-input-mask>\n                         <div v-if=\"ppa.type !== '0'\">\n                         <h5>Business Owner's Address</h5>\n                         <cp-address-form\n                         :address=\"ppa.owner.address\"\n                         :validation-errors=\"validationErrors\"\n                         :address-type=\"'owner.address'\"\n                         :hide-name-field=\"true\"></cp-address-form>\n                     </div>\n\n                        <div class=\"complience-box\">\n                             <h4>In a few moments you can be accepting Visa, Mastercard, Discover and American Express for one low rate.</h4>\n                         <p class=\"complience-bullets\">\n                         <span>• No long term commitment </span><span>• No Credit Check </span><span>• No Monthly Fees</span></p>\n                         <div class=\"complience-info\">\n                             <span class=\"complience-info-left-num\">2.75% + .15¢</span>|\n                             <span class=\"complience-info-right-num\">3.50% +.15¢</span>\n                                <br>\n                            <span class=\"complience-info-1\">PER SWIPE, DIP OR TAP</span>\n                            <span class=\"complience-info-2\">PER KEYED-IN TRANSACTION</span>\n                         </div>\n                            <br>\n                         <div class=\"center\">\n                             <p>Our express credit card processing program is provided by Splash Payments and is designed to get you processing as soon as possible.</p>\n                             <p><b>By submitting this form you are agreeing to the following <a href=\"https://portal.splashpayments.com/terms\">terms</a></b></p>\n                         </div>\n                        </div>\n\n                       </div>\n                 </form>\n             </div>\n             <div class=\"cp-modal-controls\">\n               <button class=\"cp-button-standard right\" name=\"submit-ppa\" v-if=\"!ppaProcessed\"  @click=\"processPaymentAccount()\" :disabled=\"disableSubmit\">Submit</button>\n               <button class=\"cp-button-standard right\" name=\"submit-ppa\" v-if=\"ppaProcessed\" @click=\"showPaymentAccountModal = false, showPaymentAccountModal = true, ppaProcessed = false\">Try Again</button>\n               <button class=\"cp-button-standard left\" name=\"cancel-ppa\" @click=\"Step.skipTo('one'), ppaProcessed = false\">Back</button>\n             </div>\n           </div>\n           <div class=\"align-center\" v-if=\"loading\">\n             Processing your application. Please Wait.\n             <br />\n             <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\">\n           </div>\n           <div class=\"align-center\">\n             <p class=\"ppa-message\" v-if=\"ppaProcessed\">{{ ppaMessage }}</p>\n             <br />\n           </div>\n         </div>\n       </div>\n     </transition>\n     </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/reports/CpCorpCustomersReport.vue:script


      sms.vComponent('assets/js/components/reports/CpCorpCustomersReport.vue', {"name":"CpCorpCustomersReport","path":"assets/js/components/reports/CpCorpCustomersReport.vue"}, (require,exports,module)=>{
        
const Sales = require('../../resources/sales.js')
const moment = require('moment')
const Auth = require('auth')
const CpOrdersFile = require('../../libraries/CpOrdersFile.js')

module.exports = {
  data: function () {
    return {
      noResults: false,
      loading: false,
      sales: [],
      pagination: {
        per_page: 15
      },
      asc: false,
      indexRequest: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        order: 'DESC',
        column: 'created_at',
        per_page: 15,
        search_term: '',
        page: 1,
        name: 'customer'
      },
      reverseSort: true,
      Auth: Auth,
      salesTotals: {}
    }
  },
  props: {
    dates: {}
  },
  computed: {},
  mounted: function () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
    this.getSales()
    this.getCorpTotal()
  },
  methods: {
    getCorpTotal () {
      Sales.getCorpTotal(this.indexRequest)
        .then((response) => {
          this.salesTotals = response
        })
    },
    getSalesAndTotals () {
      this.getSales()
      this.getCorpTotal()
    },
    getSales: function () {
      this.loading = true
      this.indexRequest.start_date = moment(this.dates.start_date).format('YYYY-MM-DD')
      this.indexRequest.end_date = moment(this.dates.end_date).format('YYYY-MM-DD')
      this.indexRequest.page = this.pagination.current_page
      this.sales = {}
      Sales.getCustIndex(this.indexRequest)
        .then((response) => {
          if (response.error) {
            return this.$toast(response.message, { error: true })
          }
          if (response.total === 0) {
            this.noResults = true
            setTimeout(function () {
              this.noResults = false
            }.bind(this), 3000)
          }
          this.loading = false
          this.sales = response.data
          response.per_page = parseInt(response.per_page)
          this.pagination = response
        })
    },
    
    fulfilledAmount: function (lines) {
      var amount = 0
      lines.forEach(function (line) {
        amount = amount + line.price
      })
      this.saleAmount = amount
      return this.saleAmount
    },
    sortColumn: function (column) {
      this.reverseSort = !this.reverseSort
      this.indexRequest.column = column
      this.asc = !this.asc
      if (this.asc === true) {
        this.indexRequest.order = 'asc'
      } else {
        this.indexRequest.order = 'desc'
      }
      this.getSales()
    },
    printOrder: function (orderId) {
      new CpOrdersFile(null, ['pdf'], 'order', {orderId: orderId}).run()
    }
  },
  components: {
    CpTotalsBanner: require('../reports/CpTotalsBanner.vue'),
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"sales-index-wrapper\">\n        <cp-table-controls\n        :date-picker=\"true\"\n        :date-range=\"dates\"\n        :index-request=\"indexRequest\"\n        :resource-info=\"pagination\"\n        :get-records=\"getSalesAndTotals\"></cp-table-controls>\n\n        <!-- data table  -->\n\n        <table class=\"cp-table-standard desktop\">\n            <thead>\n                \n                <th @click=\"sortColumn('created_at')\">Date of Sale\n                    <span v-show=\"indexRequest.column == 'created_at'\">\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n\n                <th @click=\"sortColumn('receipt_id')\">Receipt ID\n                    <span v-show=\"indexRequest.column == 'receipt_id'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                \n                <th @click=\"sortColumn('last_name')\">Customer Name\n                    <span v-show=\"indexRequest.column == 'last_name'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('subtotal_price')\">Subtotal\n                    <span v-show=\"indexRequest.column == 'subtotal_price'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('total_tax')\">Tax\n                    <span v-show=\"indexRequest.column == 'total_tax'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('total_shipping')\">Shipping\n                    <span v-show=\"indexRequest.column == 'total_shipping'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('total_price')\">Total\n                    <span v-show=\"indexRequest.column == 'total_price'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('sponsor_id')\">Sponsor ID\n                    <span v-show=\"indexRequest.column == 'sponsor_id'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('sponsorname')\">Sponsor Name\n                    <span v-show=\"indexRequest.column == 'seller_name'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    </span>\n                </th>\n            </thead>\n            <tbody>\n                <tr v-for=\"sale in sales\" >\n                    <td>{{ sale.created_at | cpStandardDate}}</td>  \n                    <td v-if=\"sale.type_id !== 6 && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\"><a v-bind:href=\"'/orders/' + sale.receipt_id\">{{ sale.receipt_id }}</a></td>\n                    <td v-else>{{ sale.receipt_id }}</td>\n                    <td>{{ sale.customer_last_name }}, {{ sale.customer_first_name }}</td>\n                    <td v-if=\"sale.type_id !== 6  && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">{{ sale.subtotal_price | currency }}</td>\n                    <td v-else>{{fulfilledAmount(sale.lines) | currency}}</td>\n                    <td>{{ sale.total_tax | currency }}</td>\n                    <td>{{ sale.total_shipping | currency }}</td>\n                    <td>{{ sale.total_price | currency }}</td>\n                    <td>{{ sale.store_owner_user_id }}</td>\n                    <td>{{ sale.seller_name }}</td>\n                </tr>\n            </tbody>\n        </table>\n        <section class=\"cp-table-mobile\">\n            <div v-for=\"sale in sales\">\n                <div>\n                    <span>Date of Sale: </span><span>{{ sale.created_at | cpStandardDate}}</span>\n                </div>\n                <div>\n                    <span v-if=\"sale.type_id !== 6 && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">Receipt Id:<a v-bind:href=\"'/orders/' + sale.receipt_id\">{{ sale.receipt_id }}</a></span><span v-else>{{ sale.receipt_id }}></span>\n                </div>\n                <div>\n                    <span>Customer Name: </span>\n                    <span>{{ sale.customer_last_name }}, {{ sale.customer_first_name }}</span>\n                </div>\n                <div>\n                    <span> Subtotal: </span>\n                    <span v-if=\"sale.type_id !== 6  && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">{{ sale.subtotal_price | currency }}</span>\n                    <span v-else>{{fulfilledAmount(sale.lines) | currency}}></span>\n                </div>\n                <div>\n                    <span>Tax: </span>\n                    <span>{{ sale.total_tax | currency }}</span>\n                </div>\n                <div>\n                    <span>Shipping: </span><span>{{ sale.total_shipping | currency }}</span>\n                </div>\n                <div>\n                    <span>Total: </span><span>{{ sale.total_price | currency }}</span>\n                </div>\n                <div>\n                    <span>Sponsor ID: </span>\n                    <span>{{ sale.store_owner_user_id }}</span>\n                </div>\n\n                <div>\n                    <span>Sponser Name: </span><span>{{ sale.seller_name }}</span>\n                </div>\n            </div>\n        </section>\n        <div class=\"align-center\">\n          <div class=\"no-results\" v-if=\"noResults\">\n            <span>No results for this timeframe</span>\n          </div>\n          <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n          <cp-pagination\n          :pagination=\"pagination\"\n          :callback=\"getSales\"\n          :offset=\"2\"></cp-pagination>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/rep-locator/RepStoreLocator.vue:script

sms.vComponent('assets/js/components/rep-locator/RepStoreLocator.vue', { name: 'CpRepStoreLocator', routing: { name: 'public.CpRepStoreLocator', meta: { title: 'Store Locator', noauth: true }, path: '/store-locator', props: true } }, (require, exports, module)=>{

// require('marker-clusterer-plus')
const _ = require('lodash')

const Steps = require('../../libraries/step.js')
const Locator = require('../../resources/repLocator.js')
const GoogleMaps = require('../../resources/googleMaps.js')

var VueGoogleMaps = require('../../cp-components-common/temp-dependencies/vue-google-maps.js')
window.Vue.use(VueGoogleMaps, {
  load: {
    key: 'AIzaSyA5myQbIe_OrEoNzYXUhX46Ly3qNKj6d-8'
  }
})

module.exports = {
  data () {
    return {
      reps: [],
      loading: false,
      noResults: true,
      steps: Steps,
      browserLocation: { lng: null, lat: null },
      pagination: {},
      showMap: false,
      searchTerm: '',
      locatorMessage: false,
      center: {
        lat: 42,
        lng: -111.6946
      },
      markers: [{
        position: {
          lat: 10.0,
          lng: 10.0
        }
      }, {
        position: {
          lat: 40.326108,
          lng: -111.6811111
        }
      }]
    }
  },
  computed:{
      markersWithGeocodes: function() {
          return this.markers.filter(function(user) {
              return user.latitude !== null && user.longitude !== null;
          })
      }
  },
  mounted () {
    this.getBrowserLocation()
    let steps = {
      name: false,
      zip: true
    }
    this.steps.init(steps, 300)
  },
  methods: {
    sendToStore (url) {
      window.location = url
    },
    getZipCode (geocode) {
      var indexofstring
      var zip
      GoogleMaps.getAddressFromGeocode(geocode.lat, geocode.lng)
        .then((response) => {
          if (response.error) {
            return
          } else if (response.results && response.results.length > 0) {
            for (var i = 0; i < response.results.length; i++) {
              indexofstring = response.results[i].formatted_address.search(/\d{5}/)
              if (indexofstring !== -1) {
                zip = response.results[i].formatted_address.slice(indexofstring, indexofstring + 5)
                this.searchReps({ zip: zip })
                break
              }
            }
          }
        })
      return zip
    },
    getBrowserLocation () {
      // check for user's location
      if ('geolocation' in navigator && window.location.protocol === 'https:') {
        this.loading = true
        navigator.geolocation.getCurrentPosition((pos) => {
          this.browserLocation.lng = pos.coords.longitude
          this.browserLocation.lat = pos.coords.latitude
          this.center = this.browserLocation
          this.getZipCode(this.browserLocation)
        }, (error) => {
          this.loading = false;
          this.$toast('Service could not obtain your current location. Try entering a zipcode.', {dismiss: false})
          this.searchReps()
        })
      } else {
        this.searchReps()
      }
    },
    searchReps: _.debounce(function (request) {
      this.locatorMessage = false
      this.loading = true
      this.reps = []
      this.markers = []
      if (request) {
        var zip = request.zip
      }
      Locator.searchReps(request)
        .then((response) => {
          this.loading = false
          if (response.error) {
            this.$toast(response.message, { error: true })
            return
          }
          if (zip) {
            this.getGeocodeForCenter(zip)
          }
          this.handle200Response(response)
        })
    }, 300),
    getGeocodeForCenter (zipcode) {
      GoogleMaps.getGeocodeFromZipCode(zipcode)
        .then((response) => {
          if (response.status === "OK" && response.results.length > 0) {
            this.center.lat = response.results[0].geometry.location.lat
            this.center.lng = response.results[0].geometry.location.lng
          }
        })
    },
    handle200Response (response) {
      // check for what type of results we were able to receive
      this.noResults = false
      if (response.distance_results && response.distance_results.length > 0) {
        this.reps = response.distance_results
        this.markers = response.distance_results
      } else if (response.random_results && response.random_results.length > 0) {
        this.locatorMessage = true
        this.reps = response.random_results
        this.markers = response.random_results
      } else {
        this.noResults = true
      }
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue')
  }
}

;module.exports.template = "\n  <section class=\"rep-locator-wrapper\">\n    <div class=\"main-locator-content\">\n      <div class=\"rep-locator-header\">\n        <h1>Find a {{ $getGlobal('title_rep').value }}</h1>\n        <br>\n      </div>\n      <div class=\"rep-search-by-toggle\">\n        <button\n        class=\"col\"\n        :class=\"{ active: steps.get('zip') }\"\n        @click=\"steps.skipTo('zip'), searchTerm = ''\">ZIP Code</button>\n        <button\n        class=\"col\"\n        :class=\"{ active: steps.get('name') }\"\n        @click=\"steps.skipTo('name'), searchTerm = ''\">Name</button>\n      </div>\n      <form class=\"cp-form-standard rep-search-form\" @submit.prevent>\n        <div class=\"col-auto\">\n          <cp-input\n          v-show=\"steps.get('zip')\"\n          type=\"text\"\n          placeholder=\"Search by ZIP code\"\n          @keyup.enter=\"searchReps({ zip: searchTerm })\"\n          v-model=\"searchTerm\"></cp-input>\n          <cp-input\n          v-show=\"steps.get('name')\"\n          type=\"text\"\n          placeholder=\"Search by name\"\n          @keyup.enter=\"searchReps({ name: searchTerm })\"\n          v-model=\"searchTerm\"></cp-input>\n        </div>\n        <button class=\"cp-button-standard search-button\" v-if=\"steps.get('zip')\" @click=\"searchReps({ zip: searchTerm })\" :disabled=\"loading\">Search</button>\n        <button class=\"cp-button-standard search-button\" v-if=\"steps.get('name')\" @click=\"searchReps({ name: searchTerm })\" :disabled=\"loading\">Search</button>\n      </form>\n      <div class=\"align-center\">\n        <div class=\"no-results cp-panel-standard\" v-if=\"locatorMessage && !loading\">\n          <span>We could not find any matching {{$getGlobal('title_rep').value}}. Please try one of these random stores or try searching again: </span>\n        </div>\n        <div class=\"no-results\" v-if=\"noResults && !loading\">\n          <span>No results</span>\n        </div>\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n      </div>\n      <table class=\"rep-search-results\" v-show=\"!showMap\">\n        <tr v-for=\"rep in reps\" :key=\"rep.public_id\" @click=\"sendToStore(rep.domain)\">\n          <td>{{ rep.first_name }} {{ rep.last_name}}\n            <br>\n            <small>Online store: <a href=\"#\">{{ rep.domain }}</a></small>\n          </td>\n          <td v-if=\"rep.distance || rep.distance === 0\">{{ rep.distance.toFixed(1) }} miles</td>\n          <td v-else></td>\n        </tr>\n      </table>\n      <div class=\"google-map-section\" v-if=\"$getGlobal('rep_locator_map_view').show\">\n        <gmap-map\n        v-if=\"showMap && !loading\"\n        :center=\"center\"\n        :zoom=\"7\"\n        map-type-id=\"roadmap\"\n        style=\"width: 95%; height: 375px; margin: 0 auto;\">\n        <gmap-marker\n        v-for=\"(mark, key) in markersWithGeocodes\"\n        :key=\"mark.public_id\"\n        :position=\"{ lat: mark.latitude, lng: mark.longitude }\"\n        :clickable=\"true\"\n        :draggable=\"false\"\n        :label=\"mark.first_name + ' ' + mark.last_name\"\n        :title=\"mark.first_name + ' ' + mark.last_name\"\n        @click=\"sendToStore(mark.domain)\"></gmap-marker>\n      </gmap-map>\n    </div>\n    </div>\n    <div class=\"rep-search-buttons cp-panel-standard\" v-if=\"$getGlobal('rep_locator_map_view').show\">\n      <button class=\"cp-button-standard\" @click=\"showMap = !showMap\" v-show=\"!showMap\">MAP</button>\n      <button class=\"cp-button-standard\" @click=\"showMap = !showMap\" v-show=\"showMap\">LIST</button>\n    </div>\n  </section>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/reports/CpRepSalesReport.vue:script


      sms.vComponent('assets/js/components/reports/CpRepSalesReport.vue', {"name":"CpRepSalesReport","path":"assets/js/components/reports/CpRepSalesReport.vue"}, (require,exports,module)=>{
        
const Sales = require('../../resources/sales.js')
const moment = require('moment')
const Auth = require('auth')

module.exports = {
  data () {
    return {
      noResults: false,
      loading: true,
      reps: [],
      showDetails: false,
      selectedUser: null,
      salesTotal: null,
      pagination: {
        per_page: 15
      },
      reverseSort: false,
      indexRequest: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        order: 'ASC',
        column: 'last_name',
        per_page: 15,
        search_term: '',
        page: 1,
        name: 'rep'
      }
    }
  },
  props: {
    dates: {}
  },
  mounted: function () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
    this.getRepTotals()
    this.getRepIndex()
  },
  methods: {
    getRepIndexandTotals () {
      this.getRepTotals()
      this.getRepIndex()
    },
    getRepTotals () {
      this.indexRequest.start_date = moment(this.dates.start_date).format('YYYY-MM-DD')
      this.indexRequest.end_date = moment(this.dates.end_date).format('YYYY-MM-DD')
      Sales.getRepTotals(this.indexRequest)
        .then((response) => {
          this.salesTotal = response
        })
    },
    getRepIndex () {
      this.loading = true
      this.indexRequest.start_date = moment(this.dates.start_date).format('YYYY-MM-DD')
      this.indexRequest.end_date = moment(this.dates.end_date).format('YYYY-MM-DD')
      this.indexRequest.page = this.pagination.current_page
      this.reps = {}
      Sales.getRepIndex(this.indexRequest)
      .then((response) => {
        if (!response.error) {
          this.reps = response.data
          this.pagination = response
        }
        if (response.total === 0) {
          this.noResults = true
          setTimeout(function () {
            this.noResults = false
          }.bind(this), 3000)
        }
        this.loading = false
      })
    },
    showRepDetails (rep) {
      this.selectedUser = rep
      this.showDetails = true
    },
    hideRepDetails () {
      this.showDetails = false
    },
    sortColumn (column) {
      this.reverseSort = !this.reverseSort
      this.indexRequest.column = column
      this.asc = !this.asc
      if (this.asc === true) {
        this.indexRequest.order = 'asc'
      } else {
        this.indexRequest.order = 'desc'
      }
      this.getRepIndex()
    }
  },
  events: {
    'search_term': function (term) {
      this.indexRequest.search_term = term
      this.pagination.current_page = 1
      this.getRepIndex()
      this.getRepTotals()
    }
  },
  components: {
    CpTotalsBanner: require('../reports/CpTotalsBanner.vue'),
    CpRepDetailsReport: require('../reports/CpRepDetailsReport.vue'),
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"rep-sales-report\">\n    <br>\n    <a v-if=\"!showDetails\" class=\"cp-button-link\" download :href=\"'/api/v1/report/csv/repTotal?search_term=' + indexRequest.search_term + '&column=' + indexRequest.column + '&order=' + indexRequest.order + '&start_date=' + indexRequest.start_date + '&end_date=' + indexRequest.end_date\">{{$getGlobal('title_rep').value}} Sales Totals CSV</a>\n    <a v-if=\"!showDetails\" class=\"cp-button-link\" download :href=\"'/api/v1/report/csv/repOrder?search_term=' + indexRequest.search_term + '&column=' + indexRequest.column + '&order=' + indexRequest.order + '&start_date=' + indexRequest.start_date + '&end_date=' + indexRequest.end_date + '&name=' + indexRequest.name\">{{$getGlobal('title_rep').value}} Sales Orders CSV</a>\n\n\n      <div class=\"\" v-if=\"!showDetails\">\n        <!-- totals banner -->\n        <cp-totals-banner\n        totals-title=\"All Representative Sales\"\n        :totals=\"[\n        {title:'Total Rep Sales', amount: salesTotal}]\"></cp-totals-banner>\n        <!--date picker -->\n        <cp-table-controls\n        :date-picker=\"true\"\n        :date-range=\"dates\"\n        :index-request=\"indexRequest\"\n        :resource-info=\"pagination\"\n        :get-records=\"getRepIndexandTotals\"></cp-table-controls>\n\n      <!-- data table  -->\n      <table class=\"cp-table-standard\">\n        <thead>\n          <th @click=\"sortColumn('id')\">ID\n            <span v-show=\"indexRequest.column == 'id'\">\n              <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n              <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n            </span>\n          </th>\n          <th @click=\"sortColumn('last_name')\">{{$getGlobal('title_rep').value}}\n            <span v-show=\"indexRequest.column == 'last_name'\">\n              <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n              <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n            </span>\n          </th>\n          <th @click=\"sortColumn('retail_total')\">Total Retail Sales\n            <span v-show=\"indexRequest.column == 'retail_total'\">\n              <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n              <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n            </span>\n          </th>\n        </thead>\n        <tbody>\n          <tr v-for=\"rep in reps\" >\n            <td>{{ rep.id }}</td>\n            <td><a @click=\"showRepDetails(rep)\">{{ rep.last_name + ', ' + rep.first_name }}</a></td>\n            <td>{{ rep.retail_total | currency }}</td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"align-center\">\n        <div class=\"no-results\" v-if=\"noResults\">\n          <span>No results for this timeframe</span>\n        </div>\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        <cp-pagination\n        :pagination=\"pagination\"\n        :callback=\"getRepIndex\"\n        :offset=\"2\"></cp-pagination>\n      </div>\n    </div>\n    <div v-if=\"showDetails\" class=\"show-details\">\n      <h3>{{ selectedUser.full_name }}</h3>\n      <button class=\"cp-button-standard\" v-if=\"showDetails\" @click=\"hideRepDetails()\"><i class=\"mdi mdi-chevron-left\"></i>\nBack to all Rep Sales</button>\n    </div>\n    <cp-rep-details-report v-if=\"showDetails\" :user-id=\"selectedUser.id\"></cp-rep-details-report>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/reports/CpRepTransfersReport.vue:script


      sms.vComponent('assets/js/components/reports/CpRepTransfersReport.vue', {"name":"CpRepTransfersReport","path":"assets/js/components/reports/CpRepTransfersReport.vue"}, (require,exports,module)=>{
        
    const Sales = require('../../resources/sales.js')
    const moment = require('moment')
    const Auth = require('auth')
    const CpOrdersFile = require('../../libraries/CpOrdersFile.js')

    module.exports = {
        data: function () {
            return {
                noResults: false,
                loading: false,
                sales: [],
                pagination: {
                    per_page: 15
                },
                asc: false,
                indexRequest: {
                    start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
                    end_date: moment().format('YYYY-MM-DD'),
                    order: 'DESC',
                    column: 'created_at',
                    per_page: 15,
                    search_term: '',
                    page: 1,
                    name: 'customer'
                },
                reverseSort: true,
                Auth: Auth,
                salesTotals: {}
            }
        },
        props: {
            dates: {}
        },
        computed: {},
        mounted: function () {
            Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
            this.getSalesAndTotals()
        },
        methods: {
            downloadcsvreport(search_term, column, order, start_date, end_date) {
                const regex = /attachment;\s*filename=(['"])([^\1]*)\1/i
                const url = '/api/v1/report/csv/corp?search_term=' + search_term + '&:column=' + column + '&order=' + order + '&start_date=' + start_date + '&end_date=' + end_date;
                const download = '/api/v1/report/csv/corp?search_term=' + search_term + '&:column=' + column + '&order=' + order + '&start_date=' + start_date + '&end_date=' + end_date;
                const anchor = document.createElement('a')
                const token = (window.localStorage.getItem('jwt_token') || '')
                const headers = new window.Headers()
                const options = { headers }
                options.credentials = 'include'
                headers.append('Authorization', `Bearer ${token}`)
                let filename = 'filename.ext'
                this.loading = true
                window.fetch(url, options)
                    .then(res => {
                        filename = ((res.headers.get('Content-Disposition') || '').match(regex) || [])[2]
                        return res.blob()
                    })
                    .then((blobby) => {
                        const blob = new Blob([blobby], {
                            type: 'text/csv'
                        });
                        var iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
                        if (iOS) {
                            let url = window.URL.createObjectURL(blob);
                            window.open(url, filename, "_blank");
                        }
                        else {
                            const blobUrl = window.URL.createObjectURL(blob)
                            anchor.href = blobUrl
                            anchor.download = filename
                            anchor.target = '_self'
                            anchor.style.display = 'none'
                            window.document.body.append(anchor)
                            anchor.click()
                            window.URL.revokeObjectURL(blobUrl)
                            anchor.remove()
                        }
                        this.loading = false
                    })
            },
            sendemailcsvreport(search_term, column, order, start_date, end_date) {
                const regex = /attachment;\s*filename=(['"])([^\1]*)\1/i
                const url = '/api/v1/report/csv/corpsendmail?search_term=' + search_term + '&:column=' + column + '&order=' + order + '&start_date=' + start_date + '&end_date=' + end_date;
                const download = '/api/v1/report/csv/corpsendmail?search_term=' + search_term + '&:column=' + column + '&order=' + order + '&start_date=' + start_date + '&end_date=' + end_date;
                const anchor = document.createElement('a')
                const token = (window.localStorage.getItem('jwt_token') || '')
                const headers = new window.Headers()
                const options = { headers }
                options.credentials = 'include'
                headers.append('Authorization', `Bearer ${token}`)
                let filename = 'filename.ext'
                this.loading = true
                window.fetch(url, options)
                    .then(res => {
                        filename = ((res.headers.get('Content-Disposition') || '').match(regex) || [])[2]
                        return res.blob()
                    })
                    .then((blobby) => {
                        alert("mail sent successfully");
                        this.loading = false
                    })
            },
            getRepTransferTotal() {
                Sales.getRepTransferTotals(this.indexRequest)
                    .then((response) => {
                        this.salesTotals = response
                    })
            },
            getSalesAndTotals() {
                this.getSales()
                this.getRepTransferTotal()
            },
            getSales: function () {
                this.loading = true
                this.indexRequest.start_date = moment(this.dates.start_date).format('YYYY-MM-DD')
                this.indexRequest.end_date = moment(this.dates.end_date).format('YYYY-MM-DD')
                this.indexRequest.page = this.pagination.current_page
                this.sales = {}
                Sales.getRepTransferIndex(this.indexRequest)
                    .then((response) => {
                        if (response.error) {
                            return this.$toast(response.message, { error: true })
                        }
                        if (response.total === 0) {
                            this.noResults = true
                            setTimeout(function () {
                                this.noResults = false
                            }.bind(this), 3000)
                        }
                        this.loading = false
                        this.sales = response.data
                        response.per_page = parseInt(response.per_page)
                        this.pagination = response
                    })
            },
            fulfilledAmount: function (lines) {
                var amount = 0
                lines.forEach(function (line) {
                    amount = amount + line.price
                })
                this.saleAmount = amount
                return this.saleAmount
            },
            sortColumn: function (column) {
                this.reverseSort = !this.reverseSort
                this.indexRequest.column = column
                this.asc = !this.asc
                if (this.asc === true) {
                    this.indexRequest.order = 'asc'
                } else {
                    this.indexRequest.order = 'desc'
                }
                this.getSales()
            },
            printOrder: function (orderId) {
                new CpOrdersFile(null, ['pdf'], 'order', { orderId: orderId }).run()
            }
        },
        components: {
            CpTotalsBanner: require('../reports/CpTotalsBanner.vue'),
            CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue')
        }
    }
;
        module.exports.template = "\n    <div class=\"sales-index-wrapper\">\n        <br>\n\n        <!-- totals banner -->\n        <cp-totals-banner totals-title=\"All Rep Transfers\"\n                          :totals=\"[{title:'Total Rep Transfers', amount: salesTotals.rep_transfers}]\">\n        </cp-totals-banner>\n\n        <cp-table-controls :date-picker=\"true\"\n                           :date-range=\"dates\"\n                           :index-request=\"indexRequest\"\n                           :resource-info=\"pagination\"\n                           :get-records=\"getSalesAndTotals\"></cp-table-controls>\n\n        <!-- data table  -->\n\n        <table class=\"cp-table-standard desktop\">\n            <thead>\n            <th>PDF</th>\n            <th @click=\"sortColumn('receipt_id')\">\n                Receipt ID\n                <span v-show=\"indexRequest.column == 'receipt_id'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n            </th>\n            <th @click=\"sortColumn('created_at')\">\n                Date of Sale\n                <span v-show=\"indexRequest.column == 'created_at'\">\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n            </th>\n            <th @click=\"sortColumn('last_name')\">\n                Customer Name\n                <span v-show=\"indexRequest.column == 'last_name'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n            </th>\n            <th @click=\"sortColumn('subtotal_price')\">\n                Subtotal\n                <span v-show=\"indexRequest.column == 'subtotal_price'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                </span>\n            </th>\n            <th @click=\"sortColumn('total_tax')\">\n                Tax\n                <span v-show=\"indexRequest.column == 'total_tax'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                </span>\n            </th>\n            <th @click=\"sortColumn('total_shipping')\">\n                Shipping\n                <span v-show=\"indexRequest.column == 'total_shipping'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                </span>\n            </th>\n            <th @click=\"sortColumn('total_price')\">\n                Total\n                <span v-show=\"indexRequest.column == 'total_price'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                </span>\n            </th>\n            <th @click=\"sortColumn('cash')\">\n                Cash Sale\n                <span v-show=\"indexRequest.column == 'cash'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n            </th>\n            <th @click=\"sortColumn('type_id')\">\n                Order Type\n                <span v-show=\"indexRequest.column == 'type_id'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n            </th>\n            </thead>\n            <tbody>\n                <tr v-for=\"sale in sales\">\n                    <td v-if=\"sale.type_id !== 6 && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">\n                        <a @click=\"printOrder(sale.id)\"><i class='mdi mdi-file'></i></a>\n                    </td>\n                    <td v-else></td>\n                    <td v-if=\"sale.type_id !== 6 && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\"><a v-bind:href=\"'/orders/' + sale.receipt_id\">{{ sale.receipt_id }}</a></td>\n                    <td v-else>{{ sale.receipt_id }}</td>\n                    <td>{{ sale.created_at | cpStandardDate}}</td>\n                    <td>{{ sale.customer_last_name }}, {{ sale.customer_first_name }}</td>\n                    <td v-if=\"sale.type_id !== 6  && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">{{ sale.subtotal_price | currency }}</td>\n                    <td v-else>{{fulfilledAmount(sale.lines) | currency}}</td>\n                    <td>{{ sale.total_tax | currency }}</td>\n                    <td>{{ sale.total_shipping | currency }}</td>\n                    <td>{{ sale.total_price | currency }}</td>\n                    <td>\n                        <span v-if=\"sale.cash === 1\">Yes</span>\n                        <span v-if=\"sale.cash === 0\">No</span>\n                    </td>\n                    <td>{{ sale.order_type.name }}</td>\n                </tr>\n            </tbody>\n        </table>\n        <section class=\"cp-table-mobile\">\n            <div v-for=\"sale in sales\">\n                <div>\n                    <span v-if=\"sale.type_id !== 6 && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">\n                        PDF:\n                        <a @click=\"printOrder(sale.id)\"><i class='mdi mdi-file-empty'></i></a>\n                    </span>\n                </div>\n                <div>\n                    <span v-if=\"sale.type_id !== 6 && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">\n                        Receipt Id:\n                        <a v-bind:href=\"'/orders/' + sale.receipt_id\">{{ sale.receipt_id }}</a>\n                    </span><span v-else>{{ sale.receipt_id }}></span>\n                </div>\n                <div><span>Date of Sale: </span><span>{{ sale.created_at | cpStandardDate}}</span></div>\n                <div><span>Customer Name: </span><span>{{ sale.customer_last_name }}, {{ sale.customer_first_name }}</span></div>\n                <div>\n                    <span> Subtotal: </span><span v-if=\"sale.type_id !== 6  && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">{{ sale.subtotal_price | currency }}</span>\n                    <span v-else>{{fulfilledAmount(sale.lines) | currency}}></span>\n                </div>\n                <div><span>Tax: </span><span>{{ sale.total_tax | currency }}</span></div>\n                <div><span>Shipping: </span><span>{{ sale.total_shipping | currency }}</span></div>\n                <div><span>Total: </span><span>{{ sale.total_price | currency }}</span></div>\n                <div>\n                    <span>Cash Sale: </span>\n                    <span v-if=\"sale.cash === 1\">Yes</span>\n                    <span v-if=\"sale.cash === 0\">No</span>\n                </div>\n                <div><span>Order Type: </span><span>{{ sale.order_type.name }}</span></div>\n            </div>\n        </section>\n        <div class=\"align-center\">\n            <div class=\"no-results\" v-if=\"noResults\">\n                <span>No results for this timeframe</span>\n            </div>\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n            <cp-pagination :pagination=\"pagination\"\n                           :callback=\"getSales\"\n                           :offset=\"2\"></cp-pagination>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/reports/CpSalesTaxOwedDetailsReport.vue:script


      sms.vComponent('assets/js/components/reports/CpSalesTaxOwedDetailsReport.vue', {"name":"CpSalesTaxOwedDetailsReport","path":"assets/js/components/reports/CpSalesTaxOwedDetailsReport.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')
const EWallet = require('../../resources/ewallet.js')
const moment = require('moment')

module.exports = {
  data () {
    return {
      Auth: Auth,
      noResults: false,
      loading: false,
      totalOwed: null,
      pagination: {
        per_page: 15
      },
      repTransactionDetails: {},
      indexRequest: {
        user_id: this.userId,
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        column: 'last_name',
        order: 'ASC',
        per_page: 15,
        page: 1
      }
    }
  },
  props: {
    userId: {
      required: true
    }
  },
  mounted () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
    this.getEwalletRepDetails()
  },
  methods: {
    getEwalletRepDetails () {
      this.loading = true
      this.indexRequest.page = this.pagination.current_page
      EWallet.salesTaxLedger(this.indexRequest)
          .then((response) => {
            if (!response.error) {
              this.pagination = response
              this.repTransactionDetails = response.data
              this.loading = false
              return response
            }
          })
    },
    format (string) {
      if (string) {
        string = string.replace('e-wallet-', '')
        string = string.replace('merchant', 'amount')
        return string.split('-').map(function (string) {
          return string.charAt(0).toUpperCase() + string.substring(1)
        }).join(' ')
      }
    }
  },
  components: {
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"tax-owed-wrapper\">\n        <div class=\"index-table\">\n            <cp-table-controls\n            :date-picker=\"true\"\n            :date-range=\"indexRequest\"\n            :index-request=\"indexRequest\"\n            :resource-info=\"pagination\"\n            :search-box=\"false\"\n            :get-records=\"getEwalletRepDetails\"></cp-table-controls>\n          <table class=\"cp-table-standard desktop\">\n            <thead>\n              <tr>\n                <th>Date</th>\n                <th>Receipt ID</th>\n                <th>Type</th>\n                <th>Amount</th>\n                <th>Sales Tax</th>\n                <th>Net</th>\n                <th>Balance</th>\n              </tr>\n            </thead>\n            <tbody v-if=\"!loading\">\n              <tr v-for=\"transaction in repTransactionDetails\">\n                <td>{{ transaction.date | cpStandardDate }}</td>\n                <td v-if=\"transaction.receipt_id\"><a v-bind:href=\"'/orders/' + transaction.receipt_id\" >{{ transaction.receipt_id }}</a></td>\n                <td v-else></td>\n                <td v-if=\"transaction.transactionType\">{{ format(transaction.transactionType) }}</td>\n                <td v-else>{{ format(transaction.description) }}</td>\n                <td v-if=\"transaction.withdraw < 0\">{{ transaction.withdraw | currency('floor') }}</td>\n                <td v-else>{{ transaction.amount | currency('floor') }}</td>\n                <td>{{ transaction.salesTax | currency('floor') }}</td>\n                <td>{{ transaction.net | currency('floor') }}</td>\n                <td>{{ transaction.balance | currency('floor') }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class=\"align-center\">\n            <div class=\"no-results\" v-show=\"noResults\">\n                <span>No results for this timeframe</span>\n            </div>\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n            <cp-pagination :pagination=\"pagination\" :callback=\"getEwalletRepDetails\" :offset=\"2\"></cp-pagination>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/reports/CustomersReports.vue:script


      sms.vComponent('assets/js/components/reports/CustomersReports.vue', {"name":"CpCustomersReports","path":"assets/js/components/reports/CustomersReports.vue"}, (require,exports,module)=>{
        
const moment = require('moment')
const Sales = require('../../resources/sales.js')
const Users = require('../../resources/users.js')

module.exports = {
  name: 'CpCustomersReports',
  routing: [
    {
      name: 'site.CpCustomersReports',
      path: 'reports/customers',
      meta: {
        title: 'Customer Reports'
      },
      props: true
    }
  ],
  data () {
    return {
      dates: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD')
      },
      tabs: [
        { name: 'Notes', active: true }
      ],
      componentVisibility: {
        'Notes': true
      }
    }
  },
  methods: {
    getIsAffiliate () {
      Sales.isAffiliate()
        .then((response) => {
          this.isAffiliate = response
        })
    },
    selectReport (name) {
      Object.keys(this.componentVisibility).forEach((name)=>{
        this.componentVisibility[name] = false
      })
      this.componentVisibility[name] = true
    }
  }
}
;
        module.exports.template = "\n<div>\n  <div>\n    <cp-corp-customers-report v-if=\"componentVisibility['Notes']\" active: true :dates=\"dates\"></cp-corp-customers-report>\n  </div>\n</div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/reports/CpSalesTaxOwedReport.vue:script


      sms.vComponent('assets/js/components/reports/CpSalesTaxOwedReport.vue', {"name":"CpSalesTaxOwedReport","path":"assets/js/components/reports/CpSalesTaxOwedReport.vue"}, (require,exports,module)=>{
        
const Sales = require('../../resources/sales.js')
const Auth = require('auth')

module.exports = {
  data () {
    return {
      noResults: false,
      loading: false,
      selectedUser: null,
      showDetails: false,
      pagination: {
        per_page: 15
      },
      reverseSort: false,
      indexRequest: {
        order: 'asc',
        column: 'taxOwed',
        per_page: 15,
        page: 1
      },
      taxOwedTotals: {}
    }
  },

  mounted () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
    this.getTaxOwedTotals()
  },
  methods: {
    getTaxOwedTotals () {
      this.loading = true
      this.indexRequest.page = this.pagination.current_page
      Sales.getSalesTaxOwedTotals(this.indexRequest)
          .then((response) => {
            if (!response.error) {
              this.pagination = response
              this.taxOwedTotals = response.data
              this.loading = false
              return response
            }
          })
    },
    OwedTaxDetails (oweTax) {
      this.selectedUser = oweTax
      this.showDetails = true
      return
    },
    hideOwedTaxDetails () {
      this.showDetails = false
      return
    }
  },
  components: {
    CpSalesTaxOwedDetailsReport: require('../reports/CpSalesTaxOwedDetailsReport.vue'),
    CpTotalsBanner: require('../reports/CpTotalsBanner.vue')

  }
}
;
        module.exports.template = "\n  <div class=\"sales-tax-owed-wrapper\">\n    <br>\n    <a v-if=\"!showDetails\" class='cp-button-link' download :href=\"'/api/v1/report/csv/taxOwedCSV?per_page=' + indexRequest.per_page\">Sales Tax Owed CSV</a>\n\n      <cp-totals-banner v-if=\"!showDetails\" totals-title=\"Taxes Owed By Rep\"></cp-totals-banner>\n      <!-- data table  -->\n      <div class=\"\" v-if=\"!showDetails\">\n      <table class=\"cp-table-standard\">\n        <thead>\n          <th>User ID</th>\n          <th>Rep Name</th>\n          <th>Total Taxes Owed</th>\n        </thead>\n        <tbody>\n          <tr v-for=\"(oweTax, index) in taxOwedTotals\">\n            <td>{{ oweTax.userId }}</td>\n            <td><a href=\"javascript:void(0)\" @click=\"OwedTaxDetails(oweTax)\">{{ oweTax.name }}</a></td>\n            <td>{{ oweTax.taxOwed | currency }}</td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"align-center\">\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        <cp-pagination :pagination=\"pagination\" :callback=\"getTaxOwedTotals\" :offset=\"2\"></cp-pagination>\n      </div>\n  </div>\n      <div v-if=\"showDetails\" class=\"show-details-report\">\n          <div>\n              <h3>{{ selectedUser.name }}</h3>\n          </div>\n            <div>\n                <button class=\"cp-button-standard\" v-if=\"showDetails\" @click=\"hideOwedTaxDetails()\"><i class=\"mdi mdi-chevron-left\"></i>\n                Back To Sales Tax Owed\n            </button>\n          </div>\n      </div>\n      <cp-sales-tax-owed-details-report v-if=\"showDetails\" :user-id=\"selectedUser.userId\"></cp-sales-tax-owed-details-report>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/reports/CpSalesTaxReport.vue:script


      sms.vComponent('assets/js/components/reports/CpSalesTaxReport.vue', {"name":"CpSalesTaxReport","path":"assets/js/components/reports/CpSalesTaxReport.vue"}, (require,exports,module)=>{
        
const Sales = require('../../resources/sales.js')
const moment = require('moment')
const Auth = require('auth')
const CpOrdersFile = require('../../libraries/CpOrdersFile.js')

module.exports = {
  data () {
    return {
      noResults: false,
      loading: false,
      sales: null,
      Auth: Auth,
      pagination: {
        per_page: 15
      },
      indexRequest: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        order: 'DESC',
        column: 'created_at',
        per_page: 15,
        search_term: '',
        page: 1,
        name: 'customer'
      },
      reverseSort: false,
      taxTotals: {}
    }
  },
  props: {
    dates: {}
  },
  mounted: function () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
    this.getSales()
    this.getTaxTotals()
  },
  methods: {
    getSalesAndTaxTotals () {
      this.getSales()
      this.getTaxTotals()
    },
    getTaxTotals () {
      Sales.getSalesTaxTotals(this.indexRequest)
        .then((response) => {
          this.taxTotals = response
        })
    },
    fulfilledAmount (lines) {
      var amount = 0
      lines.forEach(function (line) {
        amount = amount + line.price
      })
      this.saleAmount = amount
      return this.saleAmount
    },
    sortColumn (column) {
      this.reverseSort = !this.reverseSort
      this.indexRequest.column = column
      this.asc = !this.asc
      if (this.asc === true) {
        this.indexRequest.order = 'asc'
      } else {
        this.indexRequest.order = 'desc'
      }
      this.getSales()
    },
    getSales () {
      this.loading = true
      this.indexRequest.start_date = moment(this.dates.start_date).format('YYYY-MM-DD')
      this.indexRequest.end_date = moment(this.dates.end_date).format('YYYY-MM-DD')
      this.indexRequest.page = this.pagination.current_page
      this.sales = {}
      Sales.getSalesByOrderType('all', this.indexRequest)
        .then((response) => {
          if (!response.error) {
            this.sales = response.data
            response.per_page = parseInt(response.per_page)
            this.pagination = response
          }
          if (response.total === 0) {
            this.noResults = true
            setTimeout(() => {
              this.noResults = false
            }, 3000)
          }
          this.loading = false
        })
    },
    printOrder: function (orderId) {
      new CpOrdersFile(null, ['pdf'], 'order', {orderId: orderId}).run()
    }
  },
  events: {
    'search_term': function (term) {
      this.indexRequest.search_term = term
      this.pagination.current_page = 1
      this.getSales()
      this.getTaxTotals()
    }
  },
  components: {
    CpTotalsBanner: require('../reports/CpTotalsBanner.vue'),
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"sales-tax-wrapper\">\n    <br>\n    <a class='cp-button-link' download :href=\"'/api/v1/report/csv/tax?search_term=' + indexRequest.search_term + '&column=' + indexRequest.column + '&order=' + indexRequest.order + '&start_date=' + indexRequest.start_date + '&end_date=' + indexRequest.end_date\">Sales Tax CSV</a>\n\n      <!-- totals banner -->\n      <cp-totals-banner\n      totals-title=\"All Sales Tax Collected\"\n      :totals=\"[\n      {title:'Corp Tax Collected', amount: taxTotals.corporate_taxes},\n      {title:'FBC Tax Collected', amount: taxTotals.fbc_taxes},\n      {title:'Rep Tax Collected', amount: taxTotals.rep_taxes}]\"></cp-totals-banner>\n      <!--Date Picker -->\n      <cp-table-controls\n      :date-picker=\"true\"\n      :date-range=\"dates\"\n      :index-request=\"indexRequest\"\n      :resource-info=\"pagination\"\n      :get-records=\"getSalesAndTaxTotals\"></cp-table-controls>\n      <!-- data table  -->\n      <table class=\"cp-table-standard desktop\">\n          <thead>\n              <th>PDF</th>\n              <th @click=\"sortColumn('receipt_id')\">Receipt ID\n                  <span v-show=\"indexRequest.column == 'receipt_id'\">\n                      <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                      <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                  </span>\n              </th>\n              <th @click=\"sortColumn('created_at')\">Date of Sale\n                  <span v-show=\"indexRequest.column == 'created_at'\">\n                      <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                      <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                  </span>\n              </th>\n              <th @click=\"sortColumn('last_name')\">Customer Name\n                  <span v-show=\"indexRequest.column == 'last_name'\">\n                      <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                      <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                  </span>\n              </th>\n              <th @click=\"sortColumn('subtotal_price')\">Subtotal\n                  <span v-show=\"indexRequest.column == 'subtotal_price'\">\n                      <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                      <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                  </span>\n              </th>\n              <th @click=\"sortColumn('total_tax')\">Tax\n                  <span v-show=\"indexRequest.column == 'total_tax'\">\n                      <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                      <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                  </span>\n              </th>\n              <th @click=\"sortColumn('total_shipping')\">Shipping\n                  <span v-show=\"indexRequest.column == 'total_shipping'\">\n                      <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                      <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                  </span>\n              </th>\n              <th @click=\"sortColumn('total_price')\">Total\n                  <span v-show=\"indexRequest.column == 'total_price'\">\n                      <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                      <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                  </span>\n              </th>\n              <th @click=\"sortColumn('cash')\">Cash Sale\n                  <span v-show=\"indexRequest.column == 'cash'\">\n                      <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                      <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                  </span>\n              </th>\n              <th @click=\"sortColumn('type_id')\">Order Type\n                  <span v-show=\"indexRequest.column == 'type_id'\">\n                      <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                      <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                  </span>\n              </th>\n          </thead>\n          <tbody>\n              <tr v-for=\"sale in sales\" >\n                  <td v-if=\"sale.type_id !== 6 && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">\n                    <a @click=\"printOrder(sale.id)\"><i class='mdi mdi-file'></i></a></td>\n                  <td v-else></td>\n                  <td v-if=\"sale.type_id !== 6 && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\"><a v-bind:href=\"'/orders/' + sale.receipt_id\">{{ sale.receipt_id }}</a></td>\n                  <td v-else>{{ sale.receipt_id }}</td>\n                  <td>{{ sale.created_at | cpStandardDate}}</td>\n                  <td>{{ sale.customer_last_name }}, {{ sale.customer_first_name }}</td>\n                  <td v-if=\"sale.type_id !== 6  && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">{{ sale.subtotal_price | currency }}</td>\n                  <td v-else>{{fulfilledAmount(sale.lines) | currency}}</td>\n                  <td>{{ sale.total_tax | currency }}</td>\n                  <td>{{ sale.total_shipping | currency }}</td>\n                  <td>{{ sale.total_price | currency }}</td>\n                  <td>\n                      <span v-if=\"sale.cash === 1\">Yes</span>\n                      <span v-if=\"sale.cash === 0\">No</span>\n                  </td>\n                  <td>{{ sale.order_type.name }}</td>\n              </tr>\n          </tbody>\n      </table>\n\n      <section class=\"cp-table-mobile\">\n              <div v-for=\"sale in sales\">\n                <div v-if=\"sale.type_id !== 6 && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\"><span>PDF: </span><span><a @click=\"printOrder(sale.id)\"><i class='mdi mdi-file'></i></a></span></div>\n                <div v-else></div>\n                <div v-if=\"sale.type_id !== 6 && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\"><span>Receipt ID: </span><span><a v-bind:href=\"'/orders/' + sale.receipt_id\">{{ sale.receipt_id }}</a></span></div>\n                <div v-else>{{ sale.receipt_id }}></div>\n                <div><span>Date of Sale: </span><span>{{ sale.created_at | cpStandardDate}}</span></div>\n                <div><span>Customer Name: </span><span>{{ sale.customer_last_name }}, {{ sale.customer_first_name }}</span></div>\n                <div v-if=\"sale.type_id !== 6  && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\"><span>Subtotal: </span><span>{{ sale.subtotal_price | currency }}</span></div>\n                <div v-else>{{fulfilledAmount(sale.lines) | currency}} ></div>\n                <div><span>Tax: </span><span>{{ sale.total_tax | currency }}</span></div>\n                <div><span>Shipping: </span><span>{{ sale.total_shipping | currency }}</span></div>\n                <div><span>Total: </span><span>{{ sale.total_price | currency }}</span></div>\n                <div><span>Cash Sale: </span>\n                  <span v-if=\"sale.cash === 1\">Yes</span>\n                  <span v-if=\"sale.cash === 0\">No</span></div>\n                <div><span>Order Type: </span><span>{{ sale.order_type.name }}</span></div>\n              </div>\n      </section>\n      <div class=\"align-center\">\n        <div class=\"no-results\" v-if=\"noResults\">\n          <span>No results for this timeframe</span>\n        </div>\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        <cp-pagination\n        :pagination=\"pagination\"\n        :callback=\"getSales\"\n        :offset=\"2\"></cp-pagination>\n      </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/payment/CpPaymentForm.vue:script


      sms.vComponent('assets/js/components/payment/CpPaymentForm.vue', {"name":"CpPaymentForm","path":"assets/js/components/payment/CpPaymentForm.vue"}, (require,exports,module)=>{
        
const { states } = require('../../resources/states.js')

module.exports = {
  data () {
    return {
      states: states,
      years: [[]]
    }
  },
  props: {
    paymentData: {
      type: Object,
      required: false
    },
    validationErrors: {
      type: Object,
      required: false,
      default () {
        return {}
      }
    },
    hideAddress: {
      type: Boolean,
      required: false
    },
    disabled: {
      type: Boolean,
      default () {
        return false
      }
    }
    // validationErrors: {}
  },
  mounted () {
    this.getYears()
  },
  methods: {
    getYears: function () {
      var currentYear = new Date().getFullYear()
      for (var i = 0; i <= 10; i++) {
        this.years.push({name: currentYear + i})
      }
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpSelect: require('../../cp-components-common/inputs/CpSelect.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"payment-form-simple\">\n    <!-- payment billing address -->\n    <div class=\"payment-form-billing-address\" v-if=\"!hideAddress\">\n      <cp-input\n      label=\"Billing Address Line 1\"\n      :setDisabled=\"disabled\"\n      :error=\"validationErrors['addresses.billing.address_1']\"\n       type=\"address_1\"\n       v-model=\"paymentData.addresses.billing.address_1\"\n       required></cp-input>\n      <cp-input\n      label=\"Billing Address Line 2\"\n      :setDisabled=\"disabled\"\n      :error=\"validationErrors['addresses.billing.address_2']\"\n      type=\"address_2\"\n      v-model=\"paymentData.addresses.billing.address_2\"></cp-input>\n      <cp-input\n      label=\"City\"\n      :setDisabled=\"disabled\"\n      :error=\"validationErrors['addresses.billing.city']\"\n      type=\"city\"\n      v-model=\"paymentData.addresses.billing.city\"\n      required></cp-input>\n      <cp-select\n        label=\"State\"\n        type=\"text\"\n        :options=\"states\"\n        :key-value=\"{ name: 'name' , value: 'value' }\"\n        :disabled=\"disabled\"\n        :error=\"validationErrors['addresses.billing.state']\"\n        v-model=\"paymentData.addresses.state\"\n        required></cp-select>\n      <cp-input\n      label=\"Zip Code\"\n      :setDisabled=\"disabled\"\n      :error=\"validationErrors['addresses.billing.zip']\"\n      type=\"zip\"\n      name=\"paymentData.addresses.billing.zip\"\n      v-model=\"paymentData.addresses.billing.zip\"\n      class=\"payment\"\n      required></cp-input>\n    </div>\n    <!-- card -->\n    <cp-input\n    label=\"Name on Card\"\n    :setDisabled=\"disabled\"\n    :error=\"validationErrors['payment.name']\"\n    type=\"text\"\n    v-model=\"paymentData.payment.name\"></cp-input>\n    <cp-input\n    label=\"Credit Card Number\"\n    :setDisabled=\"disabled\"\n    :error=\"validationErrors['payment.card_number']\"\n    type=\"number\"\n    placeholder=\"\"\n    v-model=\"paymentData.payment.card_number\"></cp-input>\n  <div class=\"expiration-dates\">\n      <cp-select\n      label=\"Month\"\n      :options=\"[\n      { name: '01', value: '01' },\n      { name: '02', value: '02' },\n      { name: '03', value: '03' },\n      { name: '04', value: '04' },\n      { name: '05', value: '05' },\n      { name: '06', value: '06' },\n      { name: '07', value: '07' },\n      { name: '08', value: '08' },\n      { name: '09', value: '09' },\n      { name: '10', value: '10' },\n      { name: '11', value: '11' },\n      { name: '12', value: '12' }\n      ]\"\n      v-model=\"paymentData.payment.month\"\n      :disabled=\"disabled\"\n      :error=\"validationErrors['payment.month']\"></cp-select>\n      <cp-select\n      label=\"Year\"\n      v-model=\"paymentData.payment.year\"\n      :disabled=\"disabled\"\n      :error=\"validationErrors['payment.year']\"\n      :options=\"years\"\n      placeholder=\" \"\n      :key-value=\"{ name: 'name', value: 'name'}\"></cp-select>\n    </div>\n    <div class=\"cvv\">\n    <cp-input\n    label=\"CVV\"\n    type=\"text\"\n    v-model=\"paymentData.payment.security\"\n    :setDisabled=\"disabled\"\n    :error=\"validationErrors['payment.security']\"></cp-input>\n    <img src=\"https://s3-us-west-2.amazonaws.com/controlpad/CreditCard-Icons.png\" class=\"credit-cards\">\n  </div>\n</div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/reports/EmailReports.vue:script

sms.vComponent('assets/js/components/reports/EmailReports.vue', { name: 'CpEmailReports', routing: { name: 'site.CpEmailReports', meta: { title: 'Email Reports' }, path: 'reports/emails', props: true } }, (require, exports, module)=>{

const moment = require('moment')
const Emails = require('../../resources/email-reports.js')

module.exports = {
  data () {
    return {
      noResults: false,
      loading: false,
      reverseSort: false,
      indexRequest: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        order: 'DESC',
        column: 'created_at',
        search_term: '',
        status: 'all',
        per_page: 15,
        page: 1
      },
      pagination: {
        per_page: 15
      },
      emails: {}
    }
  },
  mounted () {
    this.getEmails()
  },
  methods: {
    selectEmails (name) {
      switch (name) {
        case 'ALL':
          this.indexRequest.status = 'all'
          break
        case 'ADMINS':
          this.indexRequest.status = '7'
          break
        case this.$getGlobal('title_rep').value.toUpperCase() + 'S':
          this.indexRequest.status = '5'
          break
        case 'CUSTOMERS':
          this.indexRequest.status = '3'
          break
        default: }
      this.getEmails()
    },
    getEmails () {
      this.indexRequest.page = this.pagination.current_page
      Emails.index(this.indexRequest)
        .then((response) => {
          if (response.error) {
            return this.$toast(response.message)
          }
          this.emails = response.data
          this.pagination = response
        })
    },
    sortColumn: function (column) {
      this.reverseSort = !this.reverseSort
      this.indexRequest.column = column
      this.asc = !this.asc
      if (this.asc === true) {
        this.indexRequest.order = 'asc'
      } else {
        this.indexRequest.order = 'desc'
      }
      this.getEmails()
    }
  },
  components: {
    CpTabs: require('../../cp-components-common/navigation/CpTabs.vue'),
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue')
  }
}

;module.exports.template = "\n  <div class=\"\">\n    <cp-tabs\n     :items=\"[\n       { name: 'ALL', active: true },\n       { name: 'ADMINS', active: false },\n       { name: $getGlobal('title_rep').value.toUpperCase() + 'S', active: false },\n       { name: 'CUSTOMERS', active: false },\n     ]\"\n     :callback=\"selectEmails\"></cp-tabs>\n   <cp-table-controls\n     :date-picker=\"true\"\n     :date-range=\"indexRequest\"\n     :index-request=\"indexRequest\"\n     :resource-info=\"pagination\"\n     :get-records=\"selectEmails\">\n   </cp-table-controls>\n   <table class=\"cp-table-standard desktop\">\n       <thead>\n         <th @click=\"sortColumn('created_at')\">Date\n             <span v-show=\"indexRequest.column == 'created_at'\">\n                 <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                 <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n             </span>\n         </th>\n         <th>User ID</th>\n         <th @click=\"sortColumn('to')\">Recipient Email Address\n             <span v-show=\"indexRequest.column == 'to'\">\n                 <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                 <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n             </span>\n         </th>\n         <th @click=\"sortColumn('subject')\">Email Subject\n             <span v-show=\"indexRequest.column == 'subject'\">\n                 <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                 <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n             </span>\n         </th>\n       </thead>\n           <tr v-for=\"email in emails\">\n               <td>{{ email.created_at | cpStandardDate('time')}}</td>\n               <td>{{ email.user_id }}</td>\n               <td >{{ email.to }}</td>\n               <td>{{ email.subject }}</td>\n           </tr>\n       </tbody>\n   </table>\n   <section  class=\"cp-table-mobile\">\n     <div v-for=\"email in emails\">\n     <div><span>Date: </span><span>{{ email.created_at | cpStandardDate('time')}}</span></div>\n     <div><span>User ID: </span><span>{{ email.user_id }}</span></div>\n     <div><span>Recipient Email Address: </span><span>{{ email.to }}</span></div>\n     <div><span>Email Subject: </span><span>{{ email.subject }}</span></div>\n   </div>\n   </section>\n   <div class=\"align-center\">\n     <div class=\"no-results\" v-if=\"noResults\">\n         <span>No results for this timeframe</span>\n     </div>\n     <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n     <cp-pagination :pagination=\"pagination\" :callback=\"getEmails\" :offset=\"2\"></cp-pagination>\n   </div>\n </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/returns/details-index.vue:script

sms.vComponent('assets/js/components/returns/details-index.vue', { name: 'CpDetailIndex', routing: { name: 'site.CpDetailIndex', meta: { title: 'Return Details' }, path: 'return/:id', props: true } }, (require, exports, module)=>{

const Returns = require('../../resources/returns.js')

module.exports = {
  data: function () {
    return {
      pendingReturn: {},
      showConfirm: false,
      indexRequest: {},
      reverseSort: true,
      loading: true
    }
  },
  computed: {},
  mounted: function () {
    var returnedId = this.$pathParameter() // workaround for routing without props
    this.getReturned(returnedId)
  },
  methods: {
    getReturned: function (id) {
      this.loading = true
      Returns.returnedShow(id)
        .then((response) => {
          if (response.error) {
            return
          }
          this.pendingReturn = response
          this.loading = false
        })
    },
    submitReturn: function () {

    },
    confirmReturn: function (items) {
      Returns.refund(items)
        .then((response) => {
          if (response.error) {
            return this.$toast(response.message, { error: true, dismiss: false })
          }
          if (response === false) {
            return this.$toast('There is a problem with your amounts', { error: true, dismiss: false })
          } else {
            this.$toast('You have refunded $' + response, { error: false, dismiss: false })
          }
          this.getReturned(this.$pathParameter())
        })
    },
    sortColumn: function (column) {
      this.reverseSort = !this.reverseSort
      this.indexRequest.column = column
      this.asc = !this.asc
      if (this.asc === true) {
        this.indexRequest.order = 'asc'
      } else {
        this.indexRequest.order = 'desc'
      }
      this.getReturns()
    }
  },
  events: {
    'search_term': function (term) {
      this.indexRequest.search_term = term
      this.pagination.current_page = 1
      this.getReturns()
    }
  },
  components: {
    'CpReturnedDetail': require('./partials/CpReturnedDetail.vue'),
    'CpConfirm': require('../../cp-components-common/CpConfirm.vue'),
    'CpReturnHistory': require('./CpReturnHistory.vue')
  }
}

;module.exports.template = "\n    <div class=\"returns-show-wrapper\">\n      <div v-if=\"!loading\">\n      <cp-returned-detail :returns=\"pendingReturn\"></cp-returned-detail>\n      <cp-return-history v-if=\"pendingReturn\" :order-id=\"pendingReturn.order_id\"></cp-return-history>\n        <h3>Pending Return</h3>\n        <table class=\"cp-table-standard\">\n            <thead>\n              <th @click=\"sortColumn('pendingReturn.created_at')\">Date Requested\n                  <span v-show=\"indexRequest.column == 'pendingReturn.created_at'\">\n                      <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                      <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                  </span>\n              </th>\n              <th @click=\"sortColumn('name')\">Item Name\n                  <span v-show=\"indexRequest.column == 'name'\">\n                      <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                      <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                  </span>\n              </th>\n              <th>Price</th>\n              <th>Item Id</th>\n              <th>Quantity Requested</th>\n              <th>Reason for Return</th>\n              <th>Comments</th>\n              <th>Note</th>\n              <th>Inventory to Return </th>\n              <th>Refund Amount</th>\n              <th><!-- submit --></th>\n            </thead>\n            <tbody>\n                <tr v-if=\"pendingReturn.return_status_id !== 3\" v-for=\"r in pendingReturn.lines\">\n                  <td>{{ r.created_at | cpStandardDate }}</td>\n                  <td>{{ r.name }}</td>\n                  <td>{{ r.price | currency}}</td>\n                  <td>{{ r.item_id }}</td>\n                  <td>{{ r.quantity }}</td>\n                  <td>{{ r.reason.name }}</td>\n                  <td>{{ r.comments || 'None'}}</td>\n                  <td>\n                    <textarea v-model=\"r.notes\" autofocus></textarea>\n                  </td>\n                  <td><input type=\"number\" name=\"\" value=\"\" v-model.number=\"r.inventoryQuantity\"></td>\n                  <td><span>$</span><input type=\"number\" name=\"\" value=\"\" v-model=\"r.returnAmount\"></td>\n                </tr>\n                <tr v-if=\"pendingReturn.return_status_id === 3\">\n                  <td>This Return Ticket is Closed</td>\n                </tr>\n            </tbody>\n        </table>\n        <button v-if=\"pendingReturn.return_status_id !== 3\" class=\"cp-button-standard\" type=\"button\" name=\"button\"  @click=\"showConfirm = true\">Submit Return</button>\n\n        <cp-confirm\n        :message=\"'Are you sure you want to submit this return?'\"\n        v-model=\"showConfirm\"\n        :callback=\"confirmReturn\"\n        :show=\"showConfirm\"\n        :params=\"pendingReturn\"></cp-confirm>\n      </div>\n        <div class=\"align-center\">\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        </div>\n    </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/reports/FinancialReports.vue:script


      sms.vComponent('assets/js/components/reports/FinancialReports.vue', {"name":"CpFinancialReports","path":"assets/js/components/reports/FinancialReports.vue"}, (require,exports,module)=>{
        
const moment = require('moment')
const Sales = require('../../resources/sales.js')

module.exports = {
  name: 'CpFinancialReports',
  routing: [
    {
      name: 'site.CpFinancialReports',
      path: 'reports/financial',
      meta: {
        title: 'Financial Reports'
      },
      props: true
    }
  ],
  data () {
    return {
      dates: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD')
      },
      tabs: [
        { name: 'Corporate Sales', active: true },
        { name: 'Representative Sales', active: false },
        { name: 'Sales Tax', active: false },
        { name: 'Sales Tax Owed', active: false },
        { name: 'Affiliate Sales', active: false }
      ],
      componentVisibility: {
        'Corporate Sales': true,
        'Representative Sales': false,
        'Sales Tax': false,
        'Sales Tax Owed': false,
        'Affiliate Sales': false,
        'Rep Transfers': false
      }
    }
  },
  created: function () {
    if (this.$getGlobal('rep_transfer').show) {
      this.tabs.push({name: 'Rep Transfers', active: false})
    }
  },
  mounted: function () {
    this.getIsAffiliate()
  },
  methods: {
    getIsAffiliate () {
      Sales.isAffiliate()
        .then((response) => {
          this.isAffiliate = response
        })
    },
    selectReport (name) {
      Object.keys(this.componentVisibility).forEach((name)=>{
        this.componentVisibility[name] = false
      })
      this.componentVisibility[name] = true
    }
  }
}
;
        module.exports.template = "\n<div>\n  <cp-tabs\n   :items=\"tabs\"\n   :callback=\"selectReport\">\n  </cp-tabs>\n  <div>\n    <cp-corp-sales-report v-if=\"componentVisibility['Corporate Sales']\" :dates=\"dates\"></cp-corp-sales-report>\n    <cp-rep-sales-report v-if=\"componentVisibility['Representative Sales']\" active: true :dates=\"dates\"></cp-rep-sales-report>\n    <cp-sales-tax-report v-if=\"componentVisibility['Sales Tax']\" :dates=\"dates\"></cp-sales-tax-report>\n    <cp-sales-tax-owed-report v-if=\"componentVisibility['Sales Tax Owed']\"></cp-sales-tax-owed-report>\n    <cp-fbc-sales-report v-if=\"componentVisibility['FBC Sales']\" :dates=\"dates\"></cp-fbc-sales-report>\n    <cp-affiliate-sales-report v-if=\"componentVisibility['Affiliate Sales']\" :dates=\"dates\"></cp-affiliate-sales-report>\n    <cp-rep-transfers-report v-if=\"componentVisibility['Rep Transfers']\" :dates=\"dates\"></cp-rep-transfers-report>\n  </div>\n</div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/returns/CpReturnHistory.vue:script


      sms.vComponent('assets/js/components/returns/CpReturnHistory.vue', {"name":"CpReturnHistory","path":"assets/js/components/returns/CpReturnHistory.vue"}, (require,exports,module)=>{
        
const Returns = require('../../resources/returns.js')

module.exports = {
  data: function () {
    return {
      returnHistory: {}
    }
  },
  props: {
    orderId: {
      type: Number,
      required: true
    }
  },

  mounted: function () {
    this.getReturnHistory(this.orderId)
  },
  methods: {
    getReturnHistory: function (orderId) {
      Returns.history(orderId)
      .then((response) => {
        this.returnHistory = response
      })
    }
  },
  components: {
  }
}
;
        module.exports.template = "\n    <div class=\"return-history-wrapper\">\n      <div v-show='returnHistory.length > 0'>\n          <h3>Order Return History</h3>\n          <table  class=\"cp-table-standard\" >\n              <thead>\n                  <tr>\n                    <th>Date</th>\n                    <th>Product</th>\n                    <th>Return Id</th>\n                    <th>Previous Status</th>\n                    <th>Status</th>\n                    <th>Notes</th>\n                  </tr>\n              </thead>\n              <tbody v-for= \"returns in returnHistory\">\n                  <tr v-for=\"history in returns.history\">\n                       <td>{{ history.created_at | cpStandardDate}}</td>\n                       <td>{{ returns.returnline.name }}</td>\n                       <td>{{ returns.id}}</td>\n                       <td>{{ history.old_status.name}}</td>\n                       <td>{{ history.new_status.name }}</td>\n                       <td>{{ history.comments }}</td>\n                  </tr>\n              </tbody>\n          </table>\n      </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/returns/partials/CpReturnedDetail.vue:script


      sms.vComponent('assets/js/components/returns/partials/CpReturnedDetail.vue', {"name":"CpReturnedDetail","path":"assets/js/components/returns/partials/CpReturnedDetail.vue"}, (require,exports,module)=>{
        
const CpOrdersFile = require('../../../libraries/CpOrdersFile.js')

module.exports = {
  data: function () {
    return {
      order: {}
    }
  },
  props: {
    returns: {
      type: Object,
      required: true
    }
  },
  computed: {},
  mounted: function () {
  },
  methods: {
    printOrder: function (orderId) {
      new CpOrdersFile(null, ['pdf'], 'order', {orderId: this.returns.order.id}).run()
    }
  },
  components: {
  }
}
;
        module.exports.template = "\n    <div class=\"order-detail-wrapper\">\n        <div class=\"flex-end\">\n            <a class=\"cp-button-standard print-btn\" @click=\"printOrder()\">Print</a>\n        </div>\n        <div class=\"order-detail\">\n            <div class=\"cp-box-standard\">\n                <div class=\"cp-box-heading\">\n                    Return Detail\n                </div>\n                <div class=\"cp-box-body\" v-if=\"this.returns\">\n                    <div><strong>Receipt ID </strong><a :href=\"`/orders/${ returns.order.receipt_id }`\" >{{ returns.order.receipt_id }}</a></div>\n                    <div><strong>Return Ticket ID: </strong>{{returns.id}}</div>\n                    <div><strong>Customer Name: </strong>{{returns.first_name}} {{returns.last_name}}</div>\n                    <div><strong>Customer Email: </strong>{{returns.email}}</div>\n                    <div><strong>Purchased From: </strong>{{returns.order.store_owner.full_name}}</div>\n                    <div><strong>Returned Date: </strong>{{ returns.created_at | cpStandardDate('time') }}</div>\n                    <div><strong>Order Shipping Charged: </strong>{{ returns.order.total_shipping | currency }}</div>\n                    <div><strong>Order Tax Charged: </strong>{{ returns.order.total_tax | currency }}</div>\n                    <div><strong>Order Subtotal: </strong>{{ returns.order.subtotal_price | currency }}</div>\n                    <div v-if=\"returns.order.total_discount && returns.order.total_discount > 0\"><strong>Orders Total Discount: </strong>{{ returns.order.total_discount | currency }}</div>\n                </div>\n            </div>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/reports/CpTotalsBanner.vue:script


      sms.vComponent('assets/js/components/reports/CpTotalsBanner.vue', {"name":"CpTotalsBanner","path":"assets/js/components/reports/CpTotalsBanner.vue"}, (require,exports,module)=>{
        
module.exports = {
  props: {
    totals: {
      type: Array,
      required: false
    },
    totalsTitle: {
      type: String,
      required: false
    },
    floor: {
      type: Boolean,
      default () {
        return false
      }
    }
  }
}
;
        module.exports.template = "\n  <div class=\"totals-banner\">\n    <span v-if=\"totalsTitle\" class=\"totals-column totals-title\">{{ totalsTitle }}</span>\n    <span v-for=\"total in totals\" class=\"totals-column\">\n      <span class=\"total-title\">{{ total.title }}</span>\n      <span v-if=\"total.currency == false\">\n        <span class=\"total-amount\">{{ total.amount || 0 }}</span>\n      </span>\n      <span v-else>\n          <span v-if=\"!floor\" class=\"total-amount\">{{ total.amount || 0 | currency }}</span>\n          <span v-if=\"floor\" class=\"total-amount\">{{ total.amount || 0 | currency('floor') }}</span>\n      </span>\n      </span>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/sales/SalesIndex.vue:script


      sms.vComponent('assets/js/components/sales/SalesIndex.vue', {"name":"CpSalesIndex","path":"assets/js/components/sales/SalesIndex.vue"}, (require,exports,module)=>{
        
const Orders = require('../../resources/OrdersAPIv0.js')
const moment = require('moment')
const Auth = require('auth')
const CpOrdersFile = require('../../libraries/CpOrdersFile.js')

module.exports = {
  name: 'CpSalesIndex',
  routing: [
    {
      name: 'site.CpSalesIndex',
      path: 'sales',
      meta: {
        title: 'Sales'
      },
      props: true
    }
  ],
  data: function () {
    return {
      downloadTitle: 'Sales Download',
      downloadType: 'sales',
      orderDownloadModal: false,
      noResults: false,
      loading: false,
      sales: [],
      tabs: [{
        name: 'SALES',
        active: true
      }],
      tableColumns: [
        { header: 'PDF', field: 'pdf', sortable: false },
        { header: 'Receipt ID', field: 'receipt_id', sortable: true },
        { header: 'Date of Sale', field: 'created_at', filter: 'cpStandardDate|true' },
        { header: 'Customer Name', field: 'last_name', sortable: true },
        { header: 'Amount', field: 'subtotal_price', sortable: true, filter: 'currency' },
        { header: 'Total Tax', field: 'total_tax', sortable: true, filter: 'currency' },
        { header: 'Shipping', field: 'total_shipping', sortable: true, filter: 'currency' },
        { header: 'Total Amount', field: 'total_price', sortable: true, filter: 'currency' },
        { header: 'Cash Sale', field: 'cash', sortable: true },
        { header: 'Order Type', field: 'type_id', sortable: true },
        { header: 'Status', field: 'status', sortable: true, htmlclass: 'capitalize'}
      ],
      pagination: {
        per_page: 15
      },
      dates: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD')
      },
      indexRequest: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        order: 'DESC',
        column: 'created_at',
        per_page: 15,
        search_term: '',
        page: 1,
        type_id: [3,4,9]
      },
      Auth: Auth
    }
  },
  created () {
    if (this.$getGlobal('rep_transfer').show) {
      this.tabs.push({name: 'TRANSFERS', active: false})
    }
  },
  mounted () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
    this.getSales()
  },
  methods: {
    getSales: function () {
      this.loading = true
      let request = JSON.parse(JSON.stringify(this.indexRequest))
      request.page = this.pagination.current_page
      request.sort_by = this.indexRequest.column.toLowerCase()
      request.in_order = this.indexRequest.order.toLowerCase()
      request.start_date = moment(this.dates.start_date, 'YYYY-MM-DD').startOf('day').utc().format('YYYY-MM-DD HH:mm:ss.SSS')
      request.end_date = moment(this.dates.end_date, 'YYYY-MM-DD').endOf('day').utc().format('YYYY-MM-DD HH:mm:ss.SSS')

      this.sales = []
      Orders.getOrders(request)
        .then((response) => {
          if (response.error) {
            return this.$toast(response.message, { error: true, dismiss: true })
          }
          if (response.total === 0) {
            this.noResults = true
            setTimeout(() => {
              this.noResults = false
            }, 3000)
          }
          this.loading = false
          this.sales = response.data
          response.per_page = parseInt(response.per_page)
          this.pagination = response
        })
    },
    changeTab (name) {
      this.resetIndexRequest()
      console.log(name + ' selected')
      switch(name) {
        case 'SALES':
          this.downloadType = 'sales'
          this.indexRequest.type_id = [3,4,9]
          break
        case 'TRANSFERS':
          this.downloadType = 'transfer'
          this.indexRequest.type_id = [11]
          break
      }
      this.getSales()
    },
    resetIndexRequest () {
      this.indexRequest = {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        order: 'DESC',
        column: 'created_at',
        per_page: 15,
        search_term: '',
        page: 1
      }
      this.pagination.current_page = 1
    },
    fulfilledAmount: function (lines) {
      var amount = 0
      lines.forEach(function (line) {
        amount = amount + line.price
      })
      this.saleAmount = amount
      return this.saleAmount
    },
    showDownloadModal () {
      this.orderDownloadModal = true
    },
    printOrder: function (orderId) {
      new CpOrdersFile(null, ['pdf'], 'order', {orderId: orderId}).run()
    }
  },
  components: {
    CpOrderDownloadModal: require('../orders/CpOrderDownloadModal.vue'),
    CpTotalsBanner: require('../reports/CpTotalsBanner.vue'),
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"sales-index-wrapper\">\n        <div class=\"action-btn-wrapper\">\n            <a class=\"cp-button-link\" @click=\"showDownloadModal()\">Download</a>\n        </div>\n        <cp-tabs v-if=\"tabs.length > 1\" :items=\"tabs\" :callback=\"changeTab\"></cp-tabs>\n        <cp-data-table\n            :table-data=\"sales\"\n            :table-columns=\"tableColumns\"\n            :pagination=\"pagination\"\n            :recall-data=\"getSales\"\n            :request-params=\"indexRequest\"\n            :options=\"{\n                tableControls: true,\n                datePicker: true,\n                dateRange: dates,\n            }\">\n            <a slot=\"pdf\" slot-scope=\"{row}\" v-if=\"row.type_id !== 6 && row.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\" @click=\"printOrder(row.id)\"><i class='mdi mdi-file'></i></a>\n            <template slot=\"receipt_id\" slot-scope=\"{row}\">\n                <span v-if=\"row.type_id !== 6 && row.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">\n                    <a :href=\"'/orders/'+row.receipt_id\">{{row.receipt_id}}</a>\n                </span>\n                <span v-else>{{row.receipt_id}}</span>\n            </template>\n                <span slot=\"last_name\" slot-scope=\"{row}\">{{ row.buyer_first_name }} {{ row.buyer_last_name }}</span>\n            <template slot=\"subtotal_price\" slot-scope=\"{row}\">\n                <span v-if=\"row.type_id !== 6  && row.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">{{ row.subtotal_price | currency }}</span>\n                <span v-else>{{fulfilledAmount(row.lines) | currency}}</span>\n            </template>\n            <template slot=\"cash\" slot-scope=\"{row}\">\n                <span>{{ row.cash ? 'Yes' : 'No' }}</span>\n            </template>\n            <span slot=\"type_id\" slot-scope=\"{row}\">{{row.type_description}}</span>\n        </cp-data-table>\n      <cp-order-download-modal v-if=\"orderDownloadModal\" @close=\"orderDownloadModal = false\"\n        :title=\"downloadTitle\" :start-date=\"dates.start_date\"\n        :end-date=\"dates.end_date\" :type=\"downloadType\"\n        :sort-column=\"indexRequest.column\" :sort-order=\"indexRequest.order\"></cp-order-download-modal>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/reports/CpRepDetailsReport.vue:script


      sms.vComponent('assets/js/components/reports/CpRepDetailsReport.vue', {"name":"CpRepDetailsReport","path":"assets/js/components/reports/CpRepDetailsReport.vue"}, (require,exports,module)=>{
        
const Sales = require('../../resources/sales.js')
const moment = require('moment')
const Auth = require('auth')
const CpOrdersFile = require('../../libraries/CpOrdersFile.js')

module.exports = {
  data: function () {
    return {
      noResults: false,
      loading: false,
      sales: [],
      pagination: {
        per_page: 15
      },
      asc: false,
      dates: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD')
      },
      indexRequest: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        order: 'DESC',
        column: 'created_at',
        per_page: 15,
        search_term: '',
        page: 1
      },
      reverseSort: false,
      Auth: Auth
    }
  },
  props: {
    userId: {
      required: true
    }
  },
  mounted: function () {
    this.getReptoCustomer()
  },
  methods: {
    getReptoCustomer () {
      this.loading = true
      this.indexRequest.start_date = moment(this.dates.start_date).format('YYYY-MM-DD')
      this.indexRequest.end_date = moment(this.dates.end_date).format('YYYY-MM-DD')
      this.indexRequest.page = this.pagination.current_page
      this.sales = {}
      Sales.getRep(this.userId, this.indexRequest)
      .then((response) => {
        if (response.error) {
          return
        }
        if (response.total === 0) {
          this.noResults = true
          setTimeout(() => {
            this.noResults = false
          }, 3000)
        }
        this.loading = false
        this.sales = response.data
        response.per_page = parseInt(response.per_page)
        this.pagination = response
      })
    },
    fulfilledAmount: function (lines) {
      var amount = 0
      lines.forEach(function (line) {
        amount = amount + line.price
      })
      this.saleAmount = amount
      return this.saleAmount
    },
    sortColumn: function (column) {
      this.reverseSort = !this.reverseSort
      this.indexRequest.column = column
      this.asc = !this.asc
      if (this.asc === true) {
        this.indexRequest.order = 'asc'
      } else {
        this.indexRequest.order = 'desc'
      }
      this.getReptoCustomer()
    },
    printOrder: function (orderId) {
      new CpOrdersFile(null, ['pdf'], 'order', {orderId: orderId}).run()
    }
  },
  events: {
    'search_term': function (term) {
      this.indexRequest.search_term = term
      this.pagination.current_page = 1
      this.getReptoCustomer()
    }
  }
}
;
        module.exports.template = "\n    <div class=\"sales-index-wrapper\">\n        <div class=\"space-between\">\n            <div class=\"input-position\">\n                <i class=\"mdi mdi-calendar-range icon\"></i> <input type=\"date\" data-date-inline-picker=\"false\" data-date-open-on-focus=\"true\" v-model=\"dates.start_date\" @change=\"getReptoCustomer()\">\n                <i class=\"mdi mdi-calendar-range icon\"></i> <input type=\"date\" data-date-inline-picker=\"false\" data-date-open-on-focus=\"true\" v-model=\"dates.end_date\" @change=\"getReptoCustomer()\">\n            </div>\n        </div>\n        <table class=\"cp-table-standard\">\n            <thead>\n                <th>PDF</th>\n                <th @click=\"sortColumn('receipt_id')\">Receipt ID\n                    <span v-show=\"indexRequest.column == 'receipt_id'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('created_at')\">Date of Sale\n                    <span v-show=\"indexRequest.column == 'created_at'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('customer_last_name')\">Customer Name\n                    <span v-show=\"indexRequest.column == 'customer_last_name'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('subtotal_price')\">Subtotal\n                    <span v-show=\"indexRequest.column == 'subtotal_price'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('total_tax')\">Tax\n                    <span v-show=\"indexRequest.column == 'total_tax'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('total_shipping')\">Shipping\n                    <span v-show=\"indexRequest.column == 'total_shipping'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('total_price')\">Total\n                    <span v-show=\"indexRequest.column == 'total_price'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('cash')\">Cash Sale\n                    <span v-show=\"indexRequest.column == 'cash'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('type_id')\">Order Type\n                    <span v-show=\"indexRequest.column == 'type_id'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n            </thead>\n            <tbody>\n                <tr v-for=\"sale in sales\" >\n                    <td v-if=\"sale.type_id !== 6 && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">\n                      <a @click=\"printOrder(sale.id)\"><i class='mdi mdi-file'></i></a></td>\n                    <td v-else></td>\n                    <td v-if=\"sale.type_id !== 6 && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\"><a v-bind:href=\"'/orders/' + sale.receipt_id\">{{ sale.receipt_id }}</a></td>\n                    <td v-else>{{ sale.receipt_id }}</td>\n                    <td>{{ sale.created_at | cpStandardDate}}</td>\n                    <td>{{ sale.customer_last_name }}, {{ sale.customer_first_name }}</td>\n                    <td v-if=\"sale.type_id !== 6  && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">{{ sale.subtotal_price | currency }}</td>\n                    <td v-else>{{fulfilledAmount(sale.lines) | currency}}</td>\n                    </td>\n                    <td>{{ sale.total_tax | currency }}</td>\n                    <td>{{ sale.total_shipping | currency }}</td>\n                    <td>{{ sale.total_price | currency }}</td>\n                    <td>\n                        <span v-if=\"sale.cash === 1\">Yes</span>\n                        <span v-if=\"sale.cash === 0\">No</span>\n                    </td>\n                    <td>{{ sale.order_type.name }}</td>\n                </tr>\n            </tbody>\n        </table>\n        <div class=\"align-center\">\n            <div class=\"no-results\" v-if=\"noResults\">\n                <span>No results for this timeframe</span>\n            </div>\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n            <cp-pagination :pagination=\"pagination\" :callback=\"getReptoCustomer\" :offset=\"2\"></cp-pagination>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/index.vue:script

sms.vComponent('assets/js/components/settings/index.vue', { name: 'CpSettingsIndex', routing: { name: 'site.CpSettingsIndex', meta: { title: 'Settings' }, path: 'settings', props: true } }, (require, exports, module)=>{

module.exports = {
  data: function () {
    return {
    }
  },
  components: {
    'CpSettingsBranding': require('../settings/partials/CpSettingsBranding.vue'),
    'CpSettingsRepSettings': require('../settings/partials/CpSettingsRepSettings.vue'),
    'CpSettingsInventory' : require('../settings/partials/CpSettingsInventory.vue'),
    'CpSettingsEmail': require('../settings/partials/CpSettingsEmail.vue'),
    'CpSettingsBackOffice': require('../settings/partials/CpSettingsBackOffice.vue'),
    'CpCustomPagesIndex': require('../custom-pages/CpCustomPagesIndex.vue'),
    'CpSettingsRegistrationSettings': require('../settings/partials/CpSettingsRegistrationSettings.vue'),
    'CpSettingsTaxes': require('../settings/partials/CpSettingsTaxes.vue'),
    'CpSettingsGeneralStore': require('../settings/partials/CpSettingsGeneralStore.vue'),
    'CpSettingsGeneral': require('../settings/partials/CpSettingsGeneral.vue'),
    'CpSettingsCommission': require('../settings/partials/CpSettingsCommission.vue'),
    'CpSettingsOrder': require('../settings/partials/CpSettingsOrder.vue'),
    'CpSettingsUserStatus': require('../settings/partials/CpSettingsUserStatus.vue'),
    'CpCustomEmails': require('../settings/partials/CpCustomEmails.vue'),
    CpSettingsEvents: require('../settings/partials/CpSettingsEvents.vue')
  }
}

;module.exports.template = "\n    <div class=\"settings-wrapper\">\n        <cp-settings-general></cp-settings-general>\n        <cp-settings-branding></cp-settings-branding>\n        <cp-settings-general-store></cp-settings-general-store>\n        <cp-settings-inventory></cp-settings-inventory>\n        <cp-settings-rep-settings></cp-settings-rep-settings>\n        <cp-settings-autoship></cp-settings-autoship>\n        <cp-settings-registration-settings></cp-settings-registration-settings>\n        <cp-settings-events></cp-settings-events>\n        <cp-settings-taxes></cp-settings-taxes>\n        <cp-settings-commission></cp-settings-commission>\n        <cp-settings-user-status></cp-settings-user-status>\n        <cp-settings-order></cp-settings-order>\n        <div class=\"cp-box-standard\">\n          <div class=\"cp-box-heading\" @click=\"showSetting = !showSetting\">\n            <h5>Documents</h5>\n          </div>\n          <div class=\"cp-box-body table-setting\">\n            <cp-custom-pages-index></cp-custom-pages-index>\n          </div>\n       </div>\n       <cp-custom-emails></cp-custom-emails>\n    </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/returns/index.vue:script

sms.vComponent('assets/js/components/returns/index.vue', { name: 'CpReturnsIndex', routing: { name: 'site.CpReturnsIndex', meta: { title: 'Returns' }, path: 'returns', props: true } }, (require, exports, module)=>{

const Returns = require('../../resources/returns.js')
const Auth = require('auth')
const moment = require('moment')

module.exports = {
  data: function () {
    return {
      statusIds: {},
      pendingClose: {},
      showConfirm: false,
      returnStatuses: '',
      loading: false,
      returns: [],
      pagination: {
        per_page: 15
      },
      activeStatus: 'Open',
      asc: false,
      reverseSort: false,
      auth: Auth,
      returnsActive: {
        all: false,
        open: true,
        closed: false,
        pending: false
      },
      indexRequest: {
        start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        order: 'DESC',
        column: 'returns.created_at',
        per_page: 15,
        search_term: '',
        page: 1,
        status: 'Open'
      }
    }
  },
  mounted: function () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
    this.getReturns()
    this.getReturnStatuses()
  },
  methods: {
    checkStatus (r) {
      if (this.statusIds[r.id] === 3) {
        this.showConfirm = true
        return
      }
      this.updateStatus(r)
    },
    selectOrders (name) {
      switch (name) {
        case 'Open Returns':
          this.changeStatus('open')
          break
        case 'Pending Returns':
          this.changeStatus('pending')
          break
        case 'Closed Returns':
          this.changeStatus('closed')
          break
        case 'All Returns':
          this.changeStatus('all')
          break
        default:
      }
    },
    getReturns: function () {
      this.indexRequest.page = this.pagination.current_page
      this.loading = true
      Returns.index(this.indexRequest)
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, {error: true})
          }
          this.buildReturnsObject(response.data)
          this.returns = response.data
          this.pagination = response
          this.loading = false
        })
    },
    getReturnStatuses: function () {
      this.loading = true
      Returns.returnStatuses()
        .then(response => {
          if (!response.error) {
            this.returnStatuses = response
            this.loading = false
          } else {
            this.$toast('Returns are unavailable, please contact support', {error: true})
          }
        })
    },
    buildReturnsObject: function (r) {
      for (var i = 0; i < r.length; i++) {
        this.statusIds[r[i].id] = r[i].return_status_id
      }
    },
    updateStatus: function (r) {
      r.return_status_id = this.statusIds[r.id]
      Returns.updateStatus(r.id, r)
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, {error: true})
          }
          this.getReturns()
          r.notes = ''
        })
    },
    resetStatus (r) {
      this.statusIds[r.id] = r.return_status_id
    },
    changeStatus: function (status) {
      this.returnsActive.open = false
      this.returnsActive.closed = false
      this.returnsActive.pending = false
      this.returnsActive.all = false
      switch (status) {
        case 'open':
          this.activeStatus = 'Open'
          this.returnsActive.open = true
          break
        case 'closed':
          this.activeStatus = 'Closed'
          this.returnsActive.closed = false
          break
        case 'pending':
          this.activeStatus = 'Pending'
          this.returnsActive.pending = true
          break
        default:
          this.activeStatus = 'all'
          this.returnsActive.all = true
      }
      this.indexRequest.status = status
      this.indexRequest.current_page = 1
      this.getReturns()
    },
    sortColumn: function (column) {
      this.reverseSort = !this.reverseSort
      this.indexRequest.column = column
      this.asc = !this.asc
      if (this.asc === true) {
        this.indexRequest.order = 'asc'
      } else {
        this.indexRequest.order = 'desc'
      }
      this.getReturns()
    }
  },
  components: {
    CpConfirm: require('../../cp-components-common/CpConfirm.vue'),
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue'),
    CpTabs: require('../../cp-components-common/navigation/CpTabs.vue')
  }
}

;module.exports.template = "\n    <div class=\"returns-wrapper\">\n      <cp-tabs\n         :select-value=\"indexRequest.status\"\n         :items=\"[\n           { name: 'Open Returns', active: true },\n           { name: 'Pending Returns', active: false },\n           { name: 'Closed Returns', active: false },\n           { name: 'All Returns', active: false }\n         ]\"\n         :callback=\"selectOrders\"></cp-tabs>\n        <cp-table-controls\n          :date-picker=\"true\"\n          :date-range=\"indexRequest\"\n          :index-request=\"indexRequest\"\n          :resource-info=\"pagination\"\n          :get-records=\"getReturns\"></cp-table-controls>\n        <table class=\"cp-table-standard desktop\">\n            <thead>\n              <th @click=\"sortColumn('returns.created_at')\">Date Requested\n                  <span v-show=\"indexRequest.column == 'returns.created_at'\">\n                      <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                      <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                  </span>\n              </th>\n              <th @click=\"sortColumn('returns.id')\">Return Ticket ID\n                  <span v-show=\"indexRequest.column == 'returns.id'\">\n                      <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                      <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                  </span>\n              </th>\n              <th @click=\"sortColumn('order_id')\">Receipt ID\n                  <span v-show=\"indexRequest.column == 'order_id'\">\n                      <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                      <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                  </span>\n              </th>\n              <th @click=\"sortColumn('last_name')\">Customer Name\n                  <span v-show=\"indexRequest.column == 'last_name'\">\n                      <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                      <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                  </span>\n              </th>\n              <th> Requested Quantity</th>\n              <th> Notes</th>\n              <th @click=\"sortColumn('return_status_id')\">Status\n                  <span v-show=\"indexRequest.column == 'return_status_id'\">\n                      <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                      <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                  </span>\n              </th>\n              <th> Return Ticket</th>\n            </thead>\n            <tbody v-if=\"!loading\">\n                <tr v-for=\"r in returns\">\n                  <td>{{ r.created_at | cpStandardDate }}</td>\n                  <td>{{r.id}}</td>\n                  <td><a :href=\"`/orders/${ r.order.receipt_id }`\">{{ r.order.receipt_id }}</a></td>\n                  <td>{{ r.first_name }} {{r.last_name}}</td>\n                  <td>{{r.requested_quantity}}</td>\n                  <td v-if=\"r.return_status_id !== 3\">\n                    <textarea v-model=\"r.notes\" autofocus></textarea>\n                  </td>\n                  <td v-else></td>\n                  <td v-if=\"r.return_status_id !== 3\">\n                    <div class=\"cp-select-standard select-outline\" v-if=\"!loading\">\n                      <select v-model=\"statusIds[r.id]\" @change=\"checkStatus(r); pendingClose = r\">\n                        <option v-for=\"rStatus in returnStatuses\" :value=\"rStatus.id\">{{ rStatus.name }}</option>\n                      </select>\n                    </div>\n                  </td>\n                  <td v-else>This return is closed</td>\n                  <td><a :href=\"`/return/${r.id}`\" class=\"cp-button-link pull-right\">Return</a></td>\n                </tr>\n            </tbody>\n        </table>\n        <section class=\"cp-table-mobile\">\n          <div v-for=\"r in returns\">\n          <div><span>Date Requested: </span><span>{{ r.created_at | cpStandardDate }}</span></div>\n          <div><span>Return Ticket ID: </span><span>{{r.id}}</span></div>\n          <div><span>Receipt ID: </span><span><a :href=\"`/orders/${ r.order.receipt_id }`\">{{ r.order.receipt_id }}</a></span></div>\n          <div><span>Customer Name: </span><span>{{ r.first_name }} {{r.last_name}}</span></div>\n          <div><span>Requested Quantity: </span><span>{{r.requested_quantity}}</span></div>\n          <div v-if=\"r.return_status_id !== 3\"><span>Notes: </span><span><textarea v-model=\"r.notes\" autofocus></textarea></span></div>\n          <div v-else><span>Notes: </span><span>{{r.comments | cpStandardDate }}</span></div>\n          <div v-if=\"r.return_status_id !== 3\"><span>Status: </span><span>\n            <div class=\"cp-select-standard select-outline\" v-if=\"!loading\">\n              <select v-model=\"statusIds[r.id]\" @change=\"updateStatus(r); pendingClose = r\">\n                <option v-for=\"rStatus in returnStatuses\" :value=\"rStatus.id\">{{ rStatus.name }}</option>\n              </select>\n            </div></span></div>\n          <div v-else><span>Status: </span><span>This return is closed</span></div>\n          <div><span></span><span><a :href=\"`/return/${r.id}`\" class=\"cp-button-link pull-right\">Return</a></span></div>\n        </div>\n        </section>\n        <cp-confirm\n        :show=\"showConfirm\"\n        :message=\"'Are you sure you want to close this return?'\"\n        v-model=\"showConfirm\"\n        :callback=\"updateStatus\"\n        :params=\"pendingClose\"\n        :on-cancelled=\"resetStatus\"></cp-confirm>\n        <div class=\"align-center\">\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n            <cp-pagination :pagination=\"pagination\" :callback=\"getReturns\" :offset=\"2\"></cp-pagination>\n        </div>\n    </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpCustomEmails.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpCustomEmails.vue', {"name":"CpCustomEmails","path":"assets/js/components/settings/partials/CpCustomEmails.vue"}, (require,exports,module)=>{
        
const Settings = require('../../../resources/settings.js')

module.exports = {
  data: function () {
    return {
      emails: []
    }
  },
  mounted: function () {
    this.getEmails()
  },
  methods: {
    getEmails: function () {
      Settings.customEmails()
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, {error: true})
          } else {
            this.emails = response
          }
        })
    },
    saveEmail: function (title, email) {
      Settings.saveCustomEmail(title, email)
        .then((response) => {
          if (response.error) {
            this.errorMessages = response.message
            return
          }
          this.$toast('Saved successfully.', { dismiss: false })
        })
    }
  }
}
;
        module.exports.template = "\n  <div class=\"custom-email-wrapper\">\n      <div class=\"panel item-list\">\n        <div class=\"panel-heading\">\n        <h2  class=\"panel-title align-left\">Emails</h2>\n      </div>\n        <table class=\"cp-table-standard table-setting\">\n            <thead>\n                <th>Email Name</th>\n                <th>Subject</th>\n                <th>Send Email</th>\n            </thead>\n            <tbody>\n                <tr v-for=\"(email, index) in emails\">\n                    <td><a :href=\"'/email/edit/' + email.title\">{{ email.display_name }}</a></td>\n                    <td>{{ email.subject }}</td>\n                    <td><input class=\"toggle-switch\" type=\"checkbox\" v-model=\"email.send_email\" @change=\"saveEmail(email.title, email)\"></td>\n                </tr>\n            </tbody>\n        </table>\n      </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/SearchBox.vue:script


      sms.vComponent('assets/js/components/SearchBox.vue', {"name":"CpSearchBox","path":"assets/js/components/SearchBox.vue"}, (require,exports,module)=>{
        
module.exports = {
  data: function () {
    return {
      search_term: ''
    }
  },
  props: {
    placeholder: {
      type: String,
      default () {
        return 'Search'
      }
    }
  },
  methods: {
    search: function () {
      this.$dispatch('search_term', this.search_term)
    }
  }
}
;
        module.exports.template = "\n    <div class=\"search-box\">\n        <input type=\"text\"\n        class=\"form-control ng-pristine ng-valid\"\n        name=\"new_tag\"\n        :placeholder=\"placeholder\"\n        v-model=\"search_term\"\n        @keyup=\"search() | debounce 500\">\n        <button class=\"search-button\" type=\"button\" @click=\"search()\">\n            <i class=\"mdi mdi-magnify\"></i>\n        </button>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/media/CpMediaUploadModal.vue:script


      sms.vComponent('assets/js/components/media/CpMediaUploadModal.vue', {"name":"CpMediaUploadModal","path":"assets/js/components/media/CpMediaUploadModal.vue"}, (require,exports,module)=>{
        
/* global FormData */

const Media = require('../../resources/media.js')
const Croppie = require('../media/croppie.js')
const Dropzone = require('dropzone')
Dropzone.autoDiscover = false

module.exports = {
  data: function () {
    return {
      loading: false,
      pagination: {},
      showCropper: false,
      uploadButton: false,
      uploadZone: null,
      media: {},
      type: null,
      activeFilter: {
        all: true,
        user: false,
        shared: false
      },
      newFile: {
        fileSet: false,
        file: null
      },
      selectedMedia: '',
      mediaRequest: {
        type: null,
        searchTerm: '',
        limit: 10
      },
      successful: false,
      uploading: false,
      croppieImage: null,
      saving: false
    }
  },
  props: {
    showModal: {
      type: Boolean
    },
    cropSize: {
      type: Object,
      default: function () {
        return {
          boundary: { width: 625, height: 938 },
          viewport: { width: 750, height: 1125 }
        }
      }
    },
    settingKey: {
      type: String
    },
    handleSelection: {
      type: Function
    }
  },
  mounted: function () {
    this.getMedia(null)
    this.uploadDropzone()
  },
  methods: {
    closeModal: function () {
      this.showCropper = false
      this.$emit('show-modal', false)
      this.newFile.fileSet = false
      if (this.croppieImage) {
        this.croppieImage.destroy()
        this.croppieImage = null // must do this to completely destroy croppie object
      }
      if (this.uploadZone) {
        // remove any images if selected
        this.uploadZone.removeAllFiles()
      }
    },
    generateCropper: function () {
      var urlCreator = window.URL || window.webkitURL
      var imageUrl = this.selectedMedia
      var element = document.getElementById('crop-image')
      // validate file
      if (this.newFile.fileSet) {
        imageUrl = urlCreator.createObjectURL(this.newFile.file)
      }
      if (!imageUrl) {
        this.closeModal()
        return this.$toast('There was an error selecting that image', {error: true})
      }
      if (this.cropSize.boundary && this.cropSize.viewport) {
        this.showCropper = true
        this.croppieImage = new Croppie(element, {
          viewport: this.cropSize.viewport,
          boundary: this.cropSize.boundary
        })
        this.croppieImage.bind({
          url: imageUrl,
          orientation: 1
        })
      }
    },
    // sets active css class to active menu item
    setActiveClass: function (type, classObject) {
      for (var key in classObject) {
        if (type === key || (key === 'all' && type === null)) {
          classObject[key] = true
        } else {
          classObject[key] = false
        }
      }
    },
    getMedia: function () {
      this.loading = true
      this.mediaRequest.page = this.pagination.current_page
      this.mediaRequest.type = this.type
      this.setActiveClass(this.type, this.activeFilter) // set active class css
      Media.indexWithFilters(this.mediaRequest)
        .then((response) => {
          this.loading = false
          if (response.error) {
            this.$toast(response.message, {error: true})
            return
          }
          this.media = response.data
          response.per_page = parseInt(response.per_page)
          this.pagination = response
        })
    },
    processMedia: function () {
      this.uploadZone.removeAllFiles() // remove files if any
      window.scrollTo(0, 0) // direct to top of page to show loading gif
      var vm = this
      // crop image
      this.croppieImage.result({type: 'blob'})
        .then(function (blob) {
          // prepare request to be proccessed by the server
          var fileName = Math.random().toString(36).substr(2, 12) + '.png' // generate unique file name
          var processRequest = new FormData()
          processRequest.append('file', blob, fileName)
          vm.saving = true
          // process media and reset things as necessary
          Media.process(processRequest, { headers: { 'Content-Type': '' } })
            .then((response) => {
              vm.saving = false
              vm.showCropper = false
              if (response.error) {
                vm.$toast(response.message, {error: true})
                return
              }
              vm.$emit('show-modal', false)
              vm.showCropper = false
              if (vm.newFile.fileSet) {
                vm.newFile.fileSet = false
              }
              vm.handleSelection(vm.settingKey, response)
            })
        })
      this.croppieImage.destroy()
    },
    uploadDropzone: function () {
      var thisComponent = this
      var uploadZoneConfig = Media.dropzoneConfig()
      uploadZoneConfig.init = function () {
        this.on('addedfile', function (file) {
          thisComponent.newFile = { fileSet: true, file: file }
          thisComponent.uploadButton = true
        })
        this.on('removedfile', function (file) {
          thisComponent.uploadButton = false
          thisComponent.newFile = { fileSet: false, file: null }
        })
      }
      uploadZoneConfig.autoProcessQueue = false
      this.uploadZone = new Dropzone('#createMediaZone', uploadZoneConfig)
      this.uploadZone.autoDiscover = false
    },
    selectImage: function (media) {
      this.selectedMedia = media.url
      this.generateCropper()
      this.newFile.fileSet = false
    }
  }
}
;
        module.exports.template = "\n    <div class=\"upload-modal-wrapper\">\n        <div v-show=\"!saving\">\n            <div class=\"sidebar\">\n                <ul class=\"upload-modal-menu\">\n                    <li @click=\"type = null, getMedia()\" :class=\"{ active: activeFilter.all }\">All Media Files</li>\n                    <li @click=\"type = 'user', getMedia()\" :class=\"{ active: activeFilter.user }\">Your Media Files</li>\n                    <li @click=\"type = 'shared', getMedia()\" :class=\"{ active: activeFilter.shared }\">Corporate Media Files</li>\n                </ul>\n            </div>\n            <section class=\"upload-main-content\">\n                <div class=\"title-wrapper\">\n                    <span class=\"title-text\">Select or Upload an Image</span>\n                    <i class=\"mdi mdi-close pointer x\" @click=\"closeModal()\"></i>\n                </div>\n                <section class=\"selection-zone\" v-show=\"!showCropper\">\n                    <form action=\"/api/v1/media/process\" method=\"POST\" class=\"dropzone\" id=\"createMediaZone\">\n                    </form>\n                    <div class=\"upload-wrapper\" v-show=\"uploadButton\">\n                        <button class=\"cp-button-standard upload\" type=\"button\" @click=\"generateCropper()\">Upload</button>\n                    </div>\n                    <div class=\"grid-wrapper\">\n                        <div class=\"cp-image-grid-standard upload-image-grid\" v-if=\"!loading\">\n                            <div class=\"image-list cp-image-grid-box\" v-for=\"media in media\">\n                              <img class=\"cp-grid-image\" :src=\"media.url_xs\" alt=\"\" @click=\"selectImage(media)\" />\n                            </div>\n                            <span class=\"image-list cp-image-grid-box\" v-if=\"media <= 0\">No media was found.</span>\n                        </div>\n                    </div>\n                    <div class=\"align-center\">\n                        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n                        <cp-pagination :pagination=\"pagination\" :callback=\"getMedia\" :offset=\"2\"></cp-pagination>\n                    </div>\n\n                </section>\n                <section class=\"cropper-wrapper\" v-show=\"showCropper\"> <!-- needs be show not if -->\n                    <div id=\"cropper-container\" width=\"100px\">\n                        <img id=\"crop-image\" src=\"\" />\n                    </div>\n                    <div class=\"crop-btn-wrapper\">\n                        <button class=\"cp-button-standard crop\" @click=\"processMedia()\" v-show=\"!saving\">Crop</button>\n                    </div>\n                </section>\n            </section>\n        </div>\n        <section class=\"align-center saving\" v-show=\"saving\">\n            <p>Please Wait</p>\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"saving\">\n            <br />\n            <br />\n        </section>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/orders/CpOrderConfirm.vue:script


      sms.vComponent('assets/js/components/orders/CpOrderConfirm.vue', {"name":"CpOrderConfirm","path":"assets/js/components/orders/CpOrderConfirm.vue"}, (require,exports,module)=>{
        
module.exports = {
  data: function () {
    return {
      order: {
        items: [],
        subtotal: '',
        total: '',
        tax: '',
        shipping: '',
        retail: '',
        discount: ''
      },
      logo: this.$getGlobal('back_office_logo').value
    }
  },
  props: {
    orderDetails: {
      type: Object,
      required: true
    }
  },
  methods: {
    submitPayment: function () {
      Pay(this.paymentObject)
        .then((response) => {
          if (response.error) {
            return this.$toast(response.message, {error: true})
          }
        })
    }
  },
  components: {
    'CpPaymentForm': require('../payment/CpPaymentForm.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"eInvoice-wrapper\">\n        <section class=\"eInvoice-header\">\n            <h1>Your Order</h1>\n        </section>\n        <section class=\"eInvoice-table\">\n            <table class=\"cart-table\">\n                <tbody class=\"cart-body\">\n                    <thead>\n                        <th data-label=\"image\"></th>\n                        <th data-label=\"title\">Title</th>\n                        <th data-label=\"Size\">Size</th>\n                        <th data-label=\"quantity\">Quantity</th>\n                        <th data-label=\"price\">Retail Price</th>\n                    </thead>\n                    <tr v-for=\"item in order.items\">\n                        <td class=\"preview\" data-label=\"image\">\n                            <span v-if=\"item.product.default_media\">\n                                <img :src=\"\n                                item.product.default_media.url_md\" class=\"preview\">\n                            </span>\n                        </td>\n                        <td data-label=\"Title\">\n                            <span>{{item.product.name}}</span>\n                        </td>\n                        <td data-label=\"Size\">\n                            <label class=\"qty\">Size:</label>\n                            <span>{{item.size}}</span>\n                        <td data-label=\"Quantity\">\n                        <label class=\"qty\">Quantity:</label>\n                        <span>{{item.pivot.quantity}}</span>\n                        </td>\n                        <td data-label=\"Price\">\n                            <span>${{item.msrp.price}}</span>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </section>\n        <section class=\"eInvoice-subtotal\">\n                <div class=\"line-wrapper\">\n                    <label>Discount</label>\n                    <span v-text=\" - order.discount | currency\"></span>\n                </div>\n                <div class=\"line-wrapper\">\n                    <label>Subtotal</label>\n                    <span v-text=\"order.subtotal | currency\"></span>\n                </div>\n                <div class=\"line-wrapper\">\n                    <label>Shipping</label>\n                    <span v-text=\"order.shipping | currency\"></span>\n                </div>\n                <div class=\"line-wrapper\">\n                    <label>Sales Tax</label>\n                    <span v-text=\"order.tax | currency\">\n                    <!-- ${{order.tax}} -->\n                    </span>\n                </div>\n        </section>\n        <section class=\"eInvoice-total\">\n                <div class=\"line-wrapper\">\n                    <label class=\"total\">Total</label>\n                    <span v-text=\"order.total | currency\"></span>\n                </div>\n                <div class=\"btn-wrapper\">\n                    <button class=\"btn\" v-show=\"complete\" @click=\"paymentModal = true, complete = false\">Complete Your Order</button>\n                </div>\n            <section class=\"payment-modal\" v-show=\"paymentModal\">\n              <cp-payment-form :payment-data=\"paymentObject\" :validation-errors=\"validationErrors\"></cp-payment-form>\n            </section>\n        </section>\n        <section class=\"eInvoice-footer\">\n            <img v-bind:src=\"logo\" class=\"footer-icon\">\n            <p>This is an important notification about your purchase from {{$_settings->getGlobal('company_name', 'value')}}</p>\n            <p>{{$_settings->getGlobal('address', 'value')}}</p>\n        </section>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/CpMySettings.vue:script


      sms.vComponent('assets/js/components/settings/CpMySettings.vue', {"name":"CpMySettings","path":"assets/js/components/settings/CpMySettings.vue"}, (require,exports,module)=>{
        
const Dropzone = require('dropzone')
const Users = require('../../resources/users.js')
const {states} = require('../../resources/states.js')
const Banking = require('../../resources/banking.js')
const Clipboard = require('clipboard')
const Media = require('../../resources/media.js')
const Payments = require('../../resources/payments.js')
const Auth = require('auth')
const moment = require('moment')

module.exports = {
  name: 'CpMySettings',
  routing: [
    {
      name: 'site.CpMySettings',
      path: '/my-settings',
      meta: {
        title: 'My Account',
        nosubscription: true
      },
      props: true
    },
    {
      name: 'site.UserSettings',
      path: '/my-settings/:id',
      meta: {
        title: 'User Settings'
      },
      props: true
    }
  ],
  data: function () {
    return {
      user_id: null,
      repUrl: '',
      loading: false,
      Auth: Auth,
      moment: moment,
      showPaymentAccountModal: false,
      showTermsAndConditions: false,
      showConfirm: false,
      showReceipt: false,
      showPayNow: false,
      disablePayNow: false,
      closed: true,
      selectedAddress: {},
      selected: {
        billing_address: {}
      },
      importRequest: {
        id: ''
      },
      url: '',
      avatar: {
        url: ''
      },
      paymentInfo: true,
      subscriptionInfo: true,
      storeSettings: true,
      shippingSettings: true,
      locatorSettings: true,
      expired: false,
      showNewAddress: false,
      addBillingAddress: false,
      creditCardChange: false,
      addCreditCard: false,
      bankUpdate: false,
      creditCardModal: false,
      states: states,
      years: [],
      isReadOnly: true,
      profileIcon: true,
      termsAccepted: true,
      terms: {},
      subscription: {},
      subscriptionRenewAmount: {
        total_tax: 0,
        subtotal_price: 0
      },
      ppa: {
        type: '0',
        account: {},
        address: {},
        owner: {
          address: {}
        },
        businessAccount: {},
        businessAddress: {}
      },
      ppaLoading: false,
      ppaMessage: '',
      ppaProcessed: false,
      user: {
        first_name: '',
        last_name: '',
        email: '',
        public_id: '',
        phone: {
          number: ''
        },
        bank: {
          bankName: '',
          name: '',
          number: '',
          routing: '',
          type: '',
          validated: false
        },
        role: {
          name: ''
        },
        subscriptions: {
          card_digits: '',
          subscription: {
            price: {}
          }
        },
        billing_address: {
          address_1: '',
          address_2: '',
          city: '',
          state: '',
          zip: '',
          label: 'business'
        },
        business_address: {},
        shipping_address: {
          address_1: '',
          address_2: '',
          city: '',
          state: '',
          zip: '',
          label: 'Shipping'
        },
        profileImage: {
          url: ''
        },
        card_token: {
          card_digits: '',
          card_type: ''
        }
      },
      creditCardRequest: {
        payment: {
          name: '',
          number: '',
          month: '',
          year: '',
          code: '',
          zip: ''
        },
        addresses: {
          billing: {
            address_1: '',
            address_2: '',
            city: '',
            state: '',
            zip: '',
            label: ''
          }
        },
        type: ''
      },
      cardInfo: {
        card_type: '',
        number: ''
      },
      settings: {
        user_id: '',
        show_new_inventory: false,
        hide_products: false,
        show_address: false,
        show_email: false,
        show_phone: false,
        show_location: false,
        show_address_on_invoice: false,
        will_deliver: false,
        new_customer_message: '',
        order_confirmation_message: '',
        timezone: '',
        payment_account: false
      },
      uploadZone: {},
      errorMessages: {
        phone: {}
      },
      oauths: {
        facebook: {
          email: ''
        }
      },
      validationErrors: {
        payment: {
          name: false,
          card_number: false,
          month: false,
          year: false,
          code: false
        },
        addresses: {
          billing: {
            address_1: false,
            address_2: false,
            city: false,
            state: false,
            zip: false
          }
        }
      }
    }
  },
  props: {},
  mounted () {
    this.uploadDropzone()
    this.getUser()
    this.getYears()
    this.getUserSettings()
    this.getTerms()
    Dropzone.autoDiscover = false
  },
  computed: {
    shareLink () {
      return window.location.protocol + '//' + window.location.host + '/sign-up-with/' + this.user.public_id
    },
    affiliateLink () {
      return this.$getGlobal('affiliate_link').value.url + '?public_id=' + this.user.public_id
    }
  },
  methods: {
    clearModal () {
      this.validationErrors = {}
      this.creditCardModal = false
      this.creditCardChange = false
      this.addCreditCard = false
      this.selectedAddress = ''
      this.creditCardRequest.payment = {}
    },
    getUserId () {
      if (this.$pathParameter()) {
        this.user_id = this.$pathParameter()
      } else {
        this.user_id = Auth.getAuthId()
      }
    },
    refreshToken () {
      this.repUrl = this.$getGlobal('rep_url').value.replace('%s', this.user.public_id)
      Auth.refreshToken().then(res => Auth.setJwtToken(res.cp_token))
    },
    getTerms () {
      let request = {}
      if (Auth.hasAnyRole('rep') && !Auth.hasAcceptedTerms()) {
        Users.getTerms(request, this.user_id).then((response) => {
          this.terms = response.terms
          this.termsAccepted = response.termsAccepted
        })
      }
    },
    copyUrl () {
      var thisClipboard = this
      var clipboard = new Clipboard('.copy-link-to-clipboard')
      clipboard.on('success', (e) => {
        thisClipboard.$toast('Successfuly copied to clipboard', {
          success: true,
          dismiss: false
        })
      })
      clipboard.on('error', (e) => {
        thisClipboard.$toast('Could not copy to clipboard', {
          error: true,
          dismiss: true
        })
      })
    },
    loginAs () {
      Auth.loginAs(this.user.id).then(res => {
        if (res.error) {
          this.errorMessages = res.message
          return this.$toast(res.message, { error: true, dismiss: false })
        }
        this.$events.$emit('login-as-change')
        this.$router.push('/dashboard')
      })
    },
    getBanking () {
      this.ppaLoading = true
      Banking.bankInfo(this.user_id, {
        number: true
      }).then((response) => {
        if (response.error) {
          return
        }
        this.ppa.businessAccount.number = response.account
        this.ppa.businessAccount.type = response.type
        this.ppa.businessAccount.routing = response.routing
        this.ppaLoading = false
      })
    },
    uploadDropzone () {
      if (!this.useProfilePic()) {
        return false
      }
      var uploadZoneConfig = Media.dropzoneConfig()
      var vm = this
      uploadZoneConfig.success = function (file, response) {
        vm.media = response
        vm.uploading = false
        vm.modalDisplay = false
        vm.$toast('Media source successfully uploaded.')
      }
      uploadZoneConfig.dictRemoveFile = 'Replace Image'
      uploadZoneConfig.maxFiles = 1
      vm.uploadZone = new Dropzone('#profileImage', uploadZoneConfig)
    },
    assignBillingAddress () {
      this.creditCardRequest.addresses.billing = this.selected.billing_address
      this.selectedAddress = this.creditCardRequest.addresses.billing
      this.showNewAddress = true
      this.addBillingAddress = false
      this.selected.billing_address = {}
    },
    acceptTermsAndConditions () {
      Users.acceptTermsAndConditions()
        .then((response) => {
          this.termsAccepted = true
          Auth.refreshToken()
        })
    },
    addressAssignment: function () {
      if (this.selectedAddress === 'billing') {
        this.addBillingAddress = false
        this.creditCardRequest.addresses.billing.address_1 = this.user.billing_address.address_1
        this.creditCardRequest.addresses.billing.address_2 = this.user.billing_address.address_2
        this.creditCardRequest.addresses.billing.city = this.user.billing_address.city
        this.creditCardRequest.addresses.billing.state = this.user.billing_address.state
        this.creditCardRequest.addresses.billing.zip = this.user.billing_address.zip
        this.creditCardRequest.addresses.billing.label = this.user.billing_address.label
      } else if (this.selectedAddress === 'newAddress') {
        this.addBillingAddress = true
      }
    },
    getUser () {
      this.getUserId()
      Users.userAccount(this.user_id)
        .then((response) => {
          if (response.error) {
            return this.$toast(response.message, {
              error: true
            })
          } else {
            if (!response.business_address) {
              response.business_address = {}
            }
            if (!response.billing_address) {
              response.billing_address = {}
            }
            if (!response.shipping_address) {
              response.shipping_address = {}
            }
            this.user = response
            this.repUrl = this.$getGlobal('rep_url').value.replace('%s', this.user.public_id)
            if (response.profile_image && response.profile_image[0] && this.useProfilePic()) {
              this.avatar = response.profile_image[0]
              Dropzone.forElement('#profileImage').emit('addedfile', this.avatar)
              Dropzone.forElement('#profileImage').emit('thumbnail', this.avatar, this.avatar.url_sm)
              Dropzone.forElement('#profileImage').emit('complete', this.avatar)
            }
            if (response.card_token != null) {
              this.user.card_token.card_digits = response.card_token.card_digits
              this.user.card_token.card_type = response.card_token.card_type
              this.user.card_token.expiration = response.card_token.expiration.substring(0, 2) + ' / ' + response.card_token.expiration.substring(2, 4)
            } else {
              this.user.card_token = 0
            }
            if (response.subscription && response.subscriptions.card_expired > 0) {
              this.expired = true
            } else {
              this.expired = false
            }
          }
          if (Auth.hasAnyRole('Rep')) {
            if (moment(this.user.subscriptions.ends_at).isBefore(moment())) {
              this.subscriptionExpired()
            }
            this.loading = false
          }
        })
    },
    scrollTop: function () {
      window.scrollTo(0, 0)
    },
    checkBillingForCardUpdate: function () {
      this.creditCardRequest.address_1 = this.user.billing_address.address_1
      this.creditCardRequest.address_2 = this.user.billing_address.address_2
      this.creditCardRequest.city = this.user.billing_address.city
      this.creditCardRequest.state = this.user.billing_address.state
      this.creditCardRequest.zip = this.user.billing_address.zip
      this.creditCardRequest.label = this.user.billing_address.label
      this.creditCardRequest.name = this.user.billing_address.name
      Banking.checkBillingForCardUpdate(this.creditCardRequest)
        .then((response) => {
          if (response.code === 422) {
            this.$toast('Please verify billing address, must have valid billing address to add a card for subscriptions', {
              error: true,
              dismiss: false
            })
            this.creditCardModal = false
          }
        })
    },
    preventDefault: function (event) {
      event.stopPropagation()
    },
    getYears () {
      var currentYear = new Date().getFullYear()
      for (var i = 0; i <= 10; i++) {
        this.years.push({name: currentYear + i})
      }
    },
    updateCard: function () {
      this.validationErrors = {}
      Banking.cardUpdate(this.creditCardRequest)
        .then((response) => {
          if (response.error) {
            if (response.message.payman_message) {
              this.$toast(response.message.payman_message, {
                'error': true
              })
            } else {
              this.validationErrors = response.message
            }
          } else {
            this.$toast('Successfuly updated subscription card on file', {
              error: false,
              dismiss: false
            })
            this.creditCardModal = false
            this.creditCardChange = false
            this.addCreditCard = false
            this.user.card_token.expiration = this.creditCardRequest.payment.month + ' / ' + this.creditCardRequest.payment.year.substring(2, 4)
          }
        })
    },
    getUserSettings: function () {
      Users.userSettings(this.user_id)
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, {
              error: true
            })
          } else {
            this.settings.user_id = response.user_id
            this.settings.hide_products = response.hide_products
            this.settings.show_location = response.show_location
            this.settings.show_new_inventory = response.show_new_inventory
            this.settings.show_address = response.show_address
            this.settings.show_email = response.show_email
            this.settings.show_phone = response.show_phone
            this.settings.show_address_on_invoice = response.show_address_on_invoice
            this.settings.will_deliver = response.will_deliver
            this.settings.timezone = response.timezone
            this.settings.new_customer_message = response.new_customer_message
            this.settings.order_confirmation_message = response.order_confirmation_message
            this.settings.payment_account = response.payment_account
          }
        })
    },
    updateSettings: function () {
      Users.updateUserSettings(this.settings)
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, {
              error: true
            })
          } else {
            this.settings = response
          }
        })
    },
    useProfilePic: function () {
      return this.Auth.hasAnyRole('Superadmin', 'Admin') || (this.Auth.hasAnyRole('Rep') && this.$getGlobal('replicated_site').show)
    },
    paySubscription: function () {
      this.disablePayNow = true
      Payments.subscriptionPayNow()
        .then((response) => {
          if (response.error) {
            this.errorMessages = response.message.message
            this.disablePayNow = false
            return this.$toast(response.message.message, {
              error: true,
              dismiss: false
            })
          }
          this.showPayNow = false
          this.user.subscriptions.ends_at = response.data.ends_at
          Auth.refreshToken()
          return this.$toast(response.message, {
            error: false,
            dismiss: false
          })
        })
    },
    subscriptionExpired: function () {
      if (moment(this.user.subscriptions.ends_at).isBefore(moment())) {
        this.showPayNow = true
        Payments.subscriptionAmount(this.user_id)
          .then((response) => {
            this.subscriptionRenewAmount = response.data
            this.subscriptionRenewAmount.expires_at = moment(this.subscriptionRenewAmount.expires_at).format('MM/DD/YYYY')
            this.subscriptionRenewAmount.price = this.$options.filters.currency(response.data.price)
          })
      } else {
        this.showPayNow = false
      }
    }
  },
  components: {
    'CpBanking': require('../payment/CpBanking.vue'),
    'CpSplashRegistration': require('../registration/CpSplashRegistration.vue'),
    'CpBasicInfo': require('../settings/partials/CpBasicInfo.vue'),
    'CpSettingsUser': require('../settings/partials/CpSettingsUser.vue'),
    'CpOauthConnections': require('../settings/partials/CpOauthConnections.vue'),
    'CpCompanyInfo': require('../settings/partials/CpCompanyInfo.vue'),
    'CpConfirm': require('../../cp-components-common/CpConfirm.vue'),
    'CpRepLogo': require('../settings/partials/CpRepLogo.vue'),
    'CpShowReceipt': require('../subscription/CpShowReceipt.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"my-settings\" v-show=\"!loading\">\n    <div v-if=\"Auth.hasAnyRole('Rep', 'Admin', 'Superadmin', 'Customer')\">\n      <section class=\"accept-payments\" v-if=\"$getGlobal('reseller_payment_option').show && !settings.payment_account && $getGlobal('replicated_site').show && Auth.hasAnyRole('Rep')\">\n        <div class=\"section1\">\n          <p><strong>Attention!</strong> You are not yet setup to accept payments from your customers.</p>\n        </div>\n        <cp-splash-registration v-if=\"!loading && user.id && ppa\" :ppa=\"ppa\" @account-processed=\"val => settings.payment_account = 1\" :user-info=\"user\"></cp-splash-registration>\n      </section>\n      <section class=\"accept-payments\" v-if=\"!termsAccepted\">\n          <div class=\"cp-modal-standard terms-modal\">\n            <div class=\"cp-modal-body\">\n              <div class=\"text-wrapper\" v-if=\"terms !== null\">\n                <h1>{{ terms.title }}</h1>\n                <div v-html=\"terms.content\"></div>\n              </div>\n              <div class=\"cp-modal-controls\">\n                <button class=\"cp-button-standard right\" @click=\"acceptTermsAndConditions()\">Accept Terms and Conditions</button>\n              </div>\n            </div>\n          </div>\n          <div class=\"cp-modal-controls\">\n            <button class=\"cp-button-standard right\" @click=\"acceptTermsAndConditions()\">Accept Terms and Conditions</button>\n          </div>\n      </section>\n      <section>\n        <div class=\"cp-left-col\">\n          <div class=\"personal-info\" v-if=\"['Superadmin', 'Admin', 'Rep'].includes(user.role.name) || Auth.hasAnyRole('Superadmin', 'Admin', 'Rep')\">\n            <div class=\"cp-left-col\">\n              <div class=\"dropbox\" v-if=\"useProfilePic()\">\n                <form action=\"api/v1/media/create-user-image\" method=\"POST\" class=\"dropzone\" id=\"profileImage\">\n                </form>\n              </div>\n            </div>\n            <div class=\"cp-left-col wide\">\n              <p>{{user.first_name}} {{user.last_name}} (ID#{{ user.id}})</p>\n              <p v-if=\"user.role.name === 'Rep' && $getGlobal('replicated_site').show\">\n                <a :href=\"repUrl\" target=\"_blank\">{{ repUrl }}</a>\n                <div>\n                  <strong> Join Date: </strong> {{ this.user.join_date | cpStandardDate(0, 0) }}\n                </div>\n              </p>\n            </div>\n            <br/>\n            <br/>\n            <br/>\n            <br/>\n            <br/>\n            <br/>\n            <button v-if=\"Auth.hasAnyRole('Superadmin', 'Admin') && user.role.name === 'Rep'\" class=\"cp-button-standard\" @click=\"loginAs()\"><i class=\"mdi mdi-login\"></i> Sign in as {{ user.first_name }}</button>\n          </div>\n\n          <div class=\"cp-box-standard\" v-if=\"$getGlobal('collect_sponsor_id').show && Auth.hasAnyRole('Rep')\">\n            <div class=\"cp-box-heading\">\n              <h5> My Sponsor Link:</h5>\n            </div>\n            <div class=\"cp-box-body\">\n              <div class=\"line-wrapper\"><span>{{ shareLink }}</span></div>\n              <div class=\"media-links\">\n                <span>Share with:</span>\n                <a target=\"_blank\" :href=\"`https://www.facebook.com/sharer/sharer.php?u=${ this.shareLink }`\"><i class=\"mdi mdi-facebook\"></i></a>\n                <a target=\"_blank\" :href=\"`https://twitter.com/home?status=${ this.shareLink }`\"><i class=\"mdi mdi-twitter\"></i></a>\n                <a class=\"copy-link-to-clipboard\" :data-clipboard-text=\"shareLink\" @click=\"copyUrl()\"><i class=\"mdi mdi-clipboard-outline\"></i></a>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"cp-box-standard\" v-if=\"$getGlobal('affiliate_link').show && Auth.hasAnyRole('Rep')\">\n            <div class=\"cp-box-heading\">\n              <h5> My Affiliate Link:</h5>\n            </div>\n            <div class=\"cp-box-body\">\n              <div class=\"line-wrapper\"><span>{{ affiliateLink }}</span></div>\n              <div class=\"media-links\">\n                <span>Share with:</span>\n                <a target=\"_blank\" :href=\"`https://www.facebook.com/sharer/sharer.php?u=${ this.affiliateLink }`\"><i class=\"mdi mdi-facebook\"></i></a>\n                <a target=\"_blank\" :href=\"`https://twitter.com/home?status=${ this.affiliateLink }`\"><i class=\"mdi mdi-twitter\"></i></a>\n                <a class=\"copy-link-to-clipboard\" :data-clipboard-text=\"affiliateLink\" @click=\"copyUrl()\"><i class=\"mdi mdi-clipboard-outline\"></i></a>\n              </div>\n            </div>\n          </div>\n\n          <cp-basic-info @user-info-updated=\"refreshToken\" :user-id=\"user_id\" :user-info=\"user\" v-if=\"!loading && user.id\"></cp-basic-info>\n        </div>\n        <div class=\"cp-right-col\">\n          <!-- BANKING INFORMATION  -->\n          <cp-banking v-if=\"Auth.hasAnyRole('Rep') && $getGlobal('replicated_site').show\" :bank=\"user.bank\" :user-id=\"user.id\"></cp-banking>\n          <!-- SUBSCRIPTION INFO -->\n          <div class=\"cp-box-standard\" v-if=\"user.role.id === 5 && user.subscriptions.ends_at != null\">\n            <div class=\"cp-box-heading\">\n              <h5>Subscription Information</h5>\n            </div>\n            <div class=\"cp-box-body\">\n              <div class=\"line-wrapper\">\n                <span>Subscription Name</span>\n                <p>{{user.subscriptions.subscription.title}}</p>\n              </div>\n              <div class=\"line-wrapper\">\n                <span>Subscription Price</span>\n                <p>{{ user.subscriptions.subscription.price.price | currency }}</p>\n              </div>\n              <div class=\"line-wrapper\">\n                <span>Next Payment</span>\n                <p>{{ moment(user.subscriptions.ends_at).format('MM/DD/YYYY') }}</p>\n              </div>\n              <div class=\"line-wrapper\">\n                <p><a @click=\"showReceipt = true\">Show Payment Receipts</a></p>\n              </div>\n              <div v-if=\"showPayNow\">\n                <div class=\"button-wrapper\">\n                  <button class=\"cp-button-standard\" @click=\"showConfirm = true\" :disabled=\"disablePayNow\">Pay Now</button>\n                </div>\n                <section class=\"cp-modal-standard\" v-if=\"showConfirm\">\n                  <div class=\"cp-modal-body\">\n                    <div class=\"line-wrapper\"><span class=\"bold\">Subscription Charges</span>\n                      <p>{{subscriptionRenewAmount.subtotal_price | currency}} <span v-if=\"subscriptionRenewAmount.months > 1\">({{ subscriptionRenewAmount.months }} months)</span></p>\n                    </div>\n                    <div class=\"line-wrapper\"><span class=\"bold\">Subscription Tax</span>\n                      <p>{{subscriptionRenewAmount.total_tax | currency}}</p>\n                    </div>\n                    <div class=\"line-wrapper\"><span class=\"bold\">Total Subscription Charges</span>\n                      <p>{{subscriptionRenewAmount.total_tax + parseFloat(subscriptionRenewAmount.subtotal_price) | currency}}</p>\n                    </div>\n                    <div class=\"line-wrapper\"><span class=\"bold\">Next Payment Due Date</span>\n                      <p>{{moment(subscriptionRenewAmount.expires_at).format('MMMM Do YYYY')}}</p>\n                    </div>\n                    <br/>\n                    <div>You will be charged a total of {{subscriptionRenewAmount.total_tax + parseFloat(subscriptionRenewAmount.subtotal_price) | currency}}.</div>\n                    <div class=\"button-wrapper\">\n                      <button class=\"cp-button-standard\" @click=\"showConfirm = false\">Cancel</button>\n                      <button class=\"cp-button-standard\" :disabled=\"disablePayNow\" @click.once=\"paySubscription()\">Confirm</button>\n                    </div>\n                  </div>\n                </section>\n              </div>\n            </div>\n          </div>\n          <div v-show=\"Auth.hasAnyRole('Rep', 'Customer')\" class=\"cp-box-standard\">\n            <div class=\"cp-box-heading\">\n              <h5>Card Information</h5>\n            </div>\n            <div class=\"cp-box-body\">\n              <div class=\"cp-accordion\">\n                <div class=\"cp-accordion-head\" @click=\"paymentInfo = true, subscriptionInfo = !subscriptionInfo\">\n                  <h5>Subscription Payment Information</h5>\n                  <span class=\"arrow\" v-if=\"closed\"><i class=\"mdi mdi-chevron-down\"></i></span>\n                  <span class=\"arrow\" v-if=\"!closed\"><i class=\"mdi mdi-chevron-up\"></i></span>\n                </div>\n              </div>\n              <div class=\"cp-accordion\">\n                <div class=\"cp-accordion-body\" :class=\"{closed: subscriptionInfo === true}\">\n                  <div class=\"cp-accordion-body-wrapper\">\n                    <div class=\"line-wrapper action-wrapper\">\n                      <h5>Credit Card Information</h5>\n                      <button class=\"action-btn\" v-show=\"user.card_token\" @click=\"creditCardModal = true, creditCardChange = true, creditCardRequest.type ='subscription', scrollTop(), checkBillingForCardUpdate()\">Update</button>\n                      <button class=\"action-btn\" v-show=\"!user.card_token\" @click=\"creditCardModal = true, addCreditCard = true,creditCardRequest.type ='subscription', scrollTop(), checkBillingForCardUpdate()\">Add Credit Card</button>\n                    </div>\n                    <div class=\"line-wrapper\">\n                      <span>Card Type</span>\n                      <p>{{user.card_token.card_type}}</p>\n                    </div>\n                    <div class=\"line-wrapper\">\n                      <span>Card Number</span>\n                      <p>{{user.card_token.card_digits}}</p>\n                    </div>\n                    <div class=\"line-wrapper\">\n                      <span>Expiration Date</span>\n                      <p>{{user.card_token.expiration}}</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <cp-settings-user v-if=\"user && user.id !== undefined\" :old-settings=\"settings\" :user=\"user\"></cp-settings-user>\n          <cp-company-info v-if=\"Auth.hasAnyRole('Rep')\"></cp-company-info>\n          <cp-rep-logo v-if=\"Auth.hasAnyRole('Rep') && user.seller_type_id === 2 && $getGlobal('reseller_logo').show\"></cp-rep-logo>\n        </div>\n        <cp-dialog class=\"credit-card-modal\" :open=\"creditCardModal\" @close=\"clearModal\">\n          <div class=\"cp-box-heading\" slot=\"header\">\n              <h2 v-show=\"creditCardChange\" >Change Credit Card</h2>\n              <h2 v-show=\"addCreditCard\">Add Credit Card</h2>\n          </div>\n          <template slot=\"content\">\n            <div class=\"body-wrapper cp-form-standard\">\n                  <cp-input :error=\"validationErrors['payment.name']\" label=\"Name on card\" v-model=\"creditCardRequest.payment.name\"></cp-input>\n                  <cp-input :error=\"validationErrors['payment.card_number']\" label=\"Card Number\" v-model=\"creditCardRequest.payment.card_number\"></cp-input>\n                  <div class=\"three-field-wrapper\">\n                        <cp-select\n                        label=\"Expiration Date\"\n                        v-model=\"creditCardRequest.payment.month\"\n                        :error=\"validationErrors['payment.month']\"\n                        :options=\"[\n                        { name: '01', value: '01' },\n                        { name: '02', value: '02' },\n                        { name: '03', value: '03' },\n                        { name: '04', value: '04' },\n                        { name: '05', value: '05' },\n                        { name: '06', value: '06' },\n                        { name: '07', value: '07' },\n                        { name: '08', value: '08' },\n                        { name: '09', value: '09' },\n                        { name: '10', value: '10' },\n                        { name: '11', value: '11' },\n                        { name: '12', value: '12' }]\">\n                        </cp-select>\n                        <cp-select\n                        label=\"Year\"\n                        :options=\"years\"\n                        :key-value=\"{ name:'name', value: 'name'}\"\n                        v-model=\"creditCardRequest.payment.year\"\n                        :error=\"validationErrors['payment.year']\">\n                        </cp-select>\n                        <cp-input label=\"CVV\" :error=\"validationErrors['payment.code']\" type=\"number\" name=\"\" v-model=\"creditCardRequest.payment.code\"></cp-input>\n                  </div>\n                  <div class=\"billing-select\">\n                    <h6>Choose your billing address</h6>\n                    <div class=\"cp-select-standard\">\n                      <select v-model=\"selectedAddress\" @change=\"addressAssignment()\">\n                        <option v-if=\"user.billing_address.address_1 != '' && user.billing_address.city != '' && user.billing_address.state != '' && user.billing_address.zip != ''\" value=\"billing\">\n                          {{user.billing_address.address_1}}, {{user.billing_address.city}}, {{ user.billing_address.state}}, {{user.billing_address.zip}}\n                        </option>\n                        <option value=\"newAddress\"><span><i class=\"mdi mdi-plus\"></i></span>Add a new Address</option>\n                        <option v-if=\"showNewAddress\" :value=\"creditCardRequest.addresses.billing\" selected>{{creditCardRequest.addresses.billing.address_1}}, {{creditCardRequest.addresses.billing.city}}, {{creditCardRequest.addresses.billing.state}}, {{creditCardRequest.addresses.billing.zip}}</option>\n                      </select>\n                    </div>\n                    <span v-show=\"validationErrors['addresses.billing.address_1']\" class=\"cp-warning-message\">{{ validationErrors['addresses.billing.address_1'] }}</span>\n                    <span v-show=\"validationErrors['addresses.billing.address_2']\" class=\"cp-warning-message\">{{ validationErrors['addresses.billing.address_2'] }}</span>\n                    <span v-show=\"validationErrors['addresses.billing.city']\" class=\"cp-warning-message\">{{ validationErrors['addresses.billing.city'] }}</span>\n                    <span v-show=\"validationErrors['addresses.billing.state']\" class=\"cp-warning-message\">{{ validationErrors['addresses.billing.state'] }}</span>\n                    <span v-show=\"validationErrors['addresses.billing.zip']\" class=\"cp-warning-message\">{{ validationErrors['addresses.billing.zip'] }}</span>\n                  </div>\n                    <div class=\"button-wrapper\">\n                      <button class=\"cp-button-standard\" @click=\"updateCard()\">Update Account</button>\n                    </div>\n            </div>\n          </template>\n        </cp-dialog>\n        <cp-dialog :open=\"addBillingAddress\" @close=\"addBillingAddress = false\">\n          <h2 slot=\"header\"> Add an address</h2>\n          <section class=\"credit-card-modal\" slot=\"content\">\n\n                <div class=\"body-wrapper cp-form-standard\">\n                  <cp-input :error=\"validationErrors['selected.billing_address.address_1']\" label=\"Address 1\" type=\"\" name=\"\" placeholder=\"Street address, P.O. Box\" v-model=\"selected.billing_address.address_1\"></cp-input>\n                  <cp-input :error=\"validationErrors['selected.billing_address.address_2']\" label=\"Address 2\" type=\"\" name=\"\" placeholder=\"Apartment, suite, building, floor\" v-model=\"selected.billing_address.address_2\"></cp-input>\n                  <cp-input :error=\"validationErrors['selected.billing_address.city']\" label=\"City\" type=\"\" name=\"\" placeholder=\"City\" v-model=\"selected.billing_address.city\"></cp-input>\n                  <cp-input :error=\"validationErrors['selected.billing_address.zip']\" label=\"Zip Code\" type=\"\" name=\"\" placeholder=\"Zip code\" v-model=\"selected.billing_address.zip\"></cp-input>\n                  <cp-select\n                  label=\"State\"\n                  :error=\"validationErrors['billing_address.state']\"\n                  v-model=\"selected.billing_address.state\"\n                  :options=\"states\"\n                  :key-value=\"{ name: 'name', value: 'value'}\"></cp-select>\n                  <div class=\"button-wrapper\">\n                    <button class=\"cp-button-standard\" @click=\"assignBillingAddress()\">Add Address</button>\n                  </div>\n              </div>\n          </section>\n        </cp-dialog>\n        <!--  MODAL RECEIPTS -->\n          <transition>\n            <section class=\"cp-modal-standard\" v-if=\"showReceipt\" @click=\"showReceipt = false\">\n              <div class=\"cp-modal-body\">\n                <cp-show-receipt :user=\"settings\"></cp-show-receipt>\n              </div>\n            </section>\n          </transition>\n        </section>\n    </div>\n    <div class=\"align-center\">\n      <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-show=\"loading\">\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpOauthConnections.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpOauthConnections.vue', {"name":"CpOauthConnections","path":"assets/js/components/settings/partials/CpOauthConnections.vue"}, (require,exports,module)=>{
        
const SocialMedia = require('../../../resources/social-media.js')

module.exports = {
  data: function () {
    return {
      oauthUrls: {},
      oauths: {
        facebook: {
          email: '',
          buttonUrl: ''
        }
      }
    }
  },
  props: {
    oauthTokens: {
      type: Array,
      required: true
    }
  },
  mounted () {
  },
  methods: {
    getUrl () {
      SocialMedia.connectFacebook().then((response) => {
        this.oauths.facebook.buttonUrl = response.facebook
      })
    },
    disconnectFromFacebook: function () {
      SocialMedia.disconnectFacebook()
        .then((response) => {
          if (response.error === false) {
            this.oauths.facebook.email = ''
          }
        })
    }
  }
}
;
        module.exports.template = "\n    <div class=\"oauth-wrapper\">\n        <div class=\"cp-box-standard\">\n            <div class=\"cp-box-heading\">\n                <h5>Social Integrations</h5>\n            </div>\n            <div class=\"cp-box-body\">\n                <div class=\"line-wrapper\">\n                    <h5>Facebook <span v-show=\"oauths.facebook.email\">({{ oauths.facebook.email }})</span></h5>\n                    <a class=\"cp-button-link\" v-show=\"!oauths.facebook.email\" v-bind:href=\"oauths.facebook.buttonUrl\">Link Your Account</a>\n                    <button class=\"cp-button-link\" v-show=\"oauths.facebook.email\" @click=\"disconnectFromFacebook()\"> Disconnect</button>\n                </div>\n            </div>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/CpCustomPagesEditor.vue:script

sms.vComponent('assets/js/components/settings/CpCustomPagesEditor.vue', { name: 'CpCustomPagesEditor', routing: { name: 'site.CpCustomPagesEditor', meta: { title: 'Edit Page' }, path: 'pages/edit/:slug', props: true } }, (require, exports, module)=>{

  const Settings = require('../../resources/settings.js')
  const marked = require('marked')

  module.exports = {
    data: function () {
      return {
        errorMessages: {},
        showPreviewModal: false,
        loaded: false,
        isRepTerms: false,
        page: {
          title: '',
          content: ''
        }
      }
    },
    props: {
      slug: null
    },
    mounted () {
      this.slug === 'rep-terms' ? this.isRepTerms = true : this.isRepTerms = false
      this.getPages()
    },
    methods: {
      getPages () {
        Settings
          .getCustomPage(this.slug)
          .then(page => {
            this.loaded = true
            this.page = page
          })
      },
      saveDocument: function () {
        Settings.saveCustomPage(this.page)
          .then((response) => {
            if (response.error) {
              this.errorMessages = response.message
              return
            }
            this.$toast('Saved successfully.', { dismiss: false })
          })
      },
      saveRequireDocument () {
        Settings.saveRequireCustomPage(this.page)
          .then((response) => {
            if (response.error) {
              this.errorMessages = response.message
              return
            }
            this.$toast('Saved successfully.', { dismiss: false })
          })
      }
    },
    filters: {
      marked: marked
    },
    components: {
      CpEditor: require('../../cp-components-common/inputs/CpEditor.vue')
    }
  }

;module.exports.template = "\n    <div class=\"markdown-wrapper\">\n        <div class=\"editor-wrapper\">\n            <form class=\"cp-form-standard\" @submit.prevent>\n                <label>Title</label>\n                <input :class=\"{error: errorMessages.title}\" type=\"text\" v-model=\"page.title\">\n                <span v-show=\"errorMessages.title\" class=\"cp-warning-message\">{{ errorMessages.title }}</span>\n                <div class=\"editor-wrapper\">\n                    <label for=\"\">Page Content</label>\n                    <cp-editor v-if=\"loaded\" v-model=\"page.content\"></cp-editor>\n                </div>\n                <button  v-show=\"isRepTerms\" class=\"cp-button-standard save-button\" @click=\"saveRequireDocument()\">Save and Require Acceptance</button>\n                <button class=\"cp-button-standard save-button\" @click=\"saveDocument()\">Save</button>\n                <button class=\"cp-button-standard save-button\" @click=\"showPreviewModal = true\">Preview Document</button>\n            </form>\n        </div>\n        <section class=\"cp-modal-standard\" v-if=\"showPreviewModal\" @click=\"showPreviewModal = false\" transition=\"modal\">\n            <div class=\"cp-modal-body markdown-preview\" @click.stop.prevent>\n              <div class=\"live-preview\" v-html=\"page.content\"></div>\n              <div class=\"cp-modal-controls\">\n                <button class=\"cp-button-standard right\" @click=\"showPreviewModal = false\">Close</button>\n              </div>\n            </div>\n        </section>\n    </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpSettingsAutoship.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpSettingsAutoship.vue', {"name":"CpSettingsAutoship","path":"assets/js/components/settings/partials/CpSettingsAutoship.vue"}, (require,exports,module)=>{
        
const Settings = require('../../../resources/settings.js')

module.exports = {
  data: function () {
    return {
      autoship_settings: {
      },
      loading: true
    }
  },
  mounted () {
    this.getAutoshipSettings()
  },
  methods: {
    getAutoshipSettings () {
      Settings.getSettingCategory('auto_ship')
        .then((response) => {
          this.loading = false
          this.autoship_settings = response
        })
    },
    saveAutoshipSettings () {
      Settings.update(this.autoship_settings)
        .then((response) => {
          if (!response.error) {
            this.$updateGlobal(this.autoship_settings)
            this.$toast('Autoship Settings Saved successfully', {dismiss: false})
          }
        })
    }
  }
}
;
        module.exports.template = "\n    <div class=\"autoship-wrapper\" v-if=\"!loading\">\n        <div class=\"cp-box-standard\">\n            <div class=\"cp-box-heading\">\n                <h5>Autoship Settings</h5>\n            </div>\n            <div class=\"cp-box-body cp-form-standard\">\n                <div class=\"columns\">\n                    <div class=\"col\">\n                      <!--<cp-toggle label=\"Autoship Enabled\" v-model=\"autoship_settings.autoship_enabled.show\"></cp-toggle>-->\n                      <cp-input label=\"Autoship Title\" v-model=\"autoship_settings.autoship_display_name.value\"></cp-input>\n                      <cp-input label=\"Create Autoship Label\" v-model=\"autoship_settings.autoship_purchase_label.value\"></cp-input>\n                      <cp-toggle label=\"Default Purchasing to Autoship\" v-model=\"autoship_settings.autoship_default_purchase.value\"></cp-toggle>\n                      <!--<cp-toggle label=\"Reminder Email\" v-model=\"autoship_settings.autoship_reminder.show\"></cp-toggle>\n                      <cp-input label=\"Days before payment\" v-if=\"autoship_settings.autoship_reminder.show\" type=\"number\" v-model.number=\"autoship_settings.autoship_reminder.value\"></cp-input>-->\n                    </div>\n                </div>\n            </div>\n            <div class=\"save-settings-button\">\n                <button class=\"cp-button-standard\" @click=\"saveAutoshipSettings()\">Save</button>\n            </div>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpSettingsBackOffice.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpSettingsBackOffice.vue', {"name":"CpSettingsBackOffice","path":"assets/js/components/settings/partials/CpSettingsBackOffice.vue"}, (require,exports,module)=>{
        
const Settings = require('../../../resources/settings.js')

module.exports = {
  data: function () {
    return {
      closed: true,
      importRequest: {
        id: ''
      },
      settings: {

      }
    }
  },
  methods: {
    saveSettings: function () {
      Settings
        .getBackOffice(this.settings)
        .then((response) => {
          if (response.error) {
            return this.$toast(response.message, {error: true})
          }
          this.$updateGlobal(this.settings)
        })
    }
  },
  components: {
  }
}
;
        module.exports.template = "\n    <div class=\"backoffice-wrapper\">\n        <div class=\"\">\n            <div class=\"panel item-list\">\n                <div class=\"panel-heading\">\n                    <h2 class=\"panel-title align-center\">Back-office Settings</h2>\n                </div>\n                <div class=\"panel-body\">\n                    <div class=\"cp-accordion\">\n                        <div class=\"cp-accordion-head\" @click=\"closed = !closed\">\n                            <span class=\"arrow\">\n                                <i class=\"mdi mdi-chevron-down\" v-if=\"closed\"></i>\n                            </span>\n                            <span class=\"arrow\">\n                                <i class=\"mdi mdi-chevron-up\" v-if=\"!closed\"></i>\n                            </span>\n                        </div>\n                        <div class=\"cp-accordion-body\" :class=\"{closed:closed}\">\n                            <div class=\"cp-accordion-body-wrapper\">\n                                <div class=\"cp-left-col\">\n                                    <h1>Hello World</h1>\n                                </div>\n                                <div class=\"cp-right-col\">\n                                    <div class=\"save\">\n                                        <input class=\"cp-button-standard\" type=\"button\" @click=\"saveSettings()\" value=\"Save\">\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpBasicInfo.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpBasicInfo.vue', {"name":"CpBasicInfo","path":"assets/js/components/settings/partials/CpBasicInfo.vue"}, (require,exports,module)=>{
        
const Users = require('../../../resources/users.js')
const StoreSetting = require('../../../resources/settings.js')
const Auth = require('auth')
const { states } = require('../../../resources/states.js')
const _ = require('lodash')

module.exports = {
  data: function () {
    return {
      Auth: Auth,
      states: states,
      billing: true,
      shipping: true,
      business: true,
      user: this.userInfo,
      displayName: '',
      errorMessages: {},
      validationErrors: {},
      selectedSponsor: {},
      reps: [],
      repSearchTerm: ''
    }
  },
  props: {
    userInfo: {
      required: true
    },
    userId: {
      required: true
    }
  },
  mounted () {
    this.getDisplayName()
    if (this.userInfo.sponsor) {
      this.selectedSponsor = this.userInfo.sponsor
    }
  },
  methods: {
    searchReps: _.debounce(function (value) {
      this.reps = []
      Users.searchSponsors({'search_term': value})
        .then((response) => {
          if (response.error) {
            this.reps = []
            return false
          }
          // format response for typehead
          for (var i = 0; i < response.length; i++) {
            response[i].full_name = response[i].first_name + ' ' + response[i].last_name + ' (' + response[i].id + ')'
          }
          this.reps = response
        })
    }, 600),
    cleanDashes (number) {
      if (number) {
        number = String(number)
        number = number.replace(/-/g, '').replace(/\(|\)/g, '')
        number = parseInt(number)
      }
      return number
    },
    updateUser () {
      this.errorMessages = {}
      let request = JSON.parse(JSON.stringify(this.userInfo))
      request.sponsor_id = this.selectedSponsor.id
      if (!this.$isBlank(request.phone_number)) {
        request.phone = { number: this.cleanDashes(request.phone_number) }
      }
      if (this.userInfo.role_id !== 5) {
        delete request.business_address
      }
      Users.update(request)
        .then((response) => {
          if (response.error && response.code === 422) {
            this.errorMessages = response.message
            return
          }
          this.$emit('user-info-updated')
          this.$toast('User updated successfully', {dismiss: false})
        })
      request = {
        key: 'display_name',
        value: this.displayName
      }
      if (request.value) {
        StoreSetting.saveStoreSetting(request)
          .then((response) => {
            if (response.error) {
              this.errorMessages = response.message
              this.$toast(response.message, { error: true, dismiss: false })
              return
            }
            this.$toast('Display name updated.', {dismiss: false})
          })
      }
    },
    getDisplayName: function () {
      StoreSetting.getUserStoreSettings(this.userId)
        .then((response) => {
          this.displayName = response.display_name
        })
    }
  },
  components: {
    CpInput: require('../../../cp-components-common/inputs/CpInput.vue'),
    CpTypeahead: require('../../../cp-components-common/inputs/CpTypeahead.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"basic-wrapper\">\n        <div class=\"cp-box-standard\">\n          <div class=\"cp-box-heading\">\n            <h5>Basic Information</h5>\n           </div>\n          <div class=\"cp-box-body\">\n              <div class=\"cp-form-standard\">\n                <div  v-if=\"userInfo.role_id === 5 && $getGlobal('collect_sponsor_id').show\">\n                  <label for=\"Sponsor ID\">Sponsor Id</label>\n                  <cp-typeahead\n                  label=\"Sponsor\"\n                  v-if=\"Auth.hasAnyRole('Superadmin', 'Admin')\"\n                  :search-term.sync=\"repSearchTerm\"\n                  v-model=\"selectedSponsor\"\n                  :options=\"reps\"\n                  :name-value=\"{ name: 'full_name', value: 'id'}\"\n                  @options-cleared=\"val => reps = val\"\n                  :search-function=\"searchReps\"></cp-typeahead>\n                  {{ selectedSponsor.first_name }}\n                  {{ selectedSponsor.last_name }}\n                  ({{ selectedSponsor.id }})\n                </div>\n                <div v-if=\"Auth.hasAnyRole('Customer') && selectedSponsor != null\">\n                  <label for=\"Referer ID\">Referer Id</label>\n                  {{ selectedSponsor.first_name }}\n                  {{ selectedSponsor.last_name }}\n                  ({{ selectedSponsor.id }})\n                </div>\n                <cp-input v-show=\"$getGlobal('replicated_site').show && userInfo.role_id === 5\" label=\"Display Name\" type=\"text\" v-model=\"displayName\" :error=\"validationErrors['display_name']\"></cp-input>\n                <cp-input v-show=\"Auth.hasAnyRole('Rep') && $getGlobal('replicated_site').show\" label=\"Store Name (Public ID)\" type=\"text\" v-model=\"userInfo.public_id\" :error=\"validationErrors['public_id']\"></cp-input>\n                <cp-input label=\"First Name\" type=\"text\" v-model=\"userInfo.first_name\" :error=\"validationErrors['first_name']\"></cp-input>\n                <cp-input label=\"Last Name\" type=\"text\" v-model=\"userInfo.last_name\" :error=\"validationErrors['last_name']\"></cp-input>\n                <cp-input label=\"E-mail\" type=\"text\" :error=\"validationErrors['email']\" v-model=\"userInfo.email\"></cp-input>\n                <cp-input-mask\n                v-if=\"Auth.hasAnyRole('Superadmin', 'Admin', 'Rep')\"\n                label=\"Phone Number\"\n                type=\"text\"\n                mask=\"###-###-####\"\n                placeholder=\"###-###-####\"\n                :error=\"validationErrors['phone.number']\"\n                v-model=\"userInfo.phone_number\"></cp-input-mask>\n                <cp-input label=\"New Password\" type=\"password\" name=\"\" v-model=\"userInfo.password\"></cp-input>\n                <cp-input label=\"Confirm Password\" type=\"password\" name=\"\" v-model=\"userInfo.password_confirmation\" ></cp-input>\n              </div>\n            <!-- billing accordion -->\n              <div class=\"cp-accordion\">\n                <div class=\"cp-accordion-head\" @click=\"billing = !billing\">\n                  <h5> Billing Address </h5>\n                  <span v-if=\"billing\" class=\"arrow\"><i class=\"mdi mdi-chevron-down\"></i></span>\n                  <span v-if=\"!billing\" class=\"arrow\"><i class=\"mdi mdi-chevron-left\"></i></span>\n                </div>\n                <div class=\"cp-form-standard cp-accordion-body\" :class=\"{closed: billing === true}\">\n                  <div class=\"cp-accordion-body-wrapper\">\n                    <cp-input label=\"Address Name\" type=\"text\" name=\"\" :error=\"validationErrors['billing_address.name']\"  v-model=\"userInfo.billing_address.name\"  placeholder=\"Name\"></cp-input>\n                    <cp-input label=\"Address 1\" type=\"text\" name=\"\" :error=\"validationErrors['billing_address.address_1']\"  v-model=\"userInfo.billing_address.address_1\"placeholder=\"Street address, P.O. Box\"></cp-input>\n                    <cp-input label=\"Address 2\" type=\"text\" name=\"\" :error=\"validationErrors['billing_address.address_2']\"  v-model=\"userInfo.billing_address.address_2\" placeholder=\"Apartment, suite, building, floor\"></cp-input>\n                    <cp-input label=\" City\" type=\"text\" name=\"\" :error=\"validationErrors['billing_address.city']\"  v-model=\"userInfo.billing_address.city\" placeholder=\"City\"></cp-input>\n                    <cp-select label=\" State\"billing_address\n                    :error=\"validationErrors['billing_address.state']\"\n                    v-model=\"userInfo.billing_address.state\"\n                    :options=\"states\"\n                    :key-value=\"{name: 'name', value: 'value'}\"></cp-select>\n                    <cp-input  label=\"Zipcode\" type=\"text\" name=\"\" :error=\"validationErrors['billing_address.zip']\" v-model=\"userInfo.billing_address.zip\"  placeholder=\"Zipcode\"></cp-input>\n                  </div>\n                </div>\n              </div>\n              <!-- shipping accordion -->\n              <div class=\"cp-accordion\">\n                <div class=\"cp-accordion-head\" @click=\"shipping = !shipping\">\n                  <h5>Shipping Address</h5>\n                  <span v-if=\"shipping\" class=\"arrow\"><i class=\"mdi mdi-chevron-down\"></i></span>\n                  <span v-if=\"!shipping\" class=\"arrow\"><i class=\"mdi mdi-chevron-left\"></i></span>\n                </div>\n                <div class=\"cp-form-standard cp-accordion-body\" :class=\"{closed: shipping === true}\">\n                  <div class=\"cp-accordion-body-wrapper\">\n                    <cp-input label=\"Address Name\" type=\"text\" name=\"\" :error=\"validationErrors['shipping_address.name']\"  v-model=\"userInfo.shipping_address.name\"  placeholder=\"Name\"></cp-input>\n                    <cp-input label=\"Address 1\" type=\"text\" name=\"\" :error=\"validationErrors['shipping_address.address_1']\"  v-model=\"userInfo.shipping_address.address_1\"placeholder=\"Street address, P.O. Box\"></cp-input>\n                    <cp-input label=\"Address 2\" type=\"text\" name=\"\" :error=\"validationErrors['shipping_address.address_2']\"  v-model=\"userInfo.shipping_address.address_2\" placeholder=\"Apartment, suite, building, floor\"></cp-input>\n                    <cp-input label=\" City\" type=\"text\" name=\"\" :error=\"validationErrors['shipping_address.city']\"  v-model=\"userInfo.shipping_address.city\" placeholder=\"City\"></cp-input>\n                    <cp-select label=\" State\"\n                    :error=\"validationErrors['shipping_address.state']\"\n                    v-model=\"userInfo.shipping_address.state\"\n                    :options=\"states\"\n                    :key-value=\"{name: 'name', value: 'value'}\"></cp-select>\n                    <cp-input  label=\"Zipcode\" type=\"text\" name=\"\" :error=\"validationErrors['shipping_address.zip']\" v-model=\"userInfo.shipping_address.zip\"  placeholder=\"Zipcode\"></cp-input>\n                  </div>\n                </div>\n              </div>\n              <!-- business accordion -->\n              <div class=\"cp-accordion\" v-if=\"Auth.hasAnyRole('Rep')\">\n               <div class=\"cp-accordion-head\" @click=\"business = !business\">\n                 <h5>Business Address</h5>\n                  <!-- <small>(Shipped from Setting)</small> -->\n                   <span v-if=\"business\" class=\"arrow\"><i class=\"mdi mdi-chevron-down\"></i></span>\n                   <span v-if=\"!business\" class=\"arrow\"><i class=\"mdi mdi-chevron-left\"></i></span>\n                   </div>\n                   <div class=\"cp-form-standard cp-accordion-body\" :class=\"{closed: business === true}\">\n                     <div class=\"cp-accordion-body-wrapper\">\n                       <cp-input label=\"Address Name\" type=\"text\" name=\"\" :error=\"validationErrors['business_address.name']\"  v-model=\"userInfo.business_address.name\"  placeholder=\"Name\"></cp-input>\n                       <cp-input label=\"Address 1\" type=\"text\" name=\"\" :error=\"validationErrors['business_address.address_1']\"  v-model=\"userInfo.business_address.address_1\"placeholder=\"Street address, P.O. Box\"></cp-input>\n                       <cp-input label=\"Address 2\" type=\"text\" name=\"\" :error=\"validationErrors['business_address.address_2']\"  v-model=\"userInfo.business_address.address_2\" placeholder=\"Apartment, suite, building, floor\"></cp-input>\n                       <cp-input label=\" City\" type=\"text\" name=\"\" :error=\"validationErrors['business_address.city']\"  v-model=\"userInfo.business_address.city\" placeholder=\"City\"></cp-input>\n                       <cp-select label=\" State\"\n                       :error=\"validationErrors['business_address.state']\"\n                       v-model=\"userInfo.business_address.state\"\n                       :options=\"states\"\n                       :key-value=\"{name: 'name', value: 'value'}\"></cp-select>\n                       <cp-input  label=\"Zipcode\" type=\"text\" name=\"\" :error=\"validationErrors['business_address.zip']\" v-model=\"userInfo.business_address.zip\"  placeholder=\"Zipcode\"></cp-input>\n                     </div>\n                    </div>\n                  </div>\n              <div class=\"button-wrapper\" v-if=\"Auth.hasAnyRole('Superadmin', 'Admin') || $getGlobal('rep_edit_information').show\">\n                <button class=\"cp-button-standard\" @click=\"updateUser()\">Save User Info</button>\n              </div>\n            </div>\n          </div>\n      </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpRepLogo.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpRepLogo.vue', {"name":"CpRepLogo","path":"assets/js/components/settings/partials/CpRepLogo.vue"}, (require,exports,module)=>{
        
const Settings = require('../../../resources/settings.js')
const Dropzone = require('dropzone')
const Auth = require('auth')

module.exports = {
  data: function () {
    return {
      companyInfo: false,
      replace: {}
    }
  },
  computed: {},
  mounted () {
    this.getSettings()
    Dropzone.autoDiscover = false
    this.buildDropzone()
    this.hostName = window.location.host
  },
  props: {},
  methods: {
    dropzoneConfig: function () {
      return {
        maxFileSize: 10,
        maxFiles: 1,
        acceptedFiles: '.jpg, .jpeg, .png, .gif',
        dictDefaultMessage: 'Click or drop your logo file here to upload',
        dictMaxFilesExceeded: 'You may only upload one file at a time.',
        addRemoveLinks: true,
        dictRemoveFile: 'Remove File',
        headers: Object.assign({}, {
          'X-CSRF-TOKEN': document.querySelector('#token').getAttribute('content')
        }, Auth.getAuthHeaders())
      }
    },
    buildDropzone: function () {
      var thisLogo = this
      var dropzoneConfig = this.dropzoneConfig
      var dropzoneLogoConfig = new dropzoneConfig ()
      dropzoneLogoConfig.success = function (file, response) {
        thisLogo.logo = response.url_md
        thisLogo.saveLogo(response.url_md);
        this.removeFile(file)
        thisLogo.getLogoImage()
      }
      var dropzoneLogo = new Dropzone('#dropzoneLogo', dropzoneLogoConfig)
    },
    getSettings: function () {
      Settings.getStoreSettings()
        .then((response) => {
          this.logo = response.settings.logo
          this.getLogoImage()
        })
    },
    getLogoImage: function () {
      if (this.logo != "") {
        var imageFile = {
          url: this.logo,
        }
        Dropzone.forElement('#dropzoneLogo').emit('addedfile', imageFile)
        Dropzone.forElement('#dropzoneLogo').emit('thumbnail', imageFile, imageFile.url)
        Dropzone.forElement('#dropzoneLogo').emit('complete', imageFile)
      }
    },
    saveLogo: function (url) {
      Settings.saveStoreSetting({key: 'logo', value: url})
        .then((response) => {
          this.$toast('Logo saved successfully.')
        })
    }
  },
  components: {}
}
;
        module.exports.template = "\n  <div class=\"logo-wrapper\">\n    <div class=\"cp-box-standard\">\n      <div class=\"cp-accordion\">\n        <div class=\"cp-accordion-body\">\n          <div class=\"cp-accordion-body-wrapper\">\n            <div class=\"cp-box-heading\">\n              <h5>Logo</h5>\n            </div>\n            <div id=\"dropzoneImport\">\n              <form action=\"/api/v1/media/process\" method=\"POST\" class=\"dropzone\" id=\"dropzoneLogo\">\n                <input type=\"hidden\" id=\"token\" name=\"_token\">\n                <input type=\"hidden\" name=\"image_type\" value=\"logo\">\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpCompanyInfo.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpCompanyInfo.vue', {"name":"CpCompanyInfo","path":"assets/js/components/settings/partials/CpCompanyInfo.vue"}, (require,exports,module)=>{
        
const Users = require('../../../resources/users.js')
const _ = require('lodash')

module.exports = {
  data: function () {
    return {
      companyInfo: true,
      companyLoaded: false,
      company_settings: {
        name: '',
        ein: ''
      },
      errorMessages: {}
    }
  },
  mounted () {
    this.userCompanyInfo()
  },
  methods: {
    userCompanyInfo () {
      Users.userCompanyInfo()
        .then((response) => {
          if (response.error) {
            return
          }
          if (response.name == null) {
            this.company_settings.name = null
          } else {
            this.company_settings.name = response.name
          }
          if (response.ein == null) {
            this.company_settings.ein = null
          } else {
            this.company_settings.ein = response.ein
          }
          this.companyLoaded = true
        })
    },
    saveCompanyInfo: _.debounce(function () {
      this.errorMessages = {}
      if (this.companyInfo) {
        return
      }
      if (this.company_settings.ein) {
        this.company_settings.ein = this.cleanDashes(this.company_settings.ein)
      }
      Users.createOrUpdateCompanyInfo(this.company_settings)
      .then((response) => {
        if (response.error) {
          this.errorMessages = response.message
          return
        } else {
          this.$toast('Company information has saved.', { dismiss: false })
        }
      })
    }, 1000),
      /*
      * cleans dashes from specific numbers
      * @return object
      */
    cleanDashes (ein) {
      ein = ein.toString()
      ein = ein.replace(/-/g, '')
      ein = parseInt(ein)
      return ein
    }
  },
  components: {
    CpInputMask: require('../../../cp-components-common/inputs/CpInputMask.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"company-wrapper\">\n    <div class=\"cp-box-standard\">\n      <div class=\"cp-box-heading\">\n        <h5>Company Information (optional)</h5>\n      </div>\n      <div class=\"cp-accordion\">\n        <div class=\"cp-box-body\">\n          <div class=\"cp-accordion-head\" @click=\"companyInfo = !companyInfo\">\n              <h5> Your Company Information </h5>\n              <span v-if=\"companyInfo\"class=\"arrow\"><i class=\"mdi mdi-chevron-down\"></i></span>\n              <span v-if=\"!companyInfo\" class=\"arrow\"><i class=\"mdi mdi-chevron-left\"></i></span>\n          </div>\n          <div class=\"cp-accordion-body cp-form-standard\" :class=\"{closed: companyInfo === true}\">\n              <div class=\"cp-accordion-body-wrapper\">\n                <cp-input label=\"Company Name\" type=\"text\" v-model=\"company_settings.name\"></cp-input>\n                <cp-input-mask\n                label=\"Company EIN\"\n                tooltip=\"An Employer Identification Number (EIN) is also known as a\n                Federal Tax Identification Number, and is used to identify a business entity.\n                Please do not use a Social Security Number in this field.\"\n                v-if=\"companyLoaded\"\n                placeholder=\"00-0000000\"\n                :mask=\"'##-########'\"\n                :error=\"null\"\n                v-model=\"company_settings.ein\"></cp-input-mask>\n              </div>\n                <div class=\"button-wrapper\">\n                  <button class=\"cp-button-standard\"type=\"button\" name=\"button\" @click=\"saveCompanyInfo()\">Save Company Info</button>\n                </div>\n              </div>\n          </div>\n      </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpSettingsCommission.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpSettingsCommission.vue', {"name":"CpSettingsCommission","path":"assets/js/components/settings/partials/CpSettingsCommission.vue"}, (require,exports,module)=>{
        
const Settings = require('../../../resources/settings.js')
const Auth = require('auth')

module.exports = {
  data: function () {
    return {
      Auth,
      commission_settings: {
        use_commission_engine: {},
        commission_engine_link: {},
        simple_commissions: {},
        comm_engine_starter_kits: {},
        comm_engine_tab: {},
      },
      env_settings: {
        comm_api_key: {},
        comm_email: {},
        comm_system_id: {},
        comm_url: {}
      },
      loading: false
    }
  },
  computed: {},
  mounted () {
    this.getCommissionSettings()
  },
  methods: {
    getCommissionSettings: function () {
      Settings.getSettingCategory('commission_engine')
        .then((response) => {
          this.commission_settings = response
        })
      Settings.getCommissionSettings()
        .then((response) => {
          this.env_settings = response
        })
    },
    saveCommSettings: function () {
      this.loading = true
      Settings
        .update(this.commission_settings)
        .then((response) => {
          this.loading = false
          this.$updateGlobal(this.commission_settings)
          this.$toast('Commission settings saved succesfully.')
        })
    }
  },
  components: {}
}
;
        module.exports.template = "\n    <div class=\"branding-wrapper\" v-if=\"Auth.hasAnyRole('Superadmin')\">\n        <div class=\"cp-accordion\">\n            <div class=\"cp-accordion-head black-header\">\n                <h5>Commission Engine Settings</h5>\n            </div>\n            <div class=\"cp-accordion-body\">\n                <div class=\"cp-accordion-body-wrapper\">\n                    <div class=\"cp-left-col\">\n                        <div>\n                            <h4>Commission Engine Integration</h4>\n                            <hr />\n                            <div class=\"line-wrapper\">\n                                <label>Api Key\n                                </label>\n                                <input class=\"input-class\" type=\"text\" v-model=\"env_settings.comm_api_key\" disabled>\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Authorised Email\n                                </label>\n                                <input class=\"input-class\" type=\"text\" v-model=\"env_settings.comm_email\" disabled>\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>System Id\n                                </label>\n                                <input class=\"input-class\" type=\"text\" v-model=\"env_settings.comm_system_id\" disabled>\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>API URL\n                                </label>\n                                <input class=\"input-class\" type=\"text\" v-model=\"env_settings.comm_url\" disabled>\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Use Commission Engine\n                                </label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"commission_settings.use_commission_engine.value\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Show Commission Engine Tab on Navigation\n                                </label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"commission_settings.comm_engine_tab.show\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <span><label>Wholesale Discount Percent Difference  <cp-tooltip :options=\"{ content: 'When using a discount on a retail sale this setting will apply the percent difference to calulate the wholesale discount price.'}\"></cp-tooltip></label></span>\n                                <span><input step=\"1\" class=\"input-class\" type=\"number\" v-model=\"commission_settings.discount_wholesale_percent\"></span>\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Show Commission Engine Link\n                                </label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"commission_settings.commission_engine_link.show\">\n                            </div>\n                            <div class=\"line-wrapper\" v-if=\"commission_settings.commission_engine_link.show\">\n                                <label>Commission Engine Link\n                                </label>\n                                <input class=\"input-class\" type=\"text\" v-model=\"commission_settings.commission_engine_link.value\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Send Starter Kits to the Commission Engine\n                                </label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"commission_settings.comm_engine_starter_kits.show\">\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"cp-right-col\">\n                        <h4>Simple Commissions</h4>\n                        <hr />\n                        <div class=\"line-wrapper\">\n                            <label>Use Simple Commissions\n                            </label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"commission_settings.simple_commissions.show\">\n                        </div>\n                        <div class=\"line-wrapper\" v-if=\"commission_settings.simple_commissions.show\">\n                            <label>Simple Commissions Percentage\n                            </label>\n                            <span><input step=\"1\" class=\"input-class\" type=\"number\" v-model=\"commission_settings.simple_commissions.value\"></span>\n                        </div>\n                    </div>\n                    <div class=\"save-settings-button\">\n                        <input class=\"cp-button-standard\" type=\"button\" @click=\"saveCommSettings()\" value=\"Save\">\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpSettingsGeneralStore.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpSettingsGeneralStore.vue', {"name":"CpSettingsGeneralStore","path":"assets/js/components/settings/partials/CpSettingsGeneralStore.vue"}, (require,exports,module)=>{
        
const Settings = require('../../../resources/settings.js')

module.exports = {
  data: function () {
    return {
      closed: true,
      showConfirm: false,
      general_store_settings: {
        new_product_create: {},
        store_builder_admin: {},
        store_builder_reseller: {},
        title_store: {},
        use_built_in_store: {},
        variant_claim_number: {},
        wholesale_cart_min: {},
        wholesale_cart_min_amount: {},
        wholesale_low_inventory: {},
        retail_low_inventory: {},
        self_pickup_wholesale: {},
        about_rep: {}
      }
    }
  },
  computed: {},
  mounted () {
    this.getGeneralStoreSettings()
  },
  methods: {
    getGeneralStoreSettings: function () {
      Settings.getGeneralStoreSettings()
        .then((response) => {
          this.general_store_settings = response
        })
    },
    saveGeneralStoreSettings: function () {
      Settings
        .update(this.general_store_settings)
        .then((response) => {
          this.$updateGlobal(this.general_store_settings)
          this.$toast('Store settings saved successfully.')
        })
    },
    updateClaimNumbers: function () {
      Settings.updateVariantClaimNumber()
        .then((response) => {
          this.showConfirm = false
          if (!response.error) {
            this.$toast('Variant claim numbers updated.', {dismiss: false})
          }
        })
    }
  },
  components: {
    CpInputMask: require('../../../cp-components-common/inputs/CpInputMask.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"store-wrapper\">\n        <div class=\"cp-accordion\">\n            <div class=\"cp-accordion-head black-header\">\n                <h5>General Store Settings</h5>\n            </div>\n            <div class=\"cp-accordion-body\">\n                <div class=\"cp-accordion-body-wrapper\">\n                    <div class=\"cp-left-col\">\n                      <h4>Store Options</h4>\n                      <hr />\n                      <div class=\"line-wrapper\">\n                          <label>Use the Built-In Store</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_store_settings.use_built_in_store.show\">\n                      </div>\n                      <div class=\"line-wrapper\">\n                          <label>Admin can Use the Store Builder</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_store_settings.store_builder_admin.show\">\n                      </div>\n                      <div class=\"line-wrapper\">\n                          <label>Reseller can Use the Store Builder </label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_store_settings.store_builder_reseller.show\">\n                      </div>\n                      <div class=\"line-wrapper\">\n                        <label>Reseller about me page</label>\n                        <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_store_settings.about_rep.show\">\n                      </div>\n                      <div class=\"line-wrapper\">\n                          <label>Allow Self Pick Up on Wholesale Orders</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_store_settings.self_pickup_wholesale.show\">\n                      </div>\n                      <div>\n                          <div class=\"line-wrapper\">\n                              <label>Allow Wholesale Low Inventory Display</label>\n                              <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_store_settings.wholesale_low_inventory.show\">\n                          </div>\n                          <div class=\"line-wrapper\" v-if=\"general_store_settings.wholesale_low_inventory.show\">\n                            <label>Enter Minimum Amount</label>\n                              <cp-input-mask\n                                custom-class=\"input-class\"\n                                type=\"number\"\n                                mask=\"#####\"\n                                v-model=\"general_store_settings.wholesale_low_inventory.value\"></cp-input-mask>\n                          </div>\n                      </div>\n                      <div>\n                          <div class=\"line-wrapper\">\n                              <label>Allow Retail Low Inventory Display</label>\n                              <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_store_settings.retail_low_inventory.show\">\n                          </div>\n                          <div class=\"line-wrapper\" v-if=\"general_store_settings.retail_low_inventory.show\">\n                              <label>Enter Minimum Amount</label>\n                              <div>\n                                <cp-input-mask\n                                  custom-class=\"input-class\"\n                                  type=\"number\"\n                                  mask=\"#####\"\n                                  v-model=\"general_store_settings.retail_low_inventory.value\"></cp-input-mask>\n                              </div>\n                          </div>\n                      </div>\n                    </div>\n                    <div class=\"cp-right-col\">\n                      <h4>Cart Options</h4>\n                      <hr />\n                      <div class=\"line-wrapper\">\n                          <label>Require Minimum on Wholesale Shopping Cart</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_store_settings.wholesale_cart_min.show\">\n                      </div>\n                      <div class=\"line-wrapper\" v-if=\"general_store_settings.wholesale_cart_min.show\">\n                        <input type=\"radio\" id=\"Dollar\" value=\"dollar\" v-model=\"general_store_settings.wholesale_cart_min.value\">\n                        <label for=\"Dollar\">Dollar Amount</label>\n                        <input type=\"radio\" id=\"Quantity\" value=\"quantity\" v-model=\"general_store_settings.wholesale_cart_min.value\">\n                        <label for=\"Quantity\">Total Item Quantity</label>\n                      </div>\n                      <div class=\"line-wrapper\" v-if=\"general_store_settings.wholesale_cart_min.show\">\n                          <label>Enter Amount</label>\n                          <div class=\"\">\n                            <span v-if=\"general_store_settings.wholesale_cart_min.value === 'dollar'\">$</span>\n                            <input class=\"input-class\" type=\"number\" v-model=\"general_store_settings.wholesale_cart_min_amount.value\">\n                          </div>\n                      </div>\n                      <h4>Product Options</h4>\n                      <hr />\n                      <div class=\"line-wrapper\">\n                          <label>Use Variant Claim Number</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_store_settings.variant_claim_number.show\">\n                      </div>\n                      <div v-if=\"general_store_settings.variant_claim_number.show\"><input class=\"cp-button-standard\" type=\"button\" @click=\"showConfirm = true\" value=\"Update Variants\"></div>\n                      <section class=\"cp-modal-standard\" v-if=\"showConfirm\">\n                        <div class=\"cp-modal-body\">\n                          <div>\n                            Are you sure you want to update variants to use claim numbers? This will overwrite a variant name.\n                          </div>\n                          <br/>\n                          <div>\n                            <button class=\"cp-button-standard\" @click=\"showConfirm = false\">Cancel</button> <button class=\"cp-button-standard confirm\" @click=\"updateClaimNumbers()\">Confirm</button>\n                          </div>\n                        </div>\n                      </section>\n\n                    </div>\n                    <div class=\"save-settings-button\">\n                        <input class=\"cp-button-standard\" type=\"button\" @click=\"saveGeneralStoreSettings()\" value=\"Save\">\n                    </div>\n                </div>\n            </div>\n            <br>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpSettingsInventory.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpSettingsInventory.vue', {"name":"CpSettingsInventory","path":"assets/js/components/settings/partials/CpSettingsInventory.vue"}, (require,exports,module)=>{
        
const Settings = require('../../../resources/settings.js')

module.exports = {
  data: function () {
    return {
      closed: true,
      inventory_settings: {
        low_inventory_alert_corp: {},
        low_inventory_alert_rep: {}
      }
    }
  },
  computed: {},
  mounted () {
    this.getInventorySettings()
  },
  methods: {
    getInventorySettings: function () {
      Settings.getInventorySettings()
              .then((response) => {
                this.inventory_settings = response
              })
    },
    saveInventorySettings: function () {
      Settings
        .update(this.inventory_settings)
        .then((response) => {
          this.$updateGlobal(this.inventory_settings)
          this.$toast('Inventory settings saved successfully.')
        })
    }
  },
  components: {}
}
;
        module.exports.template = "\n    <div class=\"branding-wrapper\">\n        <div class=\"cp-accordion\">\n            <div class=\"cp-accordion-head black-header\">\n                <h5>Inventory Settings</h5>\n            </div>\n            <div class=\"cp-accordion-body\">\n                <div class=\"cp-accordion-body-wrapper\">\n                    <div class=\"cp-left-col\">\n                        <div>\n                            <h4>Inventory Options</h4>\n                            <hr />\n                            <div class=\"line-wrapper\">\n                                <label>Corp Inventory Low Quantity Alert</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"inventory_settings.low_inventory_alert_corp.show\">\n                            </div>\n                            <div class=\"line-wrapper\" v-if=\"inventory_settings.low_inventory_alert_corp.show\">\n                              <label>Enter Alert Quantity</label>\n                                <cp-input-mask\n                                  custom-class=\"input-class\"\n                                  type=\"number\"\n                                  mask=\"#####\"\n                                  v-model=\"inventory_settings.low_inventory_alert_corp.value\"></cp-input-mask>\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Rep Inventory Low Quantity Alert</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"inventory_settings.low_inventory_alert_rep.show\">\n                            </div>\n                            <div class=\"line-wrapper\" v-if=\"inventory_settings.low_inventory_alert_rep.show\">\n                              <label>Enter Alert Quantity</label>\n                                <cp-input-mask\n                                  custom-class=\"input-class\"\n                                  type=\"number\"\n                                  mask=\"#####\"\n                                  v-model=\"inventory_settings.low_inventory_alert_rep.value\"></cp-input-mask>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"cp-right-col\">\n                    </div>\n                    <div class=\"save-settings-button\">\n                        <input class=\"cp-button-standard\" type=\"button\" @click=\"saveInventorySettings()\" value=\"Save\">\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpSettingsEvents.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpSettingsEvents.vue', {"name":"CpSettingsEvents","path":"assets/js/components/settings/partials/CpSettingsEvents.vue"}, (require,exports,module)=>{
        
const Settings = require('../../../resources/settings.js')
const Dropzone = require('dropzone')
const Media = require('../../../resources/media.js')

module.exports = {
  data: function () {
    return {
      closed: true,
      showConfirm: false,
      events_settings: {
        allow_reps_events_img: {},
        events_as_replicated_site: {},
        allow_reps_events: {},
        events_title: {
          value: {
            plural: null,
            single: null
          }
        },
        events_default_img: ''
      },
      replace: {}
    }
  },
  computed: {},
  mounted () {
    this.getEventSettings()
    Dropzone.autoDiscover = false
    this.buildDropzone()
    this.hostName = window.location.host
  },
  methods: {
    getEventSettings: function () {
      Settings.getEventSettings()
              .then((response) => {
                this.events_settings = response
                this.getDefaultImage()
              })
    },
    saveEventsSettings: function () {
      Settings
        .update(this.events_settings)
        .then((response) => {
          if (response.error) {
            this.$toast(response.message)
          } else {
            this.$updateGlobal(this.events_settings)
            this.$toast('Store settings saved successfully.')
          }
        })
    },
    buildDropzone: function () {
      var thisevents = this
      var dropzoneConfig = Media.dropzoneConfig()
      dropzoneConfig.success = function (file, response) {
        thisevents.events_settings.events_default_img.value = response.url
      }
      dropzoneConfig.error = function (file, response) {
        thisevents.$toast('There was an error uploading your image. Try again or contact support.', { error: true })
      }
      dropzoneConfig.removedfile = function (file, response) {
        if (file.previewElement) {
          var _ref
          if ((_ref = file.previewElement) != null) {
            _ref.parentNode.removeChild(file.previewElement)
            thisevents.events_settings.events_default_img.value = ''
          }
        }
        return
      }
      this.dropzone = new Dropzone('#dropzone', dropzoneConfig)
    },
    getDefaultImage: function () {
      if (this.events_settings.events_default_img.value !== '') {
        var imageFile = {
          url: this.events_settings.events_default_img.value
        }
        Dropzone.forElement('#dropzone').emit('addedfile', imageFile)
        Dropzone.forElement('#dropzone').emit('thumbnail', imageFile, imageFile.url)
        Dropzone.forElement('#dropzone').emit('complete', imageFile)
      }
    }
  },
  components: {
  }
}

;
        module.exports.template = "\n    <div class=\"events-wrapper\">\n        <div class=\"cp-accordion\">\n            <div class=\"cp-accordion-head black-header\">\n                <h5>Event Settings</h5>\n            </div>\n            <div class=\"cp-accordion-body\">\n                <div class=\"cp-accordion-body-wrapper\">\n                    <div class=\"cp-left-col\">\n                      <h4>Event Options</h4>\n                      <hr />\n                      <div class=\"line-wrapper\">\n                          <label>Allow images by reps</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"events_settings.allow_reps_events_img.show\">\n                      </div>\n                      <div class=\"line-wrapper\">\n                          <label>Allow reps to have events on or off</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"events_settings.allow_reps_events.show\">\n                      </div>\n                      <div class=\"line-wrapper\">\n                          <label>Make events page the landing page for replicated sites</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"events_settings.events_as_replicated_site.show\">\n                      </div>\n                      <div class=\"line-wrapper\">\n                          <label>Events Title Plural</label>\n                          <input class=\"input-class\" type=\"text\" v-model=\"events_settings.events_title.value.plural\">\n                      </div>\n                      <div class=\"line-wrapper\">\n                        <label>Events Title Singular</label>\n                        <input class=\"input-class\" type=\"text\" v-model=\"events_settings.events_title.value.single\">\n                      </div>\n                    </div>\n                    <div class=\"cp-right-col\">\n                        <div>\n                            <h5>Set Default Events Image</h5>\n                            <div id=\"dropzoneImport\">\n                                <form action=\"/api/v1/media/process\" method=\"POST\" class=\"dropzone\" id=\"dropzone\">\n                                    <input type=\"hidden\" name=\"userId\" :value=\"events_settings.id\" :selected=\"events_settings\">\n                                    <input type=\"hidden\" name=\"replace\" v-model=\"replace\">\n                                    <input type=\"hidden\" id=\"token\" name=\"_token\">\n                                    <input type=\"hidden\" name=\"image_type\" value=\"events_default_img\">\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"save-settings-button\">\n                        <input class=\"cp-button-standard\" type=\"button\" @click=\"saveEventsSettings()\" value=\"Save\">\n                    </div>\n                </div>\n            </div>\n            <br>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpSettingsRegistrationSettings.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpSettingsRegistrationSettings.vue', {"name":"CpSettingsRegistrationSettings","path":"assets/js/components/settings/partials/CpSettingsRegistrationSettings.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')
const Settings = require('../../../resources/settings.js')

module.exports = {
  data: function () {
    return {
      Auth,
      closed: true,
      registration_settings: {
        register_with_controlpad_api: {},
        register_without_controlpad_api: {},
        require_registration_code: {},
        merchant_category_code: {},
        reseller_payment_option: {},
        collect_sponsor_id: {},
        require_sponsor_id_on_registration: {},
        collect_phone_on_registration: {},
        require_phone_on_registration: {},
        registration_shipping: {},
        registration_coupon: {},
        join_redirect: {},
        registration_payment_options: {
          value: {}
        }
      }
    }
  },
  computed: {},
  mounted () {
    this.getRegistrationSettings()
  },
  methods: {
    getRegistrationSettings: function () {
      Settings.getRegistrationSettings()
        .then((response) => {
          this.registration_settings = response
        })
    },
    saveRegistrationSettings: function () {
      Settings
        .update(this.registration_settings)
        .then((response) => {
          this.$updateGlobal(this.registration_settings)
          this.$toast('Registration settings saved successfully.')
        })
    },
    checkForNull: function () {
        if (this.registration_settings.registration_coupon.value === "") {
            this.registration_settings.registration_coupon.value = null
        }
    }
  },
  components: {}
}
;
        module.exports.template = "\n    <div class=\"branding-wrapper\">\n        <div class=\"cp-accordion\">\n            <div class=\"cp-accordion-head black-header\">\n                <h5>Registration Settings</h5>\n            </div>\n            <div class=\"cp-accordion-body\">\n                <div class=\"cp-accordion-body-wrapper\">\n                    <div class=\"cp-left-col\">\n                        <div>\n                            <h4>User registration options</h4>\n                            <hr />\n                            <div class=\"line-wrapper\">\n                                <label>Users can register through built in registration </label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"registration_settings.register_without_controlpad_api.show\">\n                            </div>\n                            <div class=\"line-wrapper\" v-if=\"Auth.hasAnyRole('Superadmin')\">\n                                <label>Collect sponsor ID on registration</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"registration_settings.collect_sponsor_id.show\">\n                            </div>\n                            <div class=\"line-wrapper\" v-if=\"Auth.hasAnyRole('Superadmin') && registration_settings.collect_sponsor_id.show\">\n                                <label>Require sponsor ID on registration </label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"registration_settings.require_sponsor_id_on_registration.show\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Collect phone number on registration </label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"registration_settings.collect_phone_on_registration.show\">\n                            </div>\n                            <div class=\"line-wrapper\" v-if=\"registration_settings.collect_phone_on_registration.show\">\n                                <label>Require phone number on registration </label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"registration_settings.require_phone_on_registration.show\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Users can register using an integration API</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"registration_settings.register_with_controlpad_api.show\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Require a registration code on sign up</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"registration_settings.require_registration_code.show\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Charge shipping for starter kits</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"registration_settings.registration_shipping.value\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Add generated coupon code to Welcome Email<cp-tooltip :options=\"{ content: 'The variable [coupon_code] will still need to be added to the email.'}\"></cp-tooltip></label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"registration_settings.registration_coupon.show\">\n                            </div>\n                            <div class=\"line-wrapper\" v-if=\"registration_settings.registration_coupon.show\">\n                                <label>Registration Coupon Amount<cp-tooltip :options=\"{ content: 'The coupon amount will defalut to the order total for the starter kit if no value is specified.'}\"></cp-tooltip></label>\n                                <input class=\"input-class\" type=\"number\" v-model=\"registration_settings.registration_coupon.value\" @keyup=\"checkForNull()\">\n                            </div>\n                            <div class=\"line-wrapper\" v-show=\"registration_settings.require_registration_code.show\">\n                              <label>Required Code:</label>\n                              <input class=\"input-class\" v-model=\"registration_settings.require_registration_code.value\" />\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Redirect on sign up<cp-tooltip :options=\"{ content: 'By default a new user is logged in to the back office'}\"></cp-tooltip></label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"registration_settings.join_redirect.show\">\n                            </div>\n                            <div class=\"line-wrapper\" v-show=\"registration_settings.join_redirect.show\">\n                              <label>Join Redirect:</label>\n                              <input class=\"input-class\" v-model=\"registration_settings.join_redirect.value\" />\n                            </div>\n                            <div class=\"line-wrapper\" v-if=\"Auth.hasAnyRole('Superadmin')\">\n                                <label>Merchant Category Code:</label>\n                                <input class=\"input-class\" type=\"text\" v-model=\"registration_settings.merchant_category_code.value\">\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"cp-right-col\">\n                      <div v-if=\"registration_settings.registration_payment_options.show\">\n                        <h4>Payment Options</h4>\n                        <hr />\n                        <div class=\"line-wrapper\">\n                          <label>Allow Credit Cards</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"registration_settings.registration_payment_options.value.credit_card\">\n                        </div>\n                        <!--DEBIT CARD NOT SUPPORTED YET -->\n                        <!--div class=\"line-wrapper\">\n                          <label>Allow Debit Cards</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"registration_settings.registration_payment_options.value.debit_card\">\n                        </div -->\n                        <div class=\"line-wrapper\">\n                          <label>Allow E-Checks</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"registration_settings.registration_payment_options.value.e_check\">\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"save-settings-button\">\n                        <input class=\"cp-button-standard\" type=\"button\" @click=\"saveRegistrationSettings()\" value=\"Save\">\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpSettingsGeneral.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpSettingsGeneral.vue', {"name":"CpSettingsGeneral","path":"assets/js/components/settings/partials/CpSettingsGeneral.vue"}, (require,exports,module)=>{
        
const Settings = require('../../../resources/settings.js')
const Users = require('../../../resources/users.js')
const Auth = require('auth')

module.exports = {
  data: function () {
    return {
      Auth,
      general_settings: {
        auto_transfer_orders: {},
        shipping_team_id: {},
        corp_coupons: {},
        company_name: {},
        company_email: {},
        corp_youtube: {},
        address: {},
        phone: {},
        from_email: {},
        order_notification_email: {},
        use_built_in_store: {},
        store_builder_admin: {},
        store_builder_reseller: {},
        edit_join_date: {},
        about_us: {},
        return_policy: {},
        terms: {},
        landing_page: {},
        rep_facebook_login: {},
        title_announcement: {},
        google_store_url: {},
        ios_store_url: {},
        title_store: {},
        reseller_coupons: {},
        social_media_link: {},
        ein: {},
        olark_chat_integration: {},
        tawk_chat_integration: {},
        payquicker: {},
        direct_deposit: {},
        einvoice_expire_time: {},
        enable_shipping_label_creation: {},
        hex_color:{},
        self_pickup_wholesale: {},
        self_pickup_reseller: {},
      },
      olark_chat: false,
      mask: {
        default () {
          return '##-#######'
        }
      },
      settings: {
        timezone: ''
      },
      options: [
        { text: 'Home', value: '' },
        { text: 'Login', value: 'login' },
        { text: 'Store', value: 'store' }
      ],
      optionsTime: [
        { text: 'Universal Time Coordinated', value: 'UTC' },
        { text: 'Eastern', value: 'America/New_York' },
        { text: 'Central', value: 'America/Chicago' },
        { text: 'Mountain', value: 'America/Denver' },
        { text: 'Arizona', value: 'America/Phoenix' },
        { text: 'Pacific', value: 'America/Los_Angeles' },
        { text: 'Alaska', value: 'America/Anchorage' },
        { text: 'Hawaii', value: 'Pacific/Honolulu' }
      ]
    }
  },
  computed: {
    hostName () {
      return window.location.host
    }
  },
  mounted () {
    this.getGeneralSettings()
    this.getUserTimezone();
    var color = new jscolor($('body').find('input.jscolor')[0]);

  },
  methods: {
    getGeneralSettings: function () {
      Settings.getAllSettings()
        .then((response) => {
          this.general_settings = response
        })
    },
    saveSettings: function () {
      if (!parseInt(this.general_settings.einvoice_expire_time.value)) {
        return this.$toast('Invoice time is an invalid number', {error: true})
      }
      Settings
        .update(this.general_settings)
        .then((response) => {
          if (!response.error) {
            this.$updateGlobal(this.general_settings)
            this.$toast('General settings saved succesfully.')
          }
        })
    },
    saveTimezoneSettings: function () {
      Users.updateUserSettings(this.settings)
        .then((response) => {
          this.$toast('Timezone settings saved successfully.')
        })
    },
    getUserTimezone: function () {
      Users.userSettings(1)
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, {error: true})
          } else {
            this.settings.timezone = response.timezone
          }
        })
    },
    addCustom: function () {
      var code = this.general_settings.olark_chat_integration.value
      var length = code.length
      var index = length - 68
      if (length > 68) {
        var newCode = code.substr(0, index) + "olark.configure('system.hb_primary_color', '#4A4A4A');   " + code.substr(index)
        this.general_settings.olark_chat_integration.value = newCode
      }
    },
    addEvent ({ type, target }) {
        this.general_settings.hex_color.value = target.value;
        $("nav.main-menu-nav-scope").attr("style", "background-color: "+'#'+target.value+" !important;");
    }
  },
  components: {
    'CpInputMask': require('../../../cp-components-common/inputs/CpInputMask.vue'),
    'CpSettingsTimezone': require('../../settings/partials/CpSettingsTimezone.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"branding-wrapper\">\n        <div class=\"cp-accordion\">\n            <div class=\"cp-accordion-head black-header\">\n                <h5>General Settings</h5>\n            </div>\n            <div class=\"cp-accordion-body\">\n                <div class=\"cp-accordion-body-wrapper\">\n                    <div class=\"cp-left-col\">\n                        <h4>Company Info</h4>\n                        <hr />\n                        <div class=\"line-wrapper\">\n                            <label>Company Name</label>\n                            <input class=\"input-class\" type=\"text\" v-model=\"general_settings.company_name.value\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Company Address</label>\n                            <input class=\"input-class\" type=\"text\" v-model=\"general_settings.address.value\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Company Phone Number</label>\n                            <input class=\"input-class\" type=\"text\" v-model=\"general_settings.phone.value\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Company E-mail</label>\n                            <input class=\"input-class\" type=\"text\" v-model=\"general_settings.company_email.value\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Order Notification E-mail</label>\n                            <input class=\"input-class\" type=\"text\" v-model=\"general_settings.order_notification_email.value\">\n                        </div>\n                        <div class=\"line-wrapper\" v-if=\"Auth.hasAnyRole('Superadmin')\">\n                            <label>From E-mails</label>\n                            <input class=\"input-class\" type=\"text\" v-model=\"general_settings.from_email.value\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                          <label>EIN</label>\n                            <cp-input-mask\n                              custom-class=\"input-class\"\n                              type=\"text\"\n                              placeholder=\"EIN\"\n                              :mask=\"'##-########'\"\n                              :error=\"null\"\n                              v-model=\"general_settings.ein.value\">\n                          </cp-input-mask>\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Show EIN on Order Receipt</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_settings.ein.show\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Corporate can use coupons</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_settings.corp_coupons.show\">\n                        </div>\n                        <div class=\"line-wrapper\" v-if=\"Auth.hasAnyRole('Superadmin')\">\n                            <label>Allow Edit to User Join Date</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_settings.edit_join_date.show\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Allow users access to PayQuicker</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_settings.payquicker.show\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Allow Superadmin access to Direct Deposit</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_settings.direct_deposit.show\">\n                        </div>\n                            <cp-toggle label=\"Allow Corporate to use YouTube\" v-model=\"general_settings.corp_youtube.show\"></cp-toggle>\n                        <div class=\"line-wrapper\">\n                            <label>Number of Hours Invoices are Stored</label>\n                            <input class=\"input-class\" type=\"number\" v-model=\"general_settings.einvoice_expire_time.value\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Enable Shipping Label Creation</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_settings.enable_shipping_label_creation.show\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Auto export orders to third party service\n                                <cp-tooltip :options=\"{ content: 'This setting can only be updated when the system is integrated with a third party shipping service. Automatically exports corporate orders to the shipping service.'}\"></cp-tooltip>\n                            </label>\n                            <input v-if=\"general_settings.shipping_team_id.value == 'company'\" class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_settings.auto_transfer_orders.value\">\n                            <input v-else class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_settings.auto_transfer_orders.value\" disabled>\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Announcements Title</label>\n                            <input class=\"input-class\" type=\"text\" v-model=\"general_settings.title_announcement.value\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Your Timezone</label>\n                               <cp-tooltip :options=\"{ content: 'Every effort is made to calculate timezone based on your browser settings. When this information is unavailable, the selected timezone will be used for calculations.'}\"></cp-tooltip><div class=\"input-class\">\n                              <select v-model=\"settings.timezone\" @change=\"saveTimezoneSettings()\" >\n                                <option v-for=\"option in optionsTime\" v-bind:value=\"option.value\">\n                                {{ option.text }}\n                                </option>\n                              </select>\n                            </div>\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Landing Page</label>\n                            <div class=\"input-class\">\n                              <select v-model=\"general_settings.landing_page.value\">\n                                <option v-for=\"option in options\" v-bind:value=\"option.value\">\n                                  {{ option.text }}\n                                </option>\n                              </select>\n                              {{ hostName }}/{{ general_settings.landing_page.value }}\n                            </div>\n                        </div>\n                        <br />\n                        <br />\n                        <div class=\"line-wrapper\">\n                            <label>Hex Background Color </label>\n                            <div class=\"input-class\">\n                                <input class=\"input-class jscolor\" type=\"text\" v-model=\"general_settings.hex_color.value\"  @input=\"addEvent\" @change=\"addEvent\" />\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"cp-right-col\">\n                      <div>\n                          <h4>Hide/Show links:</h4>\n                          <hr />\n                          <div class=\"line-wrapper\">\n                              <label>Google Store</label>\n                              <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_settings.google_store_url.show\">\n                          </div>\n                          <div class=\"line-wrapper\">\n                              <label>iOS Store</label>\n                              <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_settings.ios_store_url.show\">\n                          </div>\n                          <div class=\"line-wrapper\">\n                              <label>Social Media Links</label>\n                              <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_settings.social_media_link.show\">\n                          </div>\n                          <h4>Footer Links and Information:</h4>\n                          <hr />\n                          <div class=\"line-wrapper\">\n                              <label>Address</label>\n                              <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_settings.address.show\">\n                          </div>\n                          <div class=\"line-wrapper\">\n                              <label>Phone</label>\n                              <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_settings.phone.show\">\n                          </div>\n                          <div class=\"line-wrapper\">\n                              <label>Terms &amp; Conditions</label>\n                              <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_settings.terms.show\">\n                          </div>\n                          <div class=\"line-wrapper\">\n                              <label>Return Policy</label>\n                              <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_settings.return_policy.show\">\n                          </div>\n                          <!-- commented until we fix about us so we can bring it back -->\n                          <!-- <div class=\"line-wrapper\">\n                              <label>About Us</label>\n                              <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_settings.about_us.show\">\n                          </div> -->\n                          <h4> Third Party Chat Integration:</h4>\n                          <hr />\n                          <div class=\"line-wrapper\">\n                              <label>Use Olark Chat</label>\n                              <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_settings.olark_chat_integration.show\">\n                          </div>\n                          <div class=\"line-wrapper\">\n                              <label>Use Tawk.To Chat</label>\n                              <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"general_settings.tawk_chat_integration.show\">\n                          </div>\n                          <div class=\"line-wrapper\" v-if='general_settings.olark_chat_integration.show'>\n                              <label>Add Olark Chat Code</label>\n                              <textarea class=\"textarea\" rows=\"8\" cols=\"3\" type=\"text\" @change=\"addCustom()\" v-model=\"general_settings.olark_chat_integration.value\"></textarea>\n                          </div>\n                          <div class=\"line-wrapper\" v-if='general_settings.tawk_chat_integration.show'>\n                              <label>Add Tawk.To Chat Code</label>\n                              <textarea class=\"textarea\" rows=\"8\" cols=\"3\" type=\"text\" v-model=\"general_settings.tawk_chat_integration.value\"></textarea>\n                          </div>\n                      </div>\n                    </div>\n                    <div class=\"save-settings-button\">\n                        <input class=\"cp-button-standard\" type=\"button\" @click=\"saveSettings()\" value=\"Save\">\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpSettingsTimezone.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpSettingsTimezone.vue', {"name":"CpSettingsTimezone","path":"assets/js/components/settings/partials/CpSettingsTimezone.vue"}, (require,exports,module)=>{
        
const Users = require('../../../resources/users.js')

module.exports = {
  data: function () {
    return {
      timezoneSettings: true,
      options: [
        { text: 'Universal Time Coordinated', value: 'UTC' },
        { text: 'Eastern', value: 'America/New_York' },
        { text: 'Central', value: 'America/Chicago' },
        { text: 'Mountain', value: 'America/Denver' },
        { text: 'Arizona', value: 'America/Phoenix' },
        { text: 'Pacific', value: 'America/Los_Angeles' },
        { text: 'Alaska', value: 'America/Anchorage' },
        { text: 'Hawaii', value: 'Pacific/Honolulu' }
      ]
    }
  },
  props: {
    oldSettings: {
      type: Object,
      required: true
    },
    userId: {
      type: Number,
      required: true
    }
  },
  computed: {
    settings: {
      get () {
        return JSON.parse(JSON.stringify(this.oldSettings))
      },
      set () {}
    }
  },
  methods: {
    saveTimezoneSettings () {
      this.settings.user_id = this.userId
      // do not update payment_account
      if (this.settings.payment_account || this.settings.payment_account === 0) {
        delete this.settings.payment_account
      }
      Users.updateUserSettings(this.settings)
        .then((response) => {
          if (!response.error) {
            this.$toast(`Timezone settings saved successfully.`)
          }
        })
    }
  }
}
;
        module.exports.template = "\n  <div class=\"timezone-wrapper\">\n    <div class=\"cp-accordion\">\n        <div class=\"cp-accordion-head\" @click=\"timezoneSettings = !timezoneSettings\">\n            <h5>Timezone Settings\n              <cp-tooltip :options=\"{ content: 'Every effort is made to calculate timezone based on your browser settings. When this information is unavailable, the selected timezone will be used for calculations.'}\"></cp-tooltip>\n            </h5>\n            <span v-if=\"timezoneSettings\"class=\"arrow\"><i class=\"mdi mdi-chevron-down\"></i></span>\n            <span v-if=\"!timezoneSettings\"class=\"arrow\"><i class=\"mdi mdi-chevron-left\"></i></span>\n        </div>\n        <div class=\"cp-accordion-body\" :class=\"{closed: timezoneSettings === true}\">\n            <div class=\"cp-accordion-body-wrapper\">\n              <cp-select\n              @input=\"$emit('input', settings.timezone)\"\n              label=\"Your Timezone\"\n              v-model=\"settings.timezone\"\n              :options=\"options\"\n              :key-value=\"{name: 'text' , value: 'value'}\"\n              ></cp-select>\n            </div>\n        </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpSettingsTaxes.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpSettingsTaxes.vue', {"name":"CpSettingsTaxes","path":"assets/js/components/settings/partials/CpSettingsTaxes.vue"}, (require,exports,module)=>{
        
const Settings = require('../../../resources/settings.js')
const Dropzone = require('dropzone')

module.exports = {
  data: function () {
    return {
      closed: true,
      tax_settings: {
        tax_classes_required: {},
        tax_exempt_wholesale: {},
        tax_calculation: {},
        tax_subscription: {}
      }
    }
  },
  computed: {},
  mounted () {
    this.getTaxSettings()
  },
  methods: {
    getTaxSettings: function () {
      Settings.getTaxSettings()
              .then((response) => {
                this.tax_settings = response
              })
    },
    saveTaxSettings: function () {
      Settings
        .update(this.tax_settings)
        .then((response) => {
          this.$updateGlobal(this.tax_settings)
          this.$toast('Tax settings saved successfully.')
        })
    }
  },
  components: {}
}
;
        module.exports.template = "\n    <div class=\"branding-wrapper\">\n        <div class=\"cp-accordion\">\n            <div class=\"cp-accordion-head black-header\">\n                <h5>Tax Settings</h5>\n            </div>\n            <div class=\"cp-accordion-body\">\n                <div class=\"cp-accordion-body-wrapper\">\n                    <div class=\"cp-left-col\">\n                        <div>\n                            <h4>Tax Options</h4>\n                            <hr />\n                            <div class=\"line-wrapper\">\n                                <label>Tax classes are required for product entries</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"tax_settings.tax_classes_required.show\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Tax exempt when purchasing wholesale</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"tax_settings.tax_exempt_wholesale.show\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Calculate Taxes on Orders</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"tax_settings.tax_calculation.show\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Calculate Taxes on Subscriptions</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"tax_settings.tax_subscription.show\">\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"cp-right-col\">\n                    </div>\n                    <div class=\"save-settings-button\">\n                        <input class=\"cp-button-standard\" type=\"button\" @click=\"saveTaxSettings()\" value=\"Save\">\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/reports/CpCorpSalesReport.vue:script


      sms.vComponent('assets/js/components/reports/CpCorpSalesReport.vue', {"name":"CpCorpSalesReport","path":"assets/js/components/reports/CpCorpSalesReport.vue"}, (require,exports,module)=>{
        
    const Sales = require('../../resources/sales.js')
    const moment = require('moment')
    const Auth = require('auth')
    const CpOrdersFile = require('../../libraries/CpOrdersFile.js')

    module.exports = {
        data: function () {
            return {
                noResults: false,
                loading: false,
                sales: [],
                pagination: {
                    per_page: 15
                },
                asc: false,
                indexRequest: {
                    start_date: moment().subtract(10, 'days').format('YYYY-MM-DD'),
                    end_date: moment().format('YYYY-MM-DD'),
                    order: 'DESC',
                    column: 'created_at',
                    per_page: 15,
                    search_term: '',
                    page: 1,
                    name: 'customer'
                },
                reverseSort: true,
                Auth: Auth,
                salesTotals: {}
            }
        },
        props: {
            dates: {}
        },
        computed: {},
        mounted: function () {
            Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
            this.getSales()
            this.getCorpTotal()
        },
        methods: {
            downloadcsvreport(search_term, column, order, start_date, end_date) {
                const regex = /attachment;\s*filename=(['"])([^\1]*)\1/i
                const url = '/api/v1/report/csv/corp?search_term=' + search_term + '&:column=' + column + '&order=' + order + '&start_date=' + start_date + '&end_date=' + end_date;
                const download = '/api/v1/report/csv/corp?search_term=' + search_term + '&:column=' + column + '&order=' + order + '&start_date=' + start_date + '&end_date=' + end_date;
                const anchor = document.createElement('a')
                const token = (window.localStorage.getItem('jwt_token') || '')
                const headers = new window.Headers()
                const options = { headers }
                options.credentials = 'include'
                headers.append('Authorization', `Bearer ${token}`)
                let filename = 'filename.ext'
                this.loading = true
                window.fetch(url, options)
                    .then(res => {
                        filename = ((res.headers.get('Content-Disposition') || '').match(regex) || [])[2]
                        return res.blob()
                    })
                    .then((blobby) => {
                        const blob = new Blob([blobby], {
                            type: 'text/csv'
                        });
                        var iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
                        if (iOS) {
                            let url = window.URL.createObjectURL(blob);
                            window.open(url, filename, "_blank");
                        }
                        else {
                            const blobUrl = window.URL.createObjectURL(blob)
                            anchor.href = blobUrl
                            anchor.download = filename
                            anchor.target = '_self'
                            anchor.style.display = 'none'
                            window.document.body.append(anchor)
                            anchor.click()
                            window.URL.revokeObjectURL(blobUrl)
                            anchor.remove()
                        }
                        this.loading = false
                    })
            },
            sendemailcsvreport(search_term, column, order, start_date, end_date) {
                const regex = /attachment;\s*filename=(['"])([^\1]*)\1/i
                const url = '/api/v1/report/csv/corpsendmail?search_term=' + search_term + '&:column=' + column + '&order=' + order + '&start_date=' + start_date + '&end_date=' + end_date;
                const download = '/api/v1/report/csv/corpsendmail?search_term=' + search_term + '&:column=' + column + '&order=' + order + '&start_date=' + start_date + '&end_date=' + end_date;
                const anchor = document.createElement('a')
                const token = (window.localStorage.getItem('jwt_token') || '')
                const headers = new window.Headers()
                const options = { headers }
                options.credentials = 'include'
                headers.append('Authorization', `Bearer ${token}`)
                let filename = 'filename.ext'
                this.loading = true
                window.fetch(url, options)
                    .then(res => {
                        filename = ((res.headers.get('Content-Disposition') || '').match(regex) || [])[2]
                        return res.blob()
                    })
                    .then((blobby) => {
                        alert("mail sent successfully");
                        this.loading = false
                    })
            },
            getCorpTotal() {
                Sales.getCorpTotal(this.indexRequest)
                    .then((response) => {
                        this.salesTotals = response
                    })
            },
            getSalesAndTotals() {
                this.getSales()
                this.getCorpTotal()
            },
            getSales: function () {
                this.loading = true
                this.indexRequest.start_date = moment(this.dates.start_date).format('YYYY-MM-DD')
                this.indexRequest.end_date = moment(this.dates.end_date).format('YYYY-MM-DD')
                this.indexRequest.page = this.pagination.current_page
                this.sales = {}
                Sales.getCorpIndex(this.indexRequest)
                    .then((response) => {
                        if (response.error) {
                            return this.$toast(response.message, { error: true })
                        }
                        if (response.total === 0) {
                            this.noResults = true
                            setTimeout(function () {
                                this.noResults = false
                            }.bind(this), 3000)
                        }
                        this.loading = false
                        this.sales = response.data
                        response.per_page = parseInt(response.per_page)
                        this.pagination = response
                    })
            },
            fulfilledAmount: function (lines) {
                var amount = 0
                lines.forEach(function (line) {
                    amount = amount + line.price
                })
                this.saleAmount = amount
                return this.saleAmount
            },
            sortColumn: function (column) {
                this.reverseSort = !this.reverseSort
                this.indexRequest.column = column
                this.asc = !this.asc
                if (this.asc === true) {
                    this.indexRequest.order = 'asc'
                } else {
                    this.indexRequest.order = 'desc'
                }
                this.getSales()
            },
            printOrder: function (orderId) {
                new CpOrdersFile(null, ['pdf'], 'order', { orderId: orderId }).run()
            }
        },
        components: {
            CpTotalsBanner: require('../reports/CpTotalsBanner.vue'),
            CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue')
        }
    }
;
        module.exports.template = "\n    <div class=\"sales-index-wrapper\">\n        <br>\n\n        <a class=\"cp-button-link\" @click=\"downloadcsvreport(indexRequest.search_term , indexRequest.column , indexRequest.order ,indexRequest.start_date , indexRequest.end_date)\" href=\"javascript:void(0)\" target=\"_blank\">Corporate Sales CSV</a>\n        <a class=\"cp-button-link\" @click=\"sendemailcsvreport(indexRequest.search_term , indexRequest.column , indexRequest.order ,indexRequest.start_date , indexRequest.end_date)\" href=\"javascript:void(0)\" target=\"_blank\">Send Corporate Sales as email</a>\n\n        \n        <!-- totals banner -->\n        <cp-totals-banner totals-title=\"All Corporate Sales\"\n                          :totals=\"[\n        {title:'Total Corp Sales', amount: salesTotals.wholesale_sales + salesTotals.retail_sales},\n        {title:'Corp To Rep Sales', amount: salesTotals.wholesale_sales},\n        {title:'Corp Retail Sales', amount: salesTotals.retail_sales}]\"></cp-totals-banner>\n\n        <cp-table-controls :date-picker=\"true\"\n                           :date-range=\"dates\"\n                           :index-request=\"indexRequest\"\n                           :resource-info=\"pagination\"\n                           :get-records=\"getSalesAndTotals\"></cp-table-controls>\n\n        <!-- data table  -->\n\n        <table class=\"cp-table-standard desktop\">\n            <thead>\n            <th>PDF</th>\n            <th @click=\"sortColumn('receipt_id')\">\n                Receipt ID\n                <span v-show=\"indexRequest.column == 'receipt_id'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n            </th>\n            <th @click=\"sortColumn('created_at')\">\n                Date of Sale\n                <span v-show=\"indexRequest.column == 'created_at'\">\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n            </th>\n            <th @click=\"sortColumn('last_name')\">\n                Customer Name\n                <span v-show=\"indexRequest.column == 'last_name'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n            </th>\n            <th @click=\"sortColumn('subtotal_price')\">\n                Subtotal\n                <span v-show=\"indexRequest.column == 'subtotal_price'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                </span>\n            </th>\n            <th @click=\"sortColumn('total_tax')\">\n                Tax\n                <span v-show=\"indexRequest.column == 'total_tax'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                </span>\n            </th>\n            <th @click=\"sortColumn('total_shipping')\">\n                Shipping\n                <span v-show=\"indexRequest.column == 'total_shipping'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                </span>\n            </th>\n            <th @click=\"sortColumn('total_price')\">\n                Total\n                <span v-show=\"indexRequest.column == 'total_price'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                </span>\n            </th>\n            <th @click=\"sortColumn('cash')\">\n                Cash Sale\n                <span v-show=\"indexRequest.column == 'cash'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n            </th>\n            <th @click=\"sortColumn('type_id')\">\n                Order Type\n                <span v-show=\"indexRequest.column == 'type_id'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n            </th>\n            </thead>\n            <tbody>\n                <tr v-for=\"sale in sales\">\n                    <td v-if=\"sale.type_id !== 6 && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">\n                        <a @click=\"printOrder(sale.id)\"><i class='mdi mdi-file'></i></a>\n                    </td>\n                    <td v-else></td>\n                    <td v-if=\"sale.type_id !== 6 && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\"><a v-bind:href=\"'/orders/' + sale.receipt_id\">{{ sale.receipt_id }}</a></td>\n                    <td v-else>{{ sale.receipt_id }}</td>\n                    <td>{{ sale.created_at | cpStandardDate}}</td>\n                    <td>{{ sale.customer_last_name }}, {{ sale.customer_first_name }}</td>\n                    <td v-if=\"sale.type_id !== 6  && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">{{ sale.subtotal_price | currency }}</td>\n                    <td v-else>{{fulfilledAmount(sale.lines) | currency}}</td>\n                    <td>{{ sale.total_tax | currency }}</td>\n                    <td>{{ sale.total_shipping | currency }}</td>\n                    <td>{{ sale.total_price | currency }}</td>\n                    <td>\n                        <span v-if=\"sale.cash === 1\">Yes</span>\n                        <span v-if=\"sale.cash === 0\">No</span>\n                    </td>\n                    <td>{{ sale.order_type.name }}</td>\n                </tr>\n            </tbody>\n        </table>\n        <section class=\"cp-table-mobile\">\n            <div v-for=\"sale in sales\">\n                <div>\n                    <span v-if=\"sale.type_id !== 6 && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">\n                        PDF:\n                        <a @click=\"printOrder(sale.id)\"><i class='mdi mdi-file-empty'></i></a>\n                    </span>\n                </div>\n                <div>\n                    <span v-if=\"sale.type_id !== 6 && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">\n                        Receipt Id:\n                        <a v-bind:href=\"'/orders/' + sale.receipt_id\">{{ sale.receipt_id }}</a>\n                    </span><span v-else>{{ sale.receipt_id }}></span>\n                </div>\n                <div><span>Date of Sale: </span><span>{{ sale.created_at | cpStandardDate}}</span></div>\n                <div><span>Customer Name: </span><span>{{ sale.customer_last_name }}, {{ sale.customer_first_name }}</span></div>\n                <div>\n                    <span> Subtotal: </span><span v-if=\"sale.type_id !== 6  && sale.type_id !== 7 || Auth.hasAnyRole('Superadmin','Admin')\">{{ sale.subtotal_price | currency }}</span>\n                    <span v-else>{{fulfilledAmount(sale.lines) | currency}}></span>\n                </div>\n                <div><span>Tax: </span><span>{{ sale.total_tax | currency }}</span></div>\n                <div><span>Shipping: </span><span>{{ sale.total_shipping | currency }}</span></div>\n                <div><span>Total: </span><span>{{ sale.total_price | currency }}</span></div>\n                <div>\n                    <span>Cash Sale: </span>\n                    <span v-if=\"sale.cash === 1\">Yes</span>\n                    <span v-if=\"sale.cash === 0\">No</span>\n                </div>\n                <div><span>Order Type: </span><span>{{ sale.order_type.name }}</span></div>\n            </div>\n        </section>\n        <div class=\"align-center\">\n            <div class=\"no-results\" v-if=\"noResults\">\n                <span>No results for this timeframe</span>\n            </div>\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n            <cp-pagination :pagination=\"pagination\"\n                           :callback=\"getSales\"\n                           :offset=\"2\"></cp-pagination>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpSettingsBranding.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpSettingsBranding.vue', {"name":"CpSettingsBranding","path":"assets/js/components/settings/partials/CpSettingsBranding.vue"}, (require,exports,module)=>{
        
const Settings = require('../../../resources/settings.js')
const Dropzone = require('dropzone')
const Auth = require('auth')

module.exports = {
  data: function () {
    return {
      closed: true,
      settings: {
        background_text_1: {},
        background_text_2: {},
        background_text_3: {},
        company_name: {},
        company_email: {},
        title_rep: {},
        title_announcement: {},
        title_store: {},
        rep_welcome: {},
        google_store_url: {},
        ios_store_url: {},
        social_media_link: {},
        product_locator: {},
        address: {},
        phone: {},
        terms: {},
        return_policy: {},
        about_us: {},
        back_office_logo: {},
        use_built_in_store: {},
        loading_icon: {},
        favicon: {},
        back_office_logo_inverse: {},
        landing_page: {},
        hex_color:{}
      },
      replace: {},
      hostName: '',
      options: [
       { text: 'Home', value: '' },
       { text: 'Login', value: 'login' },
       { text: 'Store', value: 'store' }
      ]
    }
  },
  computed: {},
  mounted () {
    this.getBranding()
    Dropzone.autoDiscover = false
    this.buildDropzone()
    this.hostName = window.location.host
  },
  methods: {
    dropzoneConfig: function () {
      return {
        maxFileSize: 10,
        maxFiles: 1,
        acceptedFiles: '.jpg, .jpeg, .png, .gif',
        dictDefaultMessage: 'Click or drop your file here to upload',
        dictMaxFilesExceeded: 'You may only upload one file at a time.',
        addRemoveLinks: true,
        dictRemoveFile: 'Remove File',
        headers: Object.assign({}, {
          'X-CSRF-TOKEN': document.querySelector('#token').getAttribute('content')
        }, Auth.getAuthHeaders())
      }
    },
    buildDropzone: function () {
      var thisBranding = this
      var dropzoneConfig = this.dropzoneConfig
      var dropzoneOneConfig = new dropzoneConfig ()
      dropzoneOneConfig.success = function (file, response) {
        thisBranding.settings.back_office_logo.value = response.url_md
      }
      var dropzoneOne = new Dropzone('#dropzoneOne', dropzoneOneConfig)
      var dropzoneTwoConfig = new dropzoneConfig()
      dropzoneTwoConfig.success = function (file, response) {
        thisBranding.settings.loading_icon.value = response.url
      }
      var dropzoneTwo = new Dropzone('#dropzoneTwo', dropzoneTwoConfig)
      var dropzoneThreeConfig = new dropzoneConfig()
      dropzoneThreeConfig.success = function (file, response) {
        thisBranding.settings.favicon.value = response.url_xxs
      }
      var dropzoneThree = new Dropzone('#dropzoneThree', dropzoneThreeConfig)
      var dropzoneFourConfig = new dropzoneConfig()
      dropzoneFourConfig.success = function (file, response) {
        thisBranding.settings.back_office_logo_inverse.value = response.url_md
      }
      var dropzoneFour = new Dropzone('#dropzoneFour', dropzoneFourConfig)
    },
    getBranding () {
      Settings
        .getAllSettings()
        .then((response) => {
            this.settings = response
            this.getHeaderImage()
            this.getHeaderImageInverse()
            this.getLoadingGif()
            this.getFavicon()
        })
    },
    getHeaderImage () {
      var imageFile = {
        url: this.settings.back_office_logo.value,
        size: 12345
      }
      Dropzone.forElement('#dropzoneOne').emit('addedfile', imageFile)
      Dropzone.forElement('#dropzoneOne').emit('thumbnail', imageFile, imageFile.url)
      Dropzone.forElement('#dropzoneOne').emit('complete', imageFile)
    },
    getHeaderImageInverse () {
      var imageFile = {
        url: this.settings.back_office_logo_inverse.value,
        size: 12345
      }
      Dropzone.forElement('#dropzoneFour').emit('addedfile', imageFile)
      Dropzone.forElement('#dropzoneFour').emit('thumbnail', imageFile, imageFile.url)
      Dropzone.forElement('#dropzoneFour').emit('complete', imageFile)
    },
    getLoadingGif () {
      var imageFile = {
        url: this.settings.loading_icon.value,
        size: 12345
      }
      Dropzone.forElement('#dropzoneTwo').emit('addedfile', imageFile)
      Dropzone.forElement('#dropzoneTwo').emit('thumbnail', imageFile, imageFile.url)
      Dropzone.forElement('#dropzoneTwo').emit('complete', imageFile)
    },
    getFavicon () {
      var imageFile = {
        url: this.settings.favicon.value,
        size: 12345
      }
      Dropzone.forElement('#dropzoneThree').emit('addedfile', imageFile)
      Dropzone.forElement('#dropzoneThree').emit('thumbnail', imageFile, imageFile.url)
      Dropzone.forElement('#dropzoneThree').emit('complete', imageFile)
    },
    saveSettings () {
      Settings
        .update(this.settings)
        .then((response) => {
            this.$toast('Settings saved successfully.')
        })
    }
  },
  components: {}
}
;
        module.exports.template = "\n    <div class=\"branding-wrapper\">\n        <div class=\"cp-accordion\">\n            <div class=\"cp-accordion-head black-header\">\n                <h5>Branding</h5>\n            </div>\n        <div class=\"cp-accordion-body\">\n            <div class=\"cp-accordion-body-wrapper\">\n                <div class=\"cp-left-col\">\n                    <div>\n                        <h5>Backoffice Logo for Header</h5>\n                        <div id=\"dropzoneImport\">\n                            <form action=\"/api/v1/media/process\" method=\"POST\" class=\"dropzone\" id=\"dropzoneOne\">\n                                <input type=\"hidden\" name=\"userId\" :value=\"settings.id\" :selected=\"settings\">\n                                <input type=\"hidden\" name=\"replace\" v-model=\"replace\">\n                                <input type=\"hidden\" id=\"token\" name=\"_token\">\n                                <input type=\"hidden\" name=\"image_type\" value=\"company_logo\">\n                            </form>\n                        </div>\n                    </div>\n                    <div>\n                        <h5>Backoffice Logo for Header Inverse</h5>\n                        <div id=\"dropzoneImport\">\n                            <form action=\"/api/v1/media/process\" method=\"POST\" class=\"dropzone dropzone-inverse\" id=\"dropzoneFour\">\n                                <input type=\"hidden\" name=\"userId\" :value=\"settings.id\" :selected=\"settings\">\n                                <input type=\"hidden\" name=\"replace\" v-model=\"replace\">\n                                <input type=\"hidden\" id=\"token\" name=\"_token\">\n                                <input type=\"hidden\" name=\"image_type\" value=\"back_office_logo_inverse\">\n                            </form>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"cp-right-col\">\n                    <div class=\"space-between\">\n                        <div class=\"loading-gif\">\n                            <h5>Loading Gif</h5>\n                            <div id=\"dropzoneImport\">\n                                <form action=\"/api/v1/media/process\" method=\"POST\" class=\"dropzone\" id=\"dropzoneTwo\">\n                                    <input type=\"hidden\" name=\"userId\" :value=\"settings.id\" :selected=\"settings\">\n                                    <input type=\"hidden\" name=\"replace\" v-model=\"replace\">\n                                    <input type=\"hidden\" id=\"token\" name=\"_token\">\n                                    <input type=\"hidden\" name=\"image_type\" value=\"loading_icon\">\n                                </form>\n                            </div>\n                        </div>\n                        <div class=\"favicon\">\n                            <h5>Favicon</h5>\n                            <div id=\"dropzoneImport\">\n                                <form action=\"/api/v1/media/process\" method=\"POST\" class=\"dropzone\" id=\"dropzoneThree\">\n                                    <input type=\"hidden\" name=\"userId\" :value=\"settings.id\" :selected=\"settings\">\n                                    <input type=\"hidden\" name=\"replace\" v-model=\"replace\">\n                                    <input type=\"hidden\" id=\"token\" name=\"_token\">\n                                    <input type=\"hidden\" name=\"image_type\" value=\"favicon\">\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"save-settings-button\">\n                        <input class=\"cp-button-standard\" type=\"button\" @click=\"saveSettings()\" value=\"Save\">\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpSettingsOrder.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpSettingsOrder.vue', {"name":"CpSettingsOrder","path":"assets/js/components/settings/partials/CpSettingsOrder.vue"}, (require,exports,module)=>{
        
const Settings = require('../../../resources/settings.js')
const OrderStatus = require('../../../resources/order-status.js')
const _ = require('lodash')

module.exports = {
  data: function () {
    return {
      orderStatuses: {}
    }
  },
  mounted: function () {
    this.getOrderStatus()
  },
  methods: {
    getOrderStatus: function () {
      OrderStatus.getIndex()
      .then((response) => {
        this.orderStatuses = response
      })
    },
    addNew: function () {
        var position = 0;
        for (index = 0; index < this.orderStatuses.length; ++index) {
            if (position < this.orderStatuses[index].position) {
                position = this.orderStatuses[index].position
            }
        }
        this.orderStatuses.push({
            id: null,
            name: "",
            default: false,
            position: Number(position) + 1,
            visible: false
        })
    },
    updateStatusName: _.debounce(function (status) {
        this.updateStatus(status)
    }, 1000),
    updateStatus: function(status) {
        if (!status.id && status.name !== "") {
            OrderStatus.create(status)
            .then((response) => {
                if (response.error) {
                    this.$toast(response.message, { error: true, dismiss: true })
                    return
                }
                this.$toast('Order Status Created', { error: false, dismiss: false })
                status.id = response.id
            })
        } else if(status.id) {
            OrderStatus.update(status.id, status)
            .then((response) => {
                if (response.error) {
                    this.$toast(response.message, { error: true, dismiss: true })
                    return
                }
                this.$toast('Order Status Updated', { error: false, dismiss: false })
            })
        }
    },
    deleteStatus: function (id, index) {
        if (id) {
            OrderStatus.delete(id)
            .then((response) => {
                if (response.error) {
                    this.$toast(response.message, { error: true, dismiss: true })
                    return
                }
                this.orderStatuses.splice(index, 1)
                this.$toast('Order Status Deleted', { error: false, dismiss: false })
            })
        } else {
            this.orderStatuses.splice(index, 1)
        }
    }
  },
  components: {
  }
}
;
        module.exports.template = "\n    <div class=\"order-settings-wrapper\">\n        <div class=\"\">\n            <div class=\"panel item-list\">\n                <div class=\"panel-heading\">\n                    <h2 class=\"panel-title align-left\">Order Status Settings</h2>\n                </div>\n                <table class=\"cp-table-standard desktop table-setting\">\n                    <thead>\n                        <th>Position</th>\n                        <th>Name</th>\n                        <th>Display</th>\n                        <th><!-- delete --></th>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"(status, index) in orderStatuses\">\n                            <td><input class=\"align-center status-position input-class\" type=\"number\" v-model=\"status.position\" @keyup=\"updateStatus(status)\"></td>\n                            <td><span v-if=\"status.default\"><input class=\"input-class\" type=\"text\" v-model=\"status.name\" disabled></span><span v-else><input class=\"input-class\" type=\"text\" v-model=\"status.name\" @keyup=\"updateStatusName(status)\"></span></td>\n                            <td><input class=\"toggle-switch\" type=\"checkbox\" v-model=\"status.visible\" @change=\"updateStatus(status)\" @keyup=\"updateStatus(status)\"></td>\n                            <td v-if=\"!status.default\" class=\"align:right\"><i class=\"mdi mdi-close pointer\" @click=\"deleteStatus(status.id, index)\"></i></td>\n                            <td v-else class=\"delete-column\"></td>\n                        </tr>\n                        <tr style=\"background-color:white\">\n                            <td colspan=\"5\"><button class=\"cp-button-standard\" @click=\"addNew\">+ Add New Status</button></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n\n\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpSettingsUser.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpSettingsUser.vue', {"name":"CpSettingsUser","path":"assets/js/components/settings/partials/CpSettingsUser.vue"}, (require,exports,module)=>{
        
const Users = require('../../../resources/users.js')
const Auth = require('auth')

module.exports = {
  data: function () {
    return {
      auth: Auth,
      storeSettings: true,
      shippingSettings: true,
      locatorSettings: true,
      settings: {
        show_new_inventory: 0
      }
    }
  },
  props: {
    oldSettings: {
      type: Object,
      required: true
    },
    user: {
      type: Object,
      required: true
    }
  },
  mounted () {
    this.settings = this.oldSettings
  },
  methods: {
    updateSettings () {
      // do not update payment_account
      if (this.settings.payment_account || this.settings.payment_account === 0) {
        delete this.settings.payment_account
      }
      this.settings.user_id = this.user.id
      Users.updateUserSettings(this.settings)
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, {error: true})
          } else {
            this.settings = response
            this.$toast('Setting successfully updated.', {error: false})
          }
        })
    },
    showInvoiceSetting () {
      switch (Auth.getClaims().sellerType) {
        case 'Affiliate':
          return this.$getGlobal('affiliate_custom_order').show || this.$getGlobal('affiliate_custom_corp').show
        case 'Reseller':
          return this.$getGlobal('reseller_custom_order').show || this.$getGlobal('reseller_custom_corp').show
        default:
          return false
      }
    }
  },
  computed: {
    shippingSettingsAvailable () {
      return (this.auth.hasAnyRole('Rep') && this.$getGlobal('replicated_site').show && (this.user.seller_type_id !== 1 || this.$getGlobal('affiliate_shipping_rates').show))
    }
  },
  components: {
    'CpSettingsTimezone': require('../../settings/partials/CpSettingsTimezone.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"my-setting-wrapper\">\n      <div class=\"cp-box-standard\" v-show=\"auth.hasAnyRole('Rep')\">\n        <div class=\"cp-box-heading\">\n          <h5>My Settings</h5>\n        </div>\n        <div class=\"cp-box-body\">\n          <div v-if=\"settings\">\n            <div class=\"cp-accordion\" v-show=\"auth.hasAnyRole('Rep', 'Admin', 'Superadmin') && $getGlobal('replicated_site').show\">\n              <div class=\"cp-accordion-head\" @click=\"locatorSettings = !locatorSettings\"  v-show=\"$getGlobal('rep_locator_enable').show\">\n                <h5>Locator Settings</h5>\n                <span v-if=\"locatorSettings\" class=\"arrow\"><i class=\"mdi mdi-chevron-down\"></i></span>\n                <span v-if=\"!locatorSettings\" class=\"arrow\"><i class=\"mdi mdi-chevron-left\"></i></span>\n              </div>\n              <div class=\"cp-accordion-body\" :class=\"{closed: locatorSettings === true}\"  v-show=\"$getGlobal('rep_locator_enable').show\">\n                <div class=\"cp-accordion-body-wrapper\">\n                    <cp-toggle tooltip=\"Choose wether or not customers should be able to find you and your products through the store locator\" label=\"Allow store to be located\" v-model=\"settings.show_location\"></cp-toggle>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"cp-accordion\" v-show=\"auth.hasAnyRole('Rep') && $getGlobal('replicated_site').show\">\n              <div class=\"cp-accordion-head\" @click=\"storeSettings = !storeSettings\">\n                <h5>Store Settings ( Display Options )</h5>\n                <span v-if=\"storeSettings\" class=\"arrow\"><i class=\"mdi mdi-chevron-down\"></i></span>\n                <span v-if=\"!storeSettings\" class=\"arrow\"><i class=\"mdi mdi-chevron-left\"></i></span>\n              </div>\n              <div class=\"cp-accordion-body\" :class=\"{closed: storeSettings === true}\">\n                <div class=\"cp-accordion-body-wrapper\">\n                    <cp-toggle tooltip=\"Use this to suspend selling in your store\" label=\"Hide All Products\" v-model=\"settings.hide_products\"></cp-toggle>\n                    <cp-toggle tooltip=\"If you are purchasing a product that is already in inventory, it will show/hide to what it already is set as.\" label=\"Automatically Show New Inventory in Store\" v-model=\"settings.show_new_inventory\"></cp-toggle>\n                    <cp-toggle v-model=\"settings.show_address\" label=\"Show Address\"></cp-toggle>\n                    <cp-toggle v-model=\"settings.show_email\" label=\"Show Email\"></cp-toggle>\n                    <cp-toggle label=\"Show Phone\" v-model=\"settings.show_phone\"></cp-toggle>\n                </div>\n              </div>\n            </div>\n            <div class=\"cp-accordion\" v-if=\"shippingSettingsAvailable\">\n              <div class=\"cp-accordion-head\" @click=\"shippingSettings = !shippingSettings\">\n                <h5>Shipping Settings</h5>\n                <span v-if=\"shippingSettings\" class=\"arrow\"><i class=\"mdi mdi-chevron-down\"></i></span>\n                <span v-if=\"!shippingSettings\"class=\"arrow\"><i class=\"mdi mdi-chevron-left\"></i></span>\n              </div>\n              <div class=\"cp-accordion-body\" :class=\"{closed: shippingSettings === true}\">\n                <div class=\"cp-accordion-body-wrapper\">\n                      <a href=\"/shipping/settings\" class=\"action-btn shipping-link\">Change Shipping Rates</a>\n                </div>\n              </div>\n            </div>\n            <cp-settings-timezone v-if=\"settings && user && user.id !== undefined\" :old-settings=\"oldSettings\" :user-id=\"user.id\" v-model=\"settings.timezone\"></cp-settings-timezone>\n            <div class=\"cp-accordion-body-wrapper\" v-if=\"showInvoiceSetting()\">\n              <cp-toggle label=\"Show Address on Invoices\" v-model=\"settings.show_address_on_invoice\"></cp-toggle>\n            </div>\n            <div class=\"button-wrapper\">\n              <button class=\"cp-button-standard\"type=\"button\" name=\"button\" @click=\"updateSettings()\">Save My Settings</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpSettingsUserStatus.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpSettingsUserStatus.vue', {"name":"CpSettingsUserStatus","path":"assets/js/components/settings/partials/CpSettingsUserStatus.vue"}, (require,exports,module)=>{
        
const Settings = require('../../../resources/settings.js')
const UserStatus = require('../../../resources/user-status.js')
const _ = require('lodash')

module.exports = {
  data: function () {
    return {
      userStatuses: [],
      url_settings: {
          user_status_sell_url: []
      }
    }
  },
  mounted: function () {
    this.getUserStatus()
    this.getUrlSettings()
  },
  methods: {
    getUrlSettings: function () {
        var url_setting = this.$getGlobal('user_status_sell_url')
        this.url_settings['user_status_sell_url'] = {
            value: url_setting.value,
            show: url_setting.show
        }
    },
    getUserStatus: function () {
      UserStatus.getIndex()
      .then((response) => {
          for (var item in response) {
              this.userStatuses.push(response[item])
          }
      })
    },
    addNew: function () {
        var position = 0;
        for (index = 0; index < this.userStatuses.length; ++index) {
            if (position < this.userStatuses[index].position) {
                position = this.userStatuses[index].position
            }
        }
        this.userStatuses.push({
            id: null,
            name: "",
            position: Number(position) + 1,
            visible: false,
            login: false,
            buy: false,
            sell: false,
            renew_subscription: false,
            rep_locator: false
        })
    },
    updateStatusName: _.debounce(function (status) {
        this.updateStatus(status)
    }, 1000),
    updateStatus: function(status) {
        if (!status.id && status.name !== "") {
            UserStatus.create(status)
            .then((response) => {
                if (response.error) {
                    this.$toast(response.message, { error: true, dismiss: true })
                    return
                }
                this.$toast('User Status Created', { error: false, dismiss: false })
                status.id = response.id
            })
        } else if(status.id) {
            UserStatus.update(status.id, status)
            .then((response) => {
                if (response.error) {
                    this.$toast(response.message, { error: true, dismiss: true })
                    return
                }
                this.$toast('User Status Updated', { error: false, dismiss: false })
            })
        }
    },
    saveUrl: function () {
      Settings.update(this.url_settings)
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, { error:true })
          }
          this.$toast('setting updated', { dismiss: false })
        })
    },
    deleteStatus: function (id, index) {
        if (id) {
            UserStatus.delete(id)
            .then((response) => {
                if (response.error) {
                    this.$toast(response.message, { error: true, dismiss: true })
                    return
                }
                this.userStatuses.splice(index, 1)
                this.$toast('User Status Deleted', { error: false, dismiss: false })
            })
        } else {
            this.userStatuses.splice(index, 1)
        }
    }
  },
  components: {
  }
}
;
        module.exports.template = "\n    <div class=\"user-settings-wrapper\">\n        <div class=\"\">\n            <div class=\"panel item-list\">\n                <div class=\"panel-heading\">\n                    <h2 class=\"panel-title align-left\">User Status Settings</h2>\n                </div>\n                <table class=\"cp-table-standard desktop table-setting\">\n                    <thead>\n                        <th>Position</th>\n                        <th>Name</th>\n                                                <th>Display <cp-tooltip :options=\"{ content: 'When unchecked it will hide the status from the users page for admins.'}\"></cp-tooltip></th>\n                        <th>Sign in <cp-tooltip :options=\"{ content: 'When unchecked it will prevent users from logging in.'}\"></cp-tooltip></th>\n                        <th>Buy <cp-tooltip :options=\"{ content: 'When unchecked it will prevent users from buying on Inventory Purchase.'}\"></cp-tooltip></th>\n                        <th>Sell <cp-tooltip :options=\"{ content: 'When unchecked it will prevent users from selling. This includes Custom Order and selling on their replicated site. Replicated sites will then be redirected to the Sell Redirect Url.'}\"></cp-tooltip></th>\n                        <th>Renew <cp-tooltip :options=\"{ content: 'This will set the subscription auto renew on/off for users depending on having Renew checked or not.'}\"></cp-tooltip></th>\n                        <th v-if=\"$getGlobal('rep_locator_enable').value\">Rep Locator <cp-tooltip :options=\"{ content: 'When unchecked it will prevent users from showing up in the Rep Locator v2.'}\"></cp-tooltip></th>\n                        <th><!-- column for delete button --></th>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"(status, index) in userStatuses\">\n                            <td>\n                                <input class=\"align-center status-position input-class\" type=\"number\" v-model=\"status.position\" @keyup=\"updateStatus(status)\">\n                            </td>\n                            <td>\n                                <span v-if=\"status.default == true\"><input class=\"input-class\" type=\"text\" v-model=\"status.name\" disabled></span>\n                                <span v-else><input class=\"input-class\" type=\"text\" v-model=\"status.name\" @keyup=\"updateStatusName(status)\"></span>\n                            </td>\n                            <td>\n                                <input type=\"checkbox\" v-model=\"status.visible\" @change=\"updateStatus(status)\">\n                            </td>\n                            <td>\n                                <input v-if=\"status.default == true\" type=\"checkbox\" v-model=\"status.login\" disabled>\n                                <input v-else type=\"checkbox\" v-model=\"status.login\" @change=\"updateStatus(status)\">\n                            </td>\n                            <td>\n                                <input v-if=\"status.default == true\" type=\"checkbox\" v-model=\"status.buy\" disabled>\n                                <input v-else type=\"checkbox\" v-model=\"status.buy\" @change=\"updateStatus(status)\">\n                            </td>\n                            <td>\n                                <input v-if=\"status.default == true\" type=\"checkbox\" v-model=\"status.sell\" disabled>\n                                <input v-else type=\"checkbox\" v-model=\"status.sell\" @change=\"updateStatus(status)\">\n                            </td>\n                            <td>\n                                <input v-if=\"status.default == true\" type=\"checkbox\" v-model=\"status.renew_subscription\" disabled>\n                                <input v-else type=\"checkbox\" v-model=\"status.renew_subscription\" @change=\"updateStatus(status)\">\n                            </td>\n                            <td v-if=\"$getGlobal('rep_locator_enable').value\">\n                                <input v-if=\"status.default == true\" type=\"checkbox\" v-model=\"status.rep_locator\" disabled>\n                                <input v-else type=\"checkbox\" v-model=\"status.rep_locator\" @change=\"updateStatus(status)\">\n                            </td>\n                            <td>\n                                <span v-if=\"status.default != true\"><i class=\"mdi mdi-close pointer\" @click=\"deleteStatus(status.id, index)\"></i></span>\n                            </td>\n                        </tr>\n                        <tr style=\"background-color:white\">\n                            <td colspan=\"5\"><button class=\"cp-button-standard\" @click=\"addNew\">+ Add New Status</button></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n                <div class=\"url-setting\">\n                    <div>\n                        <cp-tooltip :options=\"{ content: 'When the User Status setting of Sell is unchecked, the user\\'s replicated site will be redirected to the inputted url. The input must have http:// or https:// in it.'}\"></cp-tooltip>\n                        <cp-input label=\"Sell Redirect Url\" custom-class=\"url-input\" type=\"text\" v-model=\"url_settings.user_status_sell_url.value\" ></cp-input>\n                            <div class=\"save-settings-button-special-case-because-of-stupid-reasons\">\n                                <button class=\"cp-button-standard\" type=\"button\" @click=\"saveUrl()\">Save</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n        </div>\n    </div>\n\n\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/shipping/CpShippo.vue:script

sms.vComponent('assets/js/components/shipping/CpShippo.vue', { name: 'CpShippo', routing: { name: 'site.CpShippo', meta: { title: 'Create Shipping Label' }, path: 'shipping/create-shipping-label', props: true } }, (require, exports, module)=>{

const Auth = require('auth')
const Shipping = require('../../resources/shipping.js')
const Addresses = require('../../resources/addresses.js')
const Users = require('../../resources/UsersAPIv0.js')
const Orders = require('../../resources/OrdersAPIv0.js')
const { states } = require('../../resources/states.js')

module.exports = {
  data () {
    return {
      loading: false,
      states: states,
      years: [],
      steps: {
        one: true,
        two: false,
        three: false,
        four: false
      },
      ratesRequest: {
        parcel: {
          distance_unit: 'in',
          mass_unit: 'lb'
        },
        address_to: {},
        address_from: {}
      },
      order: null,
      validationErrors: {},
      shippingAddress: {},
      fromAddress: {},
      toContact: { email: '' },
      fromContact: { phone: '', email: '' },
      shippingAddressEdit: false,
      fromAddressEdit: false,
      shippingRates: {},
      selectedRate: null,
      payment: {},
      paymentErrors: {},
      label: {}
    }
  },
  props: {
    // optional prop: for use when putting this component in a modal
    showModal: {
      type: Boolean,
      required: false
    },
    getOrders: {
      type: Function
    }
  },
  mounted () {
    this.getYears()
    this.getOwner()
    if (!this.order) {
      this.shippingAddressEdit = true
    }
  },
  methods: {
    getYears: function () {
      var currentYear = new Date().getFullYear()
      for (var i = 0; i <= 10; i++) {
        this.years.push({name: currentYear + i})
      }
    },
    setOrder(order) {
      this.order = order
      this.toContact.email = order.buyer_email
      this.shippingAddress = order.shipping_address
      this.shippingAddressEdit = false
    },
    getOwner() {
      let request = {
        addresses: true
      }
      Users.getById(request, Auth.getOwnerId())
        .then((response) => {
          if (response.error && response.code === 404) {
            return
          }
          this.fromAddress = response.business_address
          this.fromContact.email = response.email
          this.fromContact.phone = response.phone
          this.copyAddress(this.fromAddress)
          this.fromAddressEdit = !this.fromContact.phone
        })
    },
    setStep (step) {
      // go back to pervious button if set to previous
      var previousStep = ''
      if (step === 'previous') {
        for (let key in this.steps) {
          if (this.steps[key] === true) {
            this.steps[key] = false
            this.steps[previousStep] = true
            return
          }
          previousStep = key
        }
      } else {
        // other wise go to specificed step assigned by argument
        for (let key in this.steps) {
          if (key === step) {
            this.steps[key] = true
          } else {
            this.steps[key] = false
          }
        }
      }
    },
    prepareShippingRatesRequest () {
      this.ratesRequest.address_to = {
        object_purpose: 'PURCHASE',
        name: this.shippingAddress.name,
        street1: this.shippingAddress.line_1,
        street2: this.shippingAddress.line_2,
        state: this.shippingAddress.state,
        city: this.shippingAddress.city,
        zip: this.shippingAddress.zip,
        country: 'US',
        email: this.toContact.email
      }
      this.ratesRequest.address_from = {
        object_purpose: 'PURCHASE',
        name: this.fromAddress.name,
        street1: this.fromAddress.line_1,
        street2: this.fromAddress.line_2,
        state: this.fromAddress.state,
        city: this.fromAddress.city,
        zip: this.fromAddress.zip,
        country: 'US',
        phone: this.fromContact.phone,
        email: this.fromContact.email
      }
    },
    getShippoRates () {
      let errors = this.getAddressErrors(this.shippingAddress, 'address_to')
      errors = Object.assign(errors, this.getAddressErrors(this.fromAddress, 'address_from'))
      if (this.isBlank(this.ratesRequest.parcel.length)) {
        errors['parcel.length'] = ['Required']
      }
      if (this.isBlank(this.ratesRequest.parcel.width)) {
        errors['parcel.width'] = ['Required']
      }
      if (this.isBlank(this.ratesRequest.parcel.height)) {
        errors['parcel.height'] = ['Required']
      }
      if (this.isBlank(this.ratesRequest.parcel.weight)) {
        errors['parcel.weight'] = ['Required']
      }
      if (this.isBlank(this.toContact.email)) {
        errors['address_to.email'] = ['Required']
      }
      if (this.isBlank(this.fromContact.phone)) {
        errors['address_from.phone'] = ['Required']
      }
      if (this.isBlank(this.fromContact.email)) {
        errors['address_from.email'] = ['Required']
      }
      if (Object.keys(errors).length > 0) {
        this.validationErrors = errors
        return
      }
      // set to step 2
      // prepare request
      this.prepareShippingRatesRequest()

      // api request for shipping rates
      this.loading = true
      window.scrollTo(0, 0) // to make sure the user sees the loading gif
      Shipping.shippoRates(this.ratesRequest)
        .then((response) => {
          this.loading = false
          if (response.error) {
            this.shippingRates = {}
            this.validationErrors = response.message
            return
          }
          this.validationErrors = {}
          this.setStep('two')
          this.shippingRates = response
        })
    },
    selectRate () {
      if (!this.selectedRate) {
        return this.$toast('Please select a rate to continue.', { error: true })
      }
      this.setStep('three')
    },
    purchaseLabel () {
      // purchase label
      this.loading = true
      var request = {
        order_id: null,
        rate_id: this.selectedRate.object_id,
        payment: this.payment
      }
      if (this.order) {
        request.order_id = this.order.id
      }
      window.scrollTo(0, 0) // to make sure the user sees the loading gif
      Shipping.label(request)
        .then((response) => {
          this.loading = false
          if (response.error) {
            // check for unique to shippo validation rules
            if (response.code === 400 && response.message.text) {
              this.$toast(response.message.text, { error: true })
              return
            }
            this.validationErrors = response.message
            return // prevent moving to next step in case of error
          }
          this.label = response
          this.setStep('four')
          this.getOrders()
        })
    },
    getAddressErrors(address, errorLabel) {
      let errors = [];
      if (this.isBlank(address.name)) {
        errors[errorLabel + '.name'] = ['Required']
      }
      if (this.isBlank(address.line_1)) {
        errors[errorLabel + '.street1'] = ['Required']
      }
      if (this.isBlank(address.city)) {
        errors[errorLabel + '.city'] = ['Required']
      }
      if (this.isBlank(address.state)) {
        errors[errorLabel + '.state'] = ['Required']
      }
      if (this.isBlank(address.zip)) {
        errors[errorLabel + '.zip'] = ['Required']
      }
      return errors
    },
    isBlank (str) {
      return (!str || /^\s*$/.test(str));
    },
    copyAddress: function (address) {
      this.payment.address_1 = address.line_1
      this.payment.address_2 = address.line_2
      this.payment.city = address.city
      this.payment.state = address.state
      this.payment.zip = address.zip
    },
    editShippingAddress: function () {
      let shippingErrors = this.getAddressErrors(this.shippingAddress, 'address_to')
      if (Object.keys(shippingErrors).length > 0) {
        this.validationErrors = shippingErrors
        return
      }
      this.
      Orders.updateShippingAddress(this.shippingAddress, this.order.id)
        .then((response) => {
          if (response.error) {
            this.toAddressErrors = response.message
            return
          }
          this.setOrder(response)
        })
    },
    editFromAddress: function () {
      let fromErrors = this.getAddressErrors(this.fromAddress, 'address_from')
      if (Object.keys(fromErrors).length > 0) {
        this.validationErrors = fromErrors
        return
      }
      Addresses.create(this.fromAddress)
        .then((response) => {
          if (response.error) {
            return
          }
          this.fromAddress = response
        })
    }
  },
  components: {
    CpAddressBox: require('../addresses/CpAddressBox.vue'),
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpSelect: require('../../cp-components-common/inputs/CpSelect.vue')
  }
}

;module.exports.template = "\n  <div class=\"shippo-wrapper\">\n    <section class=\"align-center shippo-loading\" v-show=\"loading\">\n        <p>Please Wait</p>\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\">\n    </section>\n    <div v-show=\"!loading\">\n      <!-- STEP ONE  -->\n      <!-- FORM TO GET LIST OF SHIPPING RATES AND CARRIERS -->\n      <section class=\"shippo-step\" v-show=\"steps.one\">\n        <h3>Step One: Enter Package Information</h3>\n        <form class=\"cp-form-standard\">\n          <div class=\"shipping-section\">\n            <h4>Parcel Dimensions</h4>\n            <cp-input\n            subtext=\"(in.) :\"\n            label=\"Length\"\n            type=\"number\"\n            :error=\"validationErrors['parcel.length']\"\n             v-model=\"ratesRequest.parcel.length\"\n             placeholder=\"Length\"></cp-input>\n            <cp-input\n            subtext=\"(in.) :\"\n            label=\"Width\"\n            type=\"number\"\n            :error=\"validationErrors['parcel.width']\"\n            v-model=\"ratesRequest.parcel.width\"\n            placeholder=\"Width\"></cp-input>\n            <cp-input\n            subtext=\"(in.) :\"\n            label=\"Height \"\n            type=\"number\"\n            :error=\"validationErrors['parcel.height']\"\n             v-model=\"ratesRequest.parcel.height\"\n             placeholder=\"Height\"></cp-input>\n            <cp-input\n            subtext=\"(lb.) :\"\n             label=\"Weight\"\n             type=\"number\"\n             :error=\"validationErrors['parcel.weight']\"\n             v-model=\"ratesRequest.parcel.weight\"\n             placeholder=\"Weight\"></cp-input>\n          </div>\n        </form>\n        <div class=\"shipping-addresses-wrapper\">\n          <div class=\"shipping-section shipping-address-section1\">\n            <h4>Shipping To Address </h4>\n            <ul class=\"shippo-adddress-show\" v-show=\"!shippingAddressEdit\">\n              <li><strong>{{ shippingAddress.name }}</strong></li>\n              <li>{{ shippingAddress.line_1 }}</li>\n              <li v-if=\"shippingAddress.line_2 !== ''\">{{ shippingAddress.line_2 }}</li>\n              <li>{{ shippingAddress.city }}</li>\n              <li>{{ shippingAddress.state }}</li>\n              <li>{{ shippingAddress.zip }}</li>\n              <li>{{ toContact.email }}</li>\n              <li><br /></li>\n            </ul>\n            <form class=\"cp-form-standard\" v-show=\"shippingAddressEdit\">\n              <cp-input\n              label=\"Name:\"\n              :error=\"validationErrors['address_to.name']\"\n              v-model=\"shippingAddress.name\"\n              placeholder=\"Name\"></cp-input>\n              <cp-input\n              label=\"Address Line 1:\"\n              :error=\"validationErrors['address_to.street1']\"\n              v-model=\"shippingAddress.line_1\"\n              placeholder=\"Street address, P.O. Box\"></cp-input>\n              <cp-input\n              label=\"Address Line 2:\"\n              :error=\"validationErrors['address_to.street2']\"\n              v-model=\"shippingAddress.line_2\"\n              placeholder=\"Apartment, suite, building, floor\"></cp-input>\n              <cp-input\n              label=\"City: \"\n              :error=\"validationErrors['address_to.city']\"\n              v-model=\"shippingAddress.city\"\n              placeholder=\"City\"></cp-input>\n                <cp-select\n                label=\"State: \"\n                :error=\"validationErrors['address_to.state']\"\n                 v-model=\"shippingAddress.state\"\n                 :options=\"states\"\n                 :key-value=\"{name: 'name', value: 'value'}\">\n               </cp-select>\n              <cp-input\n              label=\"Zip Code:\"\n              :error=\"validationErrors['address_to.zip']\"\n              v-model=\"shippingAddress.zip\"\n              placeholder=\"Zip Code\"></cp-input>\n              <cp-input\n              label=\"Email:\"\n              :error=\"validationErrors['address_to.email']\"\n              v-model=\"toContact.email\"\n              placeholder=\"Email\"></cp-input>\n            </form>\n            <button v-show=\"!shippingAddressEdit\" class=\"cp-button-standard edit-address-button\" @click=\"shippingAddressEdit = true\">Edit</button>\n            <button v-show=\"shippingAddressEdit\" class=\"cp-button-standard edit-address-button\" @click=\"editShippingAddress()\">Save</button>\n          </div>\n          <div class=\"shipping-section shipping-address-section2\">\n            <h4>Shipping From Address</h4>\n            <ul class=\"shippo-adddress-show\" v-if=\"!fromAddressEdit\">\n              <li><strong>{{ fromAddress.name }}</strong></li>\n              <li>{{ fromAddress.line_1 }}</li>\n              <li v-if=\"fromAddress.line_2 !== ''\">{{ fromAddress.line_2 }}</li>\n              <li>{{ fromAddress.city }}</li>\n              <li>{{ fromAddress.state }}</li>\n              <li>{{ fromAddress.zip }}</li>\n              <li>{{ fromContact.phone }}</li>\n              <li>{{ fromContact.email }}</li>\n            </ul>\n            <form class=\"cp-form-standard\" v-show=\"fromAddressEdit\">\n              <cp-input\n              label=\"Name:\"\n              :error=\"validationErrors['address_from.name']\"\n              v-model=\"fromAddress.name\"\n              placeholder=\"Name\"></cp-input>\n              <cp-input\n              label=\"Address Line 1:\"\n              :error=\"validationErrors['address_from.street1']\"\n              v-model=\"fromAddress.line_1\"\n              placeholder=\"Street address, P.O. Box\"></cp-input>\n              <cp-input\n              label=\"Address Line 2: \"\n              :error=\"validationErrors['address_from.street2']\"\n              v-model=\"fromAddress.line_2\"\n              placeholder=\"Apartment, suite, building, floor\"></cp-input>\n              <cp-input\n              label=\"City:\"\n              :error=\"validationErrors['address_from.city']\"\n              v-model=\"fromAddress.city\"\n              placeholder=\"City\"></cp-input>\n              <cp-select\n              label=\"State:\"\n              v-model=\"fromAddress.state\"\n              :error=\"validationErrors['address_from.state']\"\n              :options=\"states\"\n              :key-value=\"{name: 'name', value: 'value'}\"></cp-select>\n              <cp-input\n              label=\"Zip Code:\"\n              :error=\"validationErrors['address_from.zip']\"\n              v-model=\"fromAddress.zip\"\n              placeholder=\"Zip Code\"></cp-input>\n              <cp-input\n              label=\"Email:\"\n              :error=\"validationErrors['address_from.email']\"\n              v-model=\"fromContact.email\"\n              placeholder=\"Email\"></cp-input>\n              <cp-input\n              label=\"Phone:\"\n              :error=\"validationErrors['address_from.phone']\"\n              v-model=\"fromContact.phone\"\n              placeholder=\"Phone\"></cp-input>\n            </form>\n            <button v-show=\"!fromAddressEdit\" class=\"cp-button-standard edit-address-button\" @click=\"fromAddressEdit = true\">Edit</button>\n            <button v-show=\"fromAddressEdit\" class=\"cp-button-standard edit-address-button\" @click=\"editAddress(fromAddress, 'from')\">Save</button>\n          </div>\n        </div>\n        <button class=\"cp-button-standard continue-button\" @click=\"getShippoRates()\">Next</button>\n      </section>\n      <!-- STEP TWO -->\n      <!-- SELECT CARRIER AND RATE -->\n      <section class=\"shippo-step\" v-show=\"steps.two\">\n        <h3>Step Two: Choose Delivery Option</h3>\n        <table class=\"cp-table-standard shippo-table\">\n          <tr>\n            <th> </th>\n            <th>Service Level</th>\n            <th>Carrier</th>\n            <th>Transit Time</th>\n            <th>Amount</th>\n          </tr>\n          <tr v-for=\"rate in shippingRates\" >\n            <td><input class=\"shippo-select-radio\" v-bind:id=\"rate.object_id\" :name=\"rate.object_id\" type=\"radio\" :value=\"rate\" v-model=\"selectedRate\"></td>\n            <td><label :for=\"rate.object_id\"><span class=\"rate-select-name\">{{ rate.servicelevel_name }}</span></label></td>\n            <td><label :for=\"rate.object_id\"><img :src=\"rate.provider_image_75\" :alt=\"rate.provider\"></label></td>\n            <td><label :for=\"rate.object_id\">{{ rate.duration_terms }}</label></td>\n            <td><label :for=\"rate.object_id\">{{ rate.total_price | currency }}</label></td>\n          </tr>\n        </table>\n        <button class=\"cp-button-standard continue-button\" @click=\"selectRate()\">Next</button>\n      </section>\n      <!-- STEP THREE  -->\n      <!-- ENTER PAYMENT INFORMATION -->\n      <section class=\"shippo-step\" v-if=\"steps.three\">\n        <h3>Step Three: Enter Payment Information</h3>\n        <h4>Selected Delivery Option: </h4>\n        <div class=\"shipping-section\">\n          <ul class=\"shippo-adddress-show\">\n            <li><strong>Service Level: </strong> {{ selectedRate.servicelevel_name }}</li>\n            <li><strong>Provider: </strong><img :src=\"selectedRate.provider_image_75\" :alt=\"selectedRate.provider\"></li>\n            <li><strong>Transit Time: </strong>{{ selectedRate.duration_terms }}</li>\n            <li><strong>Cost: </strong>{{ selectedRate.amount | currency }}</li>\n          </ul>\n        </div>\n        <div class=\"shipping-section\">\n          <form class=\"cp-form-standard\">\n            <h4>Enter Billing Address: </h4>\n            <cp-input\n            :error=\"validationErrors['payment.address_1']\"\n            label=\"Address Line 1:\"\n            v-model=\"payment.address_1\"\n            placeholder=\"Street address, P.O. Box\"></cp-input>\n            <cp-input\n            :error=\"validationErrors['payment.address_']\"\n            label=\"Address Line 2:\"\n            v-model=\"payment.address_2\"\n            placeholder=\"Apartment, suite, building, floor\"></cp-input>\n            <cp-input\n            :error=\"validationErrors['payment.city']\"\n            label=\"City:\"\n            v-model=\"payment.city\"\n            placeholder=\"City\"></cp-input>\n              <cp-select\n               v-model=\"payment.state\"\n               :options=\"states\"\n               :key-value=\"{name: 'name', value: 'value'}\"\n               :error=\"validationErrors['payment.state']\"\n                ></cp-select>\n            <cp-input\n            :error=\"validationErrors['payment.zip']\"\n            label=\"Zip Code:\"\n            v-model=\"payment.zip\"\n            placeholder=\"Zip Code\"></cp-input>\n            <h4>Enter Payment Information: </h4>\n            <cp-input\n            :error=\"validationErrors['payment.name']\"\n            label=\"Name: \"\n            v-model=\"payment.name\"\n            placeholder=\"Name\"></cp-input>\n            <cp-input\n            :error=\"validationErrors['payment.card_number']\"\n            label=\"Card Number:\"\n            type=\"number\"\n            v-model=\"payment.card_number\"\n            placeholder=\"Card Number\"></cp-input>\n            <cp-input\n            :error=\"validationErrors['payment.security']\"\n            label=\"Security Code:\"\n            v-model=\"payment.security\"\n            placeholder=\"Security Code\"></cp-input>\n            <div class=\"expiration-dates\">\n                <cp-select\n                label=\"Expiration:\"\n                 v-model=\"payment.month\"\n                 :error=\"validationErrors['payment.month']\"\n                 :options=\"[\n                 { name: '01', value: '01' },\n                 { name: '02', value: '02' },\n                 { name: '03', value: '03' },\n                 { name: '04', value: '04' },\n                 { name: '05', value: '05' },\n                 { name: '06', value: '06' },\n                 { name: '07', value: '07' },\n                 { name: '08', value: '08' },\n                 { name: '09', value: '09' },\n                 { name: '10', value: '10' },\n                 { name: '11', value: '11' },\n                 { name: '12', value: '12' }]\"\n                 ></cp-select>\n                <cp-select\n                label=\"Year:\"\n                 v-model=\"payment.year\"\n                 :error=\"validationErrors['payment.year']\"\n                 :options=\"years\"\n                 :key-value=\"{name: 'name', value: 'name'}\"\n                 ></cp-select>\n               </div>\n          </form>\n        </div>\n        <button class=\"cp-button-standard continue-button\" @click=\"purchaseLabel()\">Purchase Label</button>\n      </section>\n      <!-- STEP FOUR  -->\n      <!-- ENTER PAYMENT INFORMATION -->\n      <section class=\"shippo-step\" v-show=\"steps.four\">\n        <h3>Step Four: Print Label</h3>\n        <div class=\"shipping-section shippo-payment-success\">\n          <h4>Your payment was successfully received!</h4>\n          <p>With the following link you may print your shipping label.</p>\n          <a :href=\"label.label_url\" target=\"_blank\" class=\"cp-button-link\">Print Label</a>\n        </div>\n        <button v-if=\"order !== null\" class=\"cp-button-standard continue-button\" @click=\"$emit('close')\">Return To Orders</button>\n      </section>\n      <button v-if=\"steps.one && order\" class=\"cp-button-standard close-button\" @click=\"$emit('close')\">Cancel</button>\n      <button v-if=\"!steps.one && !steps.four\" class=\"cp-button-standard close-button\" @click=\"setStep('previous')\">Back</button>\n    </div>\n  </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/shipping/CpShippingSettings.vue:script

sms.vComponent('assets/js/components/shipping/CpShippingSettings.vue', { name: 'CpShippingSettings', routing: { name: 'site.CpShippingSettings', meta: { title: 'Shipping Settings' }, path: 'shipping/settings', props: true } }, (require, exports, module)=>{

const Shipping = require('../../resources/shipping.js')
const Settings = require('../../resources/settings.js')
const Auth = require('auth')
const Users = require('../../resources/UserApiv0.js')

module.exports = {
  data: function () {
    return {
      id: Auth.getOwnerId(),
      Auth: Auth,
      rates: [],
      wholesaleRates: [],
      retailRates: [],
      disableDelete: false,
      shippingFulfillment: '',
      selfPickup: false,
      rateRequest: {
        ranges: []
      },
      newRate: {},
      activeShipping: 'retail',
      freeRate: false,
      errorMessages: {
        max: '',
        amount: '',
        name: ''
      }
    }
  },
  mounted: function () {
    this.getRates()
    this.getStoreSettings()
    this.getSelfPickup()
  },
  methods: {
    selectType (name) {
      switch (name) {
        case 'Retail':
          this.activeShipping = 'retail'
          this.getRates()
          break
        case 'Wholesale':
          this.getWholesaleRates()
          this.activeShipping = 'wholesale'
          break
        default:
          this.activeShipping = 'retail'
          this.getRates()
      }
    },
    getRates: function () {
      Shipping.rateRanges()
        .then((response) => {
          if (response.error) {
            this.errorMessages = response.message
            return
          }
          if (response.length <= 0) {
            this.$toast('You do not have any shipping rates set. Please define them so customers can checkout on your store.', { error: true })
          }
          this.rates = response
          this.disableDelete = false // set to prevent deletion being called before getRates returns
        })
    },
    getWholesaleRates: function () {
      Shipping.wholesaleRateRanges()
        .then((response) => {
          if (response.error) {
            this.errorMessages = response.message
            return
          }
          if (Auth.hasAnyRole('Superadmin', 'Admin')) {
            if (response.length <= 0) {
              this.$toast('You do not have any wholesale shipping rates set.', { error: true })
            }
          }
          this.rates = response
          this.disableDelete = false // set to prevent deletion being called before getRates returns
        })
    },
    getStoreSettings: function () {
      Settings.getUserStoreSettings(this.id)
        .then((response) => {
          this.shippingFulfillment = response.shipping_fulfillment_time || ''
        })
    },
    getSelfPickup: function () {
        Users.getSetting(this.Auth.getAuthPid(), 'self_pickup')
        .then((response) => {
            if (!response.error) {
                this.selfPickup = response
            }
        })
    },
    saveAllRates: function () {
      this.disableDelete = true // set to prevent deletion being called before getRates returns
      if (this.activeShipping === 'wholesale') {
        this.newRate.type = 'wholesale'
      } else {
        this.newRate.type = 'retail'
      }
      Shipping.createRateRanges(this.rateRequest)
        .then((response) => {
          if (response.error) {
            this.errorMessages = response.message
            return
          }
          if (this.activeShipping === 'wholesale') {
            this.getWholesaleRates()
          } else {
            this.getRates()
          }
          this.newRate = {}
          this.$toast('Rates saved.', { dismiss: false })
        })
    },
    addRate: function () {
      this.errorMessages = { max: '', name: '', amount: '' }
      // special client side validation rules for creating a new rate:
      if (this.newRate.max === undefined || this.newRate.max === null || this.newRate.max === '') {
        this.errorMessages.max = 'The price point field is required'
      }
      if (this.newRate.name === undefined || this.newRate.name === null || this.newRate.name === '') {
        this.errorMessages.name = 'The name field is required'
      }
      if (this.newRate.amount === undefined || this.newRate.amount === null || this.newRate.amount === '') {
        this.errorMessages.amount = 'The amount field is required'
      }
      if (this.newRate.type === undefined || this.newRate.type === null || this.newRate.type === '') {
        this.newRate.type = 'retail'
      }

      if (this.errorMessages.max === '' && this.errorMessages.name === '' && this.errorMessages.amount === '') {
        this.rateRequest.ranges = JSON.parse(JSON.stringify(this.rates))
        this.rateRequest.ranges.push(this.newRate)
        this.saveAllRates()
      }
    },
    saveFulfillmentTime: function () {
      var request = {
        key: 'shipping_fulfillment_time',
        value: this.shippingFulfillment
      }
      Settings.saveStoreSetting(request)
      .then((response) => {
        if (!response.error) {
          this.fulfillmentResponse = response
          this.$toast('Fulfillment time updated')
        }
      })
    },
    saveSelfPickup: function () {
        Users.saveSettings(this.Auth.getAuthPid(), {self_pickup: this.selfPickup})
        .then((response) => {
            if (!response.error) {
                this.selfPickup = response.self_pickup
                this.$toast('Self Pickup Setting Saved')
            }
        })
    },
    setFreeRate () {
      if (!this.freeRate) {
        this.newRate.amount = 0
        this.freeRate = true
      } else {
        this.freeRate = false
      }
    },
    deleteRate: function (index) {
      if (!this.disableDelete) { // set to prevent deletion being called before getRates returns
        this.rates.splice(index, 1)
        this.rateRequest.ranges = this.rates
        this.saveAllRates()
      }
    }
  },
  computed: {
    charactersLeft: function () {
      var char = this.shippingFulfillment.length
      var limit = 50
      return (limit - char) + ' / ' + limit + ' characters remaining'
    }
  },
  components: {
    'CpAddressBox': require('../addresses/CpAddressBox.vue'),
    CpTabs: require('../../cp-components-common/navigation/CpTabs.vue')

  }
}

;module.exports.template = "\n    <div class=\"shipping-rate-wrapper\">\n        <section class=\"shipping-info\">\n            <div class=\"left-box\">\n                <h3>Shipping Origin</h3>\n                <p>\n                    The default address used to calculate shipping rates.\n                </p>\n                <h3>Create Shipping Rates</h3>\n                <p>\n                    Here you can add new shipping rates to define your fulfillment costs. Create shipping rates based on price.\n                </p>\n            </div>\n            <div class=\"right-box cp-form-standard\">\n                <cp-address-box\n                    :address-label=\"'Business'\"\n                    :addressable-type=\"'App\\\\Models\\\\User'\"\n                    :heading-title=\"'Default Shipping Origin Address'\">\n                </cp-address-box>\n            </div>\n        </section>\n        <section class=\"fulfillment-wrapper\">\n            <div class=\"cp-box-standard left-box\">\n                <div class=\"cp-box-heading\">\n                    <h5>Shipping Fulfillment Time</h5>\n                    <button type=\"button\" name=\"button\" class=\"cp-box-heading-button save\" @click=\"saveFulfillmentTime()\"><i class=\"mdi mdi-floppy\"></i></button>\n                </div>\n                <div class=\"cp-box-body\">\n                    <div class=\"box-one\">\n                        <label>Timeframe to fulfill orders: </label>\n                        <input class=\"fulfillment\" type=\"text\" maxlength=\"50\" v-model=\"shippingFulfillment\">\n                        <div>\n                            <small>{{charactersLeft}}</small>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"cp-box-standard right-box\" v-if=\"$getGlobal('self_pickup_reseller').show && Auth.hasAnyRole('Rep') && Auth.getClaims().sellerType == 'Reseller'\">\n                <div class=\"cp-box-heading\">\n                    <h5>Self Pickup</h5>\n                    <button type=\"button\" name=\"button\" class=\"cp-box-heading-button save\" @click=\"saveSelfPickup()\"><i class=\"mdi mdi-floppy\"></i></button>\n                </div>\n                <div class=\"cp-box-body\">\n                    <div class=\"line-wrapper\"> \n                        <label>Allow Customers to Self Pickup:</label>\n                        <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"selfPickup\">\n                    </div>\n                </div>\n            </div>\n        </section>\n        <div class=\"cp-box-standard\">\n            <div class=\"cp-box-heading\">\n                <h5>Shipping Rate Based on Price</h5>\n                <button type=\"button\" name=\"button\" class=\"cp-box-heading-button save\" @click=\"addRate()\"><i class=\"mdi mdi-floppy\"></i></button>\n            </div>\n            <div class=\"cp-box-body\">\n                <div class=\"cp-form-standard shipping-rate-form\">\n                    <div class=\"rate-name\">\n                        <div class=\"box-one\">\n                            <label>Name of Rate: </label>\n                            <input :class=\"{ error: errorMessages.name }\" type=\"text\" v-model=\"newRate.name\" placeholder=\"Standard Shipping\">\n                            <span v-show=\"errorMessages.name\" class=\"cp-warning-message\">{{ errorMessages.name }}</span>\n                        </div>\n                        <div class=\"box-one\">\n                            <br />\n                            <input type=\"checkbox\" @click=\"setFreeRate()\"><label>Indicate as a free shipping rate</label>\n                        </div>\n                    </div>\n                    <div class=\"rate-point\">\n                        <div class=\"box-one\">\n                            <label>Price Point:</label>\n                            <input :class=\"{ error: errorMessages.max }\" class=\"max-rate\" type=\"number\" v-model=\"newRate.max\" placeholder=\"$50.00\">\n                            <span v-show=\"errorMessages.max\" class=\"cp-warning-message\">{{ errorMessages.max }}</span>\n                        </div>\n                        <div class=\"box-two\">\n                            <label>Shipping Rate: </label>\n                            <input :class=\"{ error: errorMessages.amount }\" class=\"ship-rate\" type=\"number\" v-model=\"newRate.amount\" placeholder=\"$5.00\">\n                            <span v-show=\"errorMessages.amount\" class=\"cp-warning-message\">{{ errorMessages.amount }}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <cp-tabs v-if=\"Auth.hasAnyRole('Superadmin', 'Admin')\"\n           :items=\"[\n             { name: 'Retail', active: true },\n             { name: 'Wholesale', active: false },\n           ]\"\n           :callback=\"selectType\"></cp-tabs>\n            <table class=\"cp-table-standard shipping-table-price-rate\">\n                <thead>\n                    <th>Name</th>\n                    <th>Price Range</th>\n                    <th>Rate Amount</th>\n                    <th><!-- DELETE --></th>\n                </thead>\n                <tbody>\n                    <tr v-for=\"(rate, index) in rates\">\n                        <td>{{ rate.name }}</td>\n                        <td v-if=\"rate.max\">{{ rate.min | currency }}<i> <span>-</span></i> {{ rate.max | currency }}</td>\n                        <td v-else>{{ rate.min | currency }} <span><i class=\"mdi mdi-plus max-rate\"></i></span></td>\n                        <td>{{ rate.amount | currency  }}</td>\n                        <td><i v-if=\"rates.length > 1\"class=\"mdi mdi-close pointer\" @click=\"deleteRate(index)\"></i></td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/store-builder/CpAboutMeBuilder.vue:script


      sms.vComponent('assets/js/components/store-builder/CpAboutMeBuilder.vue', {"name":"CpAboutMeBuilder","path":"assets/js/components/store-builder/CpAboutMeBuilder.vue"}, (require,exports,module)=>{
        
const Settings = require('../../resources/settings.js')

module.exports = {
  props: {
    storeSettingsProp: {
      type: Object,
      required: true
    }
  },
  data () {
    return {
      loading: false,
      aboutMe: null,
    }
  },
  created () {
    this.aboutMe = JSON.parse(this.storeSettingsProp.settings.about_me)
  },
  methods: {
    save () {
      this.loading = true
      var request = { key: 'about_me', value: JSON.stringify(this.aboutMe) }
      Settings.saveStoreSetting(request)
          .then((response) => {
            this.loading = false
            if (response.error) {
              return this.$toast(response.message, {error: true})
            }
            this.aboutMe = JSON.parse(response.value)
          })
    },
    saveImage (value, key) {
      this.aboutMe.image_url = value
    },
  },
}
;
        module.exports.template = "\n  <div class=\"branding-wrapper\">\n    <div class=\"cp-accordion\">\n      <div class=\"cp-accordion-head black-header\">\n        <h5>About Me</h5>\n      </div>\n      <div class=\"cp-accordion-body\">\n        <div class=\"cp-accordion-body-wrapper\">\n          <div class=\"cp-left-col\">\n            <div>\n              <cp-image-upload\n                title=\"Image\"\n                tooltip=\"Please select your desired image and upload it below. You can drag a file directly into the area or click to allow you to find the image on your device. For best results, we recommend an image size of at least 670 x 450 pixels.\"\n                :current-image=\"aboutMe.image_url\"\n                api_src=\"/api/v1/media/process\"\n                file_type=\".jpg, .jpeg, .png, .gif\"\n                drop-zone-id=\"about_me_image\"\n                @new-media=\"saveImage\"></cp-image-upload>\n            </div>\n          </div>\n          <div class=\"cp-right-col\">\n            <div class=\"line-wrapper\">\n              <label>Title</label>\n              <input class=\"input-class\" type=\"text\" v-model=\"aboutMe.title\">\n            </div>\n            <div class=\"line-wrapper\">\n              <label>Body<cp-tooltip :options=\"{ content: 'Tell your customers about yourself'}\"></cp-tooltip></label>\n            </div>\n            <textarea class=\"textarea\" rows=\"5\" cols=\"40\" v-model=\"aboutMe.body\"></textarea>\n            <div class=\"line-wrapper\">\n              <label>Facebook Link</label>\n              <input class=\"input-class\" type=\"url\" v-model=\"aboutMe.facebook_url\">\n            </div>\n            <div class=\"line-wrapper\">\n              <label>Instagram Link</label>\n              <input class=\"input-class\" type=\"url\" v-model=\"aboutMe.instagram_url\">\n            </div>\n          </div>\n          <div class=\"save-settings-button\">\n            <input class=\"cp-button-standard\" type=\"button\" :disabled=\"loading\" @click=\"save()\" value=\"Save\">\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/store-builder/CpMyStoryBuilder.vue:script


      sms.vComponent('assets/js/components/store-builder/CpMyStoryBuilder.vue', {"name":"CpMyStoryBuilder","path":"assets/js/components/store-builder/CpMyStoryBuilder.vue"}, (require,exports,module)=>{
        
const Settings = require('../../resources/settings.js')
const _ = require('lodash')

module.exports = {
  data: function () {
    return {
      showImageModal: false,
      settingKey: null,
      updatedValue: '',
      loading: false,
      selectedCropSize: {
        viewport: { width: 625, height: 938 },
        boundary: { width: 750, height: 1125 }
      },
      gridCropSize: {
        boundary: { width: 857, height: 600 },
        viewport: { width: 750, height: 500 }
      }
    }
  },
  props: {
    settings: {
      type: Object,
      required: true
    }
  },
  methods: {
    handleSelection: function (key, media) {
      var url = media.url_md
      // determine image size to store with what setting
      if (key === 'story_profile_image' && media.url_lg !== undefined) {
        url = media.url_lg
      }
      // save the setting
      this.saveSetting(key, url)
    },
    saveSetting: _.debounce(function (key, value) {
      var request = { key: key, value: value }
      Settings.saveStoreSetting(request)
        .then((response) => {
          if (response.error) {
            this.$toast(response.message, {error: true})
          }
          this.settings[request.key] = response.value
        })
    }, 850),
    changeImage: function (key, cropSize) {
      window.scroll(0, 0)
      this.showImageModal = true
      this.settingKey = key
      this.selectedCropSize = cropSize
      this.$emit('drop')
    }
  },
  components: {
    'CpMediaUploadModal': require('../media/CpMediaUploadModal.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"about-me-wrapper\">\n        <div class=\"my-story\">\n            <span>MY STORY</span>\n        </div>\n        <div class=\"images-wrapper\">\n            <div class=\"cp-left-col main-img\">\n                <img class=\"main-img pointer\" :src=\"settings.story_profile_image\" alt=\"profile\" @click=\"changeImage('story_profile_image', { viewport: { width: 625, height: 938 }, boundary: { width: 750, height: 1125 } })\"/>\n                <div class=\"main-mobile-view\">\n                    <p><input class=\"story-input-header\" type=\"text\" v-model=\"settings.story_title\" @keyup=\"saveSetting('story_title', settings.story_title)\"></p>\n                    <p><textarea name=\"name\" rows=\"4\" cols=\"110\" v-model=\"settings.story_intro\" @keyup=\"saveSetting('story_intro', settings.story_intro)\">{{ settings.story_intro }}</textarea></p>\n                </div>\n            </div>\n            <div class=\"cp-left-col grid\">\n                <div class=\"grid-img-wrapper\">\n                    <div class=\"mobile-grid\">\n                        <div class=\"grid-item top\">\n                             <img class=\"img-grid pointer\" :src=\"settings.story_grid_image_1\" :alt=\"settings.story_heading_1\" @click=\"changeImage('story_grid_image_1', gridCropSize)\"/>\n                            <h5><input class=\"story-input-image-text\" type=\"text\" v-model=\"settings.story_heading_1\" @keyup=\"saveSetting('story_heading_1', settings.story_heading_1)\" maxlength=\"15\"></h5>\n                         </div>\n                        <div class=\"mobile-view\">\n                            <p><input class=\"story-input-header\" type=\"text\" v-model=\"settings.story_heading_1\" @keyup=\"saveSetting('story_heading_1', settings.story_heading_1)\"></p>\n                            <p><textarea name=\"name\" rows=\"4\" cols=\"110\" v-model=\"settings.story_text_1\" @keyup=\"saveSetting('story_text_1', settings.story_text_1)\">{{ settings.story_text_1 }}</textarea></p>\n                        </div>\n                     </div>\n                     <div class=\"mobile-grid\">\n                         <div class=\"grid-item top\">\n                             <img class=\"img-grid pointer\" :src=\"settings.story_grid_image_2\" :alt=\"settings.story_heading_2\" @click=\"changeImage('story_grid_image_2', gridCropSize)\"/>\n                            <h5><input class=\"story-input-image-text\" type=\"text\" v-model=\"settings.story_heading_2\" @keyup=\"saveSetting('story_heading_2', settings.story_heading_2)\" maxlength=\"15\"></h5>\n                         </div>\n                            <div class=\"mobile-view\">\n                                <p><input class=\"story-input-header\" type=\"text\" v-model=\"settings.story_heading_2\" @keyup=\"saveSetting('story_heading_2', settings.story_heading_2)\"></p>\n                                <p><textarea name=\"name\" rows=\"4\" cols=\"110\" v-model=\"settings.story_text_2\" @keyup=\"saveSetting('story_text_2', settings.story_text_2)\" maxlength=\"15\">{{ settings.story_text_2 }}</textarea></p>\n                            </div>\n                    </div>\n                    <div class=\"mobile-grid\">\n                         <div class=\"grid-item\">\n                             <img class=\"img-grid pointer\" :src=\"settings.story_grid_image_3\" :alt=\"settings.story_heading_3\" @click=\"changeImage('story_grid_image_3', gridCropSize)\"/>\n                            <h5><input class=\"story-input-image-text\" type=\"text\" v-model=\"settings.story_heading_3\" @keyup=\"saveSetting('story_heading_3', settings.story_heading_3)\" maxlength=\"15\"></h5>\n                        </div>\n                        <div class=\"mobile-view\">\n                            <p><input class=\"story-input-header\" type=\"text\" v-model=\"settings.story_heading_3\" @keyup=\"saveSetting('story_heading_3', settings.story_heading_3)\" maxlength=\"15\"></p>\n                            <p><textarea name=\"name\" rows=\"4\" cols=\"110\" v-model=\"settings.story_text_3\" @keyup=\"saveSetting('story_text_3', settings.story_text_3)\">{{ settings.story_text_3 }}</textarea></p>\n                        </div>\n                    </div>\n                    <div class=\"mobile-grid\">\n                         <div class=\"grid-item\">\n                             <img class=\"img-grid pointer\" :src=\"settings.story_grid_image_4\" :alt=\"settings.story_heading_4\" @click=\"changeImage('story_grid_image_4', gridCropSize)\"/>\n                            <h5><input class=\"story-input-image-text\" type=\"text\" v-model=\"settings.story_heading_4\" @keyup=\"saveSetting('story_heading_4', settings.story_heading_4)\" maxlength=\"15\"></h5>\n                        </div>\n                        <div class=\"mobile-view\">\n                            <p><input class=\"story-input-header\" type=\"text\" v-model=\"settings.story_heading_4\" @keyup=\"saveSetting('story_heading_4', settings.story_heading_4)\"></p>\n                            <p><textarea name=\"name\" rows=\"4\" cols=\"110\" v-model=\"settings.story_text_4\" @keyup=\"saveSetting('story_text_4', settings.story_text_4)\" >{{ settings.story_text_4 }}</textarea></p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"life-wrapper\">\n            <div class=\"desktop-view\">\n                <span><input class=\"story-input-header\" type=\"text\" v-model=\"settings.story_title\" @keyup=\"saveSetting('story_title', settings.story_title)\" maxlength=\"15\"></span>\n                <p><textarea name=\"name\" rows=\"4\" cols=\"80\" v-model=\"settings.story_intro\" @keyup=\"saveSetting('story_intro', settings.story_intro)\">{{ settings.story_intro }}</textarea></p>\n            </div>\n            <div class=\"desktop-view\">\n                <span><input class=\"story-input-header\" type=\"text\" v-model=\"settings.story_heading_1\" @keyup=\"saveSetting('story_heading_1', settings.story_heading_1)\" maxlength=\"15\"></span>\n                <p><textarea name=\"name\" rows=\"4\" cols=\"80\" v-model=\"settings.story_text_1\" @keyup=\"saveSetting('story_text_1', settings.story_text_1)\">{{ settings.story_text_1 }}</textarea></p>\n            </div>\n            <div class=\"desktop-view\">\n                <span><input class=\"story-input-header\" type=\"text\" v-model=\"settings.story_heading_2\" @keyup=\"saveSetting('story_heading_2', settings.story_heading_2)\" maxlength=\"15\"></span>\n                <p><textarea name=\"name\" rows=\"4\" cols=\"80\" v-model=\"settings.story_text_2\" @keyup=\"saveSetting('story_text_2', settings.story_text_2)\">{{ settings.story_text_2 }}</textarea></p>\n            </div>\n            <div class=\"desktop-view\">\n                <span><input class=\"story-input-header\" type=\"text\" v-model=\"settings.story_heading_3\" @keyup=\"saveSetting('story_heading_3', settings.story_heading_3)\" maxlength=\"15\"></span>\n                <p><textarea name=\"name\" rows=\"4\" cols=\"80\" v-model=\"settings.story_text_3\" @keyup=\"saveSetting('story_text_3', settings.story_text_3)\">{{ settings.story_text_3 }}</textarea></p>\n            </div>\n            <div class=\"desktop-view\">\n                <span><input class=\"story-input-header\" type=\"text\" v-model=\"settings.story_heading_4\" @keyup=\"saveSetting('story_heading_4', settings.story_heading_4)\" maxlength=\"15\"></span>\n                <p><textarea name=\"name\" rows=\"4\" cols=\"80\" v-model=\"settings.story_text_4\" @keyup=\"saveSetting('story_text_4', settings.story_text_4)\" >{{ settings.story_text_4 }}</textarea></p>\n            </div>\n        </div>\n        <transition name=\"modal\">\n          <section class=\"cp-modal-standard\" v-show=\"showImageModal\">\n                  <div class=\"cp-modal-body upload\">\n                      <cp-media-upload-modal\n                      :show-modal=\"showImageModal\"\n                      @show-modal=\"val => showImageModal = val\"\n                      :setting-key=\"settingKey\"\n                      :handle-selection=\"handleSelection\"\n                      :crop-size=\"selectedCropSize\"></cp-media-upload-modal>\n                  </div>\n          </section>\n      </transition>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/store-builder/store-builder.vue:script

sms.vComponent('assets/js/components/store-builder/store-builder.vue', { name: 'CpStoreBuilder', routing: { name: 'site.CpStoreBuilder', meta: { title: 'Store Builder' }, path: 'store-builder', props: true } }, (require, exports, module)=>{

const Settings = require('../../resources/settings.js')
const Auth = require('auth')

module.exports = {
  data: function () {
    return {
      settings: {},
      store: {},
      bannerimages:[],
      app_url: window.location.host,
      Auth: Auth,
      loading: false,
      repUrl: ''
    }
  },
  mounted: function () {
    this.getStoreSettings()
  },
  methods: {
    getStoreSettings: function () {
      this.loading = true
      Settings.getStoreSettings()
        .then((response) => {
          this.loading = false
          if (response.error) {
            this.$toast(response.message, {error: true})
            return
          }
          this.store = response
          this.settings = response.settings
          if (this.store.settings.show_store_banner === '0') {
            this.store.settings.show_store_banner = false
          } else {
            this.store.settings.show_store_banner = true
          }
          if (this.store.settings.show_banner_image_1 === '0') {
            this.store.settings.show_banner_image_1 = false
          } else {
            this.bannerimages.push({value:this.store.settings.show_banner_image_1,possition: 1});
            this.store.settings.show_banner_image_1 = true
          }
          if (this.store.settings.show_banner_image_2 === '0') {
            this.store.settings.show_banner_image_2 = false
          } else {
            this.bannerimages.push({value:this.store.settings.show_banner_image_2,possition: 2});
            this.store.settings.show_banner_image_2 = true
          }
          if (this.store.settings.show_banner_image_3 === '0') {
            this.store.settings.show_banner_image_3 = false
          } else {
            this.bannerimages.push({value:this.store.settings.show_banner_image_3,possition: 3});
            this.store.settings.show_banner_image_3 = true
          }
          this.repUrl = 'http://' + response.rep.public_id + '.' + this.app_url
          this.repUrl = this.$getGlobal('rep_url').value.replace('%s', response.rep.public_id)
        })
    }
  },
  components: {
    'CpStorefrontBuilder': require('./CpStorefrontBuilder.vue'),
    'CpAboutMeBuilder': require('./CpAboutMeBuilder.vue')
  }
}

;module.exports.template = "\n  <div class=\"store-builder-wrapper\">\n    <div class=\"builder-content\" v-if=\"store.settings\">\n      <section class=\"builder-selected-page\">\n        <a v-if=\"Auth.hasAnyRole('Rep')\" target=\"_blank\" :href=\"`${repUrl}/store`\" no-vue-route class=\"cp-button-link\">View Your Page</a>\n        <a v-else href=\"/store\" no-vue-route class=\"cp-button-link\">View Your Page</a>\n      </section>\n      <section class=\"store-builder-pages\" v-if=\"!loading\">\n        <cp-storefront-builder :store=\"store\" :bannerimages=\"bannerimages\"></cp-storefront-builder>\n      </section>\n      <section v-if=\"Auth.hasAnyRole('Rep') && $getGlobal('about_rep').show\" class=\"settings-wrapper\">\n        <cp-about-me-builder :storeSettingsProp=\"store\"></cp-about-me-builder>\n      </section>\n    </div>\n    <div class=\"align-center\">\n      <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-show=\"loading\">\n    </div>\n  </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/store/CpBundleItems.vue:script


      sms.vComponent('assets/js/components/store/CpBundleItems.vue', {"name":"CpBundleItems","path":"assets/js/components/store/CpBundleItems.vue"}, (require,exports,module)=>{
        
const Inventory = require('../../resources/InventoryAPIv0.js')
const Checkout = require('../../resources/CheckoutAPIv0.js')
const CartUtility = require('../../libraries/CartUtility.js')
const _ = require('lodash')

module.exports = {
  data () {
    return {
      variants: null,
      itemMap: {},
      loading: true,
      itemValidationError: {},
      packQuantity: null
    }
  },
  props: ['bundle', 'cartType'],
  created () {
    this.bundle.items.forEach(i => this.itemMap[i.id] = i.quantity)
    this.getVariants()
  },
  methods: {
    getVariants () {
      this.loading = true
      let params = {
        item_ids: [],
        expands: ['product']
      }
      this.bundle.items.forEach(i => params.item_ids.push(i.id))
      Inventory.getVariants(params)
        .then((response) => {
          this.loading = false
          if (!response.error) {
            this.variants = response.data
          } else {
            // TODO notify error
          }
        })
    },
    getDisplayName (variant) {
      if (!variant.product) {
        return variant.name
      } else if (this.$isBlank(variant.name) || variant.name == variant.product.name) {
        return variant.product.name
      } else {
        return variant.product.name + '-' + variant.name
      }
    },
    addToCart (bundleId, quantity) {
      let pid = null
      let bundle = [{
        'bundle_id': bundleId,
        'quantity': parseInt(quantity)
      }]
      CartUtility.getCartPid(this.cartType).then(res => {
        pid = res

        Checkout.patchCartLines(bundle, pid).then(response => {
          this.addingToCart = false
          if (response.error && response.code === 422) {
            this.itemValidationError = response.message
          }
          if (!response.error) {
            this.$emit('added-to-cart', true)
            this.$toast('Successfully added items to cart', {dismiss: true})
          }
        }).catch(err => {
          console.error(err)
          this.addingToCart = false
        })
      }).catch(err => {
        console.error(new Error(err.message))
        this.addingToCart = false
      })
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue')
  }
}
;
        module.exports.template = "\n  <div v-if=\"variants\" class=\"wholesale-product-wrapper\">\n    <div v-for=\"variant in variants\">\n      <h4>{{ getDisplayName(variant) }}</h4>\n      <table v-if=\"!loading\" class=\"item-table\">\n        <tr>\n          <td>Size: </td>\n          <td  v-for=\"(item, index) in variant.items\">{{ item.option }}</td>\n        </tr>\n        <tr>\n          <td>Quantity: </td>\n          <td  v-for=\"(item, index) in variant.items\">{{ (itemMap[item.id] ? itemMap[item.id] : 0) }}</td>\n        </tr>\n      </table>\n    </div>\n    <img v-if=\"loading\" class=\"loading\" :src=\"$getGlobal('loading_icon').value\">\n    <cp-input\n      label=\"Quantity: \"\n      type=\"number\"\n      v-model=\"packQuantity\"\n      :error=\"itemValidationError[bundle.id]\"></cp-input>\n    <button\n      v-if=\"!loading\"\n      class=\"cp-button-standard add-to-cart\"\n      @click=\"addToCart(bundle.id, packQuantity)\">Add To Cart</button>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/store-builder/CpStorefrontBuilder.vue:script


      sms.vComponent('assets/js/components/store-builder/CpStorefrontBuilder.vue', {"name":"CpStorefrontBuilder","path":"assets/js/components/store-builder/CpStorefrontBuilder.vue"}, (require,exports,module)=>{
        
const Settings = require('../../resources/settings.js')
const Auth = require('auth')
const _ = require('lodash')

module.exports = {
  data: function () {
    return {
      validationErrors: {},
      Auth: Auth,
      selectedCategory: [],
      showImageModal: false,
      settingKey: null,
      selectedCropSize: {
        viewport: { width: 625, height: 938 },
        boundary: { width: 750, height: 1125 }
      },
      mainImageCropSize: {
        viewport: { width: 894, height: 600 },
        boundary: { width: 1043, height: 700 }
      },
      sideImageCropSize: {
        viewport: { width: 1121, height: 600 },
        boundary: { width: 1307, height: 700 }
      }
    }
  },
  props: {
    store: {
      type: Object,
      required: true
    },
     bannerimages : {
            type: Array,
            required: false
     }
  },
  methods: {
    saveImage (value, key) {
      this.saveSetting(key, value)
    },
    saveCategoryCaption: _.debounce(function (categoryId, caption) {
      var request = { id: categoryId, header: caption }
      Settings.saveCategoryCaption(request)
          .then((response) => {
            if (response.error) {
              this.$toast(response.message, {error: true})
            }
            return response
          })
    }, 850),
    saveSetting: _.debounce(function (key, value) {
      var request = { key: key, value: value }
      Settings.saveStoreSetting(request)
          .then((response) => {
            if (response.error) {
              return this.$toast(response.message, {error: true})
            }
            this.store.settings[request.key] = response.value
          })

          "use strict"

        jQuery(function($) {
          var slideCache = [];
          var sliderInterval = 0;
          var i = 0;
          var markup = "";
          
          $(".slider_container img").each(function(index) {
            // preload images
            slideCache[index] = new Image();
            slideCache[index].src = $(this).attr("src");
            
            // create image navigation buttons
            if(i < 1) {
              markup += $(".buttons").append("<span class=\"slide_counter_" + i + " current_slide_counter\"></span>");
            }
            else {
              markup += $(".buttons").append("<span class=\"slide_counter_" + i + "\"></span>");
            }
            
            i++;
          });
  
      function changeImage(currentSlide, stopSliderInterval, direction, button) {
        if(currentSlide.length > 0) {
          var currentPosition = 0;
          var newPosition = 0;
          var newSlide = {};
          var fadeOut = {};
          
          // stop slide interval
          if(stopSliderInterval) {
            clearInterval(sliderInterval);
          }
          
          // get current slide position
          currentPosition = currentSlide.index() + 1;
          
          if(direction == 'prev') {
            if(currentSlide.prev().length > 0) {
              newSlide = currentSlide.prev();
              newPosition = currentPosition - 1;
            }
            else {
              newSlide = currentSlide.parent('ul').children('li').last();
              newPosition = newSlide.index() + 1;
            }
          }
          else if(direction == "next") {
            if(currentSlide.next().length > 0) {
              newSlide = currentSlide.next();
              newPosition = currentPosition + 1;
            }
            else {
              newSlide = $(".slider_container li").first();
              newPosition = 1;
            }
          }
          else if(direction == "button") {
            newPosition = button.index() + 1;
            newSlide = $(".slider_container li:nth-of-type(" + newPosition + ")");
          }
          
          fadeOut = currentSlide.fadeOut(1000).promise().done(function() {
            currentSlide.removeClass("current_slide");
            newSlide.addClass("current_slide");
            newSlide.fadeIn(1000);
            $(".current_slide_counter").removeClass("current_slide_counter");
            $(".buttons span:nth-of-type(" + currentPosition + ")").removeClass("current_slide_counter");
            $(".buttons span:nth-of-type(" + newPosition + ")").addClass("current_slide_counter");
          });
        }
        else {
          return false;
        }
      }
      
      function slider() {
        changeImage($(".current_slide"), false, "next");
      }
  
    // set interval
    sliderInterval = setInterval(slider, 5000);
    
    // when the next slide button is clicked change image and stop slide interval
    $(".next_slide").click(function() {
      // cancel all queued slider animations
      $('.slider_container li').finish();
      
      // switch pause button with play button
      $(".play_pause i").removeClass("fa-pause").addClass("fa-play");
      
      // change image
      changeImage($(".current_slide"), true, "next");
    });
    
    // when the previous slide button is clicked change image and stop slide interval
    $(".prev_slide").click(function() {
      // cancel all queued slider animations
      $('.slider_container li').finish();
      
      // switch pause button with play button
      $(".play_pause i").removeClass("fa-pause").addClass("fa-play");
      
      
    // change image
    changeImage($(".current_slide"), true, "prev");
  });
  
  // when circle button is clicked
  $(".buttons").on('click', "span", function() {
    // cancel all queued slider animations
    $('.slider_container li').finish();
    
    // switch pause button with play button
    $(".play_pause i").removeClass("fa-pause").addClass("fa-play");
    
    // change image
    changeImage($(".current_slide"), true, "button", $(this));
  });
  
  $(".play_pause i").click(function() {
    if($(this).hasClass("fa-pause")) {
      clearInterval(sliderInterval);
      $(this).removeClass('fa-pause').addClass('fa-play');
    }
    else {
      sliderInterval = setInterval(slider, 5000);
      $(this).removeClass('fa-play').addClass('fa-pause');
    }
  });
});
    }, 850),
    handleSelection: function (key, media) {
      var url = media.url_md
      // determine image size to store with what setting
      if (key === 'banner_image_1' && media.url_lg !== undefined) {
        url = media.url_lg
      }
      // save the setting
      this.saveSetting(key, url)
    },
    changeImage: function (key, cropSize) {
      this.showImageModal = true
      window.scrollTo(0, 0)
      this.settingKey = key
      this.selectedCropSize = cropSize
    }
  },
  components: {
    CpImageUpload: require('../../cp-components-common/images/CpImageUpload.vue')
  },
   mounted () {
   "use strict"

jQuery(function($) {
  var slideCache = [];
  var sliderInterval = 0;
  var i = 0;
  var markup = "";
  
  $(".slider_container img").each(function(index) {
    // preload images
    slideCache[index] = new Image();
    slideCache[index].src = $(this).attr("src");
    
    // create image navigation buttons
    if(i < 1) {
      markup += $(".buttons").append("<span class=\"slide_counter_" + i + " current_slide_counter\"></span>");
    }
    else {
      markup += $(".buttons").append("<span class=\"slide_counter_" + i + "\"></span>");
    }
    
    i++;
  });
  
  function changeImage(currentSlide, stopSliderInterval, direction, button) {
    if(currentSlide.length > 0) {
      var currentPosition = 0;
      var newPosition = 0;
      var newSlide = {};
      var fadeOut = {};
      
      // stop slide interval
      if(stopSliderInterval) {
        clearInterval(sliderInterval);
      }
      
      // get current slide position
      currentPosition = currentSlide.index() + 1;
      
      if(direction == 'prev') {
        if(currentSlide.prev().length > 0) {
          newSlide = currentSlide.prev();
          newPosition = currentPosition - 1;
        }
        else {
          newSlide = currentSlide.parent('ul').children('li').last();
          newPosition = newSlide.index() + 1;
        }
      }
      else if(direction == "next") {
        if(currentSlide.next().length > 0) {
          newSlide = currentSlide.next();
          newPosition = currentPosition + 1;
        }
        else {
          newSlide = $(".slider_container li").first();
          newPosition = 1;
        }
      }
      else if(direction == "button") {
        newPosition = button.index() + 1;
        newSlide = $(".slider_container li:nth-of-type(" + newPosition + ")");
      }
      
      fadeOut = currentSlide.fadeOut(1000).promise().done(function() {
        currentSlide.removeClass("current_slide");
        newSlide.addClass("current_slide");
        newSlide.fadeIn(1000);
        $(".current_slide_counter").removeClass("current_slide_counter");
        $(".buttons span:nth-of-type(" + currentPosition + ")").removeClass("current_slide_counter");
        $(".buttons span:nth-of-type(" + newPosition + ")").addClass("current_slide_counter");
      });
    }
    else {
      return false;
    }
  }
  
  function slider() {
    changeImage($(".current_slide"), false, "next");
  }
  
  // set interval
  sliderInterval = setInterval(slider, 5000);
  
  // when the next slide button is clicked change image and stop slide interval
  $(".next_slide").click(function() {
    // cancel all queued slider animations
    $('.slider_container li').finish();
    
    // switch pause button with play button
    $(".play_pause i").removeClass("fa-pause").addClass("fa-play");
    
    // change image
    changeImage($(".current_slide"), true, "next");
  });
  
  // when the previous slide button is clicked change image and stop slide interval
  $(".prev_slide").click(function() {
    // cancel all queued slider animations
    $('.slider_container li').finish();
    
    // switch pause button with play button
    $(".play_pause i").removeClass("fa-pause").addClass("fa-play");
    
    
    // change image
    changeImage($(".current_slide"), true, "prev");
  });
  
  // when circle button is clicked
  $(".buttons").on('click', "span", function() {
    // cancel all queued slider animations
    $('.slider_container li').finish();
    
    // switch pause button with play button
    $(".play_pause i").removeClass("fa-pause").addClass("fa-play");
    
    // change image
    changeImage($(".current_slide"), true, "button", $(this));
  });
  
  $(".play_pause i").click(function() {
    if($(this).hasClass("fa-pause")) {
      clearInterval(sliderInterval);
      $(this).removeClass('fa-pause').addClass('fa-play');
    }
    else {
      sliderInterval = setInterval(slider, 5000);
      $(this).removeClass('fa-play').addClass('fa-pause');
    }
  });
});
   }
}
;
        module.exports.template = "\n\n  <div class=\"storefront-builder-wrapper\">\n    <div class=\"toggle\">\n      <label>Show Store Banner</label>\n      <input type=\"checkbox\" class=\"toggle-switch\" v-model=\"store.settings.show_store_banner\"  @change=\"saveSetting('show_store_banner', store.settings.show_store_banner)\">\n    </div>\n      <!-- STORE OWNER AND SLOGAN SECTION -->\n      <section class=\"rep-name-title\" v-if=\"Auth.hasAnyRole('Rep')\">\n          <div class=\"slogan\">\n            <h1 v-if=\"store.rep.role_id === 5\"><input type=\"text\" class=\"store-input-display-name\" v-model=\"store.settings.display_name\" @change=\"saveSetting('display_name', store.settings.display_name) \"></h1>\n             <h1 v-else>{{ $getGlobal('company_name').value }}</h1>\n              <p><input type=\"text\" class=\"store-input-slogan\" v-model=\"store.settings.store_slogan\" @change=\"saveSetting('store_slogan', store.settings.store_slogan) \"></p>\n          </div>\n      </section>\n      <!-- STORE BANNER SECTION-->\n      <div id=\"container\">\n        <div class=\"slider_container\">\n          <ul>\n            <li v-for=\"(item, index) in bannerimages\" class=\"current_slide\">\n              <p>position {{item.possition}}</p>\n            </li>\n          </ul>\n          <span class=\"prev_slide\"><i class=\"fa fa-angle-left\" aria-hidden=\"true\"></i></span>\n          <span class=\"next_slide\"><i class=\"fa fa-angle-right\" aria-hidden=\"true\"></i></span>\n        <div class=\"buttons\">\n        </div>\n        <span class=\"play_pause\"><i class=\"fa fa-pause\"></i></span>\n      </div>\n    </div>\n    <!-- PHOTO UPLOAD -->\n    <div class=\"toggle\">\n      <label>Show Possition 1</label>\n      <input type=\"checkbox\" class=\"toggle-switch\" v-model=\"store.settings.show_banner_image_1\"  @change=\"saveSetting('show_banner_image_1', store.settings.show_banner_image_1)\">\n    </div>\n    <cp-image-upload\n      title=\"Image for position 1\"\n      tooltip=\"Please select your desired image and upload it below. You can drag a file directly into the area or click to allow you to find the image on your device. For best results, we recommend an image size of at least 670 x 450 pixels.\"\n      :current-image=\"store.settings.banner_image_1\"\n      api_src=\"/api/v1/media/process\"\n      file_type=\".jpg, .jpeg, .png, .gif\"\n      drop-zone-id=\"banner_image_1\"\n      @new-media=\"saveImage\"></cp-image-upload>\n    <div class=\"toggle\">\n      <label>Show Possition 2</label>\n      <input type=\"checkbox\" class=\"toggle-switch\" v-model=\"store.settings.show_banner_image_2\"  @change=\"saveSetting('show_banner_image_2', store.settings.show_banner_image_2)\">\n    </div>\n    <cp-image-upload\n    tooltip=\"Please select your desired image and upload it below. You can drag a file directly into the area or click to allow you to find the image on your device. For best results, we recommend an image size of at least 360 x 225 pixels.\"\n    title=\"Image for position 2\"\n    :current-image=\"store.settings.banner_image_2\"\n    api_src=\"/api/v1/media/process\"\n    file_type=\".jpg, .jpeg, .png, .gif\"\n    drop-zone-id=\"banner_image_2\"\n    @new-media=\"saveImage\"></cp-image-upload>\n    <div class=\"toggle\">\n      <label>Show Possition 3</label>\n      <input type=\"checkbox\" class=\"toggle-switch\" v-model=\"store.settings.show_banner_image_3\"  @change=\"saveSetting('show_banner_image_3', store.settings.show_banner_image_3)\">\n    </div>\n    <cp-image-upload\n    title=\"Image for position 3\"\n    tooltip=\"Please select your desired image and upload it below. You can drag a file directly into the area or click to allow you to find the image on your device. For best results, we recommend an image size of at least 360 x 225 pixels.\"\n    :current-image=\"store.settings.banner_image_3\"\n    api_src=\"/api/v1/media/process\"\n    file_type=\".jpg, .jpeg, .png, .gif\"\n    drop-zone-id=\"banner_image_3\"\n    @new-media=\"saveImage\"></cp-image-upload>\n    <!-- CATEGORIES -->\n    <section class=\"category-carousel\">\n        <ul class=\"category-list\">\n            <li class=\"categories backoffice-categories\" v-for=\"category in store.categories\">\n                <div>\n                    <div class=\"category-image\">\n                        <img v-if=\"category.media[0]\" :src=\"category.media[0].url_sm\">\n                    </div>\n                    <span>{{ category.name }}</span><br/>\n                    <span>\n                        <input\n                          type=\"text\"\n                          class=\"story-input-header text-align-center\"\n                          v-model=\"category.header\"\n                          @keyup=\"saveCategoryCaption(category.id, category.header)\">\n                      </span>\n                </div>\n            </li>\n        </ul>\n    </section>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/store/CpCartItems.vue:script


      sms.vComponent('assets/js/components/store/CpCartItems.vue', {"name":"CpCartItems","path":"assets/js/components/store/CpCartItems.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
      showItems: false,
      selectedLine: null
    }
  },
  props: {
    validationErrors: {},
    cart: {
      required: true
    }
  },
  methods: {
    showInfo (line) {
      if (!line.bundle_id) {
        return;
      }
      this.selectedLine = line
      this.showItems = true
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpInputMask: require('../../cp-components-common/inputs/CpInputMask.vue')
  }
}
;
        module.exports.template = "\n        <section class=\"cart-items-wrapper\">\n            <div>\n                <div class=\"cart-items-table\">\n                    <table>\n                        <thead class=\"table-head\">\n                            <tr>\n                                <th></th>\n                                <th>Product</th>\n                                <th>Variant</th>\n                                <th>Option</th>\n                                <th>Quantity</th>\n                                <th>Item Price</th>\n                                <th>Total Price</th>\n                                <th></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr class=\"table-body\" v-for=\"(line, index) in cart.lines\" v-bind:class=\"[line.bundle_id ? 'cp-clickable' : '']\" @click=\"showInfo(line)\">\n                              <td v-if=\"line.item_id && line.items[0].img_url\"><img :src=\"line.items[0].img_url\" /></td>\n                              <td v-else-if=\"line.bundle_id && line.bundle_img_url\"><img :src=\"line.bundle_img_url\" /></td>\n                              <td v-else></td>\n\n                              <td>{{ line.item_id ? line.items[0].product_name : line.bundle_name }}</td>\n                              <td>{{ line.item_id ? line.items[0].variant_name : \"\" }}</td>\n                              <td>{{ line.item_id ? line.items[0].option : \"\" }}</td>\n                              <td v-on:click.stop>\n                                <cp-input\n                                  type=\"number\"\n                                  @input=\"$emit('update-line-item', line)\"\n                                  v-model.number=\"line.quantity\"\n                                  :error=\"validationErrors[line.pid]\">\n                                </cp-input>\n                              </td>\n                              <td>{{ line.price | currency }}</td>\n                              <td>{{ (line.price * line.quantity) | currency }}</td>\n                              <td v-on:click.stop><i @click=\"$emit('delete-line-item', line)\" class=\"no-padding mdi mdi-close pointer\"></i></td>\n                            </tr>\n                        </tbody>\n                </table>\n                <h5 style=\"padding:20px; text-align:center;\" v-if=\"cart.lines < 1\"> You have no Items in your cart</h5>\n                </div>\n            </div>\n            <div v-if=\"showItems\">\n              <transition name=\"modal\">\n                  <section class=\"cp-modal-standard\" @click=\"showItems = false\">\n                    <div class=\"cp-modal-body\" v-on:click.stop>\n                    <h2 class=\"cp-modal-header\">{{ selectedLine.bundle_name }}</h2>\n                        <table>\n                          <thead class=\"table-head\">\n                            <tr>\n                              <th></th>\n                              <th>Product</th>\n                              <th>Variant</th>\n                              <th>Option</th>\n                              <th>Quantity</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                              <tr class=\"table-body\" v-for=\"(item, index) in selectedLine.items\">\n                                <td v-if=\"item.img_url\"><img :src=\"item.img_url\" /></td>\n                                <td v-else></td>\n\n                                <td>{{ item.product_name }}</td>\n                                <td>{{ item.variant_name }}</td>\n                                <td>{{ item.option }}</td>\n                                <td>{{ item.quantity ? item.quantity : 1 }}</td>\n                              </tr>\n                          </tbody>\n                        </table>\n                        <div class=\"buttton-wrapper\">\n                            <button class=\"cp-button-standard\" @click=\"showItems = false\">\n                              Close\n                            </button>\n                        </div>\n                      </div>\n                  </section>\n              </transition>\n            </div>\n        </section>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/store/CpCustomOrderProcessing.vue:script


      sms.vComponent('assets/js/components/store/CpCustomOrderProcessing.vue', {"name":"CpCustomOrderProcessing","path":"assets/js/components/store/CpCustomOrderProcessing.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')
const Checkout = require('../../resources/CheckoutAPIv0.js')
const Users = require('../../resources/UserApiv0.js')
const Step = require('../../libraries/step.js')
const _ = require('lodash')

module.exports = {
  data: function () {
    return {
      users: [],
      couponCode: '',
      coupon: null,
      Auth: Auth,
      Step: Step,
      pageError: null,
      validationErrors: {},
      order: {},
      invoice: {},
      customer: {},
      cartTax: 'TBD',
      billingIsShipping: false,
      checkout: {},
      processingOrder: false,
      processingBillingInfo: false
    }
  },
  props: {
    cart: {
      type: Object,
      required: true
    },
    discount: {},
    shipping: {
      default () {
        return 0.00
      }
    },
    orderType: {
      type: String,
      required: true
    },
    taxExempt: {
      type: Boolean,
      required: false,
      default () {
        return false
      }
    }
  },
  mounted () {
    this.initSteps()
    if (this.orderType === 'cp-personal-use') {
      this.getUserInformation()
    }
    this.estimateShipping()
  },
  watch: {
    billingIsShipping: 'copyAddress'
  },
  methods: {
    prev() {
      if (this.orderType === 'cp-send-order') {
        Step.skipTo('one')
      } else {
        Step.previous()
      }
    },
    checkUserInfo () {
      if (this.validateUserInfo()) {
        if (this.cart.type === 'rep-transfer') {
          this.verifyRepCustomer((customer) => {Step.next()})
        } else {
          return Step.next()
        }
      }
    },
    checkInvoice () {
      if (this.validateInvoice()) {
        this.$refs.sendOrderForm.setCustomer(this.customer)
        if (this.cart.type === 'rep-transfer') {
          this.verifyRepCustomer((customer) => {
            Step.skipTo('three')
          })
        } else {
          Step.skipTo('three')
        }
      }
    },
    verifyRepCustomer (callback) {
      Users.getByIdAndEmail(this.customer.id, this.customer.email)
        .then((response) => {
          if (response.code === 404) {
            this.validationErrors = {id: ['ID and email not verified'], email: ['ID and email not verified']}
            return this.$toast('User not found')
          }
          if (response.error) {
            return this.$toast((response.message ? response.message : 'Unexpected error.'), { error: true })
          }
          if (response.role !== 'Rep') {
            this.validationErrors = {id: ['This user must be a rep'], email: ['This user must be a rep']}
            return this.$toast('User not a rep')
          }
          this.customer.pid = response.pid
          callback(response)
        })
    },
    checkBillingInfo () {
      if (this.orderType === 'cp-send-order') {
        Step.next()
        return false
      }
      this.processingBillingInfo = true
      if (this.validateBillingInfo()) {
        return this.createCheckout()
      }
      this.processingBillingInfo = false
    },
    createCheckout () {
      let request = {
        shipping_address: this.$refs.shippingAddressForm.getAddress(),
        billing_address: this.$refs.billingAddressForm.getAddress(),
        discount: this.discount,
        shipping: this.shipping,
        tax_exempt: this.taxExempt
      }
      if (this.checkout.pid) {
        Checkout.update(request, this.checkout.pid)
          .then((response) => {
            if (response.error) {
              this.$toast((response.message ? response.message : 'Unexpected error.'), { error: true })
              this.processingBillingInfo = false
              return
            }
            this.checkout = response
            Step.next()
          })
      } else {
        Checkout.createFromCart(request, this.cart.pid)
          .then((response) => {
            if (response.error) {
              this.$toast((response.message ? response.message : 'Unexpected error.'), { error: true })
              this.processingBillingInfo = false
              return
            }
            this.checkout = response
            Step.next()
          })
      }
    },
    estimateShipping() {
      // custom-affiliate invoice create will need to estimate shipping to show what an invoice will have
      if (this.orderType !== 'cp-send-order' || this.cart.type !== 'custom-affiliate') {
        return false
      }
      Checkout.estimateCartShipping(this.cart.pid)
        .then((response) => {
          if (response.error) {
            this.$toast((response.message ? response.message : 'Unexpected error estimating tax.'), { error: true})
            this.shipping = 0.00
          } else {
            this.shipping = response.shipping
          }
        })
    },
    validateInvoice () {
      this.validationErrors = {}
      let user = this.customer
      let errors = {}
      if (!user.first_name || user.first_name === ' ' || user.first_name === '') {
        errors['first_name'] = ['First name is required']
      }
      if (!user.last_name || user.last_name === ' ' || user.last_name === '') {
        errors['last_name'] = ['Last name is required']
      }
      if (!user.email || user.email === ' ' || user.email === '') {
        errors['email'] = ['Email is required']
      }
      if (this.cart.type === 'rep-transfer' && this.$isBlank(user.id)) {
        errors['id'] = ['ID is required']
      }
      this.validationErrors = errors
      if (Object.keys(errors).length == 0) {
        return true
      }
      return false
    },
    validateUserInfo () {
      this.validationErrors = {}
      let user = this.customer
      let errors = {}
      if (this.isBlank(user.first_name)) {
        errors['first_name'] = ['First name is required']
      }
      if (this.isBlank(user.last_name)) {
        errors['last_name'] = ['Last name is required']
      }
      if (this.isBlank(user.email)) {
        errors['email'] = ['Email is required']
      }
      if (this.cart.type === 'rep-transfer' && this.$isBlank(user.id)) {
        errors['id'] = ['ID is required']
      }
      if (!this.$refs.shippingAddressForm.validate()) {
        return false
      }
      this.validationErrors = errors
      if (Object.keys(errors).length == 0) {
        return true
      }
      return false
    },
    validateBillingInfo () {
      return this.$refs.billingAddressForm.validate()
    },
    clearId () {
      if (this.customer.id !== null && this.cart.type !== 'rep-transfer') {
        this.customer.id = null
      }
    },
    isBlank (str) {
      return (!str || /^\s*$/.test(str));
    },
    copyAddress () {
      if (this.billingIsShipping) {
        this.$refs.billingAddressForm.setAddress(this.$refs.shippingAddressForm.getAddress());
      }
    },
    initSteps () {
      // init steps - only one step should be set to true
      let steps = {
        error: false,
        one: true,
        two: false,
        three: false,
        four: false

      }
      Step.init(steps, 300)
    },
    getUserInformation () {
      Users.get(Auth.getAuthPid, {addresses: true})
        .then((response) => {
          if (!response.error) {
            this.customer = response
          }
        })
    },
    setSelectedCustomer: function (customer) {
      this.customer = customer
      this.$refs.shippingAddressForm.setAddress(this.customer.shipping_address)
      this.$refs.billingAddressForm.setAddress(this.customer.billing_address)
    },
    searchUsers: _.debounce(function (searchTerm) {
      Users.search({addresses: true, search_term: searchTerm, per_page: 25})
        .then(response => {
          if (!response.error) {
            response.data.forEach((user) => {
              user.full_name = user.first_name + ' ' + user.last_name
            })
            this.users = response.data
          }
        })
    }, 500),
    clearDropdown: _.debounce(function () {
      this.users = []
    }, 500),
    makeCustomOrder () {
      this.processingOrder = true
      let request = {
        buyer: this.customer,
        partial_reserve: true
      }
      switch (this.checkout.type) {
        case 'custom-personal':
          request.source = 'Personal Use'
          break
        case 'rep-transfer':
          request.source = 'Rep Transfer'
          break
        default:
          request.source = 'Custom Order'
      }
      switch (this.orderType) {
        case 'cp-send-order':
          request.discount = this.discount
          request.shipping = this.shipping
          request.customer = this.customer
          request.note = this.$refs.sendOrderForm.getNote();
          Checkout.createInvoiceFromCart(request, this.cart.pid)
            .then((response) => {
              if (response.error) {
                this.handleCheckoutError(response)
                return
              }
              this.invoice = response
              Step.skipTo('four')
            })
          return false
        case 'cp-credit-card':
          if (this.checkout.total > 0) {
            if (this.$refs.ccForm.validate()) {
              request.payment = {
                type: 'card',
                amount: this.checkout.total,
                card: this.$refs.ccForm.getCard()
              }
            } else {
              this.processingOrder = false
              return this.$toast('Card info invalid')
            }
          } else {
            request.payment = {
              amount: this.checkout.total,
              type: 'cash',
              cash_type: 'Zero'
            }
          }
          break;
        case 'cp-personal-use':
          request.payment = {
            type: 'cash',
            amount: this.checkout.total
          }
          break;
        case 'cp-cash':
          request.payment = {
            type: 'cash',
            cash_type: 'Cash/Check',
            amount: this.checkout.total
          }
          break;
        default:
          // TODO error
      }
      Checkout.process(request, this.checkout.pid)
        .then((response) => {
          if (!response.error) {
            this.$emit('cart')
            this.order = response.order
            Step.skipTo('four')
          } else {
            this.handleCheckoutError(response)
          }
        })
    },
    applyCoupon () {
      this.processing = true
      if (this.couponCode === '') {
        this.processing = false
        this.$toast('No coupon was entered.')
        return
      }
      if (this.orderType === 'cp-send-order') {
        Checkout.applyCartCoupon({code: this.couponCode}, this.cart.pid)
          .then((response) => {
            this.processing = false
            if (response.error) {
              this.$toast('The provided coupon code could not be validated.', { error: true })
              return
            }
            this.coupon = response.coupon
            this.estimateShipping()
            this.$toast('Discount applied')
          })
      } else {
        Checkout.update({coupon_code: this.couponCode}, this.checkout.pid)
          .then((response) => {
            this.processing = false
            if (response.error) {
              this.$toast('The provided coupon code could not be validated.', { error: true })
              return
            }
            this.checkout = response
            this.$toast('Discount applied')
          })
      }
    },
    handleCheckoutError (response) {
      let message = null
      if (response.code == 422) {
        if (response.message.result_code) {
          message = response.message.message
          switch (response.message.result_code) {
            case 2:
              this.pageError = "Some or all requested inventory is either reserved or sold. Order could not be created."
              Step.skipTo('error')
              break;
            case 3:
              this.pageError = "All requested inventory is either reserved or sold."
              Step.skipTo('error')
              break;
            case 4:
              window.alert('Some products were not available. Checkout updated to have remaining products and price.')
              this.checkout = response.message.checkout
              break;
            case 5:
              // message should be set to the transaction result already
              break;
            case 6:
              Step.skipTo('two')
              break;
            case 8:
              window.alert('Coupon already used. Checkout updated to remove coupon.')
              this.checkout = response.message.checkout
              break;
            default:
              // Unexpected code, ignore for now
          }
        }
      } else {
        message = response.message
      }
      if (!message) {
        message = 'Unexpected error please try again later'
      }
      this.$toast(message, { error: true })
      this.validationErrors = response.message
      this.processingOrder = false
    }
  },
  computed: {
    cartSubtotal () {
      let total = 0
      for (var i = 0; i < this.cart.lines.length; i++) {
        total = total + this.cart.lines[i].price * this.cart.lines[i].quantity
      }
      return total
    },
    cartDiscount () {
      if (this.coupon) {
        discount = 0.00
        if (this.coupon.is_percent) {
          discount = this.cartSubtotal * (this.coupon.amount / 100)
        } else {
          discount = this.coupon.amount
        }
        if (discount > this.cartSubtotal) {
          discount = this.cartSubtotal
        }
        return discount
      } else {
        return this.discount
      }
    },
    cartTotal () {
      return (parseFloat(this.cartSubtotal ? this.cartSubtotal : '0') - parseFloat(this.cartDiscount ? this.cartDiscount : '0') + parseFloat(this.shipping ? this.shipping : '0'))
    },
    showApplyCoupon () {
      if (this.discount > 0) {
        return false
      }
      if (['custom-corp','custom-affiliate'].includes(this.cart.type)) {
        return this.$getGlobal('corp_coupons').show
      }
      if (this.cart.type === 'custom-retail') {
        return this.$getGlobal('reseller_coupons').show
      }
      return false;
    }
  },
  components: {
    CpCreditCardForm: require('../payment/CpCreditCardForm.vue'),
    CpPaySendOrder: require('../store/CpPaySendOrder.vue'),
    CpPayCash: require('../store/CpPayCash.vue'),
    CpAddressForm: require('../addresses/CpAddressForm.vue'),
    CpTypeahead: require('../../cp-components-common/inputs/CpTypeahead.vue'),
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpPurchaseSummary: require('../store/CpPurchaseSummary.vue'),
    CpInputMask: require('../../cp-components-common/inputs/CpInputMask.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"custom-order-process-wrapper\">\n    <p v-if=\"Step.get('error')\"><strong class=\"errorText\">{{ pageError }}</strong></p>\n    <!-- gathering user info -->\n    <transition name='fade'>\n      <section v-show=\"Step.get('one')\">\n        <div v-if=\"cart.type === 'rep-transfer'\">\n          <h3>{{ 'Transfer to ' + $getGlobal('title_rep').value }}</h3>\n          <p>{{ 'Email and numeric ID for ' + $getGlobal('title_rep').value + ' is required, and must match their account.' }}</p>\n        </div>\n        <div v-else class=\"customer-search\">\n          <h3>Add or Find Customers to Credit Card Payment</h3>\n          <form class=\"cp-form-registration\">\n            <cp-typeahead\n            @input=\"setSelectedCustomer\"\n            :options=\"users\"\n            :clear-dropdown=\"clearDropdown\"\n            :name-value=\"{ name: 'full_name', value: 'id' }\"\n            @options-cleared=\"function (val) { users = val }\"\n            :search-function=\"searchUsers\"\n            ></cp-typeahead>\n          </form>\n        </div>\n        <div class=\"customer-info\">\n          <div class=\"col-wrapper\">\n            <div class=\"left-col\">\n              <h4>Contact Information:</h4>\n              <div class=\"cp-form-inverse\">\n                <cp-input\n                  label=\"First Name\"\n                  type=\"text\"\n                  v-model=\"customer.first_name\"\n                  :error=\"validationErrors['first_name']\"></cp-input>\n                <cp-input\n                  type=\"text\"\n                  label=\"Last Name\"\n                  v-model=\"customer.last_name\"\n                  :error=\"validationErrors['last_name']\"></cp-input>\n                <cp-input\n                  v-show=\"Auth.hasAnyRole('Superadmin', 'Admin')\"\n                  type=\"text\"\n                  :read-only=\"true\"\n                  label=\"Public ID\"\n                  v-model=\"customer.public_id\"></cp-input>\n                <cp-input\n                  type=\"text\"\n                  label=\"ID\"\n                  :read-only=\"cart.type !== 'rep-transfer'\"\n                  :error=\"validationErrors['id']\"\n                  v-model=\"customer.id\"></cp-input>\n                <cp-input-mask\n                  label=\"Phone Number\"\n                  type=\"text\"\n                  mask=\"###-###-####\"\n                  :error=\"validationErrors['customer.phone_number']\"\n                  v-model=\"customer.phone_number\"></cp-input-mask>\n                <cp-input\n                  type=\"email\"\n                  label=\"Email\"\n                  v-model=\"customer.email\"\n                  @input=\"clearId()\"\n                  :error=\"validationErrors['email']\"></cp-input>\n              </div>\n            </div>\n            <div class=\"right-col\">\n              <div class=\"cp-form-inverse\" v-show=\"orderType !== 'cp-send-order'\">\n                <h4>Shipping Information:</h4>\n                  <cp-address-form ref=\"shippingAddressForm\"\n                  address-type=\"addresses.shipping\"></cp-address-form>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"customer-order-button-wrapper-single\">\n            <button v-show=\"orderType !== 'cp-send-order'\" class=\"cp-button-standard\" @click=\"checkUserInfo()\"> Continue to Billing</button>\n            <button v-show=\"orderType === 'cp-send-order'\"  class=\"cp-button-standard\" @click=\"checkInvoice()\"> Continue</button>\n        </div>\n      </section>\n    </transition>\n\n    <!-- gathering user billing info -->\n    <transition name='fade'>\n      <section class=\"billing-information\" v-show=\"Step.get('two')\">\n        <div class=\"cp-form-inverse credit\">\n          <label for=\"\">Billing Information:</label>\n          <cp-address-form ref=\"billingAddressForm\"\n            :disabled=\"billingIsShipping\"\n            address-type=\"addresses.billing\"></cp-address-form>\n          <div class=\"same-as\">\n           <input type=\"checkbox\" v-model=\"billingIsShipping\">Check if same as shipping address\n         </div>\n        </div>\n        <div class=\"customer-order-button-wrapper\">\n            <button class=\"cp-button-standard\" @click=\"prev()\">Prev</button>\n            <button class=\"cp-button-standard \" @click=\"checkBillingInfo()\" :disabled=\"processingBillingInfo\">Continue</button>\n        </div>\n      </section>\n    </transition>\n    <transition name='fade'>\n      <section v-show=\"Step.get('three')\">\n        <div class=\"custom-order-checkout-wrapper\">\n          <h4>Payment information: </h4>\n          <div class=\"table-input\">\n            <div class=\"table\">\n              <table class=\"cp-table-inverse\">\n                <tr>\n                  <th>PRODUCT</th>\n                  <th>SIZE</th>\n                  <th>QUANTITY</th>\n                  <th>PRICE</th>\n                </tr>\n                <tr v-for=\"line in (orderType === 'cp-send-order' ? cart.lines : checkout.lines)\">\n                  <td>{{line.item_id ? line.items[0].product_name : line.bundle_name}}</td>\n                  <td>{{line.item_id ? line.items[0].option : ''}}</td>\n                  <td>{{line.quantity}}</td>\n                  <td v-if=\"line.discount\">{{ (line.quantity - line.discount) * line.price | currency }}</td>\n                  <td v-if=\"!line.discount\">{{ line.quantity * line.price | currency }}</td>\n                </tr>\n              </table>\n            </div>\n          </div>\n          <div class=\"details-section\" v-show=\"orderType !== 'personal_use'\">\n            <div class=\"payment-form-custom-order\" v-if=\"orderType === 'cp-credit-card'\">\n              <div class=\"cp-form-inverse\">\n                <cp-credit-card-form ref=\"ccForm\" :disabled=\"checkout.total == 0\"></cp-credit-card-form>\n              </div>\n            </div>\n            <div class=\"payment-form-custom-order\" v-else-if=\"orderType === 'cp-send-order'\">\n                <cp-pay-send-order ref=\"sendOrderForm\"></cp-pay-send-order>\n            </div>\n            <div class=\"payment-totals-section\">\n              <div class=\"details-titles-section\">\n                <div>Subtotal: </div>\n                <div>Discount: </div>\n                <div>Shipping: </div>\n                <div>Estimated Tax: </div>\n                <div><b>Total: </b></div>\n              </div>\n              <div class=\"details-totals-section\" v-if=\"orderType === 'cp-send-order'\">\n                <div>{{ cartSubtotal | currency }}</div>\n                <div>{{ - cartDiscount | currency}}</div>\n                <div>{{ shipping | currency }}</div>\n                <div>{{ cartTax | currency }}</div>\n                <div><b>{{ cartTotal | currency }}</b></div>\n              </div>\n              <div class=\"details-totals-section\" v-else>\n                <div>{{ checkout.subtotal | currency }}</div>\n                <div>{{ - checkout.discount | currency}}</div>\n                <div>{{ checkout.shipping | currency }}</div>\n                <div>{{ checkout.tax | currency }}</div>\n                <div><b>{{ checkout.total | currency }}</b></div>\n              </div>\n            </div>\n          </div>\n          <form\n            v-if=\"showApplyCoupon\"\n            class=\"coupon-input-section cp-form-inverse\"\n            @submit.prevent>\n            <div class=\"col\">\n              <cp-input\n              type=\"text\"\n              placeholder=\"Do you have a coupon code?\"\n              v-model=\"couponCode\"></cp-input>\n            </div>\n            <div class=\"col\">\n              <button class=\"cp-button-standard\" @click=\"applyCoupon()\">Apply Coupon</button>\n            </div>\n          </form>\n          <div class=\"coupon-applied-section\">\n            <span v-if=\"checkout.discount\">A discount of <i>{{ checkout.discount | currency }}</i> was applied to your order.</span>\n            <span v-else-if=\"cartDiscount\">A discount of <i>{{ cartDiscount | currency }}</i> was applied to your order.</span>\n          </div>\n        </div>\n        <div class=\"customer-order-button-wrapper\">\n            <button  class=\"cp-button-standard\" @click=\"prev(); processingBillingInfo = false\">Prev</button>\n            <button\n            v-if=\"orderType !== 'cp-send-order'\"\n            v-show=\"!processingOrder\"\n            class=\"cp-button-standard place-order-button\"\n            @click=\"makeCustomOrder()\"\n            :disabled=\"processingOrder\">Create Order</button>\n            <button\n            v-if=\"orderType === 'cp-send-order'\"\n            v-show=\"!processingOrder\"\n            class=\"cp-button-standard place-order-button\"\n            @click=\"makeCustomOrder()\"\n            :disabled=\"processingOrder\">Send Order</button>\n            <button\n            v-show=\"processingOrder\"\n            class=\"cp-button-standard place-order-button\"\n            @click=\"makeCustomOrder()\"\n            :disabled=\"processingOrder\">Processing</button>\n          </div>\n      </section>\n    </transition>\n    <transition name='fade'>\n      <section v-show=\"Step.get('four')\">\n        <cp-purchase-summary :order=\"order\" :invoice=\"invoice\"></cp-purchase-summary>\n      </section>\n    </transition>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/store/CpPayCash.vue:script


      sms.vComponent('assets/js/components/store/CpPayCash.vue', {"name":"CpPayCash","path":"assets/js/components/store/CpPayCash.vue"}, (require,exports,module)=>{
        
module.exports = {
  data: function () {
    return {
      cashType: '',
      validationErrors: {}
    }
  },
  methods: {
    getCashType () {
      return this.cashType
    },
    validate () {
      if (!this.cashType) {
        this.validationErrors = {cashType: ['required']}
        return false
      }
      this.validationErrors = {}
      return true
    },
    onSelect () {
      this.validationErrors = {}
    }
  },
  components: {
    CpSelect: require('../../cp-components-common/inputs/CpSelect.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"cp-form-inverse\">\n        <label for=\"\">Select a Cash type</label>\n             <cp-select\n             :options=\"[\n             { name: 'Apple Pay', value: 'Apple Pay' },\n             { name: 'Cash/Check', value: 'Cash/Check' },\n             { name: 'Google Wallet', value: 'Google Wallet' },\n             { name: 'PayPal', value: 'PayPal' },\n             { name: 'Square', value: 'Square' },\n             { name: 'Square Cash', value: 'Square Cash' },\n             { name: 'Venmo', value: 'Venmo' },\n             { name: 'Zelle', value: 'Zelle' },\n             { name: 'Other', value: 'Other' }\n             ]\"\n             @input=\"onSelect()\"\n             v-model=\"cashType\"\n             :error=\"validationErrors['cashType']\"></cp-select>\n        </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/store/CpVariantMultiCarousel.vue:script


      sms.vComponent('assets/js/components/store/CpVariantMultiCarousel.vue', {"name":"CpVariantMultiCarousel","path":"assets/js/components/store/CpVariantMultiCarousel.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
      slides: {},
      currentSlides: [],
      currentStartIndex: 0,
      nextStartIndex: 0
    }
  },
  props: ['variants', 'selectVariant', 'activeVariant'],
  mounted () {
    this.setSelected(0)
  },
  methods: {
    setSelected (startIndex) {
      this.currentSlides = []
      this.currentStartIndex = startIndex
      let counter = 0
      for (var i = startIndex; i < this.variants.length; i++) {
        if (counter > 9) {
          this.nextStartIndex = i
          return
        }
        this.currentSlides.push(this.variants[i])
        counter++
      }
    },
    nextSlide () {
      this.setSelected(this.nextStartIndex)
    },
    previousSlide () {
      this.nextStartIndex = this.nextStartIndex - 18
      if (this.nextStartIndex < 0) {
        this.nextStartIndex = 0
      }
      this.setSelected(this.nextStartIndex)
    }
  }
}
;
        module.exports.template = "\n  <div class=\"cp-multi-carousel-wrapper\">\n    <div class=\"image-selectors mdi mdi-chevron-left\" :class=\"{ 'disabled-arrow': currentStartIndex === 0 }\"  @click=\"previousSlide()\"></div>\n    <section class=\"variant-selection-section cp-grid-standard flex1\">\n      <section\n        class=\"cp-cell-10 variant-image-cell\"\n        @click=\"selectVariant(variant, index)\"\n        :class=\"{ active: activeVariant[index]}\"\n        v-for=\"(variant, index) in currentSlides\">\n          <img\n          v-if=\"variant.images && variant.images.length > 0\"\n          :src=\"variant.images[0].url| imageSize('url_sm')\"\n          :alt=\"variant.name\">\n      </section>\n    </section>\n      <div class=\"image-selectors mdi mdi-chevron-right\" :class=\"{ 'disabled-arrow': currentSlides.length < 9 }\" @click=\"nextSlide()\"></div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpSettingsRepSettings.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpSettingsRepSettings.vue', {"name":"CpSettingsRepSettings","path":"assets/js/components/settings/partials/CpSettingsRepSettings.vue"}, (require,exports,module)=>{
        
const Settings = require('../../../resources/settings.js')
const Auth = require('auth')

module.exports = {
  data () {
    return {
      closed: true,
      Auth,
      repsettingsLoading: false,
      subdomain_blacklist: '',
      new_subdomain_list: [],
      showConfirm: false,
      rep_settings: {
        // reseller settlings
        reseller_address_store: {},
        reseller_create_product: {},
        reseller_ewallet: {},
        reseller_ewallet_pending_balance: {},
        reseller_ewallet_withdraw: {},
        reseller_payment_option: {},
        reseller_coupons: {},
        reseller_returns: {},
        reseller_media_library: {},
        reseller_ewallet_taxes_paid_first: {},
        reseller_ewallet_taxes_balance: {},
        reseller_ewallet_taxes_credit_card: {},
        reseller_rep_retail: {},
        self_pickup_reseller: {},
        rep_transfer: {},

        // affiliate settings
        affiliate_create_product: {},
        affiliate_purchase_inventory: {},
        affiliate_ewallet: {},
        affiliate_ewallet_pending_balance: {},
        affiliate_ewallet_withdraw: {},
        affiliate_media_library: {},
        affiliate_payment_option: {},
        affiliate_returns: {},
        affiliate_ewallet_taxes_paid_first: {},
        affiliate_ewallet_taxes_balance: {},
        affiliate_ewallet_taxes_credit_card: {},
        affiliate_rep_retail: {},

        // general rep settings
        title_rep: {},
        rep_welcome: {},
        replicated_site: {},
        rep_orders_tab: {},
        rep_sales_tab: {},
        rep_custom_prices: {},
        rep_edit_information: {},
        inventory_confirmation: {},
        sub_grace_period: {},
        subdomain_blacklist: {},
        sold_out: {},
        store_join_link: {},
        lms_link: {},
        lms_link_name: {},
        // locator settings
        rep_locator_enable: {},
        rep_locator_radius: {},
        rep_locator_map_view: {},
        rep_locator_random_users: {},
        rep_locator_max_results: {},
        shipping_link: {}
      }
    }
  },
  computed: {},
  mounted () {
    this.getRepSettings()
    this.getBlacklistNames()
  },
  methods: {
    getRepSettings: function () {
      this.repsettingsLoading = false
      Settings.getRepSettings()
        .then((response) => {
          if (response.error) {
            return
          }
          this.rep_settings = response
          this.repsettingsLoading = true
        })
    },
    getBlacklistNames: function () {
      Settings.getBlacklist()
        .then((response) => {
          this.subdomain_blacklist = response
        })
    },
    saveRepSettings: function () {
      if (this.rep_settings.rep_locator_radius.value > 250) {
        return this.$toast('Rep Locator Radius must be 250 miles or less.', {error: true})
      }
      if (this.rep_settings.rep_locator_radius.value < 1) {
        return this.$toast('Rep Locator Radius must be at least 1 mile.', {error: true})
      }
      Settings
        .update(this.rep_settings)
        .then((response) => {
          this.$updateGlobal(this.rep_settings)
          this.$toast('Rep settings saved successfully.')
          this.saveBlacklist()
        })
    },
    saveBlacklist: function () {
      this.new_subdomain_list = []
      this.new_subdomain_list.push(this.subdomain_blacklist)
      Settings
        .updateBlacklist(this.new_subdomain_list)
        .then((response) => {
          this.getBlacklistNames()
          if (response.error) {
            this.$toast('Something went wrong. Please try again or contact support.')
          }
        })
    },
    confirmEditInventory: function (canEdit) {
      if (canEdit) {
        this.showConfirm = true
      }
    }
  },
  components: {
    'CpConfirm': require('../../../cp-components-common/CpConfirm.vue'),
    CpCustomLinksCreate: require('../../custom-links/CpCustomLinksCreate.vue'),
    CpTooltip: require('../../../custom-plugins/CpTooltip.vue')

  }
}
;
        module.exports.template = "\n    <div class=\"branding-wrapper\" v-if=\"repsettingsLoading\">\n        <div class=\"cp-accordion\">\n            <div class=\"cp-accordion-head black-header\">\n                <h5>Rep Settings</h5>\n            </div>\n            <div class=\"cp-accordion-body\">\n                <div class=\"cp-accordion-body-wrapper\">\n                    <div class=\"cp-left-col\">\n                        <div>\n                            <h4>Backoffice</h4>\n                            <hr />\n                            <div class=\"line-wrapper\">\n                                <label>Rep Title</label>\n                                <input class=\"input-class\" type=\"text\" v-model=\"rep_settings.title_rep.value\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Reps can have replicated site</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.replicated_site.show\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Reps can view orders tab</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.rep_orders_tab.show\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Reps can view sales tab</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.rep_sales_tab.show\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Reps must confirm inventory before it is transferred</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.inventory_confirmation.show\">\n                            </div>\n                            <div class=\"line-wrapper\"  v-if=\"Auth.hasAnyRole('Superadmin')\">\n                                <label>Reps can edit their inventory</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" @change=\"confirmEditInventory(rep_settings.rep_edit_inventory.show)\" v-model=\"rep_settings.rep_edit_inventory.show\">\n                                <section class=\"cp-modal-standard\" v-if=\"showConfirm\">\n                                  <div class=\"cp-modal-body\">\n                                    <div class=\"line-wrapper\">\n                                      <p>This setting is intended to be used temporarily, however, there may be specific needs applicable to a unique situation. By turning on this setting please note the following:\n                                      </br>\n                                      </br>\n                                      &#9679; Inventory will not properly write over to the the commission engine (if applicable)\n                                      </br>\n                                      &#9679; Reps may use this feature to bypass selling product in the system, which may affect tax liability\n                                      </br>\n                                      &#9679; There will be no visibility into changes made to the inventory numbers</p>\n                                    </div>\n                                    <div class=\"confirm\">\n                                      <button class=\"cp-button-standard\" @click=\"showConfirm = false, rep_settings.rep_edit_inventory.show = !rep_settings.rep_edit_inventory.show\">Cancel</button>\n                                      <button class=\"cp-button-standard Confirm\" @click=\"showConfirm = false, rep_settings.rep_edit_inventory.show = 'true', saveRepSettings()\">Confirm</button>\n                                    </div>\n                                  </div>\n                                </section>\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Reps can set custom prices for inventory</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.rep_custom_prices.show\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Reps can edit their own information</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.rep_edit_information.show\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Reps can sell inventory to other reps</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.rep_transfer.show\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Grace period for subscription before system lock in days</label>\n                                <input class=\"input-class\" type=\"text\" v-model=\"rep_settings.sub_grace_period.value\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Reps have access to third party shipping link\n                                  <cp-tooltip :options=\"{ content: 'When turned on a button for a link will appear on the all orders page and when viewing individual orders.'}\"></cp-tooltip>\n                                </label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.shipping_link.show\">\n                            </div>\n                            <div v-if=\"rep_settings.shipping_link.show\" class=\"line-wrapper\">\n                                <label>Shipping Link URL</label>\n                                <input class=\"input-class\" type=\"text\" v-model=\"rep_settings.shipping_link.value\">\n                            </div>\n                            <div v-if=\"rep_settings.shipping_link.show\" class=\"line-wrapper\">\n                                <label>Shipping Link Text</label>\n                                <input class=\"input-class\" type=\"text\" v-model=\"rep_settings.shipping_link_text.value\">\n                            </div>\n                            <div class=\"line-wrapper\">\n                                <label>Reps have affiliate link\n                                  <cp-tooltip :options=\"{ content: 'Display a link to reps that points to an affiliate store'}\"></cp-tooltip>\n                                </label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_link.show\">\n                            </div>\n                            <div v-if=\"rep_settings.affiliate_link.show\">\n                              <div class=\"line-wrapper\">\n                                <label>Affiliate Link URL</label>\n                                <input class=\"input-class\" type=\"url\" v-model=\"rep_settings.affiliate_link.value.url\">\n                              </div>\n                              <div class=\"line-wrapper\">\n                                <label>Display Affiliate Link On Reseller Site</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_link.value.display_on_rep_site\">\n                              </div>\n                              <div class=\"line-wrapper\">\n                                <label>Affiliate Link Display Name</label>\n                                <input class=\"input-class\" type=\"text\" v-model=\"rep_settings.affiliate_link.value.display_name\">\n                              </div>\n                            </div>\n                            <div class=\"line-wrapper\" v-if=\"rep_settings.replicated_site.show\">\n                                <cp-custom-links-create></cp-custom-links-create>\n                            </div>\n                            <div v-if=\"rep_settings.replicated_site.show\">\n                              <h4>Rep subdomains</h4>\n                              <hr />\n                              <div class=\"line-wrapper\">\n                                <label>Subdomain blacklist<cp-tooltip :options=\"{ content: 'Seperate by commas without spaces, ex: rep,store'}\"></cp-tooltip></label>\n                              </div>\n                              <textarea class=\"textarea\" rows=\"5\" cols=\"40\" v-model=\"subdomain_blacklist\"></textarea>\n                            </div>\n                            <div>\n                              <h4>General</h4>\n                              <hr />\n                              <div class=\"line-wrapper\">\n                                <label>Enter the number of hours to show sold out product before hiding</label>\n                                <input class=\"input-class\" type=\"number\" v-model=\"rep_settings.sold_out.value\">\n                              </div>\n                              <br />\n                              <div class=\"line-wrapper\">\n                                  <label>Show join link on store</label>\n                                  <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.store_join_link.show\">\n                              </div>\n                              <div v-if=\"rep_settings.store_join_link.show\" class=\"line-wrapper\">\n                                  <label>Set join link text</label>\n                                  <input class=\"input-class\" type=\"text\" v-model=\"rep_settings.store_join_link.value\">\n                              </div>\n                            </div>\n                            <div>\n                              <h4>Rep Locator</h4>\n                              <hr />\n                              <div class=\"line-wrapper\">\n                                  <label>Rep Locator</label>\n                                  <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.rep_locator_enable.value\">\n                              </div>\n                              <section v-show=\"rep_settings.rep_locator_enable.value\">\n                                <div class=\"line-wrapper\">\n                                  <label>Search Radius</label>\n                                  <input class=\"input-class\" name=\"radiuslocator\" type=\"number\" minlength=\"1\" maxlength=\"3\" min=\"1\" max=\"250\" v-model=\"rep_settings.rep_locator_radius.value\">\n                                </div>\n                                <div class=\"line-wrapper\">\n                                  <label>Map View</label>\n                                  <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.rep_locator_map_view.show\">\n                                </div>\n                                <div v-if=\"rep_settings.rep_locator_map_view.show\">\n                                    <small>* If any Rep does not have a valid geo-location, they will not show up on the map view</small>\n                                </div>\n                                <div class=\"line-wrapper\">\n                                  <label>Number of random results</label>\n                                  <input class=\"input-class\" name=\"randomusers\" type=\"number\" min=\"1\" max=\"50\" v-model=\"rep_settings.rep_locator_random_users.value\">\n                                </div>\n                                <div class=\"line-wrapper\">\n                                    <label>Number of searched results</label>\n                                    <input class=\"input-class\" type=\"number\" name=\"maxresults\" min=\"1\" max=\"50\" v-model=\"rep_settings.rep_locator_max_results.value\">\n                                </div>\n                              </section>\n                            </div>\n                            <span v-if=\"Auth.hasAnyRole('Superadmin') && (rep_settings.reseller_purchase_inventory.show || rep_settings.affiliate_purchase_inventory.show)\">\n                            <h4>Wholesale Purchase Options</h4>\n                            <hr />\n                            </span>\n                            <div class=\"line-wrapper\" v-if=\"Auth.hasAnyRole('Superadmin') && (rep_settings.reseller_purchase_inventory.show || rep_settings.affiliate_purchase_inventory.show)\">\n                              <label>Allow wholesale purchase with eWallet balance</label>\n                              <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.wholesale_ewallet.show\">\n                            </div>\n                            <div class=\"line-wrapper\" v-if=\"Auth.hasAnyRole('Superadmin') && (rep_settings.reseller_purchase_inventory.show || rep_settings.affiliate_purchase_inventory.show)\">\n                              <label>Allow wholesale purchase with credit card on file</label>\n                              <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.wholesale_card_token.show\">\n                            </div>\n                            <h4>Learning Management System</h4>\n                            <hr />\n                            <div class=\"line-wrapper\">\n                                <label>Show LMS Link on Navigation</label>\n                                <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.lms_link.show\">\n                            </div>\n                            <div class=\"line-wrapper\" v-show=\"rep_settings.lms_link.show\">\n                                <label>LMS Link Url</label>\n                                <input class=\"input-class\" type=\"text\" v-model=\"rep_settings.lms_link.value\">\n                            </div>\n                            <div class=\"line-wrapper\" v-show=\"rep_settings.lms_link.show\">\n                                <label>LMS Link Display Name</label>\n                                <input class=\"input-class\" type=\"text\" v-model=\"rep_settings.lms_link_name.value\">\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"cp-right-col\">\n                      <div>\n                        <h4>Reseller Settings</h4>\n                        <hr />\n                        <div class=\"line-wrapper\">\n                          <label>Resellers can create products</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_create_product.show\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                          <label>Resellers can purchase inventory</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_purchase_inventory.show\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                          <label>Resellers can see My Orders tab</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_my_orders.show\">\n                        </div>\n                        <div class=\"line-wrapper\" v-if=\"Auth.hasAnyRole('Superadmin')\">\n                            <label>Turn on payment application for Resellers</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_payment_option.show\">\n                        </div>\n                        <div class=\"line-wrapper\" v-if=\"Auth.hasAnyRole('Superadmin')\">\n                            <label>Resellers can process returns</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_returns.show\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Resellers can use coupons</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_coupons.show\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Resellers have access to the media library</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_media_library.show\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Resellers business address shows in footer on replicated sites</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_address_store.show\">\n                        </div>\n                        <div class=\"line-wrapper\" v-if=\"Auth.hasAnyRole('Superadmin')\">\n                            <label>Resellers have access to YouTube integration</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_youtube.show\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Resellers can set their own logo</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_logo.show\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Resellers have access to Custom Order</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_custom_order.show\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Resellers have access to Corporate inventory in custom order</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_custom_corp.show\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Resellers can allow Self Pickup Orders</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.self_pickup_reseller.show\">\n                        </div>\n                        <span  v-if=\"Auth.hasAnyRole('Superadmin')\">\n                        <h4>Reseller eWallet Settings</h4>\n                        <hr />\n                        </span>\n                        <div class=\"line-wrapper\" v-if=\"Auth.hasAnyRole('Superadmin')\">\n                          <label>eWallet for Resellers</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_ewallet.show\">\n                        </div>\n                          <div class=\"line-wrapper\">\n                            <label>Show eWallet Balance for Resellers</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_ewallet_balance.show\">\n                          </div>\n                          <div class=\"line-wrapper\">\n                            <label>Show Pending eWallet Balance for Resellers</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_ewallet_pending_balance.show\">\n                          </div>\n                          <div class=\"line-wrapper\">\n                            <label>Show eWallet Commissions for Resellers</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_ewallet_commission.show\">\n                          </div>\n                          <div class=\"line-wrapper\">\n                            <label>Show eWallet Taxes for Resellers</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_ewallet_taxes.show\">\n                          </div>\n                        <div v-show=\"Auth.hasAnyRole('Superadmin') && rep_settings.reseller_ewallet.show\">\n                          <div class=\"line-wrapper\">\n                            <label>eWallet balance withdraw</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_ewallet_withdraw.show\">\n                          </div>\n                          <div class=\"line-wrapper\" v-if=\"rep_settings.reseller_ewallet_withdraw.show\">\n                            <label>Pay taxes first before being able to withdraw balance</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_ewallet_taxes_paid_first.show\">\n                          </div>\n                          <div class=\"line-wrapper\">\n                            <label>eWallet paying taxes with balance</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_ewallet_taxes_balance.show\">\n                          </div>\n                          <div class=\"line-wrapper\">\n                            <label>eWallet paying taxes with credit card</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.reseller_ewallet_taxes_credit_card.show\">\n                          </div>\n                        </div>\n                      </div>\n                      <div>\n                        <h4>Affiliate Settings</h4>\n                        <hr />\n                        <div class=\"line-wrapper\">\n                          <label>Affiliates can create products</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_create_product.show\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                          <label>Affiliates can purchase inventory</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_purchase_inventory.show\">\n                        </div>\n                        <div class=\"line-wrapper\" v-if=\"Auth.hasAnyRole('Superadmin')\">\n                            <label>Turn on payment application for Affiliates</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_payment_option.show\">\n                        </div>\n                        <div class=\"line-wrapper\" v-if=\"Auth.hasAnyRole('Superadmin')\">\n                            <label>Affiliates can process returns</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_returns.show\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Affiliates have access to the media library</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_media_library.show\">\n                        </div>\n                        <div class=\"line-wrapper\" v-if=\"Auth.hasAnyRole('Superadmin')\">\n                            <label>Affiliates have access to YouTube integration</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_youtube.show\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Affiliates have access to Shipping Rates</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_shipping_rates.show\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Affiliates have access to Custom Order</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_custom_order.show\">\n                        </div>\n                        <div class=\"line-wrapper\">\n                            <label>Affiliates have access to Corporate inventory in custom order</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_custom_corp.show\">\n                        </div>\n                        <span v-if=\"Auth.hasAnyRole('Superadmin')\">\n                        <h4>Affiliate eWallet Settings</h4>\n                        <hr />\n                        </span>\n                        <div class=\"line-wrapper\" v-if=\"Auth.hasAnyRole('Superadmin')\">\n                          <label>Turn on eWallet for Affiliates</label>\n                          <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_ewallet.show\">\n                        </div>\n                        <div v-show=\"Auth.hasAnyRole('Superadmin') && rep_settings.affiliate_ewallet.show\">\n                          <div class=\"line-wrapper\">\n                            <label>Show eWallet Balance for Affiliates</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_ewallet_balance.show\">\n                          </div>\n                          <div class=\"line-wrapper\">\n                            <label>Show Pending eWallet Balance for Affiliates</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_ewallet_pending_balance.show\">\n                          </div>\n                          <div class=\"line-wrapper\">\n                            <label>Show eWallet Commissions for Affiliates</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_ewallet_commission.show\">\n                          </div>\n                          <div class=\"line-wrapper\">\n                            <label>Show eWallet Taxes for Affiliates</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_ewallet_taxes.show\">\n                          </div>\n                          <div class=\"line-wrapper\">\n                            <label>eWallet balance withdraw for Affiliates</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_ewallet_withdraw.show\">\n                          </div>\n                          <div class=\"line-wrapper\" v-if=\"rep_settings.affiliate_ewallet_withdraw.show\">\n                            <label>Pay taxes first before being able to withdraw balance</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_ewallet_taxes_paid_first.show\">\n                          </div>\n                          <div class=\"line-wrapper\">\n                            <label>eWallet paying taxes with balance</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_ewallet_taxes_balance.show\">\n                          </div>\n                          <div class=\"line-wrapper\">\n                            <label>eWallet paying taxes with credit card</label>\n                            <input class=\"toggle-switch\" type=\"checkbox\" v-model=\"rep_settings.affiliate_ewallet_taxes_credit_card.show\">\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"save-settings-button\">\n                      <input class=\"cp-button-standard\" type=\"button\" @click=\"saveRepSettings()\" value=\"Save\">\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/store/CpProductGallery.vue:script


      sms.vComponent('assets/js/components/store/CpProductGallery.vue', {"name":"CpProductGallery","path":"assets/js/components/store/CpProductGallery.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
      showGallery: false,
      slides: {},
      currentSlide: 0
    }
  },
  props: ['alt', 'defaultImage', 'images'],
  methods: {
    nextSlide () {
      if (this.currentSlide >= this.images.length - 1) {
        this.currentSlide = 0
      } else {
        this.currentSlide += 1
      }
    },
    previousSlide () {
      if (this.currentSlide === 0) {
        this.currentSlide = this.images.length - 1
      } else {
        this.currentSlide = this.currentSlide - 1
      }
    }
  },
  components: {
    CpCarousel: require('../../cp-components-common/images/CpCarousel.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"product-gallery-wrapper\">\n    <img\n      @click.stop.prevent=\"showGallery = !showGallery\"\n      style=\"max-width: 75px\"\n      :src=\"defaultImage\"\n      :alt=\"alt\" />\n      <section class=\"cp-modal-standard\" v-if=\"showGallery\" @click=\"showGallery = false\">\n        <div class=\"cp-modal-body\" @click.stop.prevent>\n          <span class=\"close-modal\"><i class=\"mdi mdi-close\" @click=\"showGallery = false\"></i></span>\n          <cp-carousel :default-image=\"defaultImage\" :images=\"images\"></cp-carousel>\n        </div>\n      </section>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/store/CpProductItems.vue:script


      sms.vComponent('assets/js/components/store/CpProductItems.vue', {"name":"CpProductItems","path":"assets/js/components/store/CpProductItems.vue"}, (require,exports,module)=>{
        
const Inventory = require('../../resources/InventoryAPIv0.js')
const Checkout = require('../../resources/CheckoutAPIv0.js')
const CartUtility = require('../../libraries/CartUtility.js')
const _ = require('lodash')

module.exports = {
  data () {
    return {
      activeVariant: [],
      selectedVariant: { images: [] }, // needs a default variant?
      addingToCart: false,
      items: [],
      loading: true,
      itemValidationError: {},
      product: {},
      variants: [],
      showVariantImageModel: false,
      variantImagesForModel: [],
      variantImages: [],
      loadingImages: true,
      orderType: null
    }
  },
  props: ['productId', 'productMin', 'productMax', 'inventoryUserPid', 'cartType', 'searchTerm'],
  mounted () {
    this.setOrderType()
    this.getProductWithVariants()
  },
  computed: {
    total () {
      let total = 0
      for (var i = 0; i < this.items.length; i++) {
        if (this.orderType === 'custom') {
          total = total + this.items[i].retail_price * this.items[i].quantity
        } else {
          total = total + this.items[i].wholesale_price * this.items[i].quantity
        }
      }
      return total
    }
  },
  methods: {
    setOrderType () {
      switch (this.cartType) {
        case 'wholesale':
          this.orderType = 'purchase'
          break
        case 'rep-transfer':
          this.orderType = 'rep-transfer'
          break
        default:
          this.orderType = 'custom'
      }
    },
    // this loops through variants to merge all images into one array
    // it also attaches the variant name to the image object
    mergeAllVariantImages () {
      this.variantImagesForModel = []
      for (var i = 0; i < this.variants.length; i++) {
        if (this.variants[i].images && this.variants[i].images.length > 0) {
          for (var j = 0; j < this.variants[i].images.length; j++) {
            this.variants[i].images[j].name = this.variants[i].name
            this.variants[i].images[j].available = this.variants[i].items
            this.variants[i].images[j].price = this.variants[i].price
            this.variants[i].images[j].description = this.variants[i].description
          }
        }
        this.variantImagesForModel = this.variantImagesForModel.concat(this.variants[i].images)
      }
    },
    selectVariant (variant, index) {
      for (let i = 0; i < this.activeVariant.length; i++) {
        this.activeVariant[i] = false
        this.$set(this.activeVariant, i, false)
      }
      this.$set(this.activeVariant, index, true)
      this.selectedVariant = variant
      this.items = variant.items
      for (let i = 0; i < this.items.length; i++) {
        this.$set(this.items[i], 'quantity', 0)
      }
    },
    getProductWithVariants () {
      var vm = this
      vm.loading = true
      let productParams = {
        expands: ['variants', 'variant_images', 'product_images'],
        available: 1,
        user_pid: this.inventoryUserPid,
        price: 'retail',
        search_term: this.searchTerm,
        visibilities: [0]
      }
      if (this.orderType === 'purchase' || this.cartType === 'rep-transfer') {
        productParams.price = 'wholesale'
      }
      if (this.cartType === 'custom_corp') {
        productParams.price = 'retail'
      }
      switch(this.cartType) {
          case "wholesale":
              productParams.visibilities = [5]
              break
          case "affiliate":
          case "custom-affiliate":
              productParams.visibilities = [2]
              break
          case "custom-retail":
          case "custom-personal":
          case "custom-corp":
          case "rep-transfer":
              productParams.visibilities = []
              break
          default:
              productParams.visibilities = [0] // Nothing visible when type unknown
      }
      Inventory.getProduct(productParams, vm.productId)
        .then((response) => {
          if (!response.error) {
            vm.product = response
            if (vm.product.variants.length > 0 && vm.product.variants[0].images) {
              vm.selectedVariant = vm.product.variants[0]
              vm.variants = vm.product.variants
              // if no images for a variant show product images
              if (!vm.selectedVariant.images) {
                vm.selectedVariant.images = vm.product.images
              }
              // set items and make sure they all have a quantity of zero
              vm.items = vm.variants[0].items
              for (var i = 0; i < vm.items.length; i++) {
                vm.$set(vm.items[i], 'quantity', 0)
              }
            }
          }
          vm.loading = false
        })
    },
    checkQuantity (items) {
      this.itemValidationError = {}
      for (var i = 0; i < items.length; i++) {
        if (items[i].quantity !== 0 && items[i].wholesale_price === null) {
          this.itemValidationError[items[i].id] = ['Price not available.']
        }
        if (items[i].quantity !== 0 && items[i].quantity !== '0' && !parseInt(items[i].quantity)) {
          this.itemValidationError[items[i].id] = ['Not a valid number.']
        }
        if (items[i].quantity > items[i].quantity_available) {
          this.itemValidationError[items[i].id] = ['Only ' + items[i].quantity_available + ' available of this item.']
        }
      }
      if (Object.keys(this.itemValidationError).length == 0) {
        return true
      } else {
        return false
      }
    },
    addToCart (items) {
      let checkQuantity = this.checkQuantity(items)
      let pid = null
      if (!checkQuantity) {
        return
      }

      let addItems = []
      for (var i = 0; i < items.length; i++) {
        if (items[i].quantity > 0) {
          addItems.push({
            quantity: parseInt(items[i].quantity),
            item_id: items[i].id,
            cart_type: this.cartType
          })
        }
      }
      this.addingToCart = true
      console.log('Add Items: ', addItems)

      CartUtility.getCartPid(this.cartType).then(res => {
        pid = res

        Checkout.patchCartLines(addItems, pid).then(response => {
          this.addingToCart = false
          if (response.error && response.code === 422) {
            this.itemValidationError = response.message
          }
          if (!response.error) {
            this.$emit('added-to-cart', true)
            this.$toast('Successfully added items to cart', {dismiss: true})
          }
        }).catch(err => {
          console.error(err)
          this.addingToCart = false
        })
      }).catch(err => {
        console.error(new Error(err.message))
        this.addingToCart = false
      })
    },
    checkLowInventory (quantity) {
      if (
        this.cartType === 'wholesale'
        && this.$getGlobal('wholesale_low_inventory').show
        && this.$getGlobal('wholesale_low_inventory').value > quantity
      ) {
        return true
      } else if (
        (this.cartType === 'custom-affiliate' || this.cartType === 'custom-corp')
        && this.$getGlobal('retail_low_inventory').show
        && this.$getGlobal('retail_low_inventory').value > quantity
      ) {
        // Corp inventory only for retail check, not rep sales (2018-12-03 per Jordan)
        return true
      }
      return false
    }
  },
  components: {
    CpVariantMultiCarousel: require('./CpVariantMultiCarousel.vue'),
    CpCarousel: require('../../cp-components-common/images/CpCarousel.vue'),
    CpInput: require('../../cp-components-common/inputs/CpInput.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"wholesale-product-wrapper\">\n    <section class=\"description-and-carausel\">\n      <section class=\"col pointer\" v-if=\"selectedVariant.images && selectedVariant.images.length > 0\">\n        <img\n          :src=\"selectedVariant.images[0].url | imageSize('url_lg')\"\n          style=\"width: 100%;\"\n          @click=\"mergeAllVariantImages(), showVariantImageModel = true\">\n          <cp-dialog :open=\"showVariantImageModel\" @close=\"showVariantImageModel = false\">\n            <h2 slot=\"header\">{{ product.name }}</h2>\n            <template slot=\"content\">\n              <cp-carousel\n              v-if=\"!loading\"\n              :default-image=\"variantImagesForModel[0]\"\n              :variant-label=\"product.variant_label\"\n              :images=\"variantImagesForModel\"></cp-carousel>\n            </template>\n            </cp-dialog>\n      </section>\n      <section class=\"col\">\n          <h4>{{ selectedVariant.name }}</h4>\n          <p v-if=\"product.long_description\">\n            {{ product.long_description }}\n          </p>\n          <p v-if=\"selectedVariant.description\">\n            {{ selectedVariant.description }}\n          </p>\n      </section>\n    </section>\n    <!-- <section> -->\n      <cp-variant-multi-carousel\n        v-if=\"!loading && variants.length > 1\"\n       :variants=\"variants\"\n       :select-variant=\"selectVariant\"\n       :active-variant=\"activeVariant\"></cp-variant-multi-carousel>\n    <!-- </section> -->\n    </section>\n    <table v-if=\"!loading\" class=\"item-table\">\n      <th>{{ selectedVariant.option_label }}</th>\n      <th>Price</th>\n      <th>Quantity</th>\n      <th>Total</th>\n      <tr v-for=\"(item, index) in items\">\n        <td>{{ item.option }}</td>\n        <td>\n          <span v-if=\"item.wholesale_price && orderType !== 'custom'\">{{ item.wholesale_price | currency }}</span>\n          <span v-if=\"item.retail_price && orderType === 'custom'\">{{ item.retail_price | currency }}</span>\n          <span v-if=\"!item.retail_price && !item.wholesale_price\">n/a</span>\n        </td>\n        <td  id=\"quantity\">\n          <cp-input\n            type=\"number\"\n            v-model=\"item.quantity\"\n            :error=\"itemValidationError[item.id]\"></cp-input>\n            <span id='low_invetory' v-if=\"checkLowInventory(item.quantity_available)\">Low Inventory</span>\n        </td>\n        <td v-if=\"orderType !== 'custom'\">\n            <span v-if=\"item.wholesale_price\">{{ (item.wholesale_price * item.quantity) | currency }}</span>\n            <span v-else>$0.00</span>\n        </td>\n        <td v-if=\"orderType === 'custom'\">\n            <span v-if=\"item.retail_price\">{{ (item.retail_price * item.quantity) | currency }}</span>\n            <span v-else>$0.00</span>\n        </td>\n      </tr>\n      <tr>\n        <td></td>\n        <td></td>\n        <td></td>\n        <td><span v-if=\"total\">{{ total | currency }}</span></td>\n      </tr>\n    </table>\n    <img v-if=\"loading\" class=\"loading\" :src=\"$getGlobal('loading_icon').value\">\n    <p v-if=\"(productMax || productMin) && !loading && orderType !== 'custom'\">\n      <span>Please Note:</span>\n      <span v-if=\"productMin > 0\">Minimum purchase quantity per item is {{ productMin }}.</span>\n      <span v-if=\"productMax > 0\">Maximum purchase quantity per item is {{ productMax }}.</span>\n    </p>\n    <button v-if=\"!loading && !addingToCart\" class=\"cp-button-standard add-to-cart\" @click=\"addToCart(items)\">Add To Cart</button>\n    <button v-if=\"!loading && addingToCart\" class=\"cp-button-standard add-to-cart\" disabled>Adding To Cart...</button>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/store/CpBackOfficeCart.vue:script


      sms.vComponent('assets/js/components/store/CpBackOfficeCart.vue', {"name":"CpBackOfficeCart","path":"assets/js/components/store/CpBackOfficeCart.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')
const Checkout = require('../../resources/CheckoutAPIv0.js')
const CartUtility = require('../../libraries/CartUtility.js')
const Users = require('../../resources/UserApiv0.js')
const _ = require('lodash')

module.exports = {
  name: 'CpCart',
  routing: [
    {
      name: 'site.CpWholesaleCart',
      path: 'carts/:cartPid',
      meta: {
        title: 'Cart'
      },
      props: true
    }
  ],
  data () {
    return {
      Auth: Auth,
      autoshipCheckout: false,
      wholesaleCart: false,
      customerOrderCart: false,
      proccessOption: true,
      dynamicOrderType: '',
      loading: 0,
      bundles: [],
      cart: null,
      buyer: null,
      pageError: null,
      validationErrors: {},
      paymentOption: null,
      paymentComponent: '',
      paymentOptionProps: {},
      editable: false,
      taxExempt: false,
      discount: 0.00,
      shipping: 0.00,
      creatingCheckout: false,
      errorCart: null
    }
  },
  props: {
    cartPid: {
      type: String,
      required: true
    }
  },
  mounted () {
    this.getCart()
    this.autoshipCheckout = this.$getGlobal('autoship_default_purchase').value
  },
  methods: {
    navigate (navTo) {
      switch (navTo) {
        case 'custom-order':
          this.$router.push('/orders/custom')
          break
        case 'inventory-purchase':
          this.$router.push('/inventory/purchase')
          break
        case 'inventory-personal-use':
          this.$router.push('/inventory/personal')
          break
      }
    },
    pullBuyer () {
      if (this.cart.buyer_pid) {
        return Users.get(this.cart.buyer_pid, {addresses: true})
          .then((response) => {
            if (!response.error) {
              this.buyer = response
            }
        })
      } else {
        return Promise.resolve(null)
      }
    },
    createCheckout () {
      this.creatingCheckout = true
      this.pullBuyer().then((response) => {
        let checkoutRequest = {
          reserve_inv: true
        }
        if (this.buyer) {
          if (this.buyer.billing_address && this.buyer.billing_address.zip && this.buyer.billing_address.city &&
              this.buyer.billing_address.state && this.buyer.billing_address.line_1) {
            checkoutRequest.billing_address = this.buyer.billing_address
          }
          if (this.buyer.shipping_address && this.buyer.shipping_address.zip && this.buyer.shipping_address.city &&
              this.buyer.shipping_address.state && this.buyer.billing_address.line_1) {
            checkoutRequest.shipping_address = this.buyer.shipping_address
          }
        }
        Checkout.createFromCart(checkoutRequest, this.cartPid)
          .then((response) => {
            if (response.error) {
              if (response.code == 422 && response.message.result_code && response.message.result_code === 4) {
                this.$toast('Some inventory was missing, updating cart', {error: true});
                this.updateForMissingInventory(response.message.reservationResponse.errors)
              } else {
                this.$toast((response.message ? response.message : 'Unexpected error'), { error: true })
              }
            } else {
              this.$router.push({ name: 'CpCheckout', params: { checkoutPid: response.pid, checkoutProp: response, buyerProp: this.buyer}})
            }
            this.creatingCheckout = false
          })
        })
    },
    checkoutAutoship () {
      if (this.cart.lines.length === 0) {
        this.$toast('Cart Empty', { error: true, dismiss: false})
        return
      }
      this.$router.push({ name: 'CpAutoshipCheckout', params: {cart: this.cart}})
    },
    isEditable () {
      if (['custom-retail', 'custom-corp', 'rep-transfer'].includes(this.cart.type)) {
        this.editable = true
      }
    },
    displayProcess (paymentComponent) {
      if (this.cart.lines.length < 1) {
        this.$toast('You must select at least 1 product to make an order.', { error: true })
      } else if (paymentComponent === 'cp-personal-use' && this.taxExempt === true) {
        this.$toast('Personal Use cannot be tax exempt.', { error: true })
      } else {
        this.proccessOption = !this.proccessOption
        this.dynamicOrderType = paymentComponent
      }
    },
    checkDiscount () {
      if (this.discount === '') {
        this.discount = 0
      }
      if (this.discount < 0) {
        this.discount = Math.abs(this.discount)
      }
      if (this.discount > this.subtotal) {
        this.discount = this.subtotal.toFixed(2)
      }
    },
    getCart () {
      Checkout.getCart({expands: ['lines']}, this.cartPid)
        .then(response => {
          if (response.error) {
            if (response.code === 404) {
              this.pageError = 'Cart missing'
            } else {
              this.pageError = (response.message ? response.message : 'Unexpected Error')
            }
            return
          }
          this.cart = response
          this.isEditable()
        })
    },
    clearCart () {
      this.cart = {
        lines: [],
        type: null
      }
      this.shipping = 0.00,
      this.discount = 0.00
    },
    deleteLineItem (line) {
      this.loading++
      let product = line.items[0].product_name
      let lineIndex = this.cart.lines.indexOf(line);
      if(lineIndex !== -1) {
        this.cart.lines.splice(lineIndex, 1);
      }
      Checkout.deleteCartLine(line.pid)
        .then((response) => {
          this.loading--
          if (response.error) {
            this.$toast(response.message, { error: true })
            this.cart.lines.push(line)
            return response
          } else {
            this.$toast(`Deleted ${product}`)
          }
        })
    },
    updateLineItem (line) {
      this.loading++
      let product = line.items[0].product_name
      if (line.quantity <= 0) {
      line.quantity = 1
      }
      let qty = line.quantity
      let size = line.items[0].option
      Checkout.patchCartLine({quantity: qty}, line.pid)
        .then((response) => {
          this.loading--
          if (!response.error) {
            this.$toast(`Changed quantity of the ${product} ${size} to ${qty}.`)
            return response
          } else {
            this.$toast(response.message, { error: true })
          }
        })
    },
    updateForMissingInventory (errors) {
      this.errorCart = {lines: []}
      let cartLineMap = {}
      for (var i = 0; i < this.cart.lines.length; i++) {
        cartLineMap[this.cart.lines[i].pid] = i
      }
      let cartline = null
      let cartlineCopy = null
      let available = 0
      let cartUpdates = []
      let cartDeletes = []
      for (var i = 0; i < errors.length; i++) {
        if (errors[i].transaction.transaction_id === 'items') {
          for(var a = 0; a < errors[i].transaction.inventories.length; a++) {
            available = errors[i].transaction.inventories[a].available
            cartline = this.cart.lines[cartLineMap[errors[i].transaction.inventories[a].transaction_id]]
            // Find lines that are partially available
            if (cartline.quantity > available) {
              // copy cartline if partial|no availability
              cartlineCopy = JSON.parse(JSON.stringify(cartline))
              cartlineCopy.quantity = cartlineCopy.quantity - available
              cartline.quantity = available
              if (available > 0) {
                cartUpdates.push(cartline)
              } else {
                cartDeletes.push(cartline)
              }
              this.errorCart.lines.push(cartlineCopy)
            }
          }
        } else {
          // Bundle line
          cartline = this.cart.lines[cartLineMap[errors[i].transaction.transaction_id]]
          // Calculate the maximum bundle count left and create an error line for the remainder
          available = errors[i].transaction.inventories
          .map(el => Math.floor(el.available / el.quantity))
          .reduce((acc, cur) => cur > acc ? acc : cur)

          if (cartline.quantity > available) {
            cartlineCopy = JSON.parse(JSON.stringify(cartline))
            cartlineCopy.quantity = cartlineCopy.quantity - available
            cartline.quantity = available
            if (available > 0) {
              cartUpdates.push(cartline)
            } else {
              cartDeletes.push(cartline)
            }
            this.errorCart.lines.push(cartlineCopy)
          }
        }
      }
      cartUpdates.forEach(line => this.updateLineItem(line))
      cartDeletes.forEach(line => this.deleteLineItem(line))
    },
    updateQuantity: _.debounce(function (line) {
      this.updateLineItem(line)
    }, 500),
  },
  computed: {
    subtotal () {
      let total = 0
      for (var i = 0; i < this.cart.lines.length; i++) {
        total = total + this.cart.lines[i].price * this.cart.lines[i].quantity
      }
      return total
    },
    total () {
      return (parseFloat(this.subtotal ? this.subtotal : '0') - parseFloat(this.discount ? this.discount : '0') + parseFloat(this.shipping ? this.shipping : '0'))
    },
    itemCount () {
      let count = 0;
      for (var i = 0; i < this.cart.lines.length; i++) {
        count += this.cart.lines[i].quantity
      }
      return count
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpCustomOrderProcessing: require('../store/CpCustomOrderProcessing.vue'),
    CpCartButton: require('../../components/cart/CpCartButton.vue'),
    CpInputMask: require('../../cp-components-common/inputs/CpInputMask.vue'),
    CpCartItems: require('../store/CpCartItems.vue'),
    CpCartErrorItems: require('../store/CpCartErrorItems.vue')
  }
}
;
        module.exports.template = "\n    <p v-if=\"pageError\"><strong class=\"errorText\">{{ pageError }}</strong></p>\n    <div class=\"\" v-else-if=\"cart\">\n        <div class=\"cart-wrapper\">\n          <button class=\"cp-button-standard\" v-if=\"proccessOption === false\" @click=\"proccessOption = !proccessOption\"><i class=\"mdi mdi-cart\"></i></button>\n           </div>\n      <transition name=\"fade\">\n        <section>\n            <div class=\"back-office-cart-wrapper\" v-if=\"proccessOption\">\n                <cp-cart-items\n                :cart=\"cart\"\n                :validation-errors=\"validationErrors\"\n                @delete-line-item=\"deleteLineItem\"\n                @update-line-item=\"updateQuantity\"\n                ></cp-cart-items>\n            </div>\n            <div class=\"checkout-options-wrapper\" v-if=\"proccessOption\">\n              <h4 style=\"margin-left:5px;\">How would you like to process your cart?</h4>\n                  <div class=\"details-section\">\n                      <div class=\"payment-totals-section\">\n                          <div class=\"details-titles-section\">\n                            <div>Item Count: </div>\n                            <div>Subtotal: </div>\n                            <div v-if=\"editable\">Discount: </div>\n                            <div v-if=\"editable\">Shipping: </div>\n                            <div v-if=\"discount > 0 || shipping > 0\">Cart Total: </div>\n                            <div v-if=\"Auth.hasAnyRole('Admin', 'Superadmin')\">Tax Exempt: </div>\n                          </div>\n                          <div class=\"details-totals-section\">\n                            <div>{{ itemCount }}</div>\n                            <div>{{ subtotal | currency }}</div>\n                            <div v-if=\"editable\">-\n                            <cp-input type=\"number\" v-model=\"discount\" :blur-method=\"checkDiscount\"></cp-input></div>\n                            <div v-if=\"editable\"><cp-input type=\"number\" v-model=\"shipping\"></cp-input></div>\n                            <div v-if=\"discount > 0 || shipping > 0\">{{ total | currency }}</div>\n                            <div v-if=\"Auth.hasAnyRole('Admin', 'Superadmin')\"><input type=\"checkbox\" v-model=\"taxExempt\"></div>\n                          </div>\n                      </div>\n                  </div>\n                  <div v-show=\"cart.type === 'wholesale' && $getGlobal('autoship_enabled').show\" class=\"autoship-checkbox\" @click=\"autoshipCheckout = !autoshipCheckout\"> Make Order as {{$getGlobal('autoship_display_name').value}} <input type=\"checkbox\" v-model=\"autoshipCheckout\"></input></div>\n                <div class=\"wholesale-option-wrapper\" v-show=\"cart.type === 'wholesale'\">\n                    <button class=\"cp-button-standard\" @click=\"navigate('inventory-purchase')\">Continue Shopping</button>\n                    <button class=\"cp-button-standard\" v-if=\"!autoshipCheckout\" :disabled=\"cart.lines.length < 1 || creatingCheckout || loading > 0\" @click=\"createCheckout()\">Complete Order</button>\n                    <button class=\"cp-button-standard\" v-else :disabled=\"cart.lines.length < 1\" @click=\"checkoutAutoship()\">Complete Order</button>\n                </div>\n                <!-- THESE buttons set orderType on the front end -->\n                <div class=\"retail-option-wrapper\" v-show=\"cart.type != 'wholesale' && cart.type != 'custom-personal'\">\n                    <button class=\"cp-button-standard\" @click=\"navigate('custom-order')\">Continue Shopping</button>\n                    <button class=\"cp-button-standard\" @click=\"displayProcess('cp-send-order')\" v-if=\"cart.type !== 'custom-personal'\">Send Order</button>\n                    <button class=\"cp-button-standard\" @click=\"displayProcess('cp-credit-card')\">Pay with Credit Card</button>\n                    <button v-if=\"['custom-retail', 'custom-corp', 'rep-transfer'].includes(cart.type)\" class=\"cp-button-standard\" @click=\"displayProcess('cp-cash')\">Cash</button>\n                </div>\n                <div class=\"wholesale-option-wrapper\" v-show=\"cart.type === 'custom-personal'\">\n                    <button class=\"cp-button-standard\" @click=\"navigate('inventory-personal-use')\">Continue Shopping</button>\n                    <button class=\"cp-button-standard\" :disabled=\"creatingCheckout || loading > 0\" @click=\"createCheckout()\">Complete Order</button>\n                </div>\n            </div>\n            <div class=\"back-office-cart-wrapper\" v-if=\"errorCart\">\n              <div style=\"margin-bottom: 16px;\" class=\"errorText\">\n                  ALERT: The following items were removed from cart due to a lack of availability.<br>\n                  To continue checkout of the above items, click the 'Complete Order' button.\n              </div>\n              <cp-cart-error-items\n              :cart=\"errorCart\"\n              ></cp-cart-error-items>\n            </div>\n            <div class=\"align-center\">\n                <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading > 0\">\n            </div>\n        </section>\n      </transition>\n\n        <transition name=\"fade\">\n            <section>\n                <div class=\"\" v-if=\"!proccessOption\">\n                    <cp-custom-order-processing\n                      :orderType=\"dynamicOrderType\"\n                      :discount=\"discount\"\n                      :shipping=\"shipping\"\n                      :taxExempt=\"taxExempt\"\n                      @cart=\"clearCart\"\n                      :cart=\"cart\"></cp-custom-order-processing>\n                </div>\n            </section>\n        </transition>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/store/CpWholesaleBundles.vue:script


      sms.vComponent('assets/js/components/store/CpWholesaleBundles.vue', {"name":"CpWholesaleBundles","path":"assets/js/components/store/CpWholesaleBundles.vue"}, (require,exports,module)=>{
        
const Inventory = require('../../resources/InventoryAPIv0.js')

module.exports = {
  data () {
    return {
      bundles: [],
      showBundle: {},
      pagination: {},
      loading: true,
      bundleParams: {
        available: 1,
        search_term: '',
        column: 'name',
        order: 'asc',
        visibilities: [5],
        expands: ['bundle_images', 'items'],
        page: 1,
        per_page: 15
      }
    }
  },
  props: ['cartType'],
  created () {
    this.getBundles()
    console.log('Bundle component cart type is ', this.cartType)
  },
  methods: {
    showHideBundle (id) {
      this.showBundle[id] = !this.showBundle[id]
    },
    getBundles () {
      this.loading = true
      this.bundleParams.page = this.pagination.current_page
      this.bundleParams.user_id = 1
      Inventory.getBundles(this.bundleParams)
        .then((response) => {
          this.loading = false
          if (!response.error) {
            this.bundles = response.data
            this.pagination = response
            for (var i = 0; i < this.bundles.length; i++) {
              window.Vue.set(this.showBundle, this.bundles[i].id, false)
            }
          }
        })
    },
  },
  components: {
    CpBundleItems: require('../store/CpBundleItems.vue'),
    CpProductGallery: require('../store/CpProductGallery.vue'),
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"wholesale-bundles-wrapper\">\n    <cp-table-controls\n      :date-picker=\"false\"\n      :search-box=\"false\"\n      :index-request=\"bundleParams\"\n      :resource-info=\"pagination\"\n      :get-records=\"getBundles\"></cp-table-controls>\n    <table class=\"cp-table-standard\">\n      <thead>\n        <th>Image</th>\n        <th>Product</th>\n        <th>Price</th>\n      </thead>\n      <tbody v-for=\"(bundle, index) in bundles\" v-if=\"!loading\">\n        <tr @click=\"showHideBundle(bundle.id)\">\n          <td>\n            <cp-product-gallery\n              :alt=\"bundle.name\"\n              :default-image=\"bundle.images.length > 0 ? bundle.images[0].url : ''\"\n              :images=\"bundle.media\"></cp-product-gallery>\n          </td>\n          <td>{{ bundle.name }}</td>\n          <td>${{ parseFloat(bundle.wholesale_price).toFixed(2) }}</td>\n        </tr>\n        <tr v-if=\"showBundle[bundle.id]\">\n          <td colspan=\"4\">\n            <cp-bundle-items v-if=\"bundle.id\" :bundle=\"bundle\" @added-to-cart=\"function (val) { showBundle[bundle.id] = false }\" v-bind=\"{cartType}\" :key=\"cartType\"></cp-bundle-items>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <div class=\"align-center\">\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        <cp-pagination :pagination=\"pagination\" :callback=\"getBundles\" :offset=\"2\"></cp-pagination>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/store/CpWholesaleProducts.vue:script


      sms.vComponent('assets/js/components/store/CpWholesaleProducts.vue', {"name":"CpWholesaleProducts","path":"assets/js/components/store/CpWholesaleProducts.vue"}, (require,exports,module)=>{
        
const Inventory = require('../../resources/InventoryAPIv0.js')
const Auth = require('auth')

module.exports = {
  data () {
    return {
      products: [],
      my_products: [],
      loading: true,
      items: [],
      categories: [],
      pagination: { per_page: 15 },
      my_pagination: {per_page: 15},
      productParams: {
        available: 1,
        visibilities: [],
        categories: [],
        expands: ['product_images'],
        price: 'wholesale',
        search_term: '',
        sort_by: 'price',
        order: 'ASC',
        per_page: 15,
        page: 1
      },
      categoryChange: false,
      showProduct: {},
      showMyProduct: {}
    }
  },
  props: ['cartType', 'inventoryUserPid'],
  mounted () {
    this.getCategories()
    this.getProducts()
  },
  methods: {
    switchTables (tab) {
      this.categoryChange = true
      if (tab === 'All') {
        this.productParams.categories = []
      } else {
        for (var i = 0; i < this.categories.length; i++) {
          if (tab === this.categories[i].name) {
            this.productParams.categories = [this.categories[i].id]
            break
          }
        }
      }
      this.getProducts()
    },
    getCategories () {
      Inventory.getCategories()
        .then((response) => {
          if (!response.error) {
            var vm = this
            this.categories = response
            this.categories.unshift({ name: 'All', active: true })
            for (var i = 0; i < this.categories.length; i++) {
              window.Vue.set(this.categories[i], 'active', false)
            }
          }
        })
    },
    getProducts () {
      this.loading = true
      this.productParams.page = this.pagination.current_page
      if (this.categoryChange) {
        this.categoryChange = false
        this.productParams.page = 1
      }
      let request = JSON.parse(JSON.stringify(this.productParams))

      if (this.cartType === 'wholesale' || this.cartType === 'rep-transfer' || (this.cartType === 'custom-personal' && Auth.hasAnyRole('Rep'))) {
        request.price = 'wholesale'
      } else {
        request.price = 'retail'
      }

      switch(this.cartType) {
          case "wholesale":
              request.visibilities = [5]
              break
          case "affiliate":
          case "custom-affiliate":
              request.visibilities = [2]
              break
          case "custom-retail":
          case "custom-personal":
          case "custom-corp":
          case "rep-transfer":
              request.visibilities = []
              break
          default:
              request.visibilities = [0] // Show nothing when type unknown
      }

      request.user_pid = this.inventoryUserPid

      Inventory.getProducts(request)
        .then((response) => {
          this.pagination = response
          this.products = response.data
          for (var j = 0; j < this.products.length; j++) {
            window.Vue.set(this.showProduct, this.products[j].slug, false)
          }
          this.loading = false
        })
    },
    getDefaultImage (imgs) {
      let images = JSON.parse(JSON.stringify(imgs))
      let reg = /(?:\.([^.]+))?$/
      if (images.length > 0) {
        let image = images[0].url
        let ext = reg.exec(image)[1]
        image = image.replace(/\.[^/.]+$/, '')
        return image + '-url_sm.' + ext
      }
      return ''
    }
  },
  components: {
    CpTabs: require('../../cp-components-common/navigation/CpTabs.vue'),
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue'),
    CpProductItems: require('../store/CpProductItems.vue'),
    CpProductGallery: require('../store/CpProductGallery.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"wholesale-store-wrapper\">\n    <cp-tabs\n      v-if=\"categories.length > 0\"\n     :items=\"categories\"\n     custom-class=\"cp-tabs-light\"\n     :callback=\"switchTables\"></cp-tabs>\n    <cp-table-controls\n      :date-picker=\"false\"\n      :index-request=\"productParams\"\n      :resource-info=\"pagination\"\n      :get-records=\"getProducts\"></cp-table-controls>\n    <table class=\"cp-table-standard\">\n      <thead>\n        <th>Image</th>\n        <th>Product</th>\n        <th>Price</th>\n      </thead>\n      <tbody v-for=\"(product, index) in products\">\n        <tr @click=\"showProduct[product.slug] = !showProduct[product.slug]\">\n          <td>\n            <cp-product-gallery\n              :alt=\"product.name\"\n              :default-image=\"getDefaultImage(product.images)\"\n              :images=\"product.images\"></cp-product-gallery>\n          </td>\n          <td>{{ product.name }}</td>\n          <td>\n            <span v-if=\"product.price\">{{ product.price | currency }}</span>\n            <span v-else>n/a</span>\n          </td>\n        </tr>\n        <tr v-if=\"showProduct[product.slug]\">\n          <td colspan=\"4\">\n            <cp-product-items\n              :product-id=\"product.id\"\n              :product-min=\"product.min\"\n              :product-max=\"product.max\"\n              :inventoryUserPid=\"inventoryUserPid\"\n              :search-term=\"productParams.search_term\"\n              :cart-type=\"cartType\"></cp-product-items>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <div class=\"align-center\">\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        <cp-pagination :pagination=\"pagination\" :callback=\"getProducts\"></cp-pagination>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/store/CpPaySendOrder.vue:script


      sms.vComponent('assets/js/components/store/CpPaySendOrder.vue', {"name":"CpPaySendOrder","path":"assets/js/components/store/CpPaySendOrder.vue"}, (require,exports,module)=>{
        
module.exports = {
  data: function () {
    return {
      customer: {},
      note: null
    }
  },
  methods: {
    setCustomer (customer) {
      this.customer = customer
    },
    getNote () {
      return this.note
    }
  }
}
;
        module.exports.template = "\n  <div class=\"text-area-wrapper\">\n  <h4>Send Order To: {{customer.email}} </h4>\n      <div class=\"text-area-note\">\n        <textarea  placeholder=\"Add a note to customer email...\" rows=\"4\" v-model=\"note\"></textarea>\n      </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/subscription/CpSubscriptionRenewableIndex.vue:script


      sms.vComponent('assets/js/components/subscription/CpSubscriptionRenewableIndex.vue', {"name":"CpSubscriptionRenewableIndex","path":"assets/js/components/subscription/CpSubscriptionRenewableIndex.vue"}, (require,exports,module)=>{
        
const moment = require('moment')
const Subscription = require('../../resources/subscription.js')
const _ = require('lodash')

module.exports = {
  data: function () {
    return {
      calculating_price: false,
      moment: moment,
      renewAmount: {
        amount: '',
        date: moment().format('yyyy-MM-dd'),
        tax: '',
        tax_invoice_pid: null,
        months: '',
        total: ''
      },
      disableUpdate: false
    }
  },
  mounted: function () {
    this.amountOwed()
  },
  props: {
    user: {
      type: Object,
      required: true,
      default: {
        id: '',
        price: '',
        tax_invoice_pid: null
      }
    }
  },
  methods: {
    updateSubscriptionInfo: _.debounce(function (price, endsAt) {
      this.user.price = price
      this.user.ends_at = endsAt
      this.user.duration = this.renewAmount.duration
      this.user.quantity = this.renewAmount.quantity
      Subscription.getTaxAdmin(this.user)
        .then((response) => {
          this.renewAmount.tax = response.tax
          this.renewAmount.subtotal_price = parseFloat(price) * this.renewAmount.quantity
          this.renewAmount.total = this.renewAmount.subtotal_price + response.tax
          this.renewAmount.tax_invoice_pid = response.pid
          this.calculating_price = false
        })
    }, 1000),
    paySubscription: function (subtotal_price, endsAt) {
      this.disableUpdate = true
      this.user.subtotal_price = subtotal_price
      this.user.total_tax = this.renewAmount.tax
      this.user.tax_invoice_pid = this.renewAmount.tax_invoice_pid
      this.user.ends_at = endsAt
      Subscription.paySubcription(this.user)
        .then((response) => {
          if (response.error) {
            this.disableUpdate = false
            return this.$toast(response.message.message, { error: true, dismiss: false })
          }
          this.$emit('close', false)
          this.$toast('Successfully updated.', {error: false, dismiss: true})
          this.disableUpdate = false
        })
    },
    amountOwed: function () {
      Subscription.subscriptionRenewAmount(this.user.user_id)
        .then((response) => {
          if (!response.error) {
            this.renewAmount.date = response.data.expires_at
            this.renewAmount.quantity = response.data.quantity
            this.renewAmount.price = parseFloat(response.data.price).toFixed(2)
            this.renewAmount.subtotal_price = response.data.subtotal_price
            this.renewAmount.tax = response.data.total_tax
            this.renewAmount.tax_invoice_pid = response.data.tax_invoice_pid
            this.renewAmount.duration = response.data.duration
            this.renewAmount.months = response.data.months
            this.renewAmount.total = this.renewAmount.subtotal_price + response.data.total_tax
          }
        })
    }
  }
}
;
        module.exports.template = "\n  <div class=\"subscription-index-wrapper\">\n    <div>\n        <div class=\"cp-modal-body\">\n          <div class=\"line-wrapper\">\n            <span class=\"bold\">Subscription Price: </span>\n              <p>$<input class=\"price-input\" type=\"number\" placeholder=\"Amount\" v-model=\"renewAmount.price\" required @input=\"updateSubscriptionInfo(renewAmount.price, renewAmount.date); calculating_price = true\"></p>\n          </div>\n          <div class=\"line-wrapper\" v-if=\"renewAmount.quantity > 1\">\n            <span class=\"bold\">Count: </span>\n              <p>{{renewAmount.quantity}}</p>\n          </div>\n          <div class=\"line-wrapper\">\n            <span class=\"bold\">Subscription Tax</span>\n              <p>{{renewAmount.tax | currency}}</p>\n          </div>\n          <div class=\"line-wrapper\">\n            <span class=\"bold\">Total Subscription Charges</span>\n              <p>{{renewAmount.total | currency}}</p>\n          </div>\n          <div class=\"line-wrapper\">\n            <span class=\"bold\">Next Payment Due Date</span>\n              <p><input  type=\"date\" v-model=\"renewAmount.date\" @change=\"updateSubscriptionInfo(renewAmount.price, renewAmount.date)\"></p>\n          </div>\n          <div class=\"line-wrapper extra-padding\">Your are charging {{user.first_name}} {{user.last_name}} {{renewAmount.total| currency}} and subscription will end on {{renewAmount.date | cpStandardDate(0, 0)}}.</span>\n          </div>\n        <div class=\"flex-end\">\n            <button class=\"cp-button-standard cancel\" @click=\"$emit('close', false)\">Cancel</button>\n            <button v-if=\"!calculating_price\" class=\"cp-button-standard\" @click=\"paySubscription(renewAmount.subtotal_price, renewAmount.date)\" :disabled=\"disableUpdate\">Update Subscription</button>\n            <button v-if=\"calculating_price\" class=\"cp-button-standard\"  disabled=\"true\">Calculating Price...</button>\n        </div>\n      </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/store/CpPurchaseSummary.vue:script


      sms.vComponent('assets/js/components/store/CpPurchaseSummary.vue', {"name":"CpPurchaseSummary","path":"assets/js/components/store/CpPurchaseSummary.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {}
  },
  props: {
    order: {
      type: Object,
      default () {
        return {}
      }
    },
    invoice: {
      type: Object,
      default () {
        return {}
      }
    },
    message: {
      type: String,
      default () {
        return null
      }
    }
  },
  computed: {
    filteredLines() {
      if (!this.order.pid) {
        return []
      }
      return this.order.lines.filter(line => {
        if (!line.item_id ^ !line.bundle_id) {
          return line
        }
      })
    }
  }
}
;
        module.exports.template = "\n  <div class=\"purchase-summary-wrapper\" v-if=\"order.pid || invoice\">\n    <div class=\"cp-panel-standard\">\n      <div class=\"header-text\">\n        <h3 v-if=\"message\">{{message}}</h3>\n        <h3 v-else-if=\"invoice.uid\">Invoice sent successfully!</h3>\n        <h3 v-else>Order placed successfully!</h3>\n      </div>\n      <div class=\"order-line-items-section\">\n        <table class=\"cp-table-inverse\">\n          <tr>\n            <th>PRODUCT</th>\n            <th>SIZE</th>\n            <th>QUANTITY</th>\n            <th>PRICE</th>\n          </tr>\n          <tr v-for=\"line in filteredLines\">\n            <td>{{line.item_id ? line.items[0].product_name : line.bundle_name}}</td>\n            <td>{{line.item_id ? line.items[0].option : ''}}</td>\n            <td>{{line.quantity}}</td>\n            <td>{{ (line.price - (line.discount ? line.discount : 0)) * line.quantity | currency }}</td>\n          </tr>\n          <tr v-for=\"item in invoice.items\">\n            <td>{{item.variant}}</td>\n            <td>{{item.option}}</td>\n            <td>{{item.quantity}}</td>\n            <td>{{item.quantity * item.price | currency }}</td>\n          </tr>\n        </table>\n      </div>\n      <div class=\"order-details-section\">\n        <div class=\"orders-details-header\">\n          <div>Subtotal: </div>\n          <div>Discount: </div>\n          <div>Shipping: </div>\n          <div>Tax: </div>\n          <div><b>Total: </b></div>\n        </div>\n        <div class=\"order-details\" v-if=\"order.pid\">\n          <div>{{ order.subtotal_price | currency }}</div>\n          <div>{{ -order.total_discount | currency}}</div>\n          <div>{{ order.total_shipping | currency }}</div>\n          <div>{{ order.total_tax | currency }}</div>\n          <div><b>{{ order.total_price | currency }}</b></div>\n        </div>\n        <div class=\"order-details\" v-else>\n          <div>{{ invoice.subtotal_price | currency }}</div>\n          <div>{{ -invoice.total_discount | currency}}</div>\n          <div>{{ invoice.total_shipping | currency }}</div>\n          <div>{{ 0.00 | currency }}</div>\n          <div><b>{{ (invoice.subtotal_price - invoice.total_discount + invoice.total_shipping) | currency }}</b></div>\n        </div>\n      </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/store/WholesaleNav.vue:script


      sms.vComponent('assets/js/components/store/WholesaleNav.vue', {"name":"CpWholesaleNav","path":"assets/js/components/store/WholesaleNav.vue"}, (require,exports,module)=>{
        
const CartUtility = require('../../libraries/CartUtility.js')
const Auth = require('auth')

module.exports = {
  routing: [
    {
      name: 'site.CpWholesaleNav',
      path: 'inventory/purchase',
      meta: {
        title: 'Purchase Inventory'
      }
    },
    {
      name: 'site.CpCustomOrder',
      meta: {
        title: 'Custom Orders'
      },
      path: 'orders/custom'
    },
    {
      name: 'site.CpPersonalUse',
      meta: {
        title: 'Personal Use'
      },
      path: 'inventory/personal'
    },
    {
      name: 'site.CpRepTransfer',
      meta: {
        title: 'Sell to Rep'
      },
      path: 'inventory/rep-transfer'
    }
  ],
  data () {
    return {
      products: true,
      bundles: false,
      fbc: false,
      personal: true,
      corporate: false,
      items: [],
      affiliate: true,
      cartObject: {},
      company: this.$getGlobal('company_name').value.toUpperCase(),
      currentView: 'cp-wholesale-products',
      cartType: 'custom_personal',
      inventoryUserPid: null,
      tabsAreSet: false,
      cartPid: null,
      creatingCart: false,
      displayError: null
    }
  },
  props: {
    orderType: {
      default () {
        return this.$pathParameterName()
      }
    }
  },
  mounted () {
    this.setTabs()
  },
  methods: {
    setTabs () {
      let userRole = Auth.getClaims().role
      let updatedCartType = null

      switch (this.orderType) {
        case 'purchase':
          if (!Auth.getClaims().perm['core:buy']) {
            this.displayError = "Buying disabled. Contact support if this was received in error."
            return false
          }
          updatedCartType = 'wholesale'
          break;
        case 'custom':
          if (!Auth.getClaims().perm['core:sell']) {
            this.displayError = "Selling disabled. Contact support if this was received in error."
            return false
          }
          if (userRole === 'Rep') {
            updatedCartType = 'custom-retail'
          }
          if (userRole === 'Superadmin' || userRole === 'Admin') {
            updatedCartType = 'custom-corp'
          }
          break;
        case 'personal':
          updatedCartType = 'custom-personal'
          break;
        case 'rep-transfer':
          updatedCartType = 'rep-transfer'
          break;
      }

      this.cartType = updatedCartType
      this.inventoryUserPid = CartUtility.getCartSetup(this.cartType).inventoryUserPid

      if (this.orderType === 'purchase') {
        this.items.push({ name: 'PRODUCTS', active: true })
        this.items.push({ name: 'PACKS', active: false })
      }
      if (this.orderType === 'custom') {
        if (this.isAffiliate() && (this.$getGlobal('affiliate_create_product').show || this.$getGlobal('affiliate_purchase_inventory').show)) {
          this.items.push({ name: 'MY INVENTORY', active: false })
        }

        if (this.isAffiliate() && this.$getGlobal('affiliate_custom_corp').show) {
          this.items.push({ name: this.company + ' INVENTORY', active: false })
        }

        if (!this.isAffiliate() && !Auth.hasAnyRole('Superadmin', 'Admin')) {
          this.items.push({ name: 'MY INVENTORY', active: false })
        }

        if (!this.isAffiliate() && !Auth.hasAnyRole('Superadmin', 'Admin') && this.$getGlobal('reseller_custom_corp').show) {
          this.items.push({ name: this.company + ' INVENTORY', active: false })
        }

        if (Auth.hasAnyRole('Superadmin', 'Admin')) {
          this.items.push({ name: 'MY INVENTORY', active: false })
        }
      } else if (this.orderType === 'personal' || this.orderType === 'rep-transfer') {
        this.items.push({ name: 'MY INVENTORY', active: true })
      }

      this.items[0].active = true
      this.navController(this.items[0].name)
      this.tabsAreSet = true
    },
    findCart () {
      if (!this.cartPid || !this.cartPid.length > 0) {
        CartUtility.getCartPid(this.cartType)
          .then(pid => {
            this.cartPid = pid
            this.$router.push({
              path: '/carts/' + this.cartPid
            })
          })
          .catch(err => {
            console.log('Error happend at find cart')
            if (err.prototype.message === 'Already Creating Cart') {
              this.findCart()
            } else {
              console.log(err)
            }
          })
      } else {
        this.$router.push({
          path: '/carts/' + this.cartPid
        })
      }
    },
    isAffiliate () {
      let claims = Auth.getClaims()
      let sellerType = claims.sellerType
      if (sellerType === 'Affiliate' && !Auth.hasAnyRole('Superadmin', 'Admin')) {
        return true
      }
      return false
    },
    navController (tab) {
      let userRole = Auth.getClaims().role

      switch (tab) {
        case 'PRODUCTS':
          this.currentView = 'cp-wholesale-products'
          this.cartType = 'wholesale'
          break
        case 'PACKS':
          this.currentView = 'cp-wholesale-bundles'
          this.cartType = 'wholesale'
          break
        case this.company + ' INVENTORY':
          this.currentView = 'cp-wholesale-products'
          this.cartType = 'custom-affiliate'
          break
        case 'MY INVENTORY':
          this.currentView = 'cp-wholesale-products'
          if (this.orderType === 'personal') {
            this.cartType = 'custom-personal'
          } else if (this.orderType === 'rep-transfer') {
            this.cartType = 'rep-transfer'
          } else if (userRole === 'Rep') {
            this.cartType = 'custom-retail'
          } else if (userRole === 'Superadmin' || userRole === 'Admin') {
            this.cartType = 'custom-corp'
          }
          break
        default:
      }
      this.inventoryUserPid = CartUtility.getCartSetup(this.cartType).inventoryUserPid
    }
  },
  components: {
    CpTabs: require('../../cp-components-common/navigation/CpTabs.vue'),
    CpWholesaleProducts: require('../../components/store/CpWholesaleProducts.vue'),
    CpWholesaleBundles: require('../../components/store/CpWholesaleBundles.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"wholesale-nav-wrapper\">\n    <div v-if=\"!displayError\">\n      <div class=\"button-wrapper\">\n        <button  class=\"cp-button-standard\" @click=\"findCart()\"><i class=\"mdi mdi-cart\"></i></button>\n      </div>\n      <cp-tabs v-if='items.length > 0'\n        :items=\"items\"\n        :callback=\"navController\"></cp-tabs>\n        <component v-if=\"tabsAreSet\" :is=\"currentView\" v-bind=\"{cartType, inventoryUserPid}\" :key=\"cartType\"></component>\n      </div>\n      <div v-else><strong class=\"errorText\">{{ displayError}}</strong></div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/store/CpCartErrorItems.vue:script


      sms.vComponent('assets/js/components/store/CpCartErrorItems.vue', {"name":"CpCartErrorItems","path":"assets/js/components/store/CpCartErrorItems.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
      showItems: false,
      selectedLine: null
    }
  },
  props: {
    cart: {
      required: true
    }
  },
  methods: {
    showInfo (line) {
      if (!line.bundle_id) {
        return;
      }
      this.selectedLine = line
      this.showItems = true
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpInputMask: require('../../cp-components-common/inputs/CpInputMask.vue')
  }
}
;
        module.exports.template = "\n        <section class=\"cart-items-wrapper\">\n            <div>\n                <div class=\"cart-items-table\">\n                  <table>\n                      <thead class=\"table-head\">\n                          <tr>\n                              <th></th>\n                              <th>Product</th>\n                              <th>Variant</th>\n                              <th>Option</th>\n                              <th>Quantity</th>\n                              <th>Item Price</th>\n                              <th>Total Price</th>\n                          </tr>\n                      </thead>\n                      <tbody>\n                          <tr class=\"table-body\" v-for=\"(line, index) in cart.lines\" v-bind:class=\"[line.bundle_id ? 'cp-clickable' : '']\" @click=\"showInfo(line)\">\n                            <td v-if=\"line.item_id && line.items[0].img_url\"><img :src=\"line.items[0].img_url\" /></td>\n                            <td v-else-if=\"line.bundle_id && line.bundle_img_url\"><img :src=\"line.bundle_img_url\" /></td>\n                            <td v-else></td>\n\n                            <td class=\"errorText\">{{ line.item_id ? line.items[0].product_name : line.bundle_name }}</td>\n                            <td>{{ line.item_id ? line.items[0].variant_name : \"\" }}</td>\n                            <td>{{ line.item_id ? line.items[0].option : \"\" }}</td>\n                            <td>{{ line.quantity }}</td>\n                            <td>{{ line.price | currency }}</td>\n                            <td>{{ (line.price * line.quantity) | currency }}</td>\n                          </tr>\n                      </tbody>\n                  </table>\n                </div>\n            </div>\n            <div v-if=\"showItems\">\n              <transition name=\"modal\">\n                  <section class=\"cp-modal-standard\" @click=\"showItems = false\">\n                    <div class=\"cp-modal-body\" v-on:click.stop>\n                    <h2 class=\"cp-modal-header\">{{ selectedLine.bundle_name }}</h2>\n                        <table>\n                          <thead class=\"table-head\">\n                            <tr>\n                              <th></th>\n                              <th>Product</th>\n                              <th>Variant</th>\n                              <th>Option</th>\n                              <th>Quantity</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                              <tr class=\"table-body\" v-for=\"(item, index) in selectedLine.items\">\n                                <td v-if=\"item.img_url\"><img :src=\"item.img_url\" /></td>\n                                <td v-else></td>\n\n                                <td>{{ item.product_name }}</td>\n                                <td>{{ item.variant_name }}</td>\n                                <td>{{ item.option }}</td>\n                                <td>{{ item.quantity ? item.quantity : 1 }}</td>\n                              </tr>\n                          </tbody>\n                        </table>\n                        <div class=\"buttton-wrapper\">\n                            <button class=\"cp-button-standard\" @click=\"showItems = false\">\n                              Close\n                            </button>\n                        </div>\n                      </div>\n                  </section>\n              </transition>\n            </div>\n        </section>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/subscription/CpShowReceipt.vue:script


      sms.vComponent('assets/js/components/subscription/CpShowReceipt.vue', {"name":"CpShowReceipt","path":"assets/js/components/subscription/CpShowReceipt.vue"}, (require,exports,module)=>{
        
const moment = require('moment')
const Subscription = require('../../resources/subscription.js')

module.exports = {
  data: function () {
    return {
      pagination: {
        per_page: 15
      },
      reverseSort: false,
      noResults: false,
      loading: false,
      receipts: {}
    }
  },
  props: {
    user: {
      type: Object,
      required: true
    },
    indexRequest: {
      type: Object
    }
  },
  mounted: function () {
    this.getUserReceipt()
  },
  methods: {
    getUserReceipt: function () {
      Subscription.getSubReceipt(this.user.user_id, this.indexRequest)
        .then((response) => {
          if (response.error) {
            return this.$toast(response.message)
          }
          if (response.total === 0) {
            this.noResults = true
          } else {
            this.receipts = response.data
            this.paginate = response
          }
        })
    }
  },
  events: {
  },
  components: {
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue'),
    CpTotalsBanner: require('../subscription/CpTotalsBanner.vue'),
    CpTabs: require('../../cp-components-common/navigation/CpTabs.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"subscription-reports-wrapper\">\n    <h3>{{user.first_name}} {{user.last_name}}</h3>\n    <table class=\"cp-table-standard desktop\">\n        <thead>\n          <th>Title</th>\n          <th>Date</th>\n          <th>Subtotal Price</th>\n          <th>Total Tax</th>\n          <th>Total Price</th>\n          <th>Number of Months</th>\n        </thead>\n        <tbody v-if=\"!noResults\">\n            <tr v-for=\"receipt in receipts\">\n                <td>{{receipt.title}}</td>\n                <td>{{receipt.created_at | cpStandardDate}}</td>\n                <td>{{receipt.subtotal_price | currency}}</td>\n                <td>{{receipt.total_tax | currency}}</td>\n                <td>{{receipt.total_price | currency}}</td>\n                <td>{{receipt.duration}}</td>\n            </tr>\n        </tbody>\n        <tbody v-else>\n            <tr class=\"row\">\n                <td class=\"cell\">\n                    <span class=\"overflow\">There are no receipts to display.</span>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/subscription/reports.vue:script


      sms.vComponent('assets/js/components/subscription/reports.vue', {"name":"CpReports","path":"assets/js/components/subscription/reports.vue"}, (require,exports,module)=>{
        
const moment = require('moment')
const Subscription = require('../../resources/subscription.js')

module.exports = {
  name: 'CpSubscriptionReports',
  routing: [
    {
      name: 'site.CpSubscriptionReports',
      path: 'reports/subscriptions',
      meta: {
        title: 'Subscription Reports'
      },
      props: true
    }
  ],
  data: function () {
    return {
      receipts: {},
      pagination: {
        per_page: 15
      },
      reverseSort: false,
      noResults: false,
      loading: false,
      showReceipt: false,
      indexRequest: {
        start_date: moment().subtract(1, 'months').format('YYYY-MM-DD'),
        end_date: moment().format('YYYY-MM-DD'),
        per_page: 15,
        search_term: '',
        page: 1
      },
      report: {
        count: '',
        amount: '',
        autoCount: ''
      },
      users: {},
      userReceipt: {}
    }
  },
  mounted: function () {
    this.getTransactionReport()
  },
    methods: {
      sendemailcsvreport: function (status, start_date, end_date, search_term) {
        const url = '/api/v1/subscriptions/csv-sendmail-receipt?status=' + status + '&start_date=' + start_date + '&end_date=' + end_date + '&search_term=' + search_term;
        const token = (window.localStorage.getItem('jwt_token') || '')
        const headers = new window.Headers()
        const options = { headers }
        options.credentials = 'include'
        headers.append('Authorization', `Bearer ${token}`)
        let filename = 'filename.ext'
        this.loading = true
        window.fetch(url, options)
            .then(res => {
                alert("mail sent successfully");
                this.loading = false;
            })
    },
    getTransactionReport: function () {
      Subscription.transactionReport(this.indexRequest)
        .then((response) => {
          if (response.error) {
            return this.$toast(response.message)
          }
          this.report.count = response.count
          this.report.amount = response.amount
          this.report.autoCount = response.autoCount
        })
      this.getSubscriptionReceipts()
    },
    getSubscriptionReceipts: function () {
      this.indexRequest.page = this.pagination.current_page
      Subscription.subscriptionReceipts(this.indexRequest)
        .then((response) => {
          if (!response.error) {
            this.receipts = response.data
            this.pagination = response
          }
        })
    },
    sortColumn: function (column) {
      this.reverseSort = !this.reverseSort
      this.indexRequest.column = column
      this.asc = !this.asc
      if (this.asc === true) {
        this.indexRequest.order = 'asc'
      } else {
        this.indexRequest.order = 'desc'
      }
      this.getSubscriptionReceipts()
    }
  },
  events: {
  },
  components: {
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue'),
    CpTotalsBanner: require('../subscription/CpTotalsBanner.vue'),
    CpTabs: require('../../cp-components-common/navigation/CpTabs.vue'),
    'CpShowReceipt': require('./CpShowReceipt.vue')
  }
}
;
        module.exports.template = "\n    <div class=\"subscription-reports-wrapper\">\n        <br>\n        <a class=\"cp-button-link\" download :href=\"'/api/v1/subscriptions/csv-download-receipt?status=' + indexRequest.status\n          + '&start_date=' + indexRequest.start_date\n          + '&end_date=' + indexRequest.end_date\n          + '&search_term=' + indexRequest.search_term\">Download CSV</a>\n        <a class=\"cp-button-link\"  @click=\"sendemailcsvreport(indexRequest.status , indexRequest.start_date , indexRequest.end_date ,indexRequest.search_term)\"\n           href=\"javascript:void(0)\" target=\"_blank\">Send CSV in Mail</a>\n\n        <cp-totals-banner :totals=\"[\n   {title:'Total Transactions Amount', amount: report.amount},\n   {title:'Number of Transactions', count: report.count},\n   {title:'Auto Renew Subscriptions', count: report.autoCount}]\"></cp-totals-banner>\n\n        <cp-table-controls :date-picker=\"true\"\n                           :date-range=\"indexRequest\"\n                           :index-request=\"indexRequest\"\n                           :resource-info=\"pagination\"\n                           :get-records=\"getTransactionReport\">\n        </cp-table-controls>\n\n        <table class=\"cp-table-standard desktop\">\n            <thead>\n            <th @click=\"sortColumn('first_name')\">\n                Name\n                <span v-show=\"indexRequest.column == 'first_name'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n            </th>\n            <th @click=\"sortColumn('title')\">\n                Title\n                <span v-show=\"indexRequest.column == 'title'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n            </th>\n            <th@click =\"sortColumn('created_at')\">\n                Date\n                <span v-show=\"indexRequest.column == 'created_at'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n                </th>\n                <th @click=\"sortColumn('subtotal_price')\">\n                    Subtotal Price\n                    <span v-show=\"indexRequest.column == 'subtotal_price'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('total_tax')\">\n                    Total Tax\n                    <span v-show=\"indexRequest.column == 'total_tax'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                <th @click=\"sortColumn('total_price')\">\n                    Total Price\n                    <span v-show=\"indexRequest.column == 'total_price'\">\n                        <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                        <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                    </span>\n                </th>\n                </thead>\n                <tbody v-if=\"receipts.length > 0\">\n                    <tr v-for=\"receipt in receipts\">\n                        <td>{{receipt.first_name + ' ' + receipt.last_name}}</td>\n                        <td>{{ receipt.title }}</td>\n                        <td>{{receipt.created_at | cpStandardDate}}</td>\n                        <td>{{receipt.subtotal_price | currency}}</td>\n                        <td>{{receipt.total_tax | currency}}</td>\n                        <td>{{receipt.total_price | currency}}</td>\n                    </tr>\n                </tbody>\n                <tbody v-else>\n                    <tr class=\"row\">\n                        <td class=\"cell\">\n                            <span class=\"overflow\">There are no users to display.</span>\n                        </td>\n                    </tr>\n                </tbody>\n        </table>\n        <section class=\"cp-table-mobile\">\n            <div v-for=\"receipt in receipts\">\n                <div><span>Name: </span><span>{{receipt.first_name + ' ' + receipt.last_name}}</span></div>\n                <div><span>Title: </span><span>{{ receipt.title }}</span></div>\n                <div><span>Date: </span><span>{{receipt.ends_at | cpStandardDate}}</span></div>\n                <div><span>Subtotal Price: </span><span>{{receipt.subtotal_price | currency}}</span></div>\n                <div><span>Total Tax: </span><span>{{receipt.total_tax| currency}}</span></div>\n                <div><span>Total Price: </span><span>{{receipt.total_price| currency}}</span></div>\n            </div>\n        </section>\n        <div class=\"align-center\">\n            <div class=\"no-results\" v-if=\"noResults\">\n                <span>No results for this timeframe</span>\n            </div>\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n            <cp-pagination :pagination=\"pagination\" :callback=\"getSubscriptionReceipts\" :offset=\"2\"></cp-pagination>\n        </div>\n        <!--  MODAL -->\n        <transition>\n            <section class=\"cp-modal-standard\" v-if=\"showReceipt\" @click=\"showReceipt = false\">\n                <div class=\"cp-modal-body\">\n                    <cp-show-receipt :user=\"userReceipt\" :indexRequest=\"indexRequest\"></cp-show-receipt>\n                </div>\n            </section>\n        </transition>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/subscription/form.vue:script


      sms.vComponent('assets/js/components/subscription/form.vue', {"name":"CpForm","path":"assets/js/components/subscription/form.vue"}, (require,exports,module)=>{
        
  const Subscription = require('../../resources/subscription.js')

  module.exports = {
    name: 'CpSubscriptionForm',
    routing: [
      {
        name: 'site.CpSubscriptionFormEdit',
        path: 'subscription-plan/edit/:id',
        meta: {
          title: 'Edit Subscription Plan'
        },
        props: true
      },
      {
        name: 'site.CpSubscriptionFormCreate',
        path: 'subscriptions/create',
        meta: {
          title: 'Create Subscription Plan'
        },
        props: true
      }
    ],
    data: function () {
      return {
        loaded: false,
        isEditMode: false,
        subscription: {
          type: Object,
          require: false,
          default () {
            return {
              description: null,
              on_sign_up: 0,
              duration: 1,
              renewable: 1,
              seller_type_id: null,
              price: {},
              tax_class: ''
            }
          }
        },
        errorMessages: {}
      }
    },
    props: {
      edit: {
        type: Boolean,
        default: false
      },
      validationErrors: {
        default () {
          return {}
        }
      }
    },
    created: function () {
      if (!this.subscription.price) {
        this.subscription.price = {}
      }
      if (!this.subscription.seller_type_id) {
        this.subscription.seller_type_id = null
      }
    },
    mounted: function () {
      // Workaround to get subscription when using form for edit
      // Once we move to normal routing we can pass the subscription as a prop again
      this.isEditMode = this.edit
      var planId = this.$pathParameter()
      if (planId) {
        this.getPlan(planId)
        this.isEditMode = true
      }
      if (this.isEditMode === false) {
        this.loaded = true
      }
    },
    methods: {
      savePlan: function () {
        if (this.isEditMode === false) {
          Subscription.subscriptionPlanCreate(this.subscription)
            .then((response) => {
              if (response.error) {
                this.errorMessages = response.message
                return
              }
              this.errorMessages = {}
              this.$toast(response.message, { dismiss: false })
              window.location.href = '/subscription-plans/all'
            })
        } else {
          Subscription.updateSubscription(this.subscription)
              .then((response) => {
                if (response.error) {
                  this.errorMessages = response.message
                  return
                }
                this.errorMessages = {}
                return this.$toast(response.message, { dismiss: false })
              })
        }
      },
      getPlan: function (id) {
        Subscription.planPrice(id)
          .then((response) => {
            if (!response || response.error) {
              this.$toast('Plan not found')
              return
            }
            this.loaded = true
            this.subscription = response
          })
      },
      autorenewSelected: function (freeTrialTime) {
        this.subscription.renewable = this.subscription.duration != '0' || freeTrialTime > 0
      },
      durationSelected: function (duration) {
        this.subscription.renewable = duration != '0' || this.subscription.free_trial_time > 0
      }
    },
    computed: {
      disableAutoRenew () {
        return this.subscription.duration == 0
      }
    },
    components: {
      CpSelect: require('../../cp-components-common/inputs/CpSelect.vue'),
      CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
      CpEditor: require('../../cp-components-common/inputs/CpEditor.vue')
    }
  }
;
        module.exports.template = "\n    <div class=\"subscription-form-wrapper\">\n        <div class=\"cp-form-standard\">\n            <div>\n                <div>\n                    <label>Subscription Plan Title</label>\n                    <cp-input\n                    type=\"text\"\n                    placeholder=\"Title\"\n                    :error=\"errorMessages.title\"\n                    v-model=\"subscription.title\"></cp-input>\n                </div>\n                <div>\n                    <label>Price</label>\n                    <cp-input\n                    type=\"number\"\n                    placeholder=\"14.95\"\n                    :error=\"errorMessages.price\"\n                    v-model=\"subscription.price.price\"></cp-input>\n                </div>\n                <div  v-if=\"$getGlobal('tax_subscription').show\">\n                    <label>Tax Class</label>\n                    <cp-input\n                    type=\"text\"\n                    placeholder=\"00000000\"\n                    :error=\"errorMessages.tax_class\"\n                    v-model=\"subscription.tax_class\"></cp-input>\n                </div>\n                <cp-select\n                  label=\"Frequency\"\n                  type=\"text\"\n                  :options=\"[\n                    { name: 'Monthly', value: 1 },\n                    { name: 'Quarterly', value: 3 },\n                    { name: 'Yearly', value: 12 },\n                    { name: 'One-Time', value: '0' }\n                  ]\"\n                  @input=\"durationSelected\"\n                  :error=\"errorMessages['duration']\"\n                  v-model=\"subscription.duration\"></cp-select>\n                <div>\n                    <label>Free Trial Period (days)</label>\n                    <cp-input\n                    type=\"text\"\n                    placeholder=\"How many days?\"\n                    @input=\"autorenewSelected\"\n                    :error=\"errorMessages.free_trial_time\"\n                    v-model=\"subscription.free_trial_time\"></cp-input>\n                </div>\n                <div :class=\"{ error: errorMessages.on_sign_up }\" class=\"radio-box\">\n                    <label>Show on Sign up</label>\n                    <!-- <br> -->\n                    <label>Yes <input name=\"subscription\" type=\"radio\" v-model=\"subscription.on_sign_up\" value=1></label>\n                    <label>No <input name=\"subscription\" type=\"radio\" v-model=\"subscription.on_sign_up\" value=0></label>\n                    <span v-show=\"errorMessages.on_sign_up\" class=\"cp-warning-message\">{{ errorMessages.on_sign_up }}</span>\n                </div>\n                <cp-select\n                  label=\"Seller Type\"\n                  type=\"text\"\n                  :options=\"[\n                    { name: 'Affiliate', value: 1 },\n                    { name: 'Reseller', value: 2 }\n                  ]\"\n                  :error=\"errorMessages['seller_type']\"\n                  v-model=\"subscription.seller_type_id\"></cp-select>\n                <div class=\"editor-wrapper\">\n                    <label for=\"\">Create Your Subscription Plan Here.</label>\n                    <cp-editor v-if=\"loaded\" v-model=\"subscription.description\"></cp-editor>\n                </div>\n                <div>\n                    <button class=\"cp-button-standard save-button\" @click=\"savePlan()\">Save</button>\n                </div>\n            </div>\n        </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/users/index.vue:script

sms.vComponent('assets/js/components/users/index.vue', { name: 'CpUserIndex', routing: { name: 'site.CpUserIndex', meta: { title: 'Users' }, path: 'users', props: true } }, (require, exports, module)=>{

const Users = require('../../resources/users.js')
const Auth = require('auth')
const UserStatus = require('../../resources/user-status.js')
const moment = require('moment')
const _ = require('lodash')

module.exports = {
  data: function () {
    return {
      Auth: Auth,
      moment: moment,
      loading: false,
      users: [],
      pagination: {
        current_page: 1
      },
      reverseSort: false,
      userCount: 0,
      activeTag: 'all',
      activeUser: {
        all: true,
        admin: false,
        rep: false,
        customer: false
      },
      selectedUser: {},
      showConfirm: false,
      showConfirmDate: false,
      newDate: {},
      showBankDownload: false,
      userStatuses: [
       { name: 'ALL', active: true }
      ],
      disableSelectBox: true,
      usersToUpdate: [],
      statusUpdate: null,
      statuses: [],
      indexRequest: {
        search_term: null,
        column: 'last_name',
        order: 'ASC',
        role: '',
        page: 1,
        per_page: 15,
        status: ''
      }
    }
  },
  filters: {
    phone (number) {
      if (number) {
        return number.replace(/(\d{3})(\d{3})(\d{4})/, "($1) $2-$3");
      }
    }
  },
  mounted: function () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
    Auth.hasAnyRole('Superadmin') ? this.showBankDownload = true : this.showBankDownload = false
    this.getUserStatus()
    this.getUsers()
  },
  methods: {
    checkUsersLength: _.debounce(function () {
      if (this.usersToUpdate.length >= 1) {
        this.disableSelectBox = false
      } else {
        this.disableSelectBox = true
      }
    }, 100),
    confirmJoinDate (user, joinDate) {
      this.showConfirmDate = true
      this.newDate = {
        // Hard coded hours to 12 so that the utc offset will still be on the chosen date
        join_date: moment(joinDate).format('YYYY-MM-DD 12:mm:ss'),
        user_id: user.id,
        name: user.first_name + ' ' + user.last_name
      }
    },
    selectUsers (name) {
      this.resetUserStatuses()
      switch (name) {
        case 'ALL':
          this.getUsers(this.indexRequest.role = '', this.pagination.current_page = 1)
          this.setActiveClass('all')
          this.activeTag = 'all'
          break
        case 'ADMINS':
          this.getUsers(this.indexRequest.role = 7, this.pagination.current_page = 1)
          this.activeTag = 'admin'
          break
        case this.$getGlobal('title_rep').value.toUpperCase() + 'S':
          this.getUsers(this.indexRequest.role = 5, this.pagination.current_page = 1)
          this.activeTag = 'rep'
          break
        case 'CUSTOMERS':
          this.getUsers(this.indexRequest.role = 3, this.pagination.current_page = 1)
          this.activeTag = 'customer'
          break
        default: }
    },
    selectUserStatus (name) {
      this.indexRequest.page = 1
      if (name == 'ALL') {
        this.indexRequest.status = ''
      } else {
        this.indexRequest.status = name.toLowerCase()
      }
      this.getUsers()
    },
    getUsers: function () {
      this.loading = true
      this.indexRequest.page = this.pagination.current_page
      Users.index(this.indexRequest)
        .then((response) => {
          if (!response.error) {
            this.pagination = response
            this.userCount = response.total
            this.users = response.data
            this.loading = false
            return response
          }
        })
    },
    getUserStatus: function () {
      UserStatus.getIndex()
      .then((response) => {
        for (var item in response) {
          this.statuses.push(response[item])
          if (response[item].visible) {
            this.userStatuses.push({
              name: response[item].name.toUpperCase(),
              active: false
            })
          }
        }
      })
    },
    updateStatuses () {
      if (this.usersToUpdate.length > 0) {
        UserStatus.updateStatuses({ users: this.usersToUpdate, status: this.statusUpdate})
          .then((response) => {
          if (response.error) {
            return this.$toast(response.message)
          }
          this.usersToUpdate = []
          this.statusUpdate = null
          this.disableSelectBox = true
          this.getUsers()
          return this.$toast('statuses updated', {dismiss: false})
        })
      }
    },
    resetUserStatuses () {
      this.indexRequest.status = ''
      for (status in this.userStatuses) {
        if (this.userStatuses[status].name === 'ALL') {
          this.userStatuses[status].active = true
        } else {
          this.userStatuses[status].active = false
        }
      }
    },
    deleteUser: function () {
      Users.softDeleteUser({ids: [this.selectedUser.id]})
        .then((response) => {
        if (!response.error) {
          this.$toast(this.selectedUser.role.name + ', ' + this.selectedUser.full_name + ' has been deleted.')
          this.showConfirm = false
          return this.getUsers(this.indexRequest)
        }
        return this.$toast(response.message)
      })
    },
    saveJoinDate: function () {
      Users.editJoinDate(this.newDate)
        .then((response) => {
          if (response.error) {
            this.$toast(response.message + ' ' + this.newDate.join_date + ' for ' + this.newDate.name, { error: true, dismiss: true })
            return this.getUsers(this.indexRequest)
          } else {
            this.$toast(this.newDate.name + ' was updated', {dismiss: true})
          }
        })
    },
    setActiveClass: function (user) {
      this.activeUser = {
        all: false,
        admin: false,
        rep: false,
        customer: false
      }
      switch (user) {
        case 'all':
          this.activeUser.all = true
          this.activeTag = 'all'
          break
        case 'admin':
          this.activeUser.admin = true
          this.admin = true
          this.activeTag = 'admin'
          break
        case 'rep':
          this.activeUser.rep = true
          this.rep = true
          this.activeTag = 'rep'
          break
        case 'customer':
          this.activeUser.customer = true
          this.customer = true
          this.activeTag = 'customer'
          break
      }
    },
    sortColumn: function (column) {
      this.reverseSort = !this.reverseSort
      this.indexRequest.column = column
      this.asc = !this.asc
      if (this.asc === true) {
        this.indexRequest.order = 'asc'
      } else {
        this.indexRequest.order = 'desc'
      }
      this.getUsers()
    }
  },
  components: {
    'CpConfirm': require('../../cp-components-common/CpConfirm.vue'),
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue'),
    CpTabs: require('../../cp-components-common/navigation/CpTabs.vue')

  }
}

;module.exports.template = "\n    <div class=\"user-index-wrapper\">\n        <div>\n          <a class=\"cp-button-standard\" href=\"/users/create\">New User</a>\n            <a class=\"cp-button-standard download\" download :href=\"'/api/v1/user/csv?search_term=' +indexRequest.search_term +\n                '&column=' + indexRequest.column +\n              '&order=' + indexRequest.order +\n              '&role=' + indexRequest.role +\n              '&status=' + indexRequest.status +\n              '&page=' + indexRequest.page\">Download CSV</a>\n            <a v-show=\"showBankDownload\" class=\"cp-button-standard download\" download href=\"/api/v1/banking/csv/all-users\">Download Banking CSV</a>\n    <cp-tabs\n     :items=\"[\n       { name: 'ALL', active: true },\n       { name: 'ADMINS', active: false },\n       { name: $getGlobal('title_rep').value.toUpperCase() + 'S', active: false },\n       { name: 'CUSTOMERS', active: false },\n     ]\"\n     :callback=\"selectUsers\"></cp-tabs>\n    <cp-tabs v-if=\"activeTag == 'rep' || Auth.hasAnyRole('Superadmin') && activeTag == 'admin'\"\n     :items=\"userStatuses\"\n     custom-class=\"cp-tabs-light\"\n     :callback=\"selectUserStatus\"></cp-tabs>\n        <cp-table-controls\n          :date-picker=\"false\"\n          :index-request=\"indexRequest\"\n          :resource-info=\"pagination\"\n          :get-records=\"getUsers\"></cp-table-controls>\n        <div v-if=\"activeTag == 'rep' || Auth.hasAnyRole('Superadmin') && activeTag == 'admin'\" class=\"status-select\">\n             <select  v-model=\"statusUpdate\" @change=\"updateStatuses()\" :class=\"{ 'disable-select-box': disableSelectBox }\">\n                 <option :value='null' selected disabled>Change Status to:</option>\n                 <option v-for=\"status in statuses\" :value=\"status.name\">{{status.name.charAt(0).toUpperCase() + status.name.slice(1)}}</option>\n             </select>\n         </div>\n        <table class=\"cp-table-standard desktop\">\n            <thead>\n                <tr>\n                    <th v-if=\"activeTag == 'rep' || Auth.hasAnyRole('Superadmin') && activeTag == 'admin'\"><!--checkbox--></th>\n                    <th @click=\"sortColumn('last_name')\">Name\n                        <span v-show=\"indexRequest.column == 'last_name'\">\n                            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        </span>\n                    </th>\n                    <th @click=\"sortColumn('id')\">ID\n                        <span v-show=\"indexRequest.column == 'id'\">\n                            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        </span>\n                    </th>\n                    <th @click=\"sortColumn('state')\">State\n                        <span v-show=\"indexRequest.column == 'state'\">\n                            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        </span>\n                    </th>\n                    <th>Phone</th>\n                    <th v-if=\"activeTag != 'rep'\">Role</th>\n                    <th v-else @click=\"sortColumn('rep_type')\">Role\n                        <span v-show=\"indexRequest.column == 'rep_type'\">\n                            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        </span>\n                    </th>\n                    <th v-if=\"activeTag == 'rep' || Auth.hasAnyRole('Superadmin') && activeTag == 'admin'\" @click=\"sortColumn('status')\">Status\n                        <span v-show=\"indexRequest.column == 'status'\">\n                            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        </span>\n                    </th>\n                    <th @click=\"sortColumn('join_date')\">Join Date\n                        <span v-show=\"indexRequest.column == 'join_date'\">\n                            <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                            <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                        </span>\n                    </th>\n                    <th v-show=\"activeTag === 'rep'\">Bank Status\n                    </th>\n                </tr>\n            </thead>\n            <tbody v-if=\"!loading\">\n                <tr v-for=\"user in users\">\n                    <td v-if=\"activeTag == 'rep' || Auth.hasAnyRole('Superadmin') && activeTag == 'admin'\"><input type=\"checkbox\" :id=\"user.id\" :value=\"user.id\" v-model=\"usersToUpdate\" @click=\"checkUsersLength()\"/></td>\n                    <td><a :href=\"'/my-settings/' + user.id\">{{user.last_name}}, {{user.first_name}}</a></td>\n                    <td>{{user.id}}</td>\n                    <td>{{user.state}}</td>\n                    <td>{{user.phone_number | phone}}</td>\n\n                    <td>\n                        <span v-if=\"user.role.name === 'Rep' && user.seller_type_id === 1\">Affiliate</span>\n                        <span v-if=\"user.role.name === 'Rep' && user.seller_type_id === 2\">Reseller</span>\n                        <span v-if=\"user.role.name !== 'Rep'\">{{user.role.name}}</span>\n                    </td>\n                    <td v-if=\"activeTag == 'rep' || Auth.hasAnyRole('Superadmin') && activeTag == 'admin'\">{{user.status.charAt(0).toUpperCase() + user.status.slice(1)}}</td>\n                    <td v-if=\"Auth.hasAnyRole('Superadmin') && $getGlobal('edit_join_date').show\"><cp-datetime :value=\"moment.utc(user.join_date).local().format('YYYY-MM-DD HH:mm:ss')\" type=\"date\" @input=\"confirmJoinDate(user, $event)\"></cp-datetime></td>\n                    <td v-else>{{ user.join_date | cpStandardDate(0, 0) }}</td>\n                    <td v-show=\"activeTag === 'rep'\">\n                        <span v-if=\"user.role_id == 5 && user.verified == 1\">Verified</span>\n                        <span v-else>Unverified</span>\n                    </td>\n                </tr>\n                <cp-confirm\n                :message=\"'Are you sure you want to change the join date of ' + newDate.name  + ' to ' + moment(newDate.join_date).format('L') \"\n                v-model=\"showConfirmDate\"\n                :show=\"showConfirmDate\"\n                :callback=\"saveJoinDate\"\n                :params=\"{}\"></cp-confirm>\n            </tbody>\n        </table>\n<section class=\"cp-table-mobile\">\n  <div v-for=\"user in users\" >\n  <div><span>Name: </span><span><a :href=\"'/my-settings/'+ user.id\">{{user.last_name}}, {{user.first_name}}</a></span></div>\n  <div><span>ID: </span><span>{{user.id}}</span></div>\n  <div><span>State: </span><span>{{user.state}}</span></div>\n  <div><span>Phone: </span><span>{{user.phone_number | phone}}</span></div>\n  <div><span>Role: </span><span>\n    <span v-if=\"user.role.name === 'Rep' && user.seller_type_id === 1\">Affiliate</span>\n    <span v-if=\"user.role.name === 'Rep' && user.seller_type_id === 2\">Reseller</span>\n    <span v-if=\"user.role.name !== 'Rep'\">{{user.role.name}}</span></span>\n  </div>\n  <div><span>Join Date: </span><span>{{user.join_date | cpStandardDate(0, 0) }}</span></div>\n</div>\n</section>\n        <div class=\"align-center\">\n            <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n            <cp-pagination :pagination=\"pagination\" :callback=\"getUsers\" :offset=\"2\"></cp-pagination>\n        </div>\n    </div>\n\n</div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/users/user-create-form.vue:script

sms.vComponent('assets/js/components/users/user-create-form.vue', { name: 'CpUserCreateForm', routing: { name: 'site.CpUserCreateForm', meta: { title: 'Create User' }, path: 'users/create', props: true } }, (require, exports, module)=>{

const Users = require('../../resources/users.js')
const { states } = require('../../resources/states.js')

module.exports = {
  data () {
    return {
      enableCreate: true,
      roles: [],
      states: states,
      user: {
        first_name: '',
        last_name: '',
        public_id: '',
        password: '',
        password_confirmation: '',
        email: '',
        phone: {
          number: ''
        },
        role: {},
        address_1: '',
        address_2: '',
        city: '',
        state: '',
        zip: ''
      },
      errorMessages: {}
    }
  },
  computed: {},
  mounted: function () {
    this.getRoles()
  },
  methods: {
    getRoles: function () {
      Users.adminCreatableRoles()
        .then((response) => {
          if (response.error) {
            return this.$toast(response.message, { error: true })
          }
          this.roles = response
        })
    },
    createUser: function () {
      if (this.user.phone.number) {
        this.user.phone.number = this.user.phone.number.replace(/-/g, '').replace(/\(|\)/g, '')
      }
      this.enableCreate = false
      this.$toast('Creating new user...', { dismiss: false })
      Users.create(this.user)
        .then((response) => {
          if (response.error) {
            this.errorMessages = response.message
            this.enableCreate = true
            return
          }
          this.errorMessages = {}
          this.$toast('User created successfully.', { dismiss: false })
          this.user = {
            first_name: '',
            last_name: '',
            public_id: '',
            password: '',
            password_confirmation: '',
            email: '',
            phone: {
              number: null
            },
            role: {},
            address_1: '',
            address_2: '',
            city: '',
            state: '',
            zip: ''
          }
          this.enableCreate = true
          this.$forceUpdate()
          return
        })
    }
  },
  components: {
    CpInputMask: require('../../cp-components-common/inputs/CpInputMask.vue')
  }
}

;module.exports.template = "\n    <div class=\"user-create-wrapper\">\n        <div class=\"cp-box-standard\">\n            <div class=\"cp-box-heading\">\n                <h5>Create</h5>\n            </div>\n            <div class=\"cp-box-body\">\n                <form class=\"cp-form-standard user-create-form\">\n                    <label>First Name:</label>\n                    <input type=\"text\" :class=\"{ error: errorMessages.first_name }\" placeholder=\"First Name\" v-model=\"user.first_name\">\n                    <span v-show=\"errorMessages.first_name\" class=\"cp-warning-message\">{{ errorMessages.first_name }}</span>\n\n                    <label>Last Name:</label>\n                    <input type=\"text\" :class=\"{ error: errorMessages.last_name }\" placeholder=\"Last Name\" v-model=\"user.last_name\">\n                    <span v-show=\"errorMessages.last_name\" class=\"cp-warning-message\">{{ errorMessages.last_name }}</span>\n\n                    <label>Public ID: </label>\n                    <input type=\"text\" :class=\"{ error: errorMessages.public_id }\" placeholder=\"Public ID\" v-model=\"user.public_id\">\n                    <span v-show=\"errorMessages.public_id\" class=\"cp-warning-message\">{{ errorMessages.public_id }}</span>\n\n                    <label>Email:</label>\n                    <input type=\"email\" :class=\"{ error: errorMessages.email }\" placeholder=\"Email\" v-model=\"user.email\">\n                    <span v-show=\"errorMessages.email\" class=\"cp-warning-message\">{{ errorMessages.email }}</span>\n\n                    <label>Password:</label>\n                    <input type=\"password\" :class=\"{ error: errorMessages.password }\" placeholder=\"Password\" v-model=\"user.password\">\n                    <span v-show=\"errorMessages.password\" class=\"cp-warning-message\">{{ errorMessages.password }}</span>\n\n                    <label>Password Confirmation:</label>\n                    <input type=\"password\" :class=\"{ error: errorMessages.password_confirmation }\" placeholder=\"Confirm Password\" v-model=\"user.password_confirmation\">\n                    <span v-show=\"errorMessages.password_confirmation\" class=\"cp-warning-message\">{{ errorMessages.password_confirmation }}</span>\n\n                    <cp-input-mask\n                    label=\"Phone Number\"\n                    mask=\"###-###-####\"\n                    :error=\"errorMessages.phone\"\n                    v-model=\"user.phone.number\">\n                  </cp-input-mask>\n                    <div>\n                        <label>User Role: </label>\n                        <div class=\"cp-select-standard\" :class=\"{ error: errorMessages.role }\">\n                          <select v-model=\"user.role\">\n                            <option value=\"\" selected>Select Role</option>\n                            <option v-for=\"role in roles\" :value=\"role\">{{ role.name }}</option>\n                          </select>\n                        </div>\n                        <span v-show=\"errorMessages.role\" class=\"cp-warning-message\">{{ errorMessages.role }}</span>\n\n                        <div class=\"role-description cp-panel-standard\" v-if=\"user.role\">\n                            <h5>{{ user.role.name }} Description: </h5>\n                            <p>\n                                {{ user.role.description }}\n                            </p>\n                        </div>\n                    </div>\n                    <label>Address 1:</label>\n                    <input type=\"text\" :class=\"{ error: errorMessages.address_1 }\" placeholder=\"Street address, P.O. Box\" v-model=\"user.address_1\">\n                    <span v-show=\"errorMessages.address_1\" class=\"cp-warning-message\">{{ errorMessages.address_1 }}</span>\n\n                    <label>Address 2:</label>\n                    <input type=\"text\" :class=\"{ error: errorMessages.address_2 }\" placeholder=\"Apartment, suite, building, floor\" v-model=\"user.address_2\">\n                    <span v-show=\"errorMessages.address_2\" class=\"cp-warning-message\">{{ errorMessages.address_2 }}</span>\n\n                    <label>City:</label>\n                    <input type=\"text\" :class=\"{ error: errorMessages.city}\" placeholder=\"City\" v-model=\"user.city\">\n                    <span v-show=\"errorMessages.city\" class=\"cp-warning-message\">{{ errorMessages.city }}</span>\n                    <div class=\"select-wrapper\">\n                        <label>State:</label>\n                        <div class=\"cp-select-standard\" :class=\"{ error: errorMessages.state }\">\n                       <select v-model=\"user.state\">\n                         <option :value=\"{}\" selected>Select State</option>\n                         <option v-for=\"state in states\" :value=\"state.value\">{{ state.name }}</option>\n                       </select>\n                        </div>\n                       <span v-show=\"errorMessages.state\" class=\"cp-warning-message\">{{ errorMessages.state }}</span>\n\n                    </div>\n                    <label>Zip Code:</label>\n                    <input type=\"text\" :class=\"{ error: errorMessages.zip }\" placeholder=\"Zip Code\" v-model=\"user.zip\">\n                    <span v-show=\"errorMessages.zip\" class=\"cp-warning-message\">{{ errorMessages.zip }}</span>\n                    <button v-show=\"enableCreate\" class=\"cp-button-standard user-create-button\" type=\"button\" @click=\"createUser()\">Create</button>\n                </form>\n            </div>\n        </div>\n    </div>\n";
})



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/webhooks/CpWebhooks.vue:script


      sms.vComponent('assets/js/components/webhooks/CpWebhooks.vue', {"name":"CpWebhooks","path":"assets/js/components/webhooks/CpWebhooks.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')
const Webhooks = require('../../resources/WebhooksAPIv0.js')
const _ = require('lodash')

module.exports = {
  name: 'CpWebhooks',
  routing: [
    {
      name: 'site.CpWebhooks',
      path: 'webhooks',
      meta: {
        title: 'Webhooks'
      },
      props: true
    }
  ],
  data: () => ({
    Auth: Auth,
    loading: false,
    webhooks: [],
    webhookModal: false,
    indexRequest: {
      per_page: 50,
      sort_by: 'name',
      page: 1
    },
    pagination: {},
    webhookEventMap: {

    }
  }),
  mounted () {
    if (!Auth.hasAnyRole('Superadmin')) {
      // TODO superadmin only
    } else {
      this.getWebhooks()
    }
  },
  methods: {
    getWebhooks () {
      this.loading = true
      this.indexRequest.page = this.pagination.current_page
      Webhooks.search(this.indexRequest)
        .then((response) => {
          this.loading = false
          if (response.error) {
            return this.$toast(response.message)
          }
          this.webhooks = response.data
          this.pagination = response
        })
    },
    newWebhook () {
      this.selectedWebhook = null
      this.webhookModal = true
    },
    editWebhook (webhook) {
      this.selectedWebhook = webhook
      this.webhookModal = true
    },
    clearModal () {
      this.webhookModal = false
      this.selectedWebhook = null
    },
    updateSort: function (sortBy) {
      if (this.indexRequest.sort_by.includes(sortBy)) {
        if (this.indexRequest.sort_by.indexOf('-') == 0) {
          this.indexRequest.sort_by = sortBy
        } else {
          this.indexRequest.sort_by = '-' + sortBy
        }
      } else {
        this.indexRequest.sort_by = sortBy
      }
      this.getWebhooks()
    },
    webhookCreated (webhook) {
      this.webhooks.push(webhook)
      this.clearModal()
    },
    webhookUpdated (webhook) {
      let i = this.webhooks.indexOf(this.selectedWebhook)
      if (i > -1) {
        this.webhooks[i] = webhook
      }
      this.clearModal()
    },
    webhookDeleted () {
      let i = this.webhooks.indexOf(this.selectedWebhook)
      if (i > -1) {
        this.webhooks.splice(i, 1)
      }
      this.clearModal()
    },
    formatEventSlug (slug) {
      if (Webhooks.getEventMap().hasOwnProperty(slug)) {
        return Webhooks.getEventMap()[slug]
      } else {
        return slug.split('-').map(function (string) {
            return string.charAt(0).toUpperCase() + string.substring(1)
          }
        ).join(' ')
      }
    }
  },
  components: {
    CpConfirm: require('../../cp-components-common/CpConfirm.vue'),
    CpWebhookForm: require('../webhooks/CpWebhookForm.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"webhook-wrapper\">\n    <div style=\"margin-bottom: 16px;\">\n        <button @click=\"newWebhook()\" class=\"cp-button-link\">Create Webhook</button>\n    </div>\n    <div class=\"webhook-list-container\">\n      <div class=\"webhook-header\">\n        <div class=\"webhook-container\">\n          <div class=\"webhook-info-container\">\n            <div class=\"cp-clickable\" @click=\"updateSort('name')\">\n              <div class=\"column-name\">Name<i v-show=\"indexRequest.sort_by.includes('name')\" :class=\"['mdi', '', indexRequest.sort_by.indexOf('-') == 0 ? 'mdi-sort-descending' : 'mdi-sort-ascending']\"></i></div>\n            </div>\n            <div class=\"cp-clickable\" @click=\"updateSort('event')\">\n              <div class=\"column-name\">Event<i v-show=\"indexRequest.sort_by.includes('event')\" :class=\"['mdi', '', indexRequest.sort_by.indexOf('-') == 0 ? 'mdi-sort-descending' : 'mdi-sort-ascending']\"></i></div>\n            </div>\n            <div class=\"column-name\">Delivery URL</div>\n          </div>\n          <div class=\"column-name\">Active</div>\n        </div>\n      </div>\n      <div v-for=\"(webhook, index) in webhooks\" v-if=\"!loading\" class=\"webhook-container\">\n        <div class=\"webhook-info-container\">\n          <div class=\"attribute\" data-name=\"Name\"><a @click=\"editWebhook(webhook)\">{{ webhook.name }}</a></div>\n          <div class=\"attribute\" data-name=\"Event\">{{ formatEventSlug(webhook.event) }}</div>\n          <div class=\"attribute\" data-name=\"URL\">{{ webhook.url }}</div>\n        </div>\n        <div class=\"attribute\" data-name=\"Active\">\n          <i :class=\"['mdi', 'mdi-checkbox-blank-circle', webhook.active ? 'webhook-on' : 'errorText']\"></i>\n        </div>\n      </div>\n    </div>\n    <div class=\"align-center\">\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n        <cp-pagination\n        :pagination=\"pagination\"\n        :callback=\"getWebhooks\"\n        :offset=\"2\"></cp-pagination>\n    </div>\n    <cp-dialog :open=\"webhookModal\" @close=\"clearModal()\">\n      <h2 slot=\"header\">Webhook</h2>\n      <template slot=\"content\">\n        <cp-webhook-form\n          v-if=\"webhookModal\"\n          :webhookProp=\"selectedWebhook\"\n          @close=\"clearModal\"\n          @webhook-created=\"webhookCreated\"\n          @webhook-updated=\"webhookUpdated\"\n          @webhook-deleted=\"webhookDeleted\"\n        ></cp-webhook-form>\n      </template>\n    </cp-dialog>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/webhooks/CpWebhookSha256.vue:script


      sms.vComponent('assets/js/components/webhooks/CpWebhookSha256.vue', {"name":"CpWebhookSha256","path":"assets/js/components/webhooks/CpWebhookSha256.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
      auth: {
        type: 'sha256',
        secret: ''
      },
      validationErrors: {}
    }
  },
  props: ['webhook'],
  created () {
    this.auth.secret = this.webhook.config.auth.secret
  },
  methods: {
    generateSecret () {
      let secret = ''
      for(let i = 0; i < 64; i++) {
        let x = Math.floor(Math.random() * 61.99)
        if (x > 35) {
          secret += String.fromCharCode(x + 61)
        } else if (x > 9) {
          secret += String.fromCharCode(x + 55)
        } else {
          secret += String.fromCharCode(x + 48)
        }
      }
      this.auth.secret = secret
    },
    validate () {
      let errors = {}
      if (this.auth.secret.length < 16) {
        errors['secret'] = ['Must be at least 16 characters']
      } else if(this.auth.secret.length > 64) {
        errors['secret'] = ['Can not be more than 64 characters']
      } else if(!/^[\w!@#$%^&*-=+]*$/.test(this.auth.secret)) {
        errors['secret'] = ['Must be letters, numbers, or any of !@#$%^&*-=+']
      }

      if (Object.keys(errors).length > 0) {
        this.validationErrors = errors
        this.loading = false
        return false
      } else {
        this.validationErrors = {}
        return true
      }
    },
    getAuth () {
      return this.auth
    }
  }
}
;
        module.exports.template = "\n  <div>\n    <div>A header of Payload-Signature {hash} will be provided with hook requests</div>\n    <div>The hash will be a base64 encoded sha256 hash of the request body</div>\n    <cp-input\n      label=\"Secret Key\"\n      type=\"text\"\n      :error=\"validationErrors['secret']\"\n      v-model=\"auth.secret\">\n    </cp-input>\n    <div style=\"margin-bottom: 16px;\">\n      <button @click=\"generateSecret()\" class=\"cp-button-link\">Generate Secret</button>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/subscription/CpTotalsBanner.vue:script


      sms.vComponent('assets/js/components/subscription/CpTotalsBanner.vue', {"name":"CpTotalsBanner","path":"assets/js/components/subscription/CpTotalsBanner.vue"}, (require,exports,module)=>{
        
module.exports = {
  props: {
    totals: {
      type: Array,
      required: true
    },
    totalsTitle: {
      type: String,
      required: false
    }
  },
  mounted: function () {
  }
}
;
        module.exports.template = "\n  <div class=\"totals-banner-subscription\">\n    <span v-if=\"totalsTitle\" class=\"totals-column totals-title\">{{ totalsTitle }}</span>\n    <span v-for=\"total in totals\" class=\"totals-column\">\n      <span class=\"total-title\">{{ total.title }}</span>\n      <span v-if=\"total.amount\">\n        <span class=\"total-amount\">{{ total.amount || 0 | currency }}</span>\n      </span>\n      <span v-else>\n          <span class=\"total-amount\">{{ total.count || 0 }}</span>\n      </span>\n    </span>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/CpConfirm.vue:script


      sms.vComponent('assets/js/cp-components-common/CpConfirm.vue', {"name":"CpConfirm","path":"assets/js/cp-components-common/CpConfirm.vue"}, (require,exports,module)=>{
        
module.exports = {
  data: function () {
    return {
    }
  },
  props: {
    message: {
      type: String,
      required: true
    },
    show: {
      type: Boolean,
      required: true
    },
    configOptions: {
      type: Object,
      required: false,
      default () {
        return {
          buttonTextOne: 'Confirm',
          buttonTextTwo: 'Cancel'
        }
      }
    },
    callback: {
      type: Function,
      required: true
    },
    onCancelled: {
      type: Function,
      required: false,
      default: function () {
      }
    },
    params: {
      type: [Object, Array],
      required: true
    }
  },
  watch: {
    'show': function () {
      if (this.show === true) {
        window.scrollTo(0, 0)
      }
    }
  }
}
;
        module.exports.template = "\n  <div class=\"confirm-wrapper\">\n    <transition name=\"modal\">\n      <section class=\"cp-modal-standard\" v-if=\"show\">\n          <div class=\"cp-modal-body\" @click=\"$event.stopPropagation();\">\n              <p>{{ message }}</p>\n              <button class=\"cp-button-standard close-confirm\" @click=\"$emit('input', false), callback(params)\">{{ configOptions.buttonTextOne || 'Confirm'}}</button>\n              <button class=\"cp-button-standard close-confirm\" @click=\"$emit('input', false), onCancelled(params)\">{{ configOptions.buttonTextTwo || 'Cancel'}}</button>\n          </div>\n      </section>\n    </transition>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/webhooks/CpWebhookForm.vue:script


      sms.vComponent('assets/js/components/webhooks/CpWebhookForm.vue', {"name":"CpWebhookForm","path":"assets/js/components/webhooks/CpWebhookForm.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')
const Webhooks = require('../../resources/WebhooksAPIv0.js')

module.exports = {
  data: () => ({
    Auth: Auth,
    webhook: null,
    authType: 'none',
    validationErrors: {},
    loading: false,
    showConfirm: false,
    options: [],
    authTypes: {
      'none': {name: 'None', component: null},
      'sha256': {name: 'Sha256', component: 'cp-webhook-sha256'}
    },
    authOptions: [],
    selectedAuth: null
  }),
  props: {
    webhookProp: {
      default () {
        return {}
      }
    }
  },
  created () {
    for (var a in this.authTypes) {
      if (this.authTypes.hasOwnProperty(a)) {
        this.authOptions.push({name: this.authTypes[a].name, value: a})
      }
    }
    if (this.webhookProp == null) {
      this.webhook = {name: '', url: '', event: '', active: false, config: {auth: {type: 'none'}}}
      this.authType = 'none'
    } else {
      this.webhook = JSON.parse(JSON.stringify(this.webhookProp))
      this.authType = this.webhook.config.auth.type
    }
    this.selectedAuth = this.authTypes[this.authType]
    let eventMap = Webhooks.getEventMap()
    for (var k in eventMap) {
        if (eventMap.hasOwnProperty(k)) {
           this.options.push({name: eventMap[k], value: k});
        }
    }
  },
  methods: {
    save () {
      this.loading = true
      let errors = {}
      if (this.$isBlank(this.webhook.name)) {
        errors['name'] = ['Required']
      } else if (this.webhook.name.length > 255) {
        errors['name'] = ['Must be less than 255 characters']
      }
      if (this.$isBlank(this.webhook.url)) {
        errors['url'] = ['Required']
      } else if (this.webhook.url.length > 255) {
        errors['name'] = ['Must be less than 255 characters']
      } else if (!this.$isUrl(this.webhook.url)) {
        errors['url'] = ['Must be valid URL']
      }

      let authValid = true
      if (this.authType !== 'none') {
        authValid = this.$refs.authComponent.validate()
        this.webhook.config.auth = this.$refs.authComponent.getAuth()
      } else {
        this.webhook.config.auth = {type: 'none'}
      }
      // Check to display errors
      if (!authValid || Object.keys(errors).length > 0) {
        this.validationErrors = errors
        this.loading = false
        return false
      } else {
        this.validationErrors = {}
      }
      // Update or create
      if (this.webhook.id) {
        this.updateWebhook()
      } else {
        this.createWebhook()
      }
    },
    authSelected (value) {
      this.selectedAuth = this.authTypes[value]
    },
    createWebhook () {
      this.loading = true
      Webhooks.create(this.webhook)
        .then((response) => {
          this.loading = false
          if (response.error) {
            this.validationErrors = response.message
            return this.$toast(response.message)
          }
          this.webhook = response
          this.$toast('Webhook created successfully.')
          this.$emit('webhook-created', response)
        })
    },
    updateWebhook () {
      Webhooks.update(this.webhook)
        .then((response) => {
          this.loading = false
          if (!response.error) {
            this.webhook = response
            this.$toast('Webhook updated successfully.', { dismiss: false })
            this.$emit('webhook-updated', this.webhook)
          } else {
            this.validationErrors = response.message
          }
        })
    },
    deleteWebhook () {
      this.loading = true
      Webhooks.delete(this.webhook.id)
        .then((response) => {
          this.loading = false
          if (!response.error) {
            this.$toast('Webhook deleted successfully.', { dismiss: false })
            this.$emit('webhook-deleted', this.webhook)
            this.webhook.id = null
          } else {
            this.$toast('Webhook delete failed.', {error: true, dismiss: true})
          }
        })
    }
  },
  components: {
    CpInput: require('../../cp-components-common/inputs/CpInput.vue'),
    CpSelect: require('../../cp-components-common/inputs/CpSelect.vue'),
    CpTooltip: require('../../custom-plugins/CpTooltip.vue'),
    CpWebhookSha256: require('./CpWebhookSha256.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"cp-form-standard\">\n    <div class=\"webhook-form-wrapper\">\n      <cp-input\n        label=\"Name\"\n        type=\"text\"\n        :error=\"validationErrors['name']\"\n        v-model=\"webhook.name\">\n      </cp-input>\n      <cp-select\n        label=\"Event\"\n        :options=\"options\"\n        :error=\"validationErrors['event']\"\n        v-model=\"webhook.event\">\n      </cp-select>\n      <cp-input\n        label=\"URL\"\n        type=\"url\"\n        :error=\"validationErrors['url']\"\n        v-model=\"webhook.url\">\n      </cp-input>\n      <div class=\"active-checkbox\">\n        <label>Active</label>\n        <input\n          type=\"checkbox\"\n          v-model=\"webhook.active\">\n        </input>\n      </div>\n      <div>\n        <cp-select\n          label=\"Auth\"\n          :options=\"authOptions\"\n          v-model=\"authType\"\n          @input=\"authSelected\">\n        </cp-select>\n        <component v-if=\"authType !== 'none'\" :is=\"selectedAuth.component\" v-bind=\"{webhook}\" :key=\"authType\" ref=\"authComponent\"></component>\n      </div>\n    </div>\n    <cp-confirm\n      :message=\"'Are you sure you want to delete this webhook? This can\\'t be undone.'\"\n      v-model=\"showConfirm\"\n      :show=\"showConfirm\"\n      :callback=\"deleteWebhook\"\n      :params=\"{}\">\n    </cp-confirm>\n    <div class=\"submit-button\">\n      <button class=\"cp-button-standard\" @click=\"$emit('close')\" :disabled=\"loading\">Cancel</button>\n      <button class=\"cp-button-standard\" @click=\"save()\" :disabled=\"loading\">Save</button>\n    </div>\n    <div v-if=\"webhook.id\" class=\"delete-button\">\n      <button class=\"cp-button-standard warning\" @click=\"showConfirm = true\" :disabled=\"loading\">Delete</button>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/CpDropzone.vue:script


      sms.vComponent('assets/js/cp-components-common/CpDropzone.vue', {"name":"CpDropzone","path":"assets/js/cp-components-common/CpDropzone.vue"}, (require,exports,module)=>{
        
const Dropzone = require('dropzone')

Dropzone.autoDiscover = false

module.exports = {
  data: function () {
    return {
      addedFile: [],
      uploadZone: {}
    }
  },
  props: {
    imported: {
      type: Boolean
    },
    import_steps: {
      type: Boolean
    },
    selected: {
      type: Object
    },
    replace: {
      type: Boolean
    },
    api_src: {
      required: true,
      type: String
    },
    default_message: {
      default: 'Drop your file to upload or click to browse',
      type: String
    },
    file_type: {
      required: true,
      type: String
    },
    id: {
      required: true,
      type: String
    },
    remove: {
      default: 'Remove file',
      type: String
    },
    setting_value: {
      default: '',
      type: String
    }
  },
  computed: {},
  mounted: function () {
    this.getDropzone()
  },
  methods: {
    getDropzone: function () {
      var thisDropzone = this
      var dropzoneConfig = {
        maxFileSize: 10,
        maxFiles: 1,
        acceptedFiles: this.file_type,
        dictDefaultMessage: this.default_message,
        dictMaxFilesExceeded: 'You may only upload one file at a time.',
        addRemoveLinks: true,
        dictRemoveFile: this.remove.default,
        headers: {},
        beforeCreate: function () {
          this.on('removedfile', function (id, index) {
            thisDropzone.addedFile.splice(index, 1)
          })
        },
        success: function (file, response) {
          if (file.status === 'success') {
            thisDropzone.imported = true
            thisDropzone.import_steps = false
          }
          thisDropzone.fileId = response.id
          thisDropzone.addedFile.push({id: response.id})
          thisDropzone.setting_value = response.url_sm
        }
      }
      this.uploadZone = new Dropzone('#' + this.id, dropzoneConfig)

      Dropzone.options.dropzoneInventoryImport = dropzoneConfig
      Dropzone.options.dropzoneMySettings = dropzoneConfig
    }
  }
}
;
        module.exports.template = "\n  <div class=\"dropzone-wrapper\">\n      <div id=\"dropzoneImport\">\n          <form :action=\"api_src\" method=\"POST\" class=\"dropzone\" :id=\"id\">\n              <input type=\"hidden\" name=\"userId\" :value=\"selected.id\" :selected=\"selected\">\n              <input type=\"hidden\" name=\"replace\" v-model=\"replace\">\n              <input type=\"hidden\" id=\"token\" name=\"_token\">\n          </form>\n      </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/inputs/CpDateInput.vue:script


      sms.vComponent('assets/js/cp-components-common/inputs/CpDateInput.vue', {"name":"CpDateInput","path":"assets/js/cp-components-common/inputs/CpDateInput.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
      newDate: null
    }
  },
  props: ['date', 'label', 'error'],
  mounted () {
    this.newDate = this.$clientDate(this.date)
  },
  methods: {
    updateValue () {
      return this.$emit('newdate', this.$serverDate(this.newDate))
    }
  }
}
;
        module.exports.template = "\n  <span>\n    <label v-if=\"label\">{{ label }}</label>\n      <date-picker\n          v-model=\"newDate\"\n          :config=\"{format: 'MM/DD/YYYY h:mm a', useCurrent: false, sideBySide: true}\"\n          @dp-change=\"updateValue()\"></date-picker>\n      <span :class=\"{ 'cp-validation-errors': error }\" v-if=\"error\">{{ error[0] }}</span>\n  </span>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/settings/partials/CpSettingsEmail.vue:script


      sms.vComponent('assets/js/components/settings/partials/CpSettingsEmail.vue', {"name":"CpSettingsEmail","path":"assets/js/components/settings/partials/CpSettingsEmail.vue"}, (require,exports,module)=>{
        
const Settings = require('../../../resources/settings.js')

module.exports = {
  data: function () {
    return {
      closed: true,
      importRequest: {
        id: ''
      },
      settings: {
        from_email: '',
        to_email: '',
        reply_email: '',
        order_message: '',
        rep_message: ''
      }
    }
  },
  computed: {},
  ready () {},
  attached () {},
  methods: {
    saveSettings: function () {
      Settings
        .getEmail(this.settings)
        .then((response) => {
          if (response.error) {
            return this.$broadcast('errorMessage', response.message)
          }
          this.$updateGlobal(this.settings)
        })
    }
  },
  components: { }
}
;
        module.exports.template = "\n  <div class=\"email-wrapper\">\n    <div class=\"\">\n      <div class=\"panel item-list\">\n        <div class=\"panel-heading\">\n          <h2 class=\"panel-title align-center\">Email Message Settings</h2>\n        </div>\n        <div class=\"panel-body\">\n          <div class=\"cp-accordion\">\n            <div class=\"cp-accordion-head\" @click=\"closed = !closed\">\n              <span class=\"arrow\">\n                <i class=\"mdi mdi-chevron-down\" v-if=\"closed\"></i>\n              </span>\n              <span class=\"arrow\">\n                <i class=\"mdi mdi-chevron-up\" v-if=\"!closed\"></i>\n              </span>\n            </div>\n            <div class=\"cp-accordion-body\" :class=\"{closed:closed}\">\n              <div class=\"cp-accordion-body-wrapper\">\n                <div class=\"cp-left-col\">\n                  <h5>Email Addresses: </h5>\n                  <div class=\"line-wrapper\">\n                    <label>From Email Address</label>\n                    <input type=\"email\" name=\"name\" value=\"\" v-model=\"settings.from_email\">\n                  </div>\n                  <div class=\"line-wrapper\">\n                    <label>To Email Address</label>\n                    <input type=\"email\" name=\"name\" value=\"\" v-model=\"settings.to_email\">\n                  </div>\n                  <div class=\"line-wrapper\">\n                    <label>Reply To Email Address</label>\n                    <input type=\"email\" name=\"name\" value=\"\" v-model=\"settings.reply_email\">\n                  </div>\n                </div>\n                <div class=\"cp-right-col\">\n                  <h5>Message Text:</h5>\n                  <div class=\"line-wrapper\">\n                    <label>Order Confirmation Message</label>\n                    <input type=\"text\" name=\"name\" value=\"\" v-model=\"settings.order_message\">\n                  </div>\n                  <div class=\"line-wrapper\">\n                    <label>New Rep Welcome Message</label>\n                    <input type=\"text\" name=\"name\" value=\"\" v-model=\"settings.rep_message\">\n                  </div>\n                  <div class=\"save\">\n                    <input class=\"cp-button-standard\" type=\"button\" @click=\"saveSettings()\" value=\"Save\">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/images/CpImageUpload.vue:script


      sms.vComponent('assets/js/cp-components-common/images/CpImageUpload.vue', {"name":"CpImageUpload","path":"assets/js/cp-components-common/images/CpImageUpload.vue"}, (require,exports,module)=>{
        
const Dropzone = require('dropzone')
const Media = require('../../resources/media.js')

module.exports = {
  data: () => ({
    media: '',
    validationErrors: {}
  }),
  props: {
    dropZoneId: {
      type: String,
      default: 'createMediaZone'
    },
    currentImage: {
      type: String,
      default: ''
    },
    title: {
      type: String
    },
    tooltip: {
      type: String
    }
  },
  mounted () {
    this.uploadDropzone()
    Dropzone.autoDiscover = false
  },
  methods: {
    deleteMedia (image, index) {
      this.media = ''
      this.$toast('Image has been deleted.')
      this.$emit('new-media', this.media)
    },
    uploadDropzone () {
      let $this = this
      var uploadZoneConfig = Media.dropzoneConfig('.mp4, .MP4, .mp3')
      uploadZoneConfig.maxFiles = 1
      uploadZoneConfig.success = function (file, response) {
        $this.media = response
        $this.$toast('File successfully uploaded.')
        $this.$emit('new-media', $this.media.url, $this.dropZoneId)
      }
      uploadZoneConfig.error = function (file, response) {
        $this.$toast('There was an error uploading your image. Try again or contact support.', { error: true })
      }
      $this.uploadZone = new Dropzone('#' + $this.dropZoneId, uploadZoneConfig)
    }
  },
  components: {
    CpTooltip: require('../../custom-plugins/CpTooltip.vue')
  }
}
;
        module.exports.template = "\n  <div id=\"cp-image-upload-wrapper\" class=\"cp-box-standard\">\n    <div class=\"cp-box-body\">\n\n      <span style=\"display: flex;\"><h1 v-if=\"title !== undefined\">{{title}}</h1> <cp-tooltip v-if=\"tooltip\" :options=\"{ content: tooltip}\"></cp-tooltip></span>\n      <div v-if=\"currentImage\">\n        <img class=\"currentImage\" :src=\"currentImage\" alt=\"\">\n      </div>\n      <section class=\"\">\n        <hr />\n        <form action=\"/upload-media\" method=\"POST\" class=\"dropzone\" :id=\"dropZoneId\" :class=\"{ 'image-error': validationErrors['images'] }\">\n            <input type=\"hidden\" name=\"title\">\n            <input type=\"hidden\" name=\"description\">\n            <input type=\"hidden\" name=\"is_public\">\n        </form>\n        <span\n          :class=\"{ 'cp-validation-errors': validationErrors['images'] }\"\n          v-if=\"validationErrors['images']\">{{ validationErrors['images'][0] }}</span>\n      </section>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/inputs/CpInput.vue:script


      sms.vComponent('assets/js/cp-components-common/inputs/CpInput.vue', {"name":"CpInput","path":"assets/js/cp-components-common/inputs/CpInput.vue"}, (require,exports,module)=>{
        
module.exports = {
  props: {
    value: {},
    type: {},
    placeholder: {},
    error: {
      default () {
        return false
      }
    },
    label: {},
    disabled: {
      type: Boolean,
      default () {
        return false
      }
    },
    readOnly: {
      default () {
        return false
      }
    },
    blurMethod: {
      type: Function,
      default () {
        // do nothing by default
      }
    },
    setting: {
      default () {
        return true
      }
    },
    tooltip: {
      type: String,
      required: false
    },
    subtext: {
      type: String,
      required: false
    }
  },
  methods: {
    updateValue (value) {
      return this.$emit('input', value)
    }
  }
}
;
        module.exports.template = "\n  <span>\n    <label v-if=\"label\">{{ label }} <small v-if=\"subtext && !setting\">{{subtext}}</small><cp-tooltip v-if=\"tooltip\" :options=\"{content: tooltip}\"></cp-tooltip></label>\n    <input\n      :class=\"{'cp-input-error': this.error, 'error': this.error, 'disabled': this.disabled}\"\n      @input=\"updateValue($event.target.value)\"\n      ref=\"input\"\n      :type=\"type\"\n      :value=\"value\"\n      @blur=\"blurMethod()\"\n      :readonly=\"readOnly\"\n      :disabled=\"disabled\"\n      :placeholder=\"placeholder\">\n      <span :class=\"{ 'cp-validation-errors': error }\" v-if=\"error\">{{ error[0] }}</span>\n\n  </span>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/images/CpCarousel.vue:script


      sms.vComponent('assets/js/cp-components-common/images/CpCarousel.vue', {"name":"CpCarousel","path":"assets/js/cp-components-common/images/CpCarousel.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
      slides: {},
      currentSlide: 0
    }
  },
  props: {
    images: {},
    variantLabel: {
      type: String,
      default () {
        return ''
      }
    }
  },
  methods: {
    nextSlide () {
      if (this.currentSlide >= this.images.length - 1) {
        this.currentSlide = 0
      } else {
        this.currentSlide += 1
      }
    },
    previousSlide () {
      if (this.currentSlide === 0) {
        this.currentSlide = this.images.length - 1
      } else {
        this.currentSlide = this.currentSlide - 1
      }
    }
  }
}
;
        module.exports.template = "\n  <div class=\"cp-carousel-wrapper\">\n    <div class=\"carousel-image-contianer\">\n      <div class=\"col-arrow\" @click=\"previousSlide()\">\n        <div class=\"mdi mdi-chevron-left mdi-36px\"></div>\n      </div>\n      <div class=\"col-images\">\n          <ul id=\"slides\">\n            <li\n            v-for=\"(image, index) in images\"\n            @click=\"nextSlide()\"\n            class=\"slide\"\n            :class=\"{ 'showing': currentSlide === index }\">\n            <img :src=\"image.url | imageSize('url_lg')\">\n            <div class=\"image-information-modal\">\n              <div class=\"col-modal\">\n                <label for=\"\">{{variantLabel}}:</label>\n                <span class=\"\">{{ image.name }}</span>\n              </div>\n              <div class=\"col-modal\" v-if=\"image.available\">\n                <label for=\"\">Starting at:</label>\n                <span>\n                  <span class=\"\">${{ image.price }}</span>\n                </span>\n              </div>\n              <div class=\"col-modal\" v-if=\"image.available\">\n                <label for=\"\">Available in: </label>\n                <div class=\"\">\n                  <span v-for=\"(option, index) in image.available\">\n                    <span class=\"option-box\" v-if=\"option.quantity_available > 0\"> {{ option.option }}</span>\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div class=\"variant-description\" v-if=\"image.description\">\n              <label for=\"variant\">Description</label>\n              <p>{{image.description}}</p>\n            </div>\n          </li>\n        </ul>\n      </div>\n      <div class=\"col-arrow\" @click=\"nextSlide()\">\n        <div class=\"mdi mdi-chevron-right mdi-36px\"></div>\n      </div>\n    </div>\n    <div v-if=\"images.length > 0\">\n      <div class=\"align-center\">\n        {{ currentSlide + 1 }} / {{ images.length }}\n      </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/inputs/CpSearchBox.vue:script


      sms.vComponent('assets/js/cp-components-common/inputs/CpSearchBox.vue', {"name":"CpSearchBox","path":"assets/js/cp-components-common/inputs/CpSearchBox.vue"}, (require,exports,module)=>{
        
const _ = require('lodash')

module.exports = {
  data: function () {
    return {
      search_term: ''
    }
  },
  props: {
    placeholder: {
      type: String,
      default () {
        return 'Search'
      }
    },
    searchTerm: {
      type: String
    }
  },
  methods: {
    setSearchTerm: _.debounce(function (clicked) {
      let term = this.search_term
      this.$emit('search-term', term, clicked)
    }, 900)
  }
}
;
        module.exports.template = "\n    <div class=\"cp-search-box\">\n        <input type=\"text\"\n        class=\"cp-input-standard\"\n        name=\"new_tag\"\n        :placeholder=\"placeholder\"\n        v-model=\"search_term\"\n        @keyup=\"setSearchTerm(false)\">\n        <button class=\"search-button\" type=\"button\" @click=\"setSearchTerm(true)\">\n            <i class=\"mdi mdi-magnify\"></i>\n        </button>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/inputs/CpRepSearchTypeahead.vue:script


      sms.vComponent('assets/js/cp-components-common/inputs/CpRepSearchTypeahead.vue', {"name":"CpRepSearchTypeahead","path":"assets/js/cp-components-common/inputs/CpRepSearchTypeahead.vue"}, (require,exports,module)=>{
        
const _ = require('lodash')
const Users = require('../../resources/users.js')

module.exports = {
  props: {
    label: {
      type: String,
      required: false,
      default () {
        return null
      }
    }
  },
  data () {
    return {
      reps: []
    }
  },
  methods: {
    setSelectedRep: function (user) {
      this.$emit('rep-selected', user)
    },
    clearDropdown: _.debounce(function () {
      this.reps = []
    }, 500),
    searchReps: _.debounce(function (searchTerm) {
      this.reps = []
      Users.searchReps({'searchTerm': searchTerm})
        .then((response) => {
          if (response.error) {
            this.reps = []
            return false
          }
          // format response for typehead
          for (var i = 0; i < response.length; i++) {
            response[i].full_name = response[i].first_name + ' ' + response[i].last_name + ' (' + response[i].id + ')'
          }
          this.reps = response
        })
    }, 170),
  },
  components: {
    CpTypeahead: require('../../cp-components-common/inputs/CpTypeahead.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"cp-form-standard cp-rep-select-typehead\">\n    <label v-if=\"label\">{{ label }}</label>\n    <cp-typeahead\n      @input=\"setSelectedRep\"\n      :options=\"reps\"\n      :clear-dropdown=\"clearDropdown\"\n      :name-value=\"{ name: 'full_name', value: 'id'}\"\n      @options-cleared=\"function (val) {reps = val}\"\n      :search-function=\"searchReps\"></cp-typeahead>\n\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/inputs/CpTextArea.vue:script


      sms.vComponent('assets/js/cp-components-common/inputs/CpTextArea.vue', {"name":"CpTextArea","path":"assets/js/cp-components-common/inputs/CpTextArea.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
      newValue: {}
    }
  },
  props: {
    value: {},
    type: {},
    placeholder: {},
    error: {},
    label: {},
    setDisabled: {}
  },
  methods: {
    updateValue (value) {
      return this.$emit('input', value)
    }
  },
  mounted: function () {
    this.newValue = this.value
  }
}
;
        module.exports.template = "\n  <span class=\"textarea-wrapper\">\n    <label v-if=\"label\">{{ label }}</label>\n    <textarea\n      class=\"'wysiwyg long\"\n      name=\"description\"\n      rows=\"8\"\n      cols=\"40\"\n      v-model=\"newValue\"\n      @input=\"updateValue($event.target.value)\"\n      :placeholder=\"placeholder\"></textarea>\n    <span :class=\"{ 'cp-validation-errors': error }\" v-if=\"error\">{{ error[0] }}</span>\n  </span>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/inputs/CpSelect2.vue:script


      sms.vComponent('CpSelect2', {"path":"assets/js/cp-components-common/inputs/CpSelect2.vue"}, (require,exports,module)=>{
        
module.exports = {
  props: {
    value: {id: 5},
    options: {
      type: Array
    },
    keyValue: {
      type: Object,
      default () {
        return {
          name: 'name',
          value: 'value'
        }
      }
    }
  },
  methods: {
    updateValue (value) {
      return this.$emit('input', value)
    }
  }
}
;
        module.exports.template = "\n<select\n    class=\"cp-select2\"\n    :value=\"value\"\n    @change=\"updateValue($event.target.value)\"\n    ref=\"input\">\n    <option v-for=\"option in options\" :value=\"option[keyValue['value']] || option\">{{ option[keyValue['name']] || option.name }}</option>\n</select>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/inputs/CpTypeahead.vue:script


      sms.vComponent('assets/js/cp-components-common/inputs/CpTypeahead.vue', {"name":"CpTypeahead","path":"assets/js/cp-components-common/inputs/CpTypeahead.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
      searchTerm: ''
    }
  },
  props: {
    options: {
      type: Array,
      required: true
    },
    nameValue: {
      type: Object,
      default () {
        return {
          name: 'name',
          value: 'value'
        }
      }
    },
    label: {},
    searchFunction: {
      type: Function,
      required: true
    },
    clearDropdown: {
      type: Function,
      require: true
    }
  },
  methods: {
    onOptionSelected (option) {
      this.$emit('input', option)
      this.$emit('options-cleared', [])
      this.searchTerm = ''
    }
  },
  watch: {
    searchTerm (value) {
      if (value && value !== '') {
        this.searchFunction(value)
      }
    }
  },
  components: {
    CpInput: require('../inputs/CpInput.vue')
  }
}
;
        module.exports.template = "\n  <section class=\"cp-typeahead\">\n    <cp-input\n      :label=\"label\"\n      type=\"text\"\n      :blur-method=\"clearDropdown\"\n      v-model=\"searchTerm\"></cp-input>\n      <ul v-show=\"options.length > 0\">\n        <li v-for=\"option in options\" @click=\"onOptionSelected(option)\">{{ option[nameValue['name']] }}</li>\n      </ul>\n  </section>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/inputs/CpSelect.vue:script


      sms.vComponent('assets/js/cp-components-common/inputs/CpSelect.vue', {"name":"CpSelect","path":"assets/js/cp-components-common/inputs/CpSelect.vue"}, (require,exports,module)=>{
        
module.exports = {
  props: {
    value: {id: 5},
    options: {
      type: Array
    },
    keyValue: {
      type: Object,
      default () {
        return {
          name: 'name',
          value: 'value'
        }
      }
    },
    disabled: {
      type: Boolean,
      default () {
        return false
      }
    },
    hideLabel: {
      type: Boolean,
      default () {
        return false
      }
    },
    placeholder: {},
    error: {},
    label: {},
    disabled: {
      type: Boolean,
      default () {
        return false
      }
    }
  },
  methods: {
    updateValue (value) {
      return this.$emit('input', value)
    }
  }
}
;
        module.exports.template = "\n  <span class=\"select-standard-wrapper\">\n    <label v-if=\"!hideLabel\">{{ label }}</label>\n      <div class=\"cp-select-standard\">\n        <select\n          :value=\"value\"\n          :disabled=\"disabled\"\n          @change=\"updateValue($event.target.value)\"\n          :class=\"{ 'select-error': error, 'error': error, 'disabled': disabled }\"\n          ref=\"input\"\n          :placeholder=\"placeholder\">\n          <option v-for=\"option in options\" :value=\"option[keyValue['value']]\">{{ option[keyValue['name']] || option.name }}</option>\n        </select>\n      </div>\n      <span :class=\"{ 'cp-validation-errors': error }\" v-if=\"error\">{{ error[0] }}</span>\n  </span>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/inputs/CpEditor.vue:script


      sms.vComponent('assets/js/cp-components-common/inputs/CpEditor.vue', {"name":"CpEditor","path":"assets/js/cp-components-common/inputs/CpEditor.vue"}, (require,exports,module)=>{
        
const Quilljs = require('quill')

module.exports = {
  data () {
    return {
      editor: {},
      newContent: null
    }
  },
  props: {
    value: null
  },
  mounted () {
    let vm = this
    Quilljs.register(Quilljs.import('attributors/style/align'), true)
    Quilljs.register(Quilljs.import('attributors/style/font'), true)
    let options = {
      theme: 'snow',
      modules: {
        toolbar: ['bold', 'italic', 'underline', 'strike', 'link', { 'align': [] }, { 'font': [] }]
      }
    }
    this.editor = new Quilljs('#editor', options)
    this.editor.on('text-change', (delta, old, source) => {
      if (source === 'user') {
        vm.$emit('input', vm.editor.container.querySelector('.ql-editor').innerHTML)
      }
    })
  }
}
;
        module.exports.template = "\n  <div class=\"\">\n    <div id=\"editor\">\n      <p v-html=\"value\"></p>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/navigation/CpArrayPagination.vue:script


      sms.vComponent('assets/js/cp-components-common/navigation/CpArrayPagination.vue', {"name":"CpArrayPagination","path":"assets/js/cp-components-common/navigation/CpArrayPagination.vue"}, (require,exports,module)=>{
        
    module.exports = {
      data () {
        return {
          disableNextButton: false,
          arrayCurrentPage: [],
          currentPage: 1,
          offset: 0,
          hidePageButtons: false,
          disablePrevButton: false,
          pages: null
        }
      },
      props: {
        data: {
          type: Array
        },
        perPage: {
          Number,
          default: 25
        }
      },
      mounted () {
        this.paginateArray()
      },
      methods: {
        paginateArray (prevOrNext) {
          this.disableNextButton = false
          this.pages = Math.ceil(this.data.length / this.perPage)
          if (prevOrNext === 'next') {
            this.offset += this.perPage
            this.currentPage++
            if (this.offset + this.perPage > this.data.length) {
              this.disableNextButton = true
            }
          }
          if (prevOrNext === 'prev' && this.offset !== 0) {
            this.offset += -this.perPage
            this.currentPage--
          }
          this.arrayCurrentPage = []
          for (var i = this.offset; i < this.data.length; i++) {
            if (this.data.length > this.perPage) {
              if (this.arrayCurrentPage.length < this.perPage) {
                this.arrayCurrentPage.push(this.data[i])
              }
              this.$emit('current-page', this.arrayCurrentPage)
            } else {
              this.hidePageButtons = true
              this.arrayCurrentPage = this.data
              this.$emit('current-page', this.arrayCurrentPage)
            }
          }
        }
      }
    }
;
        module.exports.template = "\n     <div class=\"page-button-wrapper\">\n            <button class=\"cp-button-standard\" type=\"button\" name=\"button\" @click=\"paginateArray('prev')\" v-if=\"!hidePageButtons\" :disabled='currentPage === 0'>Prev</button>\n            <button class=\"cp-button-standard\" type=\"button\" name=\"button\" @click=\"paginateArray('next')\" v-if=\"!hidePageButtons \" :disabled='disableNextButton'>Next</button>\n            <h3 v-if=\"!hidePageButtons\">{{currentPage}} / {{pages}}</h3>\n     </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/navigation/CpPagination.vue:script


      sms.vComponent('assets/js/cp-components-common/navigation/CpPagination.vue', {"name":"CpPagination","path":"assets/js/cp-components-common/navigation/CpPagination.vue"}, (require,exports,module)=>{
        
module.exports = {
  data () {
    return {
      disablePrevious: false,
      disableNext: false
    }
  },
  props: {
    pagination: {
      type: Object,
      required: true
    },
    callback: {
      type: Function,
      required: true
    },
    options: {
      type: Object
    },
    size: {
      type: String
    }
  },
  computed: {
    array: function array () {
      if (this.pagination.last_page <= 0) {
        return []
      }
      var from = this.pagination.current_page - this.config.offset
      if (from < 1) {
        from = 1
      }
      var to = from + (this.config.offset * 2)
      if (to >= this.pagination.last_page) {
        to = this.pagination.last_page
      }
      var arr = []
      while (from <= to) {
        arr.push(from)
        from += 1
      }
      return arr
    },
    config: function config () {
      return Object.assign({
        offset: 3
      }, this.options)
    }
  },
  methods: {
    nextPage () {
      if (this.pagination.current_page >= this.pagination.last_page) {
        return
      }
      this.pagination.current_page = this.pagination.current_page + 1
      this.callback()
    },
    previousPage () {
      if (this.pagination.current_page <= 1) {
        return
      }
      this.pagination.current_page = this.pagination.current_page - 1
      this.callback()
    },
    goToPage (page) {
      if (page > this.pagination.last_page || page < 1) {
        return
      }
      this.pagination.current_page = page
      this.callback()
    }
  }
}
;
        module.exports.template = "\n  <div class=\"cp-pagination-wrapper\">\n    <button class=\"pages-button\" @click=\"previousPage()\" :disabled=\"pagination.current_page <= 1\">Prev</button>\n    <div class=\"pages-array\">\n      <button class=\"pages-button\" :class=\"{ active: page == pagination.current_page }\" v-for=\"page in array\" @click=\"goToPage(page)\">{{page}}</button>\n    </div>\n    <button class=\"pages-button\" @click=\"nextPage()\" :disabled=\"pagination.current_page >= pagination.last_page\">Next</button>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/navigation/CpTabs.vue:script


      sms.vComponent('assets/js/cp-components-common/navigation/CpTabs.vue', {"name":"CpTabs","path":"assets/js/cp-components-common/navigation/CpTabs.vue"}, (require,exports,module)=>{
        
module.exports = {
  data: () => ({
    mobileSelectedItem: 'OPEN ORDERS',
    tabItems: []
  }),
  props: {
    showSelect: {
      type: Boolean,
      required: false,
      default: false
    },
    selectBoxOptions: {
      type: Array,
      required: false,
      default: null
    },
    selectValue: {
      type: String,
      required: false,
      default: null
    },
    keyValue: {
      type: Object,
      default () {
        return {
          name: 'name',
          value: 'name'
        }
      }
    },
    customClass: {
      default () {
        return 'cp-tabs-standard'
      }
    },
    items: {
      type: Array,
      required: true
    },
    callback: {
      type: Function,
      required: true
    }
  },
  mounted () {
    this.mobileSelectedItem = this.items[0][this.keyValue['value']]
    this.tabItems = this.items
  },
  methods: {
    updateValue (value) {
      return this.$emit('input', value)
    },
    setActiveItem (item) {
      for (var i = 0; i < this.tabItems.length; i++) {
        this.tabItems[i].active = false
      }
      item.active = true
    }
  },
  components: {
    CpSelect: require('../../cp-components-common/inputs/CpSelect.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"tab-wrapper\">\n    <div :class=\"customClass\">\n      <!-- DESKTOP TABS -->\n        <button\n          v-for=\"item in tabItems\"\n          :class=\"{ active: item.active }\"\n          @click=\"setActiveItem(item), updateValue(item[keyValue['value']]), callback(item[keyValue['value']])\">{{ item.name }}</button>\n          <div class=\"tab-select-options\" v-if=\"showSelect\">\n            <cp-select\n            @input=\"updateValue(value)\"\n            :options='selectBoxOptions'\n            :key-value=\"{ name: 'name' , value: 'name' }\"></cp-select>\n          </div>\n        <!-- MOBILE SELECT BOX -->\n    </div>\n    <div class=\"mobile-tabs\">\n      <cp-select\n        label=\"Filter:\"\n        :options='items'\n        :key-value=\"{ name: 'name' , value: 'name' }\"\n        @input=\"updateValue(mobileSelectedItem), callback(mobileSelectedItem)\"\n        v-model=\"mobileSelectedItem\"></cp-select>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/inputs/CpInputMask.vue:script


      sms.vComponent('assets/js/cp-components-common/inputs/CpInputMask.vue', {"name":"CpInputMask","path":"assets/js/cp-components-common/inputs/CpInputMask.vue"}, (require,exports,module)=>{
        
require('lodash')

module.exports = {
  data () {
    return {
      maskinput: '',
      inputvalue: {}
    }
  },
  methods: {
    updateValue (value) {
      return this.$emit('input', value)
    }
  },
  props: {
    value: {},
    type: {},
    placeholder: {},
    error: {},
    label: {},
    setDisabled: {},
    mask: {
      type: String,
      default () {
        return '###-##-####'
      }
    },
    tooltip: {
      type: String,
      required: false
    }
  }
}
;
        module.exports.template = "\n  <span>\n    <label v-if=\"label\">{{ label }}<cp-tooltip v-if=\"tooltip\" :options=\"{content: tooltip}\"></cp-tooltip></label>\n    <input\n      :class=\"{ 'cp-input-error': error, 'error': error }\"\n      type=\"text\"\n      :value=\"value\"\n      :disabled=\"setDisabled\"\n      v-mask=\"mask\"\n      :placeholder=\"placeholder\"\n      @input=\"updateValue($event.target.value)\">\n      <span :class=\"{ 'cp-validation-errors': error }\" v-if=\"error\">{{ error[0] }}</span>\n  </span>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/tables/CpDataTable.vue:script


      sms.vComponent('CpDataTable', {"path":"assets/js/cp-components-common/tables/CpDataTable.vue"}, (require,exports,module)=>{
        
  module.exports = {
    data () {
      return {
        asc: true
      }
    },
    props: {
      loading: {type: Boolean},
      pagination: {
        type: Object,
        required: false,
        default: null
      },
      recallData: {
        type: Function,
        required: false,
        default: function () {
          console.warn('Pagination is true. No recall function provided.')
        }
      },
      tableData: {
        type: Array,
        required: false,
        default () {
          return []
        }
      },
      tableColumns: {
        type: Array,
        required: false
      },
      requestParams: {
        // type: Object,
        required: false,
        default () {
          return null
        }
      },
      options: {
        type: Object,
        required: false,
        default () {
          return {
            tableControls: false,
            datePicker: false,
            dateRange: null,
            searchPlaceHolder: '',
            requestParams: {}
          }
        }
      }
    },
    methods: {
      dynamicFilter: function (value, filter) {
        if (filter) {
          let args = []
          if (filter.includes('|')) {
            args = filter.substring(filter.indexOf('|') + 1)
            args = args.split(',')
            filter = filter.substring(0, filter.indexOf('|'))
            for (let i = 0; i < args.length; i++) {
              if (args[i] === 'false') {
                args[i] = false
              } else if (args[i] === 'true') {
                args[i] = true
              }
            }
          }
          return this.applyFilter(value, filter, args)
        }
        return value
      },
      applyFilter (value, filter, args) {
        try {
          return window.Vue.filter(filter)(value, ...args)
        } catch (error) {
          console.warn('Not a valid filter string.')
          return value
        }
      },
      sortColumn (column, sortable) {
        if (sortable) {
          this.requestParams.column = column
          this.asc = !this.asc
          if (this.asc === true) {
            this.requestParams.order = 'asc'
            this.requestParams.sort_by = column
          } else {
            this.requestParams.sort_by = '-' + column
            this.requestParams.order = 'desc'
          }
          this.recallData()
        }
      }
    }
  }
;
        module.exports.template = "\n  <div class=\"cp-table-wrapper\">\n    <cp-table-controls\n      v-if=\"options.tableControls\"\n      :search-box=\"options.searchBox\"\n      :date-picker=\"options.datePicker\"\n      :date-range=\"options.dateRange\"\n      :place-holder=\"options.searchPlaceHolder\"\n      :index-request=\"requestParams\"\n      :resource-info=\"pagination\"\n      :get-records=\"recallData\"></cp-table-controls>\n    <table class=\"cp-table-component\">\n      <thead>\n        <tr>\n          <th\n            v-for=\"(item, index) in tableColumns\"\n            :key=\"index\"\n            @click=\" item.sortable ? sortColumn(item.field, item.sortable): null\">{{ item.header }}\n              <span v-show=\"requestParams.column == item.field && item.sortable\">\n                <span v-show=\"asc\"><i class='mdi mdi-sort-ascending'></i></span>\n                <span v-show=\"!asc\"><i class='mdi mdi-sort-descending'></i></span>\n              </span>\n            </th>\n        </tr>\n      </thead>\n      <tbody>\n      <tr v-for=\"row in tableData\" :key=\"row.id\">\n        <td v-for=\"(item, index) in tableColumns\" :key=\"index\" :data-header=\"item.header\" :class=\"item.htmlclass\">\n          <slot :name=\"item.field\" :row=\"row\">\n            {{ dynamicFilter(row[item.field], item.filter) }}\n          </slot>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n      <div v-if=\"loading\" class=\"center\">\n        <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n      </div>\n    <cp-pagination v-if=\"pagination\" :pagination=\"pagination\" :callback=\"recallData\" :offset=\"2\"></cp-pagination>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/tables/CpTableControls.vue:script


      sms.vComponent('assets/js/cp-components-common/tables/CpTableControls.vue', {"name":"CpTableControls","path":"assets/js/cp-components-common/tables/CpTableControls.vue"}, (require,exports,module)=>{
        
const _ = require('lodash')

module.exports = {
  props: {
    datePicker: {
      type: Boolean,
      required: false,
      default () {
        return false
      }
    },
    indexRequest: {
      required: true,
      type: Object
    },
    dateRange: {
      type: Object
    },
    resourceInfo: {
      type: Object,
      required: false,
      default () {
        return null
      }
    },
    getRecords: {
      type: Function,
      required: false,
      default () {
        // do nothing
      }
    },
    searchPlaceHolder: {
      type: String,
      default () {
        return 'Search'
      }
    },
    searchBox: {
      type: Boolean,
      required: false,
      default: true
    }
  },
  methods: {
    runSearch (val, clicked) {
      if (!clicked && val.length > 0 && val.length < 3) {
        return false
      }
      this.indexRequest.search_term = val
      this.indexRequest.current_page = 1
      this.getRecords()
    },
    getRecordsWithDelay: _.debounce(function () {
      this.indexRequest.current_page = 1
      this.resourceInfo.current_page = 1
      this.getRecords()
    }, 700)
  },
  components: {
    CpSearchBox: require('../inputs/CpSearchBox.vue'),
    CpSelect: require('../inputs/CpSelect.vue')
  }
}
;
        module.exports.template = "\n<div class=\"cp-table-controls\">\n  <div class=\"date-time-record-wrapper\">\n    <div class=\"table-date-picker\">\n      <span class=\"date-picker\" v-if=\"datePicker\">\n        <cp-datetime v-model=\"dateRange.start_date\" @input=\"getRecordsWithDelay()\"></cp-datetime>\n        <cp-datetime v-model=\"dateRange.end_date\" @input=\"getRecordsWithDelay()\"></cp-datetime>\n      </span>\n    </div>\n    <span v-if=\"resourceInfo\">\n      <label>Total Records: </label> {{ resourceInfo.total }}\n    </span>\n  </div>\n    <div class=\"table-control-wrapper\">\n    <div v-if=\"searchBox === true\">\n    <cp-search-box\n      @search-term=\"runSearch\"\n      :placeholder=\"searchPlaceHolder\"></cp-search-box>\n    </div>\n      <cp-select\n      class=\"limit-select\"\n      label=\"Records per page\"\n      :hide-label=\"true\"\n      :options=\"[\n      { name: '15', value: 15 },\n      { name: '25', value: 25 },\n      { name: '50', value: 50 },\n      { name: '100', value: 100 }\n      ]\"\n      v-model=\"indexRequest.per_page\"\n      @input=\"function (val) { indexRequest.per_page = val; getRecords() }\"></cp-select>\n  </div>\n</div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/inputs/CpToggle.vue:script


      sms.vComponent('assets/js/cp-components-common/inputs/CpToggle.vue', {"name":"CpToggle","path":"assets/js/cp-components-common/inputs/CpToggle.vue"}, (require,exports,module)=>{
        
module.exports = {
  props: {
    value: {
      default () {
        return 1
      }
    },
    tooltip: {
      type: String,
      required: false
    },
    label: {},
    error: {},
    setDisabled: {},
    hideLabel: {
      type: Boolean,
      default () {
        return false
      }
    },
    blurMethod: {
      type: Function,
      default () {
        // does nothing by default
      }
    }
  },
  methods: {
    updateValue (value) {
      return this.$emit('input', value)
    }
  }
}
;
        module.exports.template = "\n  <span class=\"toggle-wrapper\">\n    <label v-if=\"label\">{{ label }}<cp-tooltip v-if=\"tooltip\" :options=\"{ content: tooltip}\"></cp-tooltip></label>\n    <input\n    class=\"toggle-switch\"\n    type=\"checkbox\"\n    :checked=\"value\"\n    :disabled=\"setDisabled\"\n    @change=\"updateValue($event.target.checked)\">\n    <span :class=\"{ 'cp-validation-errors': error }\" v-if=\"error\">{{ error[0] }}</span>\n  </span>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/cp-components-common/temp-dependencies/CpPhotos.vue:script


      sms.vComponent('assets/js/cp-components-common/temp-dependencies/CpPhotos.vue', {"name":"CpPhotos","path":"assets/js/cp-components-common/temp-dependencies/CpPhotos.vue"}, (require,exports,module)=>{
        
const Dropzone = require('dropzone')
const Media = require('../../resources/media.js')
Dropzone.autoDiscover = false

module.exports = {
  data () {
    return {
      newMedia: [],
      newCurrentMedia: []
    }
  },
  props: {
    dropZoneId: {
      type: String,
      default () {
        return 'createMediaZone'
      }
    },
    currentMedia: {
      default () {
        return []
      }
    },
    validationErrors: {},
    media: {
      type: Array,
      default () {
        return []
      }
    }
  },
  mounted () {
    this.newMedia = this.media
    this.newCurrentMedia = this.currentMedia
    this.uploadDropzone()
    this.initCurrentMedia()
  },
  methods: {
    initCurrentMedia () {
      for (var i = 0; i < this.newCurrentMedia.length; i++) {
        this.newMedia.push(this.newCurrentMedia[i].id)
      }
      this.$emit('new-media', this.newMedia)
    },
    deleteMedia (image, index) {
      for (var i = 0; i < this.newMedia.length; i++) {
        if (this.newMedia[i] === image.id) {
          this.newMedia.splice(i, 1)
          this.newCurrentMedia.splice(index, 1)
        }
        this.$toast('Image has been deleted.')
        this.$emit('new-media', this.newMedia)
      }
    },
    uploadDropzone () {
      var $this = this
      var uploadZoneConfig = Media.dropzoneConfig('.mp4, .MP4, .mp3')
      uploadZoneConfig.maxFiles = 8
      uploadZoneConfig.success = function (file, response) {
        file.imageId = response.id
        $this.newMedia.push(response.id)
        $this.$toast('File successfully uploaded.')
        $this.$emit('new-media', $this.newMedia)
      }
      uploadZoneConfig.error = function (file, response) {
        $this.$toast('There was an error uploading your image. Try again or contact support.', { error: true })
      }
      uploadZoneConfig.removedfile = function (file, response) {
        var _ref
        if (file.previewElement) {
          if ((_ref = file.previewElement) != null) {
            _ref.parentNode.removeChild(file.previewElement)
          }
        }
        for (var i = 0; i < $this.newMedia.length; ++i) {
          if ($this.newMedia[i] === file.imageId) {
            $this.newMedia.splice(i, 1)
          }
        }
        $this.$emit('new-media', this.newMedia)
        return $this.uploadZone._updateMaxFilesReachedClass()
      }
      this.uploadZone = new Dropzone('#' + this.dropZoneId, uploadZoneConfig)
    }
  }
}
;
        module.exports.template = "\n    <div class=\"cp-box-standard\">\n    <div class=\"cp-box-heading\">\n      PHOTOS\n    </div>\n    <div class=\"cp-box-body\">\n      <section class=\"current-media product-grid edit\" v-if=\"currentMedia.length > 0\">\n        <h4>CURRENT</h4>\n        <hr />\n        <div class=\"item\" v-for=\"(media, index) in newCurrentMedia\" :key=\"media.index\">\n          <img class=\"item_image\" :src=\"media.url_sm\">\n          <img v-if=\"!media.url_sm\" class=\"item_image\" :src=\"media.url\">\n          <span href=\"#\" class=\"tile-overlay pointer\" @click=\"deleteMedia(media, index)\">DELETE</span>\n        </div>\n      </section>\n      <h4 class=\"add-new\">ADD NEW</h4>\n      <hr />\n      <form action=\"/upload-media\" method=\"POST\" class=\"dropzone\" :id=\"dropZoneId\" :class=\"{ 'image-error': validationErrors['images'] }\">\n          <input type=\"hidden\" name=\"title\">\n          <input type=\"hidden\" name=\"description\">\n          <input type=\"hidden\" name=\"is_public\">\n      </form>\n      <span\n        :class=\"{ 'cp-validation-errors': validationErrors['images'] }\"\n        v-if=\"validationErrors['images']\">{{ validationErrors['images'][0] }}</span>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/custom-plugins/toast/CpEasyToast.vue:script


      sms.vComponent('assets/js/custom-plugins/toast/CpEasyToast.vue', {"name":"CpEasyToast","path":"assets/js/custom-plugins/toast/CpEasyToast.vue"}, (require,exports,module)=>{
        
  const DEFAULT_OPT = {
    id: 'easy-toast-default',
    className: '',
    horizontalPosition: 'center',
    verticalPosition: 'bottom',
    parent: 'body',
    transition: 'fade',
    duration: 5000,
    message: '',
    dismiss: true,
    error: false
  }
  module.exports = {
    data () {
      return {
        queue: [],
        option: {},
        showing: false
      }
    },
    ready () {
      if (this.mergedOption.dismiss && this.queue.length > 1) {
        this.queue.unshift()
        console.log('THE QUE', this.queue)
      }
    },
    computed: {
      mergedOption: function () {
        return Object.assign({}, DEFAULT_OPT, this.option)
      },
      clazz: function () {
        let clazz = []
        let className = this.option.className
        let horizontalPosition = this.mergedOption.horizontalPosition
        let verticalPosition = this.mergedOption.verticalPosition

        if (className) {
          if (typeof className === 'string') {
            clazz.push(className)
          }

          if (Array.isArray(className)) {
            clazz = clazz.concat(className)
          }
        }

        if (horizontalPosition) {
          clazz.push(`et-${horizontalPosition}`)
        }

        if (verticalPosition) {
          clazz.push(`et-${verticalPosition}`)
        }

        return clazz.join(' ')
      }
    },
    methods: {
      dismiss () {
        this.showing = false
      }
    },
    watch: {
      queue: function () {
        if (this.mergedOption.dismiss && this.queue.length > 1) {
          this.queue.shift()
        }
        let pending = this.queue.length
        if (pending === 0) {
          return
        }
        let $this = this
        this.showing = true
        this.option = this.queue[0]
        if ((!this.option.mode || this.option.mode === 'override') && pending > 1) {
          clearTimeout(this.timeoutId)
          this.showing = false
          this.timeoutId = null
          this.timeoutId = setTimeout(() => $this.queue.shift())
        } else {
          this.timeoutId = setTimeout(function () {
            $this.showing = false
            $this.timeoutId = null
            setTimeout(() => $this.queue.shift())
          }, $this.mergedOption.duration * pending)
        }
      }
    }
  }
;
        module.exports.template = "\n  <div :name=\"mergedOption.transition\">\n    <div\n      :id=\"mergedOption.id\"\n      class=\"et-wrapper\"\n      :class=\"clazz\"\n      :transition=\"mergedOption.transition\"\n      v-show=\"showing\">\n      <div v-if=\"mergedOption.error\">\n        <span class=\"lnr lnr-cross-circle toast-error\"></span>\n        <span class=\"et-content\" v-html=\"mergedOption.message\"></span>\n        <button  v-if=\"mergedOption.dismiss\" class=\"toast-button-dismiss\" @click=\"dismiss()\">Dismiss</button>\n      </div>\n      <div v-else>\n        <span class=\"lnr lnr-checkmark-circle toast-success\"></span>\n        <span class=\"et-content\" v-html=\"mergedOption.message\"></span>\n        <button v-if=\"mergedOption.dismiss\" class=\"toast-button-dismiss\" @click=\"dismiss()\">Dismiss</button>\n      </div>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/components/CpDatetime.vue:script


      sms.vComponent('CpDatetime', {"path":"src/app/components/CpDatetime.vue"}, (require,exports,module)=>{
        
/**
 * NOTES:
 *
 * Display modes include 'years', 'month', 'time'
 */
const moment = require('moment')
const DISPLAYS = {date: 'MM/DD/YYYY', datetime: 'MM/DD/YYYY h:mm A', time: 'h:mm A'}
const OUTPUTS = {date: 'YYYY-MM-DD', datetime: 'YYYY-MM-DDTHH:mm:ss.SSS', time: 'h:mm A'}

module.exports = {
  props: {
    value: {
      type: String,
      default: ''
    },
    type: {
      type: String,
      default () {
        return 'date'
      },
      validator: value => {
        return ['date', 'datetime', 'time'].includes(value)
      }
    },
    placeholder: {
      type: String,
      default () {
        return DISPLAYS[this.type]
      }
    }
  },
  data () {
    return {
      displayMode: 'month',
      selected: moment(),
      hideUpBtn: false,
      popupVisible: false,
      years: [],
      month: [],
      hours: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],
      minutes: ['00', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31', '32', '33', '34', '35', '36', '37', '38', '39', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59', '60'],
      periods: ['AM', 'PM']
    }
  },
  created () {
    this.generateMonth()
    if (this.type === 'time') {
      this.hideUpBtn = true
      this.displayMode = 'time'
    }
  },
  mounted () {
    if (this.value) {
      this.$el.querySelector('input').value = moment(this.value, OUTPUTS[this.type]).format(DISPLAYS[this.type])
    }
  },
  methods: {
    onInput (e) {
      this.update(e.target.value)
    },
    update (value, format) {
      let mValue = value
      if (!moment.isMoment(mValue)) {
        mValue = moment(mValue, format)
      }
      if (mValue.isValid()) {
        this.$emit('input', mValue.format(OUTPUTS[this.type]))
      }
    },
    openPopup () {
      this.popupVisible = true
    },
    closePopup (value) {
      value = value || this.selected
      this.cancelPopup()
      if (value !== undefined) {
        this.$el.querySelector('input').value = value.format(DISPLAYS[this.type])
        this.update(value)
      }
    },
    cancelPopup () {
      this.popupVisible = false
      this.displayMode = 'month'
    },
    goUp () {
      switch (this.displayMode) {
        case 'month':
          this.generateYears()
          this.displayMode = 'year'
          this.hideUpBtn = true
          break
        case 'time':
          this.generateMonth()
          this.displayMode = 'month'
          break
      }
    },
    selectYear (year) {
      this.selected.year(year)
      this.displayMode = 'month'
      this.generateMonth()
    },
    prevMonth () {
      this.selected.add(-1, 'month')
      this.generateMonth()
    },
    nextMonth () {
      this.selected.add(1, 'month')
      this.generateMonth()
    },
    selectDay (date) {
      this.selected.year(date.year())
      this.selected.month(date.month())
      this.selected.date(date.date())
      if (this.type === 'date') {
        this.closePopup(this.selected)
      } else {
        this.displayMode = 'time'
      }
    },
    selectHour (hour) {
      hour = +hour
      const period = this.selected.format('A')
      if (period === 'AM' && hour === 12) {
        this.selected.set('hour', 0)
      } else if (period === 'PM') {
        this.selected.set('hour', hour + 12)
      } else {
        this.selected.set('hour', hour)
      }
      this.$forceUpdate()
    },
    selectMinute (minute) {
      this.selected.minute(minute)
      this.$forceUpdate()
    },
    selectPeriod (period) {
      if (period === 'AM' && this.selected.hour() === 12) {
        this.selected.hour(0)
      } else if (period === 'PM') {
        this.selected.hour(+this.selected.format('h') + 12)
      } else {
        this.selected.hour(this.selected.format('h'))
      }
      this.$forceUpdate()
      this.closePopup(this.selected)
    },
    generateYears (date) {
      date = this.selected || moment()
      date = (moment.isMoment(date) ? date : moment(date))
      const thisYear = date.year()
      const start = thisYear - 100
      const end = thisYear + 100
      const years = []
      for (let i = start; i <= end; i++) {
        years.push(i)
      }
      this.years = years
      setTimeout(() => {
        const pane = this.$el.querySelector('.pane-year')
        const year = this.$el.querySelector(`[data-year="${thisYear}"]`)
        pane.scrollTop = year.offsetTop - (year.offsetHeight * 2)
      })
    },
    generateMonth () {
      date = this.selected || moment()
      date = (moment.isMoment(date) ? date : moment(date)).clone()
      const start = date.clone().startOf('month').add(-1, 'day').startOf('week')
      const end = date.clone().endOf('month').add(1, 'day').endOf('week')
      const current = start.clone()
      const month = []
      let week = []
      const today = moment()
      while (!current.isAfter(end)) {
        week.push({
          date: current.clone(),
          number: current.date(),
          isCurrentMonth: current.month() === date.month(),
          isToday: current.isSame(today, 'day')
        })
        if (week.length > 6) {
          month.push(week)
          week = []
        }
        current.add(1, 'day')
      }
      this.month = month
    }
  },
  computed: {
    inputListeners () {
      return Object.assign({}, this.$listeners, {
        input: (event) => {
          this.$emit('input', event.target.value)
        }
      })
    }
  }
}
;
        module.exports.template = "\n    <div class=\"scoped-component-datetime\">\n        <div class=\"input-wrapper\">\n            <input @input=\"onInput\" class=\"cp-input-standard\" :placeholder=\"placeholder\" />\n            <span class=\"mdi-calendar icon-button\" @click=\"openPopup()\"></span>\n        </div>\n        <cp-popup position=\"bottom\" alignment=\"left\" :visible=\"popupVisible\" @cancel=\"cancelPopup()\">\n            <div class=\"calendar-header\">\n                <span class=\"mdi-chevron-up icon-button\" @click=\"goUp()\"></span>\n                <div class=\"selected-date\">{{ selected.format('MMM D, YYYY') }}</div>\n                <div class=\"selected-time\" v-if=\"type !== 'date'\">{{ selected.format('h:mm a') }}</div>\n            </div>\n            <div v-if=\"displayMode === 'year'\" class=\"pane-year\">\n                <div v-for=\"(year, index) in years\"\n                    class=\"year\"\n                    :key=\"index\"\n                    :data-year=\"year\"\n                    @click=\"selectYear(year)\">\n                    {{ year }}\n                </div>\n            </div>\n            <div v-if=\"displayMode === 'month'\" class=\"pane-month\">\n                <div class=\"month-tools\">\n                    <span class=\"mdi-chevron-left icon-button\" @click=\"prevMonth()\"></span>\n                    <span class=\"mdi-chevron-right icon-button\" @click=\"nextMonth()\"></span>\n                </div>\n                <div class=\"month-header\">\n                    <span>Sun</span>\n                    <span>Mon</span>\n                    <span>Tue</span>\n                    <span>Wed</span>\n                    <span>Thu</span>\n                    <span>Fri</span>\n                    <span>Sat</span>\n                </div>\n                <div v-for=\"(week, index) in month\" :key=\"index\" class=\"week\">\n                    <span v-for=\"(day, index) in week\"\n                        :key=\"index\"\n                        :class=\"{'other-month': !day.isCurrentMonth, 'is-today': day.isToday}\"\n                        @click=\"selectDay(day.date)\">\n                        {{ day.number }}\n                    </span>\n                </div>\n            </div>\n            <div v-if=\"displayMode === 'time'\" class=\"pane-time\">\n                <div class=\"time-selectors\">\n                    <div class=\"hours\">\n                        <div v-for=\"(hour, index) in hours\"\n                            :key=\"index\"\n                            @click=\"selectHour(hour)\"\n                            :class=\"{'time-selected': hour === selected.format('h') }\"\n                            >{{ hour }}</div>\n                    </div>\n                    <div class=\"minutes\">\n                        <div v-for=\"(minute, index) in minutes\"\n                            :key=\"index\"\n                            @click=\"selectMinute(minute)\"\n                            :class=\"{'time-selected': minute === selected.format('mm')}\"\n                            >{{ minute }}</div>\n                    </div>\n                    <div class=\"periods\">\n                        <div v-for=\"(period, index) in periods\"\n                            :key=\"index\"\n                            @click=\"selectPeriod(period)\"\n                            :class=\"{'time-selected': period === selected.format('A')}\"\n                            >{{ period }}</div>\n                    </div>\n                </div>\n                <div class=\"time-tools\">\n                    <button class=\"cp-button-standard\" @click=\"closePopup()\">Apply</button>\n                </div>\n            </div>\n        </cp-popup>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/components/CpDialog.vue:script


      sms.vComponent('CpDialog', {"path":"src/app/components/CpDialog.vue"}, (require,exports,module)=>{
        
module.exports = {
  props: { open: Boolean },
  data () {
    return { parent }
  },
  mounted () {
    this.parent = this.$el.parentNode
    this.$refs.overlay.addEventListener('click', (e) => {
      if (e.target === this.$refs.overlay) {
        this.triggerClose()
      }
    })
  },
  methods: {
    triggerClose () {
      this.$emit('close')
    },
    docEscape (e) {
      if (e.which === 27) {
        this.triggerClose()
      }
    },
    fadeIn () {
      $(this.$el).css('display', 'flex').hide().fadeIn(100)
    },
    fadeOut () {
      $(this.$el).fadeOut(100)
    },
    hasHeader () {
      return !!this.$slots.header
    },
    hasFooter () {
      return !!this.$slots.footer
    }
  },
  watch: {
    open () {
      if (this.open) {
        document.body.appendChild(this.$el)
        this.fadeIn()
        document.addEventListener('keyup', this.docEscape)
      } else {
        this.fadeOut()
        this.parent.appendChild(this.$el)
        document.removeEventListener('keyup', this.docEscape)
      }
    }
  }
}
;
        module.exports.template = "\n  <v-cp-dialog ref=\"overlay\">\n    <v-cp-dialog-wrapper>\n      <cp-dialog-header v-if=\"hasHeader()\">\n        <slot name=\"header\"></slot>\n        <span class=\"flex\"></span>\n        <span class=\"mdi-close icon-button\" @click=\"triggerClose()\"></span>\n      </cp-dialog-header>\n      <cp-dialog-content>\n        <slot name=\"content\"></slot>\n      </cp-dialog-content>\n      <cp-dialog-footer v-if=\"hasFooter()\">\n        <slot name=\"footer\"></slot>\n      </cp-dialog-footer>\n    </v-cp-dialog-wrapper>\n  </v-cp-dialog>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/components/CpPopup.vue:script


      sms.vComponent('CpPopup', {"path":"src/app/components/CpPopup.vue"}, (require,exports,module)=>{
        
module.exports = {
  props: {
    visible: {
      type: Boolean,
      default: false
    },
    position: {
      type: String,
      default: 'bottom'
    },
    alignment: {
      type: String,
      default: 'left'
    }
  },
  data () {
    return { }
  },
  mounted () {
    this.positionElement()
    document.addEventListener('click', this.onDocClick)
  },
  methods: {
    onDocClick (e) {
      if (!this.visible) return
      let popupEl = this.$el
      let clickedEl = e.target
      if (popupEl !== clickedEl && !popupEl.contains(clickedEl)) {
        this.cancelPopup()
      }
    },
    cancelPopup () {
      this.$emit('cancel')
    },
    positionElement () {
      const element = this.$el
      const parent = element.parentNode
      switch (this.alignment) {
        case 'top':
          element.style.top = '0px'
          break
        case 'right':
          element.style.right = '0px'
          break
        case 'bottom':
          element.style.bottom = '0px'
          break
        case 'left':
        default:
          element.style.left = '0px'
      }
      switch (this.position) {
        case 'top':
          element.style.top = `-${element.offsetHeight}px`
          break
        case 'left':
          element.style.left = `-${element.offsetWidth}px`
          break
        case 'right':
          element.style.left = `${parent.offsetWidth}px`
          break
        case 'bottom':
        default:
          element.style.top = `${parent.offsetHeight}px`
      }
      this.ensureVisible()
    },
    ensureVisible () {
      setTimeout(() => {
        const element = this.$el
        const rect = element.getBoundingClientRect()
        const rightLimit = (window.innerWidth || document.documentElement.clientWidth)
        const bottomLimit = (window.innerHeight || document.documentElement.clientHeight)
        if (rect.right > rightLimit) {
          element.style.left = `${element.offsetLeft - (rect.right - rightLimit)}px`
        }
        if (rect.bottom > bottomLimit) {
          element.style.top = `${element.offsetTop - (rect.bottom - bottomLimit)}px`
        }
        if (rect.left < 0) {
          element.style.left = `${element.offsetLeft - rect.left}px`
        }
        if (rect.top < 0) {
          element.style.top = `${element.offsetTop - rect.top}px`
        }
      })
    }
  }
}
;
        module.exports.template = "\n  <div class=\"scoped-cp-popup\" v-show=\"visible\">\n    <slot></slot>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/login.vue:script


      sms.vComponent('CpLoginLayout', {"path":"src/app/login.vue"}, (require,exports,module)=>{
        
  const Auth = require('auth')
  const querystring = require('querystring')
  const env = require('env')

  module.exports = {
    routing: [
      { name: 'login', path: '/login', meta: { noauth: true } },
      { name: 'auth', path: '/auth', meta: { noauth: true, nosubscription: true } }
    ],
    data () {
      return {
        env: env.name === 'Production' ? '' : env.name,
        logout: this.$route.query.logout !== undefined,
        returnPath: querystring.get('return'),
        authRequest: {
          email: '',
          password: '',
          cp_redirect: null
        },
        loginSettings: {
          rep_facebook_login: {
            show: false
          }
        }
      }
    },
    props: ['facebookOauthUrl'],
    mounted () {
      if (this.logout) {
        Auth.logout()
      } else if (Auth.isLoggedIn()) {
        var redirect = window.cpHelpers.getParameterByName('redirect')
        if (redirect) {
          Auth.redirect({ url: redirect })
        } else {
          this.$router.push('/dashboard')
        }
      }
    },
    methods: {
      authenticate () {
        var redirect = window.cpHelpers.getParameterByName('redirect')
        this.authRequest.redirect = redirect
        Auth.login(this.authRequest)
          .then((res) => {
            let path = '/'
            if (this.returnPath) {
              path = this.returnPath
            } else if ((Auth.hasAnyRole('Rep') && Auth.getClaims().sellerType === 'Affiliate' && !this.$getGlobal('affiliate_custom_order').show) ||
                       (!Auth.hasAnyRole('Admin', 'Superadmin') && (!res.activeSubscription || !res.termsAccepted))) {
              // If an affiliate can't make orders then we want to just send them to settings
              // Users who aren't set up should go to settings
              path = '/my-settings'
            }

            this.$router.push(path)
          }).catch((res) => {
            const err = res.body
            return this.$toast(err.message, { error: true, dismiss: false })
          })
      }
    }
}
;
        module.exports.template = "\n  <div layout=\"public-layout-wrapper-login\">\n    <div layout=\"public-layout-main-content-login\">\n    <span v-if=\"env\">{{env}} Server</span>\n      <section class=\"ankit\">\n          <span class=\"logo\"><img :src=\"$getGlobal('back_office_logo').value\" /></span>\n          <input type=\"text\" placeholder=\"Email Address\" v-model=\"authRequest.email\" @keyup.enter=\"authenticate()\">\n          <input type=\"password\" placeholder=\"Password\" v-model=\"authRequest.password\" @keyup.enter=\"authenticate()\">\n\t\t  <button class=\"cp-button-standard\" @click=\"authenticate()\">Sign in</button>\n          <a href=\"/password-reset-send\">Forgot Password?</a>\n      </section>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/layouts/public.vue:script


      sms.vComponent('CpPublicLayout', {"path":"src/app/layouts/public.vue"}, (require,exports,module)=>{
        
const moment = require('moment')
const env = require('env')
module.exports = {
  routing: {
    name: 'public',
    path: '/public'
  },
  data () {
    return {
      env: env.name === 'Production' ? '' : env.name,
      year: moment().format('YYYY')
    }
  }
}
;
        module.exports.template = "\n  <div layout=\"public-layout-wrapper\">\n    <header>\n      <img :src=\"$getGlobal('back_office_logo').value\" :alt=\"$getGlobal('company_name').value\" />\n      <span v-if=\"env\">{{env}} Server</span>\n    </header>\n    <div layout=\"public-layout-main-content\">\n      <main>\n        <router-view :key=\"$route.fullPath\"></router-view>\n      </main>\n      <footer>\n        <div v-if=\"$getGlobal('return_policy').show\"><a :href=\"$getGlobal('return_policy').value\">Return Policy</a></div>\n        <div v-if=\"$getGlobal('terms').show\"><a href=\"/terms-conditions/rep\">Terms &amp; Conditions</a></div>\n        <div>&copy; {{ year }} - {{$getGlobal('company_name').value}}</div>\n        <div v-if=\"$getGlobal('address').show\">{{$getGlobal('address').value}}</div>\n        <div v-if=\"$getGlobal('phone').show\">{{$getGlobal('phone').value}}</div>\n      </footer>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/custom-plugins/CpTooltip.vue:script


      sms.vComponent('assets/js/custom-plugins/CpTooltip.vue', {"name":"CpTooltip","path":"assets/js/custom-plugins/CpTooltip.vue"}, (require,exports,module)=>{
        
module.exports = {
  props: {
    options: {
      type: Object,
      required: true
    }
  }
}
;
        module.exports.template = "\n  <div class=\"tooltip-wrapper\">\n    <span class=\"tooltip-content\">{{ options.content }}</span>\n    <span class=\"mdi-help-circle\"></span>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/menu.vue:script


      sms.vComponent('src/app/menu.vue', {"name":"CpMenu","path":"src/app/menu.vue"}, (require,exports,module)=>{
        ;
        module.exports.template = "";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/subscription/plan-index.vue:script


      sms.vComponent('assets/js/components/subscription/plan-index.vue', {"name":"CpPlanIndex","path":"assets/js/components/subscription/plan-index.vue"}, (require,exports,module)=>{
        
const marked = require('marked')
const Subscription = require('../../resources/subscription.js')
const Auth = require('auth')

module.exports = {
  name: 'CpSubscriptionPlanIndex',
  routing: [
    {
      name: 'site.CpSubscriptionPlanIndex',
      path: 'subscription-plans/all',
      meta: {
        title: 'Subscription Plans'
      },
      props: true
    }
  ],
  data: function () {
    return {
      showConfirm: false,
      newSub: {},
      noResults: false,
      loading: false,
      subscription: {},
      pagination: {
        per_page: 15
      },
      asc: false,
      indexRequest: {
        order: 'ASC',
        column: 'id',
        per_page: 15,
        search_term: '',
        page: 1
      },
      reverseSort: true
    }
  },
  filters: {
    marked: marked
  },
  computed: {},
  mounted: function () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
    this.planIndex()
  },
    methods: {
        planIndex: function(){
            this.loading = true;
            this.indexRequest.page = this.pagination.current_page;
            this.sales = {};
            Subscription.planIndex()
                .then((response) => {
                    if (response.error) {
                        return this.$toast('errorMessage', response.message)
                    }
                    if (response.total === 0) {
                        this.noResults = true;
                    }
                    this.loading = false
                    this.subscription = response.data
                    response.per_page = parseInt(response.per_page)
                    this.pagination = response
                });
        },
        deleteSubscriptions: function (subscription) {
            Subscription.deleteSubscriptions(subscription.id)
                .then((response) => {
                    if (response.error) {
                        return this.$toast(response.message), { error: true };
                    }
                    this.planIndex()
                    return this.$toast('Subscription Deleted', { dismiss: false });

                });
        },
        sortColumn: function(column) {
            this.reverseSort = !this.reverseSort
            this.indexRequest.column = column;
            this.asc = !this.asc;
            if (this.asc === true) {
                this.indexRequest.order = 'asc';
            } else {
                this.indexRequest.order = 'desc';
            }
            this.planIndex()
        }
    },
    filters: {
      'frequency': function (subscription) {
        switch (subscription.duration) {
          case 0:
            return 'One-Time'
          case 1:
            return 'Monthly'
          case 3:
            return 'Quarterly'
          case 12:
            return 'Yearly'
          default:
            return subscription.duration.toString() + ' Months'
        }
      }
    },
    events: {
        'search_term': function (term) {
            this.indexRequest.search_term = term;
            this.pagination.current_page = 1;
            this.planIndex();
        }
    },
    components: {
      CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue'),
      'CpConfirm': require('../../cp-components-common/CpConfirm.vue')
    }
}
;
        module.exports.template = "\n    <div class=\"subscription-form-wrapper\">\n        <div class=\"navigation-wrapper\">\n            <a class=\"cp-button-standard\" href=\"/subscriptions/create\">Add New Plan</a>\n              <cp-table-controls\n              :date-picker=\"false\"\n              :index-request=\"indexRequest\"\n              :resource-info=\"pagination\"\n              :get-records=\"planIndex\"></cp-table-controls>\n        </div>\n        <table class=\"cp-table-standard desktop\">\n            <thead>\n              <th @click=\"sortColumn('id')\">Subscription ID\n                <span v-show=\"indexRequest.column == 'id'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n              </th>\n              <th @click=\"sortColumn('title')\">Title\n                <span v-show=\"indexRequest.column == 'title'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n              </th>\n              <th @click=\"sortColumn('price')\">Price\n                <span v-show=\"indexRequest.column == 'price'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n              </th>\n              <th @click=\"sortColumn('duration')\">Frequency\n                <span v-show=\"indexRequest.column == 'duration'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n              </th>\n              <th @click=\"sortColumn('renewable')\">Auto Renewable\n                <span v-show=\"indexRequest.column == 'renewable'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n              </th>\n              <th @click=\"sortColumn('renewable')\">Show for sign up\n                <span v-show=\"indexRequest.column == 'renewable'\">\n                    <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                    <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n              </th>\n              <th @click=\"sortColumn('free_trial_time')\">Free Trial Period in Days\n                <span v-show=\"indexRequest.column == 'free_trial_time'\">\n                  <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                  <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n                </span>\n              </th>\n              <th><!-- Delete --></th>\n            </thead>\n            <tbody>\n              <tr v-for=\"sub in subscription\">\n                <td><a :href=\"'/subscription-plan/edit/' + sub.id\">{{ sub.id }}</a></td>\n                <td>{{ sub.title }}</td>\n                <td>{{ sub.price.price | currency }}</td>\n                <td>{{ sub | frequency }}</td>\n                <td>\n                  <span v-if=\"sub.renewable === 1\">Yes</span>\n                  <span v-if=\"sub.renewable === 0\">No</span>\n                </td>\n                <td>\n                  <span v-if=\"sub.on_sign_up === 1\">Yes</span>\n                  <span v-if=\"sub.on_sign_up === 0\">No</span>\n                </td>\n                <td>{{ sub.free_trial_time }}</td>\n                <td><i class=\"mdi mdi-close pointer\" @click=\"showConfirm = true, newSub = sub \"></i>\n                </td>\n              </tr>\n            </tbody>\n        </table>\n        <cp-confirm\n        message=\"'Are you sure you want to delete this plan?'\"\n        :show=\"showConfirm\"\n        v-model=\"showConfirm\"\n        :callback=\"deleteSubscriptions\"\n        :params=\"newSub\"></cp-confirm>\n        <section v-for=\"sub in subscription\" class=\"cp-table-mobile\">\n          <div><span>Subscription ID: </span><span><a :href=\"'/subscription-plan/edit/' + sub.id\">{{ sub.id }}</a></span></div>\n          <div><span>Title: </span><span>{{ sub.title }}</span></div>\n          <div><span>Price: </span><span>{{ sub.price.price | currency }}</span></div>\n          <div><span>Frequency: </span><span>{{ sub | frequency }}</span></div>\n          <div><span>Auto Renewable: </span><span></span></div>\n          <span v-if=\"sub.renewable === 1\">Yes</span>\n          <span v-if=\"sub.renewable === 0\">No</span></span>\n          <div><span>Show for sign up: </span><span>\n          <span v-if=\"sub.on_sign_up === 1\">Yes</span>\n          <span v-if=\"sub.on_sign_up === 0\">No</span></span></div>\n          <div><span>Free Trial Period in Days: </span><span>{{ sub.free_trial_time }}</span></div>\n          <div><span> </span><span><i class=\"mdi mdi-close pointer\" @click=\"showConfirm = true, newSub = sub \"></i></span></div>\n        </section>\n        <div class=\"align-center\">\n          <div class=\"no-results\" v-if=\"noResults\">\n              <span>No results for this timeframe</span>\n          </div>\n          <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n          <cp-pagination :pagination=\"pagination\" :callback=\"planIndex\" :offset=\"2\"></cp-pagination>\n        </div>\n    </div>\n    </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// assets/js/components/subscription/user-index.vue:script


      sms.vComponent('assets/js/components/subscription/user-index.vue', {"name":"CpUserIndex","path":"assets/js/components/subscription/user-index.vue"}, (require,exports,module)=>{
        
const moment = require('moment')
const Subscription = require('../../resources/subscription.js')
const Auth = require('auth')

module.exports = {
  name: 'CpSubscriptionUserIndex',
  routing: [
    {
      name: 'site.CpSubscriptionUserIndex',
      path: 'subscriptions',
      meta: {
        title: 'Subscriptions'
      },
      props: true
    }
  ],
  data: function () {
    return {
      moment: moment,
      Auth: Auth,
      showConfirm: false,
      showReceipt: false,
      loading: false,
      user_subscription: {
      },
      payUser: {
      },
      PayEditModal: false,
      pagination: {
        per_page: 15
      },
      newDate: [],
      asc: false,
      indexRequest: {
        order: 'ASC',
        column: 'id',
        per_page: 15,
        search_term: '',
        status: 'active',
        page: 1
      },
      reverseSort: false,
      userReceipt: {}
    }
  },
  mounted: function () {
    Auth.hasAnyRole('Superadmin', 'Admin') ? this.indexRequest.per_page = '100' : this.indexRequest.per_page = '15'
    this.selectSubscriptions('Active')
  },
  methods: {
    selectSubscriptions (name) {
      switch (name) {
        case 'All':
          this.subStatus('all')
          break
        case 'Active':
          this.subStatus('active')
          break
        case 'Expired':
          this.subStatus('expired')
          break
        case 'Expiring Soon':
          this.subStatus('expiring')
          break
        default: }
    },
    userIndex: function () {
      this.loading = true
      this.indexRequest.page = this.pagination.current_page
      Subscription.getUserIndex(this.indexRequest)
        .then((response) => {
          if (response.error) {
            return this.$toast(response.message, {error: true})
          }
          this.loading = false
          this.user_subscription = response.data
          response.per_page = parseInt(response.per_page)
          this.pagination = response
        })
    },
    updateAutoRenewal: function (sub) {
      Subscription.postAutoRenewalUpdate(sub)
        .then((response) => {
          if (response.error) {
            return this.$toast(response.message, { error: true })
          }
          this.userIndex()
          return this.$toast('You have changed Auto renew for ' + sub.first_name + ' ' + sub.last_name + ' to ' + sub.auto_renew)
        })
    },
    saveEndsAt: function () {
      Subscription.updateUserEndsAt(this.newDate)
        .then((response) => {
          if (!response.error) {
            return this.$toast('You have changed the billing date')
          }
          this.newDate = []
          this.userIndex()
        })
    },
    subStatus: function (status) {
      this.indexRequest.status = status
      this.pagination.current_page = 1
      this.userIndex()
    },
    sortColumn: function (column) {
      this.reverseSort = !this.reverseSort
      this.indexRequest.column = column
      this.asc = !this.asc
      if (this.asc === true) {
        this.indexRequest.order = 'asc'
      } else {
        this.indexRequest.order = 'desc'
      }
      this.userIndex()
    }
  },
  events: {
    'search_term': function (term) {
      this.indexRequest.search_term = term
      this.pagination.current_page = 1
      this.userIndex()
    }
  },
  components: {
    'CpSubscriptionRenewableIndex': require('./CpSubscriptionRenewableIndex.vue'),
    CpTabs: require('../../cp-components-common/navigation/CpTabs.vue'),
    CpTableControls: require('../../cp-components-common/tables/CpTableControls.vue'),
    'CpConfirm': require('../../cp-components-common/CpConfirm.vue'),
    'CpShowReceipt': require('./CpShowReceipt.vue')
  }
}
;
        module.exports.template = "\n  <div class=\"subscription-index-wrapper\">\n    <cp-tabs\n   :items=\"[\n     { name: 'Active', active: true },\n     { name: 'Expired', active: false },\n     { name: 'Expiring Soon', active: false },\n     { name: 'All', active: false }\n   ]\"\n   :callback=\"selectSubscriptions\"></cp-tabs>\n   <br>\n     <a class=\"cp-button-link\" download :href=\"'/api/v1/subscriptions/csv-download?status=' + indexRequest.status\n         + '&search_term=' + indexRequest.search_term\">Download CSV</a>\n    <div>\n      <cp-table-controls\n        :date-picker=\"false\"\n        :index-request=\"indexRequest\"\n        :resource-info=\"pagination\"\n        :get-records=\"userIndex\"></cp-table-controls>\n    </div>\n    <table class=\"cp-table-standard desktop\">\n      <thead>\n        <th @click=\"sortColumn('user_id')\">User ID\n            <span v-show=\"indexRequest.column == 'user_id'\">\n                <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n            </span>\n        </th>\n        <th @click=\"sortColumn('first_name')\">User\n            <span v-show=\"indexRequest.column == 'first_name'\">\n                <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n            </span>\n        </th>\n        <th @click=\"sortColumn('title')\">Subscription Plan\n            <span v-show=\"indexRequest.column == 'title'\">\n                <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n            </span>\n        </th>\n        <th  @click=\"sortColumn('price')\">Price\n            <span v-show=\"indexRequest.column == 'price'\">\n                <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n            </span>\n        </th>\n        <th v-if=\"indexRequest.status === 'expired'\">Last Attempt</th>\n        <th @click=\"sortColumn('created_at')\">Date Started\n            <span v-show=\"indexRequest.column == 'created_at'\">\n                <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n            </span>\n        </th>\n        <th @click=\"sortColumn('ends_at')\">Next Billing Date\n            <span v-show=\"indexRequest.column == 'ends_at'\">\n                <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n            </span>\n        </th>\n        <th v-if=\"indexRequest.status === 'expired'\" @click=\"sortColumn('last_fail_attempt')\">Date Last Auto Renew Tried\n            <span v-show=\"indexRequest.column == 'last_fail_attempt'\">\n                <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n            </span>\n        </th>\n        <th @click=\"sortColumn('auto_renew')\">Auto Renew\n            <span v-show=\"indexRequest.column == 'auto_renew'\">\n                <span v-show=\"reverseSort\"><i class='mdi mdi-sort-ascending'></i></span>\n                <span v-show=\"!reverseSort\"><i class='mdi mdi-sort-descending'></i></span>\n            </span>\n        </th>\n        <th v-if=\"indexRequest.status === 'expired'\">Update User Subscription</th>\n      </thead>\n      <tbody>\n        <tr v-for=\"sub in user_subscription\">\n          <td>{{ sub.user_id}}</td>\n          <td><a @click=\"showReceipt = true, userReceipt = sub\">{{ sub.first_name }} {{sub.last_name}}</a></td>\n          <td>{{ sub.title }}</td>\n          <td>{{ sub.price | currency }}</td>\n          <td  v-if=\"indexRequest.status === 'expired' && sub.description\">{{sub.description}}</td>\n          <td v-else-if=\"indexRequest.status === 'expired'&& !sub.description\">No response available</td>\n          <td>{{ sub.created_at | cpStandardDate}}</td>\n          <td v-if=\"Auth.hasAnyRole('Superadmin') && sub.billing_date != null\">\n            <input type=\"date\" v-model=\"sub.billing_date\" @blur=\"showConfirm = true, newDate = sub\">\n          </td>\n          <td v-else>{{ sub.billing_date | cpStandardDate}}</td>\n          <td  v-if=\"indexRequest.status === 'expired' && sub.last_fail_attempt !== '0000-00-00 00:00:00'\">{{sub.last_fail_attempt | cpStandardDate}}</td>\n          <td v-if=\"indexRequest.status === 'expired' && sub.last_fail_attempt === '0000-00-00 00:00:00'\"></td>\n          <td><input :disabled=\"sub.billing_date == null\" class=\"toggle-switch\" type=\"checkbox\" v-model=\"sub.auto_renew\" @change=\"updateAutoRenewal(sub)\"></td>\n          <td v-if=\"sub.token && indexRequest.status === 'expired' \"><button class=\"cp-button-standard\"\n              @click=\"PayEditModal = true, payUser=sub\">Update Subscription</button></td>\n        </tr>\n        </tbody>\n    </table>\n\n    <cp-confirm\n    :show=\"showConfirm\"\n    v-model=\"showConfirm\"\n    :message=\"'Are you sure you what to change the billing date of ' + newDate.first_name + ' ' + newDate.last_name + ' to '+ moment(newDate.billing_date).format('L')+'?'\"\n    :callback=\"saveEndsAt\"\n    :params=\"{}\"></cp-confirm>\n\n    <section class=\"cp-table-mobile\">\n      <div v-for=\"sub in user_subscription\">\n        <div><span>User ID: </span><span>{{ sub.user_id}}</span></div>\n        <div><span>User: </span><span><a @click=\"showReceipt = true, userReceipt = sub\">{{ sub.first_name }} {{sub.last_name}}</a></span></div>\n        <div><span>Subscription Plan: </span><span>{{ sub.title }}</span></div>\n        <div><span>Price: </span><span>{{ sub.price | currency }}</span></div>\n        <div  v-if=\"indexRequest.status === 'expired'\"><span>Fail Description</span><span>{{sub.description}}</span></div>\n        <div><span>Date Started: </span><span>{{ sub.created_at | cpStandardDate}}</span></div>\n        <div><span>Next Billing Date: </span><span>{{ sub.ends_at | cpStandardDate}}</span></div>\n        <div v-if=\"sub.description != ''\"><span>Last Response: </span><span>{{sub.description}}</span></div>\n        <td v-else><span></span><span>No Result Found</span></td>\n        <div><span></span><span><input class=\"toggle-switch\" type=\"checkbox\" v-model=\"sub.auto_renew\" @change=\"updateAutoRenewal(sub)\"></span></div>\n      </div>\n    </section>\n    <div class=\"align-center\">\n      <div class=\"no-results\" v-show=\"this.user_subscription && this.user_subscription.length === 0\">\n          <span>No results</span>\n      </div>\n      <img class=\"loading\" :src=\"$getGlobal('loading_icon').value\" v-if=\"loading\">\n      <cp-pagination :pagination=\"pagination\" :callback=\"userIndex\" :offset=\"2\"></cp-pagination>\n    </div>\n    <transition name=modal>\n      <section class=\"cp-modal-standard\" v-if=\"PayEditModal\">\n        <div>\n          <cp-subscription-renewable-index :user=\"payUser\" :modal-show=\"PayEditModal\" @close=\"PayEditModal=false; userIndex()\"></cp-subscription-renewable-index >\n        </div>\n      </section>\n      <section class=\"cp-modal-standard\" v-if=\"showReceipt\" @click=\"showReceipt = false\">\n        <div class=\"cp-modal-body\">\n          <cp-show-receipt :user=\"userReceipt\" :indexRequest=\"indexRequest\"></cp-show-receipt>\n        </div>\n      </section>\n  </transition>\n\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/layouts/site.vue:script


      sms.vComponent('CpLayout', {"path":"src/app/layouts/site.vue"}, (require,exports,module)=>{
        
const Auth = require('auth')
const moment = require('moment')

module.exports = {
  routing: {
    name: 'site',
    path: '/'
  },
  data () {
    return {
      navOpen: false,
      storeOwner: !!Auth.getClaims().repSubdomain && Auth.hasAnyRole('Rep'),
      sellerType: Auth.getClaims().sellerType,
      copyrightYear: moment().format('YYYY'),
      repUrl: this.$getGlobal('rep_url').value.replace('%s', Auth.getClaims().repSubdomain),
      companyName: this.$getGlobal('company_name').value,
      firstName: Auth.getClaims().name,
      repName: Auth.getClaims().fullName,
      companyAddress: this.$getGlobal('address').value,
      companyPhone: this.$getGlobal('phone').value,
      dropDown: false
    }
  },
  mounted () {
    let code, parser, doc
    if (this.hasOlark()) {
      // Parsing script tag from settings
      code = '<html><body>' + this.$getGlobal('olark_chat_integration').value + '</body></html>'
      parser = new window.DOMParser()
      doc = parser.parseFromString(code, 'text/html')
      for (let i = 0; i < doc.body.childElementCount; i++) {
        const child = document.createElement('script')
        child.type = 'text/javascript'
        child.async = true
        child.innerText = doc.body.children[i].innerText
        document.body.appendChild(child)
      }
    } else if (this.hasTawk()) {
      // parsing script tag from settings
      code = '<html><body>' + this.$getGlobal('tawk_chat_integration').value + '</body></html>'
      parser = new window.DOMParser()
      doc = parser.parseFromString(code, 'text/html')
      for (let i = 0; i < doc.body.childElementCount; i++) {
        const child = document.createElement('script')
        child.type = 'text/javascript'
        child.async = true
        child.innerText = doc.body.children[i].innerText
        document.body.appendChild(child)
      }
    }
    document.addEventListener('click', this.documentClick)
    this.$events.$on('login-as-change', (e) => {
      this.repName = Auth.getClaims().fullName
    })

    document.addEventListener('click', (e) => {
      if (!this.$refs.nav) return
      const el = this.$refs.nav.$el
      const target = e.target
      const menuBtn = this.$refs.menuBtn
      if ((el !== target && !el.contains(target) && target !== menuBtn) ||
            (el.contains(target) && target.href)) {
        this.navOpen = false
      }
    })
    this.$events.$on('login-as-change', (e) => {
      this.storeOwner = !!Auth.getClaims().repSubdomain
    })
    this.$events.$on('set-token', (e) => {
      this.repUrl = this.$getGlobal('rep_url').value.replace('%s', Auth.getClaims().repSubdomain)
    })

    $("nav.main-menu-nav-scope").attr("style", "background-color: "+$('#hexvalue').text().replace(/\s/g, '')+" !important;");

  },
  methods: {
    documentClick (e) {
      let el = this.$refs.dropdownMenu
      let target = e.target
      if (el !== target && !el.contains(target)) {
        this.dropDown = false
      }
    },
    isAdmin () {
      Auth.hasAnyRole('Superadmin', 'Admin')
    },
    isRep (sellertype) {
      if (!Auth.hasAnyRole('Superadmin', 'Admin')) {
        return true
      }
    },
    hasOlark () {
      if (this.$getGlobal('olark_chat_integration').show && this.isRep()) {
        return true
      }
    },
    hasTawk () {
      if (this.$getGlobal('tawk_chat_integration').show && this.isRep()) {
        return true
      }
    }
  },
  destroyed () {
    document.removeEventListener('click', this.documentClick)
  },
  computed: {
    dashboardVisible() {
      if (Auth.hasAnyRole('Superadmin', 'Admin')) {
        return true
      } else if (Auth.hasAnyRole('Rep')) {
        // Workaround to make sure affiliates can make sales, this is a hack for myzoom live
        return (this.sellerType === 'Reseller' || this.$getGlobal('affiliate_custom_order').show)
      } else {
        return false
      }
    }
  }
}
;
        module.exports.template = "\n  <div layout=\"wrapper\" :class=\"{'nav-open': navOpen}\">\n    <cp-nav-menu ref=\"nav\"></cp-nav-menu>\n    <div layout=\"content\">\n      <div></div>\n      <header>\n        <section>\n          <span class=\"menu-trigger mdi-menu\" ref=\"menuBtn\" @click=\"navOpen = !navOpen\"></span>\n          <h2>{{ $route.meta.title }}</h2>\n          <span class=\"logo\"><img :src=\"$getGlobal('back_office_logo').value\" /></span>\n          <span class=\"spacer\"></span>\n          <menu ref=\"dropdownMenu\">\n            <span\n              :class=\"{ 'active': dropDown }\"\n              class=\"mdi-account\"\n              @click=\"dropDown = !dropDown\">\n            </span>\n            <div :class=\"{ 'active': dropDown }\" @click=\"dropDown = false\">\n              <span>{{ repName }}</span>\n              <a href=\"/dashboard\" class=\"mdi-speedometer\" v-if=\"dashboardVisible\">Dashboard</a>\n              <a href=\"/my-settings\" class=\"mdi-settings\">My Account</a>\n              <a v-if=\"storeOwner && repUrl && this.$getGlobal('replicated_site').show\" target=\"_blank\" :href=\"repUrl\" class=\"mdi-web\">My Website</a>\n              <a href=\"/auth?logout\" class=\"mdi-logout\">Sign Out</a>\n            </div>\n          </menu>\n        </section>\n      </header>\n      <main>\n        <div>\n          <h2>{{ $route.meta.title }}</h2>\n          <router-view :key=\"$route.fullPath\"></router-view>\n        </div>\n        <footer>\n          <div v-if=\"$getGlobal('about_us').show || $getGlobal('return_policy').show || $getGlobal('terms').show\">\n            <a v-if=\"$getGlobal('about_us').show\" :href=\"$getGlobal('about_us').value\" target=\"_blank\">About Us</a>\n            <a v-if=\"$getGlobal('return_policy').show\" :href=\"$getGlobal('return_policy').value\" target=\"_blank\">Return Policy</a>\n            <a v-if=\"$getGlobal('terms').show\" href=\"/terms-conditions/company\">Terms &amp; Conditions</a>\n          </div>\n          <div>&copy; {{ copyrightYear }} - {{ companyName }} </div>\n          <div v-if=\"$getGlobal('address').show\"> {{ companyAddress }} </div>\n          <div v-if=\"$getGlobal('phone').show\"> {{ companyPhone }} </div>\n        </footer>\n      </main>\n    </div>\n  </div>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// src/app/routes/CpError404.vue:script


      sms.vComponent('CpError404', {"path":"src/app/routes/CpError404.vue"}, (require,exports,module)=>{
        
module.exports = {
  routing: {
    path: '*',
    meta: {
      noauth: true
    }
  }
}
;
        module.exports.template = "\n  <v-cp-error404>\n    <h1>404</h1>\n    <p>You look lost. Would you like to go <router-link to=\"/\">home</router-link>?</p>\n  </v-cp-error404>\n";
      })
    



////////////////////////////////////////////////////////////////////////////////////////////////////
// src/env.json

sms.addModule('env', { aliases: 'assets/js/resources/apiconfig.json' }, (require,exports,module) => {
module.exports = {
  "name": "Local",
  "apis": {
    "core": "http://legacy-core.local/api/v1/",
    "external": "http://legacy-core.local/api/external/",
    "events": "http://api-events.local/api/v0/",
    "inventory": "http://api-inventory.local/api/v0/",
    "orders": "http://api-orders.local/api/v0/",
    "payman": "http://localhost:8080/payman/",
    "users": "http://api-users.local/api/v0/",
    "commission": "https://ceapidev.controlpad.com/ceweb/api-affiliate.php",
    "autoship": "http://api-autoship.local/api/v0/",
    "webhooks": "http://api-webhooks.local/api/v0/"
  },
  "commissionBuild": "MCOM"
};
});